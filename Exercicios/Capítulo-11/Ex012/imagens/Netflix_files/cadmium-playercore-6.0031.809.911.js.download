a000.Q9b=function(){return typeof a000.M9b.F9b === 'function'?a000.M9b.F9b.apply(a000.M9b,arguments):a000.M9b.F9b;};function a000(){}a000.u9b=function(){return typeof a000.M9b.U9b === 'function'?a000.M9b.U9b.apply(a000.M9b,arguments):a000.M9b.U9b;};a000.r9b=function(){return typeof a000.M9b.F9b === 'function'?a000.M9b.F9b.apply(a000.M9b,arguments):a000.M9b.F9b;};a000.M9b=(function(y9b){return {F9b:function(){var o9b,L9b=arguments;switch(y9b){case 10:o9b=L9b[2] + L9b[0] / L9b[3] * L9b[1];break;case 11:o9b=L9b[3] * L9b[2] / L9b[1] | L9b[0];break;case 3:o9b=L9b[1] / L9b[2] / L9b[0];break;case 14:o9b=L9b[0] - L9b[2] + L9b[1];break;case 1:o9b=L9b[1] - L9b[0];break;case 6:o9b=L9b[1] + L9b[2] + L9b[0];break;case 4:o9b=void L9b[0] !== L9b[1];break;case 19:o9b=L9b[1] === L9b[0];break;case 5:o9b=L9b[1] + L9b[4] + L9b[0] + L9b[2] + L9b[3];break;case 0:o9b=L9b[2] + L9b[1] - L9b[0];break;case 18:o9b=L9b[0] > L9b[1];break;case 13:o9b=(L9b[2] / L9b[1] | L9b[0]) * L9b[3];break;case 15:o9b=(L9b[2] - L9b[0]) * L9b[1];break;case 8:o9b=L9b[0] * L9b[1];break;case 7:o9b=-(L9b[1] / -L9b[0]);break;case 17:o9b=L9b[0] >= L9b[1];break;case 16:o9b=L9b[3] * L9b[0] * L9b[1] - L9b[2];break;case 12:o9b=L9b[0] / L9b[1] | L9b[2];break;case 9:o9b=L9b[1] / L9b[0];break;case 2:o9b=L9b[0] + L9b[1];break;}return o9b;},U9b:function(b9b){y9b=b9b;}};})();a000.D9b=function(){return typeof a000.M9b.U9b === 'function'?a000.M9b.U9b.apply(a000.M9b,arguments):a000.M9b.U9b;};(function(){(function(pb,Ab){var vc,Gc,Qb,ud,Db,Fb,Yb,Be,Ce,Lb,Mb,Pc,De,vd,Ee,Fe,Ud,Ja,Bb,hd,Ge,Vd,bb,tb,xb,wc,kc,Wb,vb,Zb,Pb,Rc,Ib,Gb,Jb,bc,wd,xc,rc,sc,xd,Wd,He,Ic,Jc,Sc,Xd,Yc,yc,yd,Oc,Yd,Ie,Zc,Zd,$d,ae,be,zc,ce,de,ee,ad,Ac,Bc,bd,zd,Ad,Bd,jc,If,Nb,Qc,Je,Cd,nc,Ke,Jf,tc,Le,Kf,Dd,Me,Lf,gd,Ne,Hf,Mf,fe,Ed,Nf,Of,ye,Pf,ze,Oe,lc,id,Pe,jd,Qe,oc,Re,ge,Se,he,Fd,Te,Rf,Ae,Gd,Td,Ue,Qf,Ve,ie,We,Xe,Ye,je,Nc,$e,Ze,Sf,kd,af,le,ld,bf,ke,cf,df,me,ff,gf,Jd,Vc,cd,Wc,hf,jf,kf,lf,mf,nf,Kd,Tf,of,pf,oe,qf,ic,Tc,$c,Uc,Kc,Cc,Hd,$b,Hc,ef,md,Xc,rf,Uf,nd,sf,Vf,dd,tf,Ld,pe,od,qe,uf,pd,vf,wf,xf,Wf,qd,yf,Xf,Yf,zf,ne,Id,Af,Gf,Bf,Zf,ag,$f,ed,td,bg,xe,cg,Cf;function Tb(gb,fb){if(!fb || "utf-8" === fb)return Od(gb);throw Error("unsupported encoding");}function Sb(gb,fb){if(!fb || "utf-8" === fb)return Pd(gb);throw Error("unsupported encoding");}function Od(gb){for(var fb=0,eb,ab=gb.length,kb="";fb < ab;){eb=gb[fb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (gb[fb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((gb[fb++] & 63) << 6) + (gb[fb++] & 63);else throw Error("unsupported character");kb+=String.fromCharCode(eb);}return kb;}function Pd(gb){var fb,eb,ab,kb,qb;fb=gb.length;eb=0;kb=0;for(ab=fb;ab--;){qb=gb.charCodeAt(ab);128 > qb?eb++:eb=2048 > qb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(ab=0;ab < fb;ab++){qb=gb.charCodeAt(ab);128 > qb?eb[kb++]=qb:(2048 > qb?eb[kb++]=192 | qb >>> 6:(eb[kb++]=224 | qb >>> 12,eb[kb++]=128 | qb >>> 6 & 63),eb[kb++]=128 | qb & 63);}return eb;}function Xb(gb,fb){if(gb === fb)return !0;if(!gb || !fb || gb.length != fb.length)return !1;for(var eb=0;eb < gb.length;++eb){if(gb[eb] != fb[eb])return !1;}return !0;}function gc(gb){var ab;if(!(gb && gb.constructor == Uint8Array || Array.isArray(gb)))throw new TypeError("Cannot compute the hash code of " + gb);for(var fb=1,eb=0;eb < gb.length;++eb){ab=gb[eb];if("number" !== typeof ab)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + ab);fb=31 * fb + ab & 4294967295;}return fb;}function se(gb,fb){var jb;if(gb === fb)return !0;if(!gb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var eb=0;eb < fb.length;++eb){for(var ab=fb[eb],kb=!1,qb=0;qb < gb.length;++qb){jb=gb[qb];if(ab.equals && "function" === typeof ab.equals && ab.equals(jb) || ab == jb){kb=!0;break;}}if(!kb)return !1;}return !0;}function te(gb,fb){return se(gb,fb) && (gb.length == fb.length || se(fb,gb));}function Ka(gb,fb,eb){var ab,kb;eb && (ab=eb);if("object" !== typeof gb || "function" !== typeof gb.result || "function" !== typeof gb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{kb=fb.call(ab,gb);kb !== Ab && gb.result(kb);}catch(qb){try{gb.error(qb);}catch(jb){}}}function cb(gb,fb,eb){if("object" !== typeof gb || "function" !== typeof gb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ka(gb,fb,eb);}function U(gb,fb,eb){1E5 > gb && (gb=1E5 + gb);Object.defineProperties(this,{internalCode:{value:gb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Qd(gb){switch(gb){case Nb.PSK:case Nb.MGK:return !0;default:return !1;}}function ue(gb){switch(gb){case Nb.PSK:case Nb.MGK:case Nb.X509:case Nb.RSA:case Nb.NPTICKET:case Nb.ECC:return !0;default:return !1;}}function Df(gb){return gb.toJSON();}function ve(gb,fb){td?fb.result(td):Promise.resolve().then(function(){return Jb.getKeyByName(gb);}).catch(function(){return Jb.generateKey({name:gb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){td=eb;fb.result(td);}).catch(function(eb){fb.error(new bb(U.INTERNAL_EXCEPTION,"Unable to get system key"));});}function we(gb,fb){var eb,ab;eb=fb.masterToken;ab=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:gb.method,UserId:gb.userId,UT:ab && ab.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:fb && fb.length};}function Ef(gb){return gb.uniqueKey();}function Ff(gb,fb,eb,ab,kb){var Qa;function qb(ya,la){ya.errorCode === Ja.ENTITY_REAUTH || ya.errorCode === Ja.ENTITYDATA_REAUTH?(ab.clearCryptoContexts(),Na()):ya.errorCode !== Ja.USER_REAUTH && ya.errorCode !== Ja.USERDATA_REAUTH || jb(la);}function jb(ya){if(ya=ab.getUserIdToken(ya))(ab.removeUserIdToken(ya),Na());}function Fa(ya,la,fa){var Z;Z=[];(function ha(){ya.read(-1,la,{result:function(ea){Ka(fa,function(){var S,Y,pa,ma,qa;if(ea)(Z.push(ea),ha());else switch(Z.length){case 0:return new Uint8Array(0);case 1:return Z[0];default:(pa=Z.length,ma=0);for(Y=S=0;Y < pa;Y++){S+=Z[Y].length;}S=new Uint8Array(S);for(Y=0;Y < pa;Y++){qa=Z[Y];S.set(qa,ma);ma+=qa.length;}return S;}});},timeout:function(){fa.timeout();},error:function(ea){fa.error(ea);}});})();}function Na(){ab.getStoreState({result:function(ya){for(var la=Qa.slice(),fa=0;fa < la.length;fa++){la[fa]({storeState:ya});}},timeout:function(){gb.error("Timeout getting store state","" + e);},error:function(ya){gb.error("Error getting store state","" + ya);}});}Qa=[];this.addEventHandler=function(ya,la){switch(ya){case "shouldpersist":Qa.push(la);}};this.send=function(ya){return new Promise(function(la,fa){var Z,ba,ha;Z=ya.timeout;ba=new xe(gb,eb,ya,ab.getKeyRequestData());ha=new ye(ya.url);gb.trace("Sending MSL request");fb.request(eb,ba,ha,Z,{result:function(ea){var S;gb.trace("Received MSL response",{Method:ya.method});if(ea){ya.allowTokenRefresh && Na();S=ea.getErrorHeader();S?(qb(S,ya.profileGuid || ya.userId),fa({success:!1,error:S})):Fa(ea,Z,{result:function(Y){la({success:!0,body:Tb(Y)});},timeout:function(){fa({success:!1,subCode:kb.MSL_READ_TIMEOUT});},error:function(Y){fa({success:!1,error:Y});}});}else fa({success:!1,error:new bb(U.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){fa({success:!1,subCode:kb.MSL_REQUEST_TIMEOUT});},error:function(ea){fa({success:!1,error:ea});}});});};this.hasUserIdToken=function(ya){return ! !ab.getUserIdToken(ya);};this.getUserIdTokenKeys=function(){return ab.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){ab.clearUserIdTokens();Na();};this.isErrorReauth=function(ya){return ya && ya.errorCode == Ja.USERDATA_REAUTH;};this.isErrorHeader=function(ya){return ya instanceof Nc;};this.getErrorCode=function(ya){return ya && ya.errorCode;};this.getStateForMdx=function(ya){var la,fa;la=ab.getMasterToken();ya=ab.getUserIdToken(ya);fa=ab.getCryptoContext(la);return {masterToken:la,userIdToken:ya,cryptoContext:fa};};this.buildPlayDataRequest=function(ya,la){var fa;fa=new ze();fb.request(eb,new xe(gb,eb,ya),fa,ya.timeout,{result:function(){la.result(fa.getRequest());},error:function(){la.result(fa.getRequest());},timeout:function(){la.timeout();}});};this.rekeyUserIdToken=function(ya,la){ab.rekeyUserIdToken(ya,la);Na();};this.getServiceTokens=function(ya){var la;la=ab.getMasterToken();(ya=ab.getUserIdToken(ya)) && !ya.isBoundTo(la) && (ya=Ab);return ab.getServiceTokens(la,ya);};this.removeServiceToken=function(ya){var la;la=ab.getMasterToken();ab.getServiceTokens(la).find(function(fa){return fa.name === ya;}) && (ab.removeServiceTokens(ya,la),Na());};}function Rd(gb,fb,eb,ab,kb,qb){function jb(Fa){var Na;return Promise.resolve().then(function(){Na=gb.authenticationKeyNames[Fa];if(!Na)throw new bb(U.KEY_IMPORT_ERROR,"Invalid config keyName " + Fa);return Jb.getKeyByName(Na);}).then(function(Qa){return new Promise(function(ya,la){Yc(Qa,{result:ya,error:function(){la(new bb(U.KEY_IMPORT_ERROR,"Unable to create " + Na + " CipherKey"));}});});}).catch(function(Qa){throw new bb(U.KEY_IMPORT_ERROR,"Unable to import " + Na,Qa);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new bb(U.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([jb("e"),jb("h"),jb("w")]);}).then(function(Fa){var Na,Qa,ya;Na={};Na[fb]=new eb(gb.esn,Fa[0],Fa[1],Fa[2]);Fa=new ab(gb.esn);Qa=new Gf();Qa=[new kb(Qa)];ya=new qb(fb);return {entityAuthFactories:Na,entityAuthData:Fa,keyExchangeFactories:Qa,keyRequestData:ya};});}function Sd(gb,fb,eb){var qb;function ab(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return kb(jb.publicKey,jb.privateKey);});}function kb(jb,Fa){return Promise.all([new Promise(function(Na,Qa){Oc(jb,{result:Na,error:function(ya){Qa(new bb(U.INTERNAL_EXCEPTION,"Unable to create keyx public key",ya));}});}),new Promise(function(Na,Qa){Zc(Fa,{result:Na,error:function(ya){Qa(new bb(U.INTERNAL_EXCEPTION,"Unable to create keyx private key",ya));}});})]).then(function(Na){Na=new Td("rsaKeypairId",eb,Na[0],Na[1]);qb && (Na.storeData={keyxPublicKey:jb,keyxPrivateKey:Fa});return Na;});}qb=!gb.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Fa;jb=gb.storeState;Fa=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return qb && Fa && jb?kb(Fa,jb):ab();}).then(function(jb){var Fa,Na,Qa;Fa={};Fa[Nb.NONE]=new Hf();Na=new gd(gb.esn);Qa=[new Ae()];return {entityAuthFactories:Fa,entityAuthData:Na,keyExchangeFactories:Qa,keyRequestData:jb,createKeyRequestData:qb?ab:Ab};});}Gc=pb.nfCrypto || pb.msCrypto || pb.webkitCrypto || pb.crypto;Qb=Gc && (Gc.webkitSubtle || Gc.subtle);ud=pb.nfCryptokeys || pb.msCryptokeys || pb.webkitCryptokeys || pb.cryptokeys;(function(gb){var fb,eb;fb=(function(){function ab(kb,qb){kb instanceof fb?(this.abv=kb.abv,this.position=kb.position):(this.abv=kb,this.position=qb || 0);}ab.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(kb){this.abv[this.position++]=kb;},peekByte:function(kb){return this.abv[kb];},copyBytes:function(kb,qb,jb){var Fa;Fa=new Uint8Array(this.abv.buffer,this.position,jb);kb=new Uint8Array(kb.buffer,qb,jb);Fa.set(kb);this.position+=jb;},seek:function(kb){this.position=kb;},skip:function(kb){this.position+=kb;},getPosition:function(){return this.position;},setPosition:function(kb){this.position=kb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return ab;})();eb={};(function(){var ea,S,Y,pa,ma,qa,Ba,sa,oa;function ab(W,aa){var ca;aa.writeByte(W.tagClass << 6 | W.constructed << 5 | W.tag);ca=W.payloadLen;if(128 > ca)aa.writeByte(ca);else {for(var ka=ca,Ga=0;ka;){++Ga;ka>>=8;}aa.writeByte(128 | Ga);for(ka=0;ka < Ga;++ka){aa.writeByte(ca >> 8 * (Ga - ka - 1) & 255);}}if(W.child)for((W.tag == ea.BIT_STRING && aa.writeByte(0),W=W._child);W;){if(!ab(W,aa))return !1;W=W.next;}else switch(W.tag){case ea.INTEGER:W.backingStore[W.dataIdx] >> 7 && aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.BIT_STRING:aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.OCTET_STRING:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.OBJECT_IDENTIFIER:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);}return !0;}function kb(W){var aa,ca;aa=W.readByte();ca=aa & 127;if(ca == aa)return ca;if(3 < ca || 0 === ca)return -1;for(var ka=aa=0;ka < ca;++ka){aa=aa << 8 | W.readByte();}return aa;}function qb(W,aa,ca){var ka,Ga,Ea,Pa,Ra,ia,ua;ka=W.backingStore;Ga=new fb(ka,aa);aa+=ca;ca=W;if(8 < ma++)return Ab;for(;Ga.getPosition() < aa;){Ga.getPosition();Pa=Ga.readByte();if(31 == (Pa & 31)){for(Ea=0;Pa & 128;){Ea<<=8;Ea|=Pa & 127;}Pa=Ea;}Ra=Pa;Ea=Ra & 31;if(0 > Ea || 30 < Ea)return Ab;Pa=kb(Ga);if(0 > Pa || Pa > Ga.getRemaining())return Ab;ca.constructed=Ra & 32;ca.tagClass=(Ra & 192) >> 6;ca.tag=Ea;ca.dataLen=Pa;ca.dataIdx=Ga.getPosition();Ea=Ga;ia=Ra;Ra=Pa;if(ia & 32)Ea=!0;else if(ia < ea.BIT_STRING || ia > ea.OCTET_STRING)Ea=!1;else {ua=new fb(Ea);ia == ea.BIT_STRING && ua.skip(1);ua.readByte() >> 6 & 1?Ea=!1:(ia=kb(ua),Ea=ua.getPosition() - Ea.getPosition() + ia == Ra);}Ea && (Ea=Ga.getPosition(),Ra=Pa,ca.tag == ea.BIT_STRING && (ca.dataIdx++,ca.dataLen--,Ea++,Ra--),ca.child=new S(ka,ca),qb(ca.child,Ea,Ra));ca.tag == ea.INTEGER && (Ea=Ga.getPosition(),0 == Ga.peekByte(Ea) && Ga.peekByte(Ea + 1) >> 7 && (ca.dataIdx++,ca.dataLen--));Ga.skip(Pa);Ga.getPosition() < aa && (ca.next=new S(ka,ca.parent),ca=ca.next);}ma--;return W;}function jb(W,aa,ca){if(9 != ca)return !1;for(ca=0;9 > ca;++ca){if(W[aa++] != qa[ca])return !1;}return !0;}function Fa(W){var aa;if(!(W && W.child && W.child.next && W.child.child && W.child.next.child))return !1;aa=W.child.child;return jb(aa.backingStore,aa.dataIdx,aa.dataLen) && 2 == W.nChildren && 2 == W.child.nChildren && 2 == W.child.next.child.nChildren?!0:!1;}function Na(W){var aa;if(!(W && W.child && W.child.next && W.child.next.child && W.child.next.next && W.child.next.next.child))return !1;aa=W.child.next.child;return jb(aa.backingStore,aa.dataIdx,aa.dataLen) && 3 == W.nChildren && 2 == W.child.next.nChildren && 9 == W.child.next.next.child.nChildren?!0:!1;}function Qa(W){var aa,ca;aa=Y.createSequenceNode();ca=new pa(aa);ca.addChild(Y.createSequenceNode());ca.addChild(Y.createOidNode(qa));ca.addSibling(Y.createNullNode());ca.addToParent(aa,Y.createBitStringNode(null));ca.addChild(Y.createSequenceNode());ca.addChild(Y.createIntegerNode(W.n));ca.addSibling(Y.createIntegerNode(W.e));return aa;}function ya(W){var aa;W=W.child.next.child.child;aa=W.data;W=W.next;return new Ba(aa,W.data,null,null);}function la(W){var aa,ca;aa=Y.createSequenceNode();ca=new pa(aa);ca.addChild(Y.createIntegerNode(new Uint8Array([0])));ca.addSibling(Y.createSequenceNode());ca.addChild(Y.createOidNode(qa));ca.addSibling(Y.createNullNode());ca.addToParent(aa,Y.createOctetStringNode(null));ca.addChild(Y.createSequenceNode());ca.addChild(Y.createIntegerNode(new Uint8Array([0])));ca.addSibling(Y.createIntegerNode(W.n));ca.addSibling(Y.createIntegerNode(W.e));ca.addSibling(Y.createIntegerNode(W.d));ca.addSibling(Y.createIntegerNode(W.p));ca.addSibling(Y.createIntegerNode(W.q));ca.addSibling(Y.createIntegerNode(W.dp));ca.addSibling(Y.createIntegerNode(W.dq));ca.addSibling(Y.createIntegerNode(W.qi));return aa;}function fa(W){var aa;aa=[];W=W.child.next.next.child.child.next;for(var ca=0;8 > ca;ca++){aa.push(W.data);W=W.next;}return new sa(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7]);}function Z(W,aa,ca,ka){if(!(W instanceof Ba || W instanceof sa))return Ab;if(ca)for(var Ga=0;Ga < ca.length;++Ga){if(-1 == oa.indexOf(ca[Ga]))return Ab;}aa={kty:"RSA",alg:aa,key_ops:ca || [],ext:ka == Ab?!1:ka,n:Db(W.n,!0),e:Db(W.e,!0)};W instanceof sa && (aa.d=Db(W.d,!0),aa.p=Db(W.p,!0),aa.q=Db(W.q,!0),aa.dp=Db(W.dp,!0),aa.dq=Db(W.dq,!0),aa.qi=Db(W.qi,!0));return aa;}function ba(W){var aa,ca,ka,Ga,Ea,Pa,Ra,ia,ua,xa;if(!W.kty || "RSA" != W.kty || !W.n || !W.e)return Ab;aa=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(W.alg && -1 == aa.indexOf(W.alg))return Ab;aa=[];W.use?"enc" == W.use?aa=["encrypt","decrypt","wrap","unwrap"]:"sig" == W.use && (aa=["sign","verify"]):aa=W.key_ops;ca=W.ext;ka=Fb(W.n,!0);Ga=Fb(W.e,!0);if(W.d){Ea=Fb(W.d,!0);Pa=Fb(W.p,!0);Ra=Fb(W.q,!0);ia=Fb(W.dp,!0);ua=Fb(W.dq,!0);xa=Fb(W.qi,!0);return new sa(ka,Ga,Ea,Pa,Ra,ia,ua,xa,W.alg,aa,ca);}return new Ba(ka,Ga,ca,aa);}function ha(W,aa,ca,ka){this.der=W;this.type=aa;this.keyOps=ca;this.extractable=ka;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};S=function(W,aa,ca,ka,Ga,Ea){this._data=W;this._parent=aa || Ab;this._constructed=ca || !1;this._tagClass=0;this._tag=ka || 0;this._dataIdx=Ga || 0;this._dataLen=Ea || 0;};S.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(W) {this._constructed=0 != W?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(W) {this._tagClass=W;},get tag() {return this._tag;},set tag(W) {this._tag=W;},get dataIdx() {return this._dataIdx;},set dataIdx(W) {this._dataIdx=W;},get dataLen() {return this._dataLen;},set dataLen(W) {this._dataLen=W;},get child() {return this._child;},set child(W) {this._child=W;this._child.parent=this;},get next() {return this._next;},set next(W) {this._next=W;},get parent() {return this._parent;},set parent(W) {this._parent=W;},get payloadLen() {var W;W=0;if(this._child){for(var aa=this._child;aa;){W+=aa.length;aa=aa.next;}this._tag == ea.BIT_STRING && W++;}else switch(this._tag){case ea.INTEGER:W=this._dataLen;this._data[this._dataIdx] >> 7 && W++;break;case ea.BIT_STRING:W=this._dataLen + 1;break;case ea.OCTET_STRING:W=this._dataLen;break;case ea.NULL:W=0;break;case ea.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (W=9);}return W;},get length() {var W,aa;W=this.payloadLen;if(127 < W)for(aa=W;aa;){aa>>=8;++W;}return W + 2;},get der() {var W,aa;W=this.length;if(!W)return Ab;W=new Uint8Array(W);aa=new fb(W);return ab(this,aa)?W:Ab;},get nChildren() {for(var W=0,aa=this._child;aa;){W++;aa=aa.next;}return W;}};Y={createSequenceNode:function(){return new S(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(W){return new S(W,null,!1,ea.OBJECT_IDENTIFIER,0,W?W.length:0);},createNullNode:function(){return new S(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(W){return new S(W,null,!1,ea.BIT_STRING,0,W?W.length:0);},createIntegerNode:function(W){return new S(W,null,!1,ea.INTEGER,0,W?W.length:0);},createOctetStringNode:function(W){return new S(W,null,!1,ea.OCTET_STRING,0,W?W.length:0);}};pa=function(W){this._currentNode=this._rootNode=W;};pa.prototype={addChild:function(W){this.addTo(this._currentNode,W);},addSibling:function(W){this.addTo(this._currentNode.parent,W);},addTo:function(W,aa){this._currentNode=aa;this._currentNode.parent=W;if(W.child){for(W=W.child;W.next;){W=W.next;}W.next=aa;}else W.child=aa;},addToParent:function(W,aa){this.findNode(W) && this.addTo(W,aa);},findNode:function(W){for(var aa=this._currentNode;aa;){if(W == aa)return !0;aa=aa.parent;}return !1;}};ma=0;qa=new Uint8Array([42,134,72,134,247,13,1,1,1]);Ba=function(W,aa,ca,ka){this.n=W;this.e=aa;this.ext=ca;this.keyOps=ka;};sa=function(W,aa,ca,ka,Ga,Ea,Pa,Ra,ia,ua,xa){this.n=W;this.e=aa;this.d=ca;this.p=ka;this.q=Ga;this.dp=Ea;this.dq=Pa;this.qi=Ra;this.alg=ia;this.keyOps=ua;this.ext=xa;};oa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ha.prototype.getDer=function(){return this.der;};ha.prototype.getType=function(){return this.type;};ha.prototype.getKeyOps=function(){return this.keyOps;};ha.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(W){ma=0;return qb(new S(W),0,W.length);};eb.show=function(W,aa){};eb.isRsaSpki=Fa;eb.isRsaPkcs8=Na;eb.NodeFactory=Y;eb.Builder=pa;eb.tagVal=ea;eb.RsaPublicKey=Ba;eb.RsaPrivateKey=sa;eb.buildRsaSpki=Qa;eb.parseRsaSpki=function(W){W=eb.parse(W);return Fa?ya(W):Ab;};eb.buildRsaPkcs8=la;eb.parseRsaPkcs8=function(W){W=eb.parse(W);return Na(W)?fa(W):Ab;};eb.buildRsaJwk=Z;eb.parseRsaJwk=ba;eb.RsaDer=ha;eb.rsaDerToJwk=function(W,aa,ca,ka){W=eb.parse(W);if(!W)return Ab;if(Fa(W))W=ya(W);else if(Na(W))W=fa(W);else return Ab;return Z(W,aa,ca,ka);};eb.jwkToRsaDer=function(W){var aa,ca;W=ba(W);if(!W)return Ab;if(W instanceof Ba){aa="spki";ca=Qa(W).der;}else if(W instanceof sa)(aa="pkcs8",ca=la(W).der);else return Ab;return new ha(ca,aa,W.keyOps,W.ext);};eb.webCryptoAlgorithmToJwkAlg=function(W){return "RSAES-PKCS1-v1_5" == W.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == W.name?"SHA-256" == W.hash.name?"RS256":"SHA-384" == W.hash.name?"RS384":"SHA-512" == W.hash.name?"RS512":Ab:Ab;};eb.webCryptoUsageToJwkKeyOps=function(W){return W.map(function(aa){return "wrapKey" == aa?"wrap":"unwrapKey" == aa?"unwrap":aa;});};})();gb.ASN1=eb;})(pb);(function(){for(var gb={},fb={},eb={"=":0,".":0},ab={"=":0,".":0},kb=/\s+/g,qb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Db=function(Fa,Na){for(var Qa="",ya=0,la=Fa.length,fa=la - 2,Z=Na?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ba=Na?"":"=";ya < fa;){Na=65536 * Fa[ya++] + 256 * Fa[ya++] + Fa[ya++];Qa+=Z[Na >>> 18] + Z[Na >>> 12 & 63] + Z[Na >>> 6 & 63] + Z[Na & 63];}ya == fa?(Na=65536 * Fa[ya++] + 256 * Fa[ya++],Qa+=Z[Na >>> 18] + Z[Na >>> 12 & 63] + Z[Na >>> 6 & 63] + ba):ya == la - 1 && (Na=65536 * Fa[ya++],Qa+=Z[Na >>> 18] + Z[Na >>> 12 & 63] + ba + ba);return Qa;};Fb=function(Fa,Na){Fa=Fa.replace(kb,"");if(Na && (Na=Fa.length % 4)){Na=4 - Na;for(var Qa=0;Qa < Na;++Qa){Fa+="=";}}Na=Fa.length;if(0 != Na % 4 || !qb.test(Fa))throw Error("bad base64: " + Fa);for(var ya=Na / 4 * 3 - ("=" == Fa[Na - 1]?1:0) - ("=" == Fa[Na - 2]?1:0),la=new Uint8Array(ya),fa=0,Z=0;fa < Na;){Qa=gb[Fa[fa++]] + fb[Fa[fa++]] + eb[Fa[fa++]] + ab[Fa[fa++]];la[Z++]=Qa >>> 16;Z < ya && (la[Z++]=Qa >>> 8 & 255,Z < ya && (la[Z++]=Qa & 255));}return la;};})();Yb={};(function(){var qb,jb,Fa,Qa;function gb(ya){if(!(this instanceof gb))return new gb(ya);for(var la=0,fa=jb.length;la < fa;la++){this[jb[la]]="";}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ya || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Fa.BEGIN;this.stack=new qb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(ya,la,fa){if(ya[la])ya[la](fa);}function eb(ya,la){var fa,Z;fa=ya.opt;Z=ya.textNode;fa.trim && (Z=Z.trim());fa.normalize && (Z=Z.replace(/\s+/g," "));ya.textNode=Z;ya.textNode && fb(ya,la?la:"onvalue",ya.textNode);ya.textNode="";}function ab(ya,la){eb(ya);la+="\nLine: " + ya.line + "\nColumn: " + ya.column + "\nChar: " + ya.c;la=Error(la);ya.error=la;fb(ya,"onerror",la);return ya;}function kb(ya){ya.state !== Fa.VALUE && ab(ya,"Unexpected end");eb(ya);ya.c="";ya.closed=!0;fb(ya,"onend");gb.call(ya,ya.opt);return ya;}qb=Array;Yb.parser=function(ya){return new gb(ya);};Yb.CParser=gb;Yb.MAX_BUFFER_LENGTH=65536;Yb.DEBUG=!1;Yb.INFO=!1;Yb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];Yb.EVENTS.filter(function(ya){return "error" !== ya && "end" !== ya;});Fa=0;Yb.STATE={BEGIN:Fa++,VALUE:Fa++,OPEN_OBJECT:Fa++,CLOSE_OBJECT:Fa++,OPEN_ARRAY:Fa++,CLOSE_ARRAY:Fa++,TEXT_ESCAPE:Fa++,STRING:Fa++,BACKSLASH:Fa++,END:Fa++,OPEN_KEY:Fa++,CLOSE_KEY:Fa++,TRUE:Fa++,TRUE2:Fa++,TRUE3:Fa++,FALSE:Fa++,FALSE2:Fa++,FALSE3:Fa++,FALSE4:Fa++,NULL:Fa++,NULL2:Fa++,NULL3:Fa++,NUMBER_DECIMAL_POINT:Fa++,NUMBER_DIGIT:Fa++};for(var Na in Yb.STATE){Yb.STATE[Yb.STATE[Na]]=Na;}Fa=Yb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ya){return ya.__proto__;});Qa=/[\\"\n]/g;gb.prototype={end:function(){kb(this);},write:function(ya){var Z,ba,ha;if(this.error)throw this.error;if(this.closed)return ab(this,"Cannot write after close. Assign an onready handler.");if(null === ya)return kb(this);for(var la=ya[0],fa;la;){fa=la;this.c=la=ya.charAt(this.index++);fa !== la?this.p=fa:fa=this.p;if(!la)break;this.position++;"\n" === la?(this.line++,this.column=0):this.column++;switch(this.state){case Fa.BEGIN:"{" === la?this.state=Fa.OPEN_OBJECT:"[" === la?this.state=Fa.OPEN_ARRAY:"\r" !== la && "\n" !== la && " " !== la && "\t" !== la && ab(this,"Non-whitespace before {[.");continue;case Fa.OPEN_KEY:case Fa.OPEN_OBJECT:if("\r" === la || "\n" === la || " " === la || "\t" === la)continue;if(this.state === Fa.OPEN_KEY)this.stack.push(Fa.CLOSE_KEY);else if("}" === la){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Fa.VALUE;continue;}else this.stack.push(Fa.CLOSE_OBJECT);'"' === la?this.state=Fa.STRING:ab(this,'Malformed object key should start with "');continue;case Fa.CLOSE_KEY:case Fa.CLOSE_OBJECT:if("\r" === la || "\n" === la || " " === la || "\t" === la)continue;":" === la?(this.state === Fa.CLOSE_OBJECT?(this.stack.push(Fa.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Fa.VALUE):"}" === la?(eb(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Fa.VALUE):"," === la?(this.state === Fa.CLOSE_OBJECT && this.stack.push(Fa.CLOSE_OBJECT),eb(this),this.state=Fa.OPEN_KEY):ab(this,"Bad object");continue;case Fa.OPEN_ARRAY:case Fa.VALUE:if("\r" === la || "\n" === la || " " === la || "\t" === la)continue;if(this.state === Fa.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Fa.VALUE,"]" === la)){fb(this,"onclosearray");this.state=this.stack.pop() || Fa.VALUE;continue;}else this.stack.push(Fa.CLOSE_ARRAY);'"' === la?this.state=Fa.STRING:"{" === la?this.state=Fa.OPEN_OBJECT:"[" === la?this.state=Fa.OPEN_ARRAY:"t" === la?this.state=Fa.TRUE:"f" === la?this.state=Fa.FALSE:"n" === la?this.state=Fa.NULL:"-" === la?this.numberNode+=la:"0" === la?(this.numberNode+=la,this.state=Fa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(la)?(this.numberNode+=la,this.state=Fa.NUMBER_DIGIT):ab(this,"Bad value");continue;case Fa.CLOSE_ARRAY:if("," === la)(this.stack.push(Fa.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Fa.VALUE);else if("]" === la)(eb(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Fa.VALUE);else if("\r" === la || "\n" === la || " " === la || "\t" === la)continue;else ab(this,"Bad array");continue;case Fa.STRING:fa=this.index - 1;(Z=this.slashed,ba=this.unicodeI);a:for(;;){if(Yb.DEBUG)for(;0 < ba;){if((this.unicodeS+=la,la=ya.charAt(this.index++),4 === ba?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),ba=0,fa=this.index - 1):ba++,!la))break a;}if('"' === la && !Z){this.state=this.stack.pop() || Fa.VALUE;(this.textNode+=ya.substring(fa,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === la && !Z && (Z=!0,this.textNode+=ya.substring(fa,this.index - 1),la=ya.charAt(this.index++),!la))break;if(Z)if((Z=!1,"n" === la?this.textNode+="\n":"r" === la?this.textNode+="\r":"t" === la?this.textNode+="\t":"f" === la?this.textNode+="\f":"b" === la?this.textNode+="\b":"u" === la?(ba=1,this.unicodeS=""):this.textNode+=la,la=ya.charAt(this.index++),fa=this.index - 1,la))continue;else break;Qa.lastIndex=this.index;ha=Qa.exec(ya);if(null === ha){this.index=ya.length + 1;this.textNode+=ya.substring(fa,this.index - 1);break;}this.index=ha.index + 1;la=ya.charAt(ha.index);if(!la){this.textNode+=ya.substring(fa,this.index - 1);break;}}this.slashed=Z;this.unicodeI=ba;continue;case Fa.TRUE:if("" === la)continue;"r" === la?this.state=Fa.TRUE2:ab(this,"Invalid true started with t" + la);continue;case Fa.TRUE2:if("" === la)continue;"u" === la?this.state=Fa.TRUE3:ab(this,"Invalid true started with tr" + la);continue;case Fa.TRUE3:if("" === la)continue;"e" === la?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid true started with tru" + la);continue;case Fa.FALSE:if("" === la)continue;"a" === la?this.state=Fa.FALSE2:ab(this,"Invalid false started with f" + la);continue;case Fa.FALSE2:if("" === la)continue;"l" === la?this.state=Fa.FALSE3:ab(this,"Invalid false started with fa" + la);continue;case Fa.FALSE3:if("" === la)continue;"s" === la?this.state=Fa.FALSE4:ab(this,"Invalid false started with fal" + la);continue;case Fa.FALSE4:if("" === la)continue;"e" === la?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid false started with fals" + la);continue;case Fa.NULL:if("" === la)continue;"u" === la?this.state=Fa.NULL2:ab(this,"Invalid null started with n" + la);continue;case Fa.NULL2:if("" === la)continue;"l" === la?this.state=Fa.NULL3:ab(this,"Invalid null started with nu" + la);continue;case Fa.NULL3:if("" === la)continue;"l" === la?(fb(this,"onvalue",null),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid null started with nul" + la);continue;case Fa.NUMBER_DECIMAL_POINT:"." === la?(this.numberNode+=la,this.state=Fa.NUMBER_DIGIT):ab(this,"Leading zero not followed by .");continue;case Fa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(la)?this.numberNode+=la:"." === la?(-1 !== this.numberNode.indexOf(".") && ab(this,"Invalid number has two dots"),this.numberNode+=la):"e" === la || "E" === la?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || ab(this,"Invalid number has two exponential"),this.numberNode+=la):"+" === la || "-" === la?("e" !== fa && "E" !== fa && ab(this,"Invalid symbol in number"),this.numberNode+=la):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Fa.VALUE);continue;default:ab(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ya=Math.max(Yb.MAX_BUFFER_LENGTH,10);fa=la=0;for(Z=jb.length;fa < Z;fa++){ba=this[jb[fa]].length;if(ba > ya)switch(jb[fa]){case "text":break;default:ab(this,"Max buffer length exceeded: " + jb[fa]);}la=Math.max(la,ba);}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH - la + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var ab,kb,qb;function gb(jb,Fa){Fa || (Fa=jb.length);return jb.reduce(function(Na,Qa,ya){return ya < Fa?Na + String.fromCharCode(Qa):Na;},"");}for(var fb={},eb=0;256 > eb;++eb){ab=gb([eb]);fb[ab]=eb;}kb=Object.keys(fb).length;qb=[];for(eb=0;256 > eb;++eb){qb[eb]=[eb];}Be=function(jb,Fa){var S,Y;function Na(pa,ma){var qa;for(;0 < ma;){if(ba >= Z.length)return !1;if(ma > ha){qa=pa;qa>>>=ma - ha;Z[ba]|=qa & 255;ma-=ha;ha=8;++ba;}else ma <= ha && (qa=pa,qa<<=ha - ma,qa&=255,qa>>>=8 - ha,Z[ba]|=qa & 255,ha-=ma,ma=0,0 == ha && (ha=8,++ba));}return !0;}for(var Qa in fb){Fa[Qa]=fb[Qa];}for(var ya=kb,la=[],fa=8,Z=new Uint8Array(jb.length),ba=0,ha=8,ea=0;ea < jb.length;++ea){S=jb[ea];la.push(S);Qa=gb(la);Y=Fa[Qa];if(!Y){la=gb(la,la.length - 1);if(!Na(Fa[la],fa))return null;0 != ya >> fa && ++fa;Fa[Qa]=ya++;la=[S];}}return 0 < la.length && (Qa=gb(la),Y=Fa[Qa],!Na(Y,fa))?null:Z.subarray(0,8 > ha?ba + 1:ba);};Ce=function(jb){var ea,S;for(var Fa=qb.slice(),Na=0,Qa=0,ya=8,la=new Uint8Array(Math.ceil(1.5 * jb.length)),fa=0,Z,ba=[];Na < jb.length && !(8 * (jb.length - Na) - Qa < ya);){for(var ha=Z=0;ha < ya;){ea=Math.min(ya - ha,8 - Qa);S=jb[Na];S<<=Qa;S&=255;S>>>=8 - ea;ha+=ea;Qa+=ea;8 == Qa && (Qa=0,++Na);Z|=(S & 255) << ya - ha;}ha=Fa[Z];0 == ba.length?++ya:(ha?ba.push(ha[0]):ba.push(ba[0]),Fa[Fa.length]=ba,ba=[],Fa.length == 1 << ya && ++ya,ha || (ha=Fa[Z]));Z=fa + ha.length;Z >= la.length && (ea=new Uint8Array(Math.ceil(1.5 * Z)),ea.set(la),la=ea);la.set(ha,fa);fa=Z;ba=ba.concat(ha);}return la.subarray(0,fa);};})();(function(){var gb,fb,eb;Lb="utf-8";Mb=9007199254740992;gb=Pc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Pc);De=function(ab){for(var kb=[gb.GZIP,gb.LZW],qb=0;qb < kb.length && 0 < ab.length;++qb){for(var jb=kb[qb],Fa=0;Fa < ab.length;++Fa){if(ab[Fa] == jb)return jb;}}return null;};fb=vd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vd);Ee=function(ab){return fb.AES_CBC_PKCS5Padding == ab?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == ab?fb.RSA_ECB_PKCS1Padding:fb[ab];};eb=Fe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Fe);Ud=function(ab){return eb[ab];};Ja={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ja);})();Bb={isObjectLiteral:function(gb){return null !== gb && "object" === typeof gb && gb.constructor === Object;},extendDeep:function(){var gb,fb,eb,ab,kb,qb,jb,Fa;gb=arguments[0];fb=1;eb=arguments.length;ab=!1;"boolean" === typeof gb && (ab=gb,gb=arguments[1],fb=2);for(;fb < eb;fb++){if(null != (kb=arguments[fb]))for(qb in kb){if(!(ab && (qb in gb))){jb=kb[qb];if(gb !== jb && jb !== Ab){Fa=gb[qb];gb[qb]=null !== Fa && null !== jb && "object" === typeof Fa && "object" === typeof jb?Bb.extendDeep(ab,{},Fa,jb):jb;}}}}return gb;}};(function(){var jb,Fa;function gb(Na,Qa){return function(){var ya,la;ya=Na.base;Na.base=Qa;la=Na.apply(this,arguments);Na.base=ya;return la;};}function fb(Na,Qa,ya){var la,fa,Z,ba;ya=ya || Fa;fa=! !ya.extendAll;for(la in Qa){Z=Qa.__lookupGetter__(la);ba=Qa.__lookupSetter__(la);Z || ba?(Z && Na.__defineGetter__(la,Z),ba && Na.__defineSetter__(la,ba)):(Z=Qa[la],ba=Na[la],"function" === typeof Z && "function" === typeof ba && Z !== ba?(Z.base !== Function.prototype.base && (Z=gb(Z,ba)),Z.base=ba):(fa || ya[la]) && Bb.isObjectLiteral(Z) && Bb.isObjectLiteral(ba) && (Z=Bb.extendDeep({},ba,Z)),Na[la]=Z);}}function eb(){var Na,Qa;Na=Array.prototype.slice;Qa=Na.call(arguments,1);return this.extend({init:function la(){var fa;fa=Na.call(arguments,0);la.base.apply(this,Qa.concat(fa));}});}function ab(Na,Qa){var ya;ya=new this(jb);fb(ya,Na,Qa);return qb(ya);}function kb(Na,Qa){fb(this.prototype,Na,Qa);return this;}function qb(Na){var Qa;Qa=function(){var ya;ya=this.init;ya && arguments[0] !== jb && ya.apply(this,arguments);};Na && (Qa.prototype=Na);Qa.prototype.constructor=Qa;Qa.extend=ab;Qa.bind=eb;Qa.mixin=kb;return Qa;}jb={};Fa={actions:!0};Function.prototype.base=function(){};Bb.Class={create:qb,mixin:fb,extend:function(Na,Qa){var ya;ya=qb();ya.prototype=new Na();return ya.extend(Qa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var jb,Fa,Na;function gb(Qa,ya){return function(){var la,fa;la=Qa.base;Qa.base=ya;fa=Qa.apply(this,arguments);Qa.base=la;return fa;};}function fb(Qa,ya,la){var fa,Z,ba,ha;la=la || Fa;Z=! !la.extendAll;for(fa in ya){ba=ya.__lookupGetter__(fa);ha=ya.__lookupSetter__(fa);ba || ha?(ba && Qa.__defineGetter__(fa,ba),ha && Qa.__defineSetter__(fa,ha)):(ba=ya[fa],ha=Qa[fa],"function" === typeof ba && "function" === typeof ha && ba !== ha?(ba.base !== Na && (ba=gb(ba,ha)),ba.base=ha):(Z || la[fa]) && Bb.isObjectLiteral(ba) && Bb.isObjectLiteral(ha) && (ba=Bb.extendDeep({},ha,ba)),Qa[fa]=ba);}}function eb(){var Qa,ya;Qa=Array.prototype.slice;ya=Qa.call(arguments,1);return this.extend({init:function fa(){var Z;Z=Qa.call(arguments,0);fa.base.apply(this,ya.concat(Z));}});}function ab(Qa,ya){var la;la=new this(jb);fb(la,Qa,ya);return qb(la);}function kb(Qa,ya){fb(this.prototype,Qa,ya);return this;}function qb(Qa){var ya;ya=function(){var la;la=this.init;la && arguments[0] !== jb && la.apply(this,arguments);};Qa && (ya.prototype=Qa);ya.prototype.constructor=ya;ya.extend=ab;ya.bind=eb;ya.mixin=kb;return ya;}jb={};Fa={actions:!0};Na=function(){};Function.prototype.base=Na;Bb.Class={create:qb,mixin:fb,extend:function(Qa,ya){var la;la=qb();la.prototype=new Qa();return la.extend(ya);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function gb(eb){return eb == Mb?1:eb + 1;}function fb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var ab=gb(eb._nextWaiter);!eb._waiters[ab];){ab=gb(ab);}return ab;}hd=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var ab;if(this._waiters[eb]){ab=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=fb(this));ab.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,ab){var kb,qb;kb=this;qb=gb(this._lastWaiter);this._lastWaiter=qb;cb(ab,function(){var jb,Fa;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){ab.result(jb);},0);}else {-1 != eb && (Fa=setTimeout(function(){delete kb._waiters[qb];qb == kb._nextWaiter && (kb._nextWaiter=fb(kb));ab.timeout();},eb));this._waiters[qb]=function(Na){clearTimeout(Fa);setTimeout(function(){ab.result(Na);},0);};this._nextWaiter || (this._nextWaiter=qb);}},kb);return qb;},add:function(eb){var ab;if(this._nextWaiter){ab=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);ab.call(this,eb);}else this._queue.push(eb);}});})();(function(){var gb;gb=0 - Mb;Ge=Bb.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);Gc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var eb;if(null !== fb && fb !== Ab){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;eb=new Uint8Array(4);Gc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);Gc.getRandomValues(fb);eb=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var fb=gb;fb == gb;){fb=new Uint8Array(7);Gc.getRandomValues(fb);eb=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-eb - 1:eb;}return fb;},nextBytes:function(fb){Gc.getRandomValues(fb);}});})();(function(){function gb(ab){return ab == Mb?1:ab + 1;}function fb(ab){if(0 === Object.keys(ab._waitingReaders).length)return 0;for(var kb=gb(ab._nextReader);!ab._waitingReaders[kb];){kb=gb(kb);}return kb;}function eb(ab){if(0 === Object.keys(ab._waitingWriters).length)return 0;for(var kb=gb(ab._nextWriter);!ab._waitingWriters[kb];){kb=gb(kb);}return kb;}Vd=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(ab){var kb;if(this._waitingReaders[ab]){kb=this._waitingReaders[ab];delete this._waitingReaders[ab];ab == this._nextReader && (this._nextReader=fb(this));kb.call(this,!0);}this._waitingWriters[ab] && (kb=this._waitingWriters[ab],delete this._waitingWriters[ab],ab == this._nextWriter && (this._nextWriter=eb(this)),kb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(ab,kb){var qb,jb;qb=this;jb=gb(this._lastNumber);this._lastNumber=jb;cb(kb,function(){var Fa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != ab && (Fa=setTimeout(function(){delete qb._waitingReaders[jb];jb == qb._nextReader && (qb._nextReader=fb(qb));kb.timeout();},ab));this._waitingReaders[jb]=function(Na){clearTimeout(Fa);Na?setTimeout(function(){kb.result(Ab);},0):(qb._readers[jb]=!0,setTimeout(function(){kb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},qb);return jb;},writeLock:function(ab,kb){var qb,jb;qb=this;jb=gb(this._lastNumber);this._lastNumber=jb;cb(kb,function(){var Fa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != ab && (Fa=setTimeout(function(){delete qb._waitingWriters[jb];jb == qb._nextWriter && (qb._nextWriter=eb(qb));kb.timeout();},ab));this._waitingWriters[jb]=function(Na){clearTimeout(Fa);Na?setTimeout(function(){kb.result(Ab);},0):(qb._writer=jb,setTimeout(function(){kb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},qb);return jb;},unlock:function(ab){if(ab == this._writer)this._writer=null;else {if(!this._readers[ab])throw new vb("There is no reader or writer with ticket number " + ab + ".");delete this._readers[ab];}if(this._nextWriter)0 < Object.keys(this._readers).length || (ab=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),ab.call(this,!1));else {for(var kb=this._nextReader;0 < Object.keys(this._waitingReaders).length;kb=gb(kb)){this._waitingReaders[kb] && (ab=this._waitingReaders[kb],delete this._waitingReaders[kb],ab.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(U,{JSON_PARSE_ERROR:new U(0,Ja.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new U(1,Ja.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new U(2,Ja.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new U(3,Ja.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new U(4,Ja.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new U(5,Ja.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new U(6,Ja.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new U(7,Ja.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new U(8,Ja.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new U(9,Ja.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new U(10,Ja.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new U(11,Ja.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new U(12,Ja.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new U(13,Ja.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new U(14,Ja.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new U(15,Ja.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new U(16,Ja.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new U(17,Ja.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new U(18,Ja.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new U(19,Ja.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new U(20,Ja.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new U(21,Ja.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new U(22,Ja.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new U(23,Ja.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new U(24,Ja.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new U(25,Ja.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new U(26,Ja.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new U(27,Ja.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new U(28,Ja.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new U(29,Ja.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new U(30,Ja.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new U(31,Ja.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new U(32,Ja.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new U(33,Ja.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new U(34,Ja.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new U(35,Ja.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new U(36,Ja.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new U(37,Ja.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new U(38,Ja.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new U(39,Ja.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new U(40,Ja.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new U(41,Ja.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new U(42,Ja.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new U(43,Ja.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new U(44,Ja.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new U(45,Ja.FAIL,"Error exporting key."),DIGEST_ERROR:new U(46,Ja.FAIL,"Error in digest."),UNSUPPORTED_KEY:new U(47,Ja.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new U(48,Ja.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new U(49,Ja.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new U(50,Ja.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new U(51,Ja.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new U(52,Ja.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new U(53,Ja.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new U(54,Ja.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new U(55,Ja.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new U(56,Ja.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new U(57,Ja.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new U(58,Ja.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new U(59,Ja.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new U(60,Ja.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new U(61,Ja.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new U(62,Ja.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new U(1E3,Ja.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new U(1001,Ja.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new U(1002,Ja.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new U(1003,Ja.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new U(1004,Ja.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(1005,Ja.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new U(1006,Ja.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new U(1007,Ja.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new U(1008,Ja.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new U(1009,Ja.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new U(1010,Ja.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new U(1011,Ja.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new U(1012,Ja.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new U(1013,Ja.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new U(1014,Ja.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new U(2E3,Ja.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new U(2001,Ja.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new U(2002,Ja.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new U(2003,Ja.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new U(2004,Ja.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new U(2005,Ja.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(2006,Ja.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(2007,Ja.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new U(2008,Ja.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new U(2009,Ja.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new U(2010,Ja.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new U(2011,Ja.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new U(2012,Ja.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new U(2013,Ja.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new U(2014,Ja.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new U(2015,Ja.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new U(2016,Ja.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new U(2017,Ja.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new U(2018,Ja.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new U(2019,Ja.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new U(2020,Ja.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new U(3E3,Ja.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new U(3001,Ja.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new U(3002,Ja.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new U(3003,Ja.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new U(3004,Ja.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(3005,Ja.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new U(3006,Ja.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new U(3007,Ja.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new U(3008,Ja.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new U(3009,Ja.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new U(4E3,Ja.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new U(4001,Ja.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new U(4002,Ja.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new U(4003,Ja.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new U(4004,Ja.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new U(4005,Ja.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new U(4006,Ja.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new U(4007,Ja.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new U(4008,Ja.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new U(4009,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new U(4010,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new U(4011,Ja.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new U(4012,Ja.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new U(4013,Ja.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new U(4014,Ja.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new U(4015,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new U(4016,Ja.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new U(4017,Ja.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new U(4018,Ja.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new U(4019,Ja.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new U(4020,Ja.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new U(4021,Ja.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new U(4022,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new U(4023,Ja.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new U(4024,Ja.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new U(4025,Ja.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new U(4026,Ja.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new U(5E3,Ja.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new U(5001,Ja.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new U(5002,Ja.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new U(5003,Ja.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new U(5004,Ja.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new U(5005,Ja.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new U(5006,Ja.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new U(5007,Ja.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new U(5008,Ja.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new U(5009,Ja.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new U(5010,Ja.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new U(5011,Ja.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new U(5012,Ja.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new U(5013,Ja.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new U(5014,Ja.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new U(5015,Ja.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new U(5016,Ja.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new U(5017,Ja.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new U(5018,Ja.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new U(5019,Ja.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new U(5020,Ja.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new U(5021,Ja.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new U(5022,Ja.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new U(5023,Ja.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new U(5024,Ja.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new U(5025,Ja.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new U(5026,Ja.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new U(5027,Ja.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new U(5028,Ja.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new U(5029,Ja.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new U(5030,Ja.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new U(5031,Ja.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new U(5032,Ja.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new U(5033,Ja.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new U(5034,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new U(5035,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new U(5036,Ja.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new U(5037,Ja.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new U(5038,Ja.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new U(5039,Ja.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new U(5040,Ja.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new U(6E3,Ja.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new U(6001,Ja.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new U(6002,Ja.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new U(6003,Ja.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new U(6004,Ja.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new U(6005,Ja.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new U(6006,Ja.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new U(6007,Ja.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new U(6008,Ja.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new U(6009,Ja.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new U(6010,Ja.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new U(6011,Ja.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new U(6012,Ja.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new U(6013,Ja.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new U(6014,Ja.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new U(6015,Ja.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new U(6016,Ja.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new U(6017,Ja.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new U(6018,Ja.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new U(6019,Ja.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new U(6020,Ja.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new U(6021,Ja.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new U(6022,Ja.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new U(6023,Ja.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new U(6024,Ja.FAIL,"Invalid header data."),PAYLOAD_INVALID:new U(6025,Ja.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new U(6026,Ja.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new U(6027,Ja.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new U(6028,Ja.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new U(6029,Ja.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new U(6030,Ja.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new U(6031,Ja.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new U(6032,Ja.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new U(6033,Ja.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new U(6034,Ja.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new U(6035,Ja.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new U(6036,Ja.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new U(6037,Ja.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new U(7E3,Ja.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new U(7001,Ja.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new U(7002,Ja.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new U(7003,Ja.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new U(7004,Ja.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new U(7005,Ja.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new U(7006,Ja.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new U(7007,Ja.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new U(7008,Ja.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new U(7009,Ja.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new U(7010,Ja.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new U(7011,Ja.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new U(7012,Ja.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new U(7013,Ja.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new U(7014,Ja.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new U(7015,Ja.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new U(7016,Ja.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new U(8E3,Ja.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new U(8001,Ja.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new U(8002,Ja.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new U(8003,Ja.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new U(8004,Ja.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new U(8005,Ja.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new U(8006,Ja.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new U(8007,Ja.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new U(8008,Ja.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new U(8009,Ja.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new U(8010,Ja.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new U(8011,Ja.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new U(8012,Ja.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new U(9E3,Ja.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new U(9001,Ja.FAIL,"Error communicating with MSL entity."),NONE:new U(9999,Ja.FAIL,"Special unit test error.")});Object.freeze(U);(function(){bb=Bb.Class.create(Error());bb.mixin({init:function(gb,fb,eb){var kb,qb,jb;function ab(){return qb?qb:this.cause && this.cause instanceof bb?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=gb.message;fb && (kb+=" [" + fb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:kb,writable:!1,configurable:!0},error:{value:gb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:ab,set:function(Fa){if(0 > Fa || Fa > Mb)throw new RangeError("Message ID " + Fa + " is outside the valid range.");ab() || (qb=Fa);},configurable:!0},stack:{get:function(){var Fa;Fa=this.toString();jb && (Fa+="\n" + jb);eb && eb.stack && (Fa+="\nCaused by " + eb.stack);return Fa;},configurable:!0}});},setEntity:function(gb){!gb || this.masterToken || this.entityAuthenticationData || (gb instanceof ic?this.masterToken=gb:gb instanceof Qc && (this.entityAuthenticationData=gb));return this;},setUser:function(gb){!gb || this.userIdToken || this.userAuthenticationData || (gb instanceof $c?this.userIdToken=gb:gb instanceof Hc && (this.userAuthenticationData=gb));return this;},setMessageId:function(gb){this.messageId=gb;return this;},toString:function(){return this.name + ": " + this.message;}});})();tb=bb.extend({init:function kb(fb,eb,ab){kb.base.call(this,fb,eb,ab);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});xb=bb.extend({init:function qb(eb,ab,kb){qb.base.call(this,eb,ab,kb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});wc=bb.extend({init:function jb(ab,kb,qb){jb.base.call(this,ab,kb,qb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Bb.Class.create(Error());kc.mixin({init:function(ab,kb,qb){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},requestCause:{value:qb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Fa;Fa=this.toString();jb && (Fa+="\n" + jb);kb && kb.stack && (Fa+="\nCaused by " + kb.stack);return Fa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Wb=Bb.Class.create(Error());Wb.mixin({init:function(ab,kb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);kb && kb.stack && (jb+="\nCaused by " + kb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Bb.Class.create(Error());vb.mixin({init:function(ab,kb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);kb && kb.stack && (jb+="\nCaused by " + kb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Zb=Bb.Class.create(Error());Zb.mixin({init:function(ab,kb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);kb && kb.stack && (jb+="\nCaused by " + kb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Pb=bb.extend({init:function Fa(kb,qb,jb){Fa.base.call(this,kb,qb,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Rc=bb.extend({init:function Fa(qb,jb){Fa.base.call(this,qb);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=bb.extend({init:function Qa(jb,Fa,Na){Qa.base.call(this,jb,Fa,Na);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Gb=bb.extend({init:function ya(Fa,Na,Qa){ya.base.call(this,Fa,Na,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var la;function Fa(fa){return "undefined" === typeof fa?!1:fa;}function Na(fa){return fa && fa.length?(bc === la.V2014_02 && (fa=fa.map(function(Z){return "wrap" == Z?"wrapKey":"unwrap" == Z?"unwrapKey":Z;})),fa):bc === la.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(fa,Z,ba,ha,ea){return Promise.resolve().then(function(){return Qb.importKey(fa,Z,ba,ha,ea);}).catch(function(S){var Y;if("spki" !== fa && "pkcs8" !== fa)throw S;S=ASN1.webCryptoAlgorithmToJwkAlg(ba);Y=ASN1.webCryptoUsageToJwkKeyOps(ea);S=ASN1.rsaDerToJwk(Z,S,Y,ha);if(!S)throw Error("Could not make valid JWK from DER input");S=JSON.stringify(S);return Qb.importKey("jwk",Pd(S),ba,ha,ea);});}function ya(fa,Z){return Promise.resolve().then(function(){return Qb.exportKey(fa,Z);}).catch(function(ba){if("spki" !== fa && "pkcs8" !== fa)throw ba;return Qb.exportKey("jwk",Z).then(function(ha){ha=JSON.parse(Od(new Uint8Array(ha)));ha=ASN1.jwkToRsaDer(ha);if(!ha)throw Error("Could not make valid DER from JWK input");return ha.getDer().buffer;});});}la=wd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wd);bc=la.LATEST;Jb={encrypt:function(fa,Z,ba){switch(bc){case la.LEGACY:return new Promise(function(ha,ea){var S;S=Qb.encrypt(fa,Z,ba);S.oncomplete=function(Y){ha(Y.target.result);};S.onerror=function(Y){ea(Y);};});case la.V2014_01:case la.V2014_02:return Qb.encrypt(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(fa,Z,ba){switch(bc){case la.LEGACY:return new Promise(function(ha,ea){var S;S=Qb.decrypt(fa,Z,ba);S.oncomplete=function(Y){ha(Y.target.result);};S.onerror=function(Y){ea(Y);};});case la.V2014_01:case la.V2014_02:return Qb.decrypt(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(fa,Z,ba){switch(bc){case la.LEGACY:return new Promise(function(ha,ea){var S;S=Qb.sign(fa,Z,ba);S.oncomplete=function(Y){ha(Y.target.result);};S.onerror=function(Y){ea(Y);};});case la.V2014_01:case la.V2014_02:return Qb.sign(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(fa,Z,ba,ha){switch(bc){case la.LEGACY:return new Promise(function(ea,S){var Y;Y=Qb.verify(fa,Z,ba,ha);Y.oncomplete=function(pa){ea(pa.target.result);};Y.onerror=function(pa){S(pa);};});case la.V2014_01:case la.V2014_02:return Qb.verify(fa,Z,ba,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(fa,Z){switch(bc){case la.LEGACY:return new Promise(function(ba,ha){var ea;ea=Qb.digest(fa,Z);ea.oncomplete=function(S){ba(S.target.result);};ea.onerror=function(S){ha(S);};});case la.V2014_01:case la.V2014_02:return Qb.digest(fa,Z).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(fa,Z,ba){var ha,ea;ha=Fa(Z);ea=Na(ba);switch(bc){case la.LEGACY:return new Promise(function(S,Y){var pa;pa=Qb.generateKey(fa,ha,ea);pa.oncomplete=function(ma){S(ma.target.result);};pa.onerror=function(ma){Y(ma);};});case la.V2014_01:case la.V2014_02:return Qb.generateKey(fa,ha,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(fa,Z,ba,ha,ea){var S,Y;S=Fa(ha);Y=Na(ea);switch(bc){case la.LEGACY:return new Promise(function(pa,ma){var qa;qa=Qb.deriveKey(fa,Z,ba,S,Y);qa.oncomplete=function(Ba){pa(Ba.target.result);};qa.onerror=function(Ba){ma(Ba);};});case la.V2014_01:case la.V2014_02:return Qb.deriveKey(fa,Z,ba,S,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(fa,Z,ba,ha,ea){var S,Y;S=Fa(ha);Y=Na(ea);switch(bc){case la.LEGACY:return new Promise(function(pa,ma){var qa;qa=Qb.importKey(fa,Z,ba,S,Y);qa.oncomplete=function(Ba){pa(Ba.target.result);};qa.onerror=function(Ba){ma(Ba);};});case la.V2014_01:case la.V2014_02:return Qa(fa,Z,ba,S,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(fa,Z){switch(bc){case la.LEGACY:return new Promise(function(ba,ha){var ea;ea=Qb.exportKey(fa,Z);ea.oncomplete=function(S){ba(S.target.result);};ea.onerror=function(S){ha(S);};});case la.V2014_01:case la.V2014_02:return ya(fa,Z).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(fa,Z,ba,ha){switch(bc){case la.LEGACY:return new Promise(function(ea,S){var Y;Y=Qb.wrapKey(Z,ba,ha);Y.oncomplete=function(pa){ea(pa.target.result);};Y.onerror=function(pa){S(pa);};});case la.V2014_01:case la.V2014_02:return Qb.wrapKey(fa,Z,ba,ha).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(fa,Z,ba,ha,ea,S,Y){switch(bc){case la.LEGACY:return new Promise(function(pa,ma){var qa;qa=Qb.unwrapKey(Z,ea,ba);qa.oncomplete=function(Ba){pa(Ba.target.result);};qa.onerror=function(Ba){ma(Ba);};});case la.V2014_01:case la.V2014_02:return Qb.unwrapKey(fa,Z,ba,ha,ea,Fa(S),Na(Y));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};ud && ud.getKeyByName && (Jb.getKeyByName=function(fa){switch(bc){case la.LEGACY:return new Promise(function(Z,ba){var ha;ha=ud.getKeyByName(fa);ha.oncomplete=function(ea){Z(ea.target.result);};ha.onerror=function(ea){ba(ea);};});case la.V2014_01:case la.V2014_02:return ud.getKeyByName(fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});pb.netflix=pb.netflix || ({});pb.netflix.crypto=Jb;})();xc={name:"AES-KW"};rc={name:"AES-CBC"};sc={name:"HMAC",hash:{name:"SHA-256"}};xd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Wd={name:"RSAES-PKCS1-v1_5"};He={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Ic=["encrypt","decrypt"];Jc=["wrap","unwrap"];Sc=["sign","verify"];(function(){Xd=Bb.Class.create({init:function(Fa,Na,Qa){var la;function ya(fa){Ka(Na,function(){var Z;Z=fa?Db(fa):Ab;Object.defineProperties(la,{rawKey:{value:Fa,writable:!1,configurable:!1},keyData:{value:fa,writable:!1,configurable:!1},keyDataB64:{value:Z,writable:!1,configurable:!1}});return this;},la);}la=this;Ka(Na,function(){if(!Fa || "object" != typeof Fa)throw new tb(U.INVALID_SYMMETRIC_KEY);!Qa && Fa.extractable?Jb.exportKey("raw",Fa).then(function(fa){ya(new Uint8Array(fa));},function(fa){Na.error(new tb(U.KEY_EXPORT_ERROR,"raw"));}):ya(Qa);},la);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Yc=function(Fa,Na){new Xd(Fa,Na);};yc=function(Fa,Na,Qa,ya){Ka(ya,function(){try{Fa="string" == typeof Fa?Fb(Fa):Fa;}catch(la){throw new tb(U.INVALID_SYMMETRIC_KEY,"keydata " + Fa,la);}Jb.importKey("raw",Fa,Na,!0,Qa).then(function(la){new Xd(la,ya,Fa);},function(la){ya.error(new tb(U.INVALID_SYMMETRIC_KEY));});});};})();(function(){yd=Bb.Class.create({init:function(Fa,Na,Qa){var la;function ya(fa){Ka(Na,function(){Object.defineProperties(la,{rawKey:{value:Fa,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},la);}la=this;Ka(Na,function(){if(!Fa || "object" != typeof Fa || "public" != Fa.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Fa.extractable?Jb.exportKey("spki",Fa).then(function(fa){ya(new Uint8Array(fa));},function(fa){Na.error(new tb(U.KEY_EXPORT_ERROR,"spki"));}):ya(Qa);});},getEncoded:function(){return this.encoded;}});Oc=function(Fa,Na){new yd(Fa,Na);};Yd=function(Fa,Na,Qa,ya){Ka(ya,function(){try{Fa="string" == typeof Fa?Fb(Fa):Fa;}catch(la){throw new tb(U.INVALID_PUBLIC_KEY,"spki " + Fa,la);}Jb.importKey("spki",Fa,Na,!0,Qa).then(function(la){new yd(la,ya,Fa);},function(la){ya.error(new tb(U.INVALID_PUBLIC_KEY));});});};})();(function(){Ie=Bb.Class.create({init:function(Fa,Na,Qa){var la;function ya(fa){Ka(Na,function(){Object.defineProperties(la,{rawKey:{value:Fa,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},la);}la=this;Ka(Na,function(){if(!Fa || "object" != typeof Fa || "private" != Fa.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Fa.extractable?Jb.exportKey("pkcs8",Fa).then(function(fa){ya(new Uint8Array(fa));},function(fa){Na.error(new tb(U.KEY_EXPORT_ERROR,"pkcs8"));}):ya(Qa);});},getEncoded:function(){return this.encoded;}});Zc=function(Fa,Na){new Ie(Fa,Na);};})();(function(){var Fa;Fa=be={V1:1,V2:2};Zd=Bb.Class.create({init:function(Na,Qa,ya,la){Ka(la,function(){var fa,Z,ba,ha;fa=Fa.V1;Z=Na;ba=null;for(ha in vd){if(vd[ha] == Na){fa=Fa.V2;Z=null;ba=Na;break;}}Object.defineProperties(this,{version:{value:fa,writable:!1,enumerable:!1,configurable:!1},keyId:{value:Z,writable:!1,configurable:!1},cipherSpec:{value:ba,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:ya,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Na;Na={};switch(this.version){case Fa.V1:Na.keyid=this.keyId;this.iv && (Na.iv=Db(this.iv));Na.ciphertext=Db(this.ciphertext);Na.sha256="AA==";break;case Fa.V2:Na.version=this.version;Na.cipherspec=this.cipherSpec;this.iv && (Na.iv=Db(this.iv));Na.ciphertext=Db(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Na;}});$d=function(Na,Qa,ya,la){new Zd(Na,Qa,ya,la);};ae=function(Na,Qa,ya){Ka(ya,function(){var la,fa,Z,ba,ha,ea,S;la=Na.keyid;fa=Na.cipherspec;Z=Na.iv;ba=Na.ciphertext;ha=Na.sha256;if(!Qa)if((Qa=Na.version) && "number" === typeof Qa && Qa === Qa){ea=!1;for(S in Fa){if(Fa[S] == Qa){ea=!0;break;}}if(!ea)throw new tb(U.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));}else Qa=Fa.V1;switch(Qa){case Fa.V1:if("string" !== typeof la || Z && "string" !== typeof Z || "string" !== typeof ba || "string" !== typeof ha)throw new xb(U.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Na));break;case Fa.V2:S=Na.version;if(S != Fa.V2)throw new tb(U.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));if("string" !== typeof fa || Z && "string" !== typeof Z || "string" !== typeof ba)throw new xb(U.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Na));fa=Ee(fa);if(!fa)throw new tb(U.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Na));la=fa;break;default:throw new tb(U.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Na));}try{Z && (Z=Fb(Z));ba=Fb(ba);}catch(Y){throw new tb(U.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Na),Y);}new Zd(la,Z,ba,ya);});};})();(function(){var Fa;Fa=ee={V1:1,V2:2};zc=Bb.Class.create({init:function(Na,Qa,ya){var la;switch(Na){case Fa.V1:la=ya;break;case Fa.V2:la={};la.version=Na;la.algorithm=Qa;la.signature=Db(ya);la=Sb(JSON.stringify(la),Lb);break;default:throw new vb("Signature envelope version " + Na + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Na,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:ya,writable:!1,configurable:!1},bytes:{value:la,writable:!1,configurable:!1}});}});ce=function(){var Na,Qa,ya,la;if(2 == arguments.length){Na=Fa.V1;Qa=arguments[0];ya=null;la=arguments[1];}else 3 == arguments.length && (Na=Fa.V2,ya=arguments[0],Qa=arguments[1],la=arguments[2]);Ka(la,function(){return new zc(Na,ya,Qa);});};de=function(Na,Qa,ya){Ka(ya,function(){var la,fa,Z,ba,ha,ea,S;if(Qa)switch(Qa){case Fa.V1:return new zc(Fa.V1,null,Na);case Fa.V2:try{la=Tb(Na,Lb);fa=JSON.parse(la);Z=parseInt(fa.version);ba=fa.algorithm;ha=fa.signature;if(!Z || "number" !== typeof Z || Z != Z || "string" !== typeof ba || "string" !== typeof ha)throw new xb(U.JSON_PARSE_ERROR,"signature envelope " + Db(Na));if(Fa.V2 != Z)throw new tb(U.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Na));ea=Ud(ba);if(!ea)throw new tb(U.UNIDENTIFIED_ALGORITHM,"signature envelope " + Db(Na));S=Fb(ha);if(!S)throw new tb(U.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Na));return new zc(Fa.V2,ea,S);}catch(Y){if(Y instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"signature envelope " + Db(Na),Y);throw Y;}default:throw new tb(U.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Na));}try{la=Tb(Na,Lb);fa=JSON.parse(la);}catch(Y){fa=null;}if(fa && fa.version){if((la=fa.version,"number" !== typeof la || la !== la))la=Fa.V1;}else la=Fa.V1;switch(la){case Fa.V1:return new zc(la,null,Na);case Fa.V2:ea=fa.algorithm;ha=fa.signature;if("string" !== typeof ea || "string" !== typeof ha)return new zc(Fa.V1,null,Na);ea=Ud(ea);if(!ea)return new zc(Fa.V1,null,Na);try{S=Fb(ha);}catch(Y){return new zc(Fa.V1,null,Na);}return new zc(la,ea,S);default:throw new tb(U.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Na);}});};})();ad=Bb.Class.create({encrypt:function(Fa,Na){},decrypt:function(Fa,Na){},wrap:function(Fa,Na){},unwrap:function(Fa,Na,Qa,ya){},sign:function(Fa,Na){},verify:function(Fa,Na,Qa){}});(function(){var Fa;Fa=Bc={RSA_OAEP:xd.name,A128KW:xc.name};vc="A128GCM";Ac=Bb.Class.create({init:function(Na,Qa,ya,la,fa){switch(Qa){case Fa.RSA_OAEP:fa=fa && (fa.rawKey || fa);la=la && (la.rawKey || la);break;case Fa.A128KW:fa=la=la && (la.rawKey || la);break;default:throw new vb("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:Na,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ya,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:la,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Na,Qa){Qa.error(new tb(U.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Na,Qa){Qa.error(new tb(U.DECRYPT_NOT_SUPPORTED));},wrap:function(Na,Qa){Ka(Qa,function(){Jb.wrapKey("jwe+jwk",Na.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ya){Qa.result(ya);},function(ya){Qa.error(new tb(U.WRAP_ERROR));});},this);},unwrap:function(Na,Qa,ya,la){function fa(Z){Ka(la,function(){switch(Z.type){case "secret":Yc(Z,la);break;case "public":Oc(Z,la);break;case "private":Zc(Z,la);break;default:throw new tb(U.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(la,function(){Jb.unwrapKey("jwe+jwk",Na,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,ya).then(function(Z){fa(Z);},function(){la.error(new tb(U.UNWRAP_ERROR));});},this);},sign:function(Na,Qa){Qa.error(new tb(U.SIGN_NOT_SUPPORTED));},verify:function(Na,Qa,ya){ya.error(new tb(U.VERIFY_NOT_SUPPORTED));}});})();bd=ad.extend({encrypt:function(Fa,Na){Na.result(Fa);},decrypt:function(Fa,Na){Na.result(Fa);},wrap:function(Fa,Na){Na.result(Fa);},unwrap:function(Fa,Na,Qa,ya){ya.result(Fa);},sign:function(Fa,Na){Na.result(new Uint8Array(0));},verify:function(Fa,Na,Qa){Qa.result(!0);}});(function(){var Fa;Fa=Ad={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zd=ad.extend({init:function ba(Qa,ya,la,fa,Z){ba.base.call(this);la && (la=la.rawKey);fa && (fa=fa.rawKey);Object.defineProperties(this,{id:{value:ya,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:la,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},transform:{value:Z == Fa.ENCRYPT_DECRYPT_PKCS1?Wd:Z == Fa.ENCRYPT_DECRYPT_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:Z == Fa.WRAP_UNWRAP_PKCS1?Wd:Z == Fa.WRAP_UNWRAP_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:Z == Fa.SIGN_VERIFY?He:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,ya){var la;la=this;Ka(ya,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new tb(U.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Jb.encrypt(la.transform,la.publicKey,Qa).then(function(fa){$d(la.id,null,fa,{result:function(Z){var ba;try{ba=JSON.stringify(Z);ya.result(Sb(ba,Lb));}catch(ha){ya.error(new tb(U.ENCRYPT_ERROR,null,ha));}},error:function(Z){Z instanceof bb || (Z=new tb(U.ENCRYPT_ERROR,null,Z));ya.error(Z);}});},function(fa){ya.error(new tb(U.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,ya){var la;la=this;Ka(ya,function(){var fa,Z;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new tb(U.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{fa=Tb(Qa,Lb);Z=JSON.parse(fa);}catch(ba){if(ba instanceof SyntaxError)throw new tb(U.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ba);throw new tb(U.DECRYPT_ERROR,null,ba);}ae(Z,be.V1,{result:function(ba){var ha;try{if(ba.keyId != la.id)throw new tb(U.ENVELOPE_KEY_ID_MISMATCH);ha=ya.result;Jb.decrypt(la.transform,la.privateKey,ba.ciphertext).then(ha,function(ea){ya.error(new tb(U.DECRYPT_ERROR));});}catch(ea){ea instanceof bb?ya.error(ea):ya.error(new tb(U.DECRYPT_ERROR,null,ea));}},error:function(ba){ba instanceof xb && (ba=new tb(U.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ba));ba instanceof bb || (ba=new tb(U.DECRYPT_ERROR,null,ba));ya.error(ba);}});},this);},wrap:function(Qa,ya){Ka(ya,function(){var la;if("nullOp" == this.wrapTransform || !this.publicKey)throw new tb(U.WRAP_NOT_SUPPORTED,"no public key");la=ya.result;Jb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(la,function(fa){ya.error(new tb(U.WRAP_ERROR));});},this);},unwrap:function(Qa,ya,la,fa){function Z(ba){Ka(fa,function(){switch(ba.type){case "secret":Yc(ba,fa);break;case "public":Oc(ba,fa);break;case "private":Zc(ba,fa);break;default:throw new tb(U.UNSUPPORTED_KEY,"type: " + ba.type);}});}Ka(fa,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new tb(U.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ya,!1,la).then(Z,function(ba){fa.error(new tb(U.UNWRAP_ERROR));});},this);},sign:function(Qa,ya){Ka(ya,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new tb(U.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Qa).then(function(la){ce(la,{result:function(fa){ya.result(fa.bytes);},error:ya.error});},function(la){ya.error(new tb(U.SIGNATURE_ERROR));});},this);},verify:function(Qa,ya,la){var fa;fa=this;Ka(la,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new tb(U.VERIFY_NOT_SUPPORTED,"no public key");de(ya,ee.V1,{result:function(Z){Ka(la,function(){var ba;ba=la.result;Jb.verify(this.algo,this.publicKey,Z.signature,Qa).then(ba,function(ha){la.error(new tb(U.SIGNATURE_ERROR));});},fa);},error:la.error});},this);}});})();(function(){Bd=ad.extend({init:function Z(Na,Qa,ya,la,fa){Z.base.call(this);ya=ya && ya.rawKey;la=la && la.rawKey;fa=fa && fa.rawKey;Object.defineProperties(this,{ctx:{value:Na,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:la,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Na,Qa){var ya;ya=this;Ka(Qa,function(){var la;if(!this.encryptionKey)throw new tb(U.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Na.length)return Na;la=new Uint8Array(16);this.ctx.getRandom().nextBytes(la);Jb.encrypt({name:rc.name,iv:la},ya.encryptionKey,Na).then(function(fa){fa=new Uint8Array(fa);$d(ya.id,la,fa,{result:function(Z){var ba;try{ba=JSON.stringify(Z);Qa.result(Sb(ba,Lb));}catch(ha){Qa.error(new tb(U.ENCRYPT_ERROR,null,ha));}},error:function(Z){Z instanceof bb || (Z=new tb(U.ENCRYPT_ERROR,null,Z));Qa.error(Z);}});},function(fa){Qa.error(new tb(U.ENCRYPT_ERROR));});},this);},decrypt:function(Na,Qa){var ya;ya=this;Ka(Qa,function(){var la,fa;if(!this.encryptionKey)throw new tb(U.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Na.length)return Na;try{la=Tb(Na,Lb);fa=JSON.parse(la);}catch(Z){if(Z instanceof SyntaxError)throw new tb(U.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Z);throw new tb(U.DECRYPT_ERROR,null,Z);}ae(fa,be.V1,{result:function(Z){try{if(Z.keyId != ya.id)throw new tb(U.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:rc.name,iv:Z.iv},ya.encryptionKey,Z.ciphertext).then(function(ba){ba=new Uint8Array(ba);Qa.result(ba);},function(){Qa.error(new tb(U.DECRYPT_ERROR));});}catch(ba){ba instanceof bb?Qa.error(ba):Qa.error(new tb(U.DECRYPT_ERROR,null,ba));}},error:function(Z){Z instanceof xb && (Z=new tb(U.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Z));Z instanceof bb || (Z=new tb(U.DECRYPT_ERROR,null,Z));Qa.error(Z);}});},this);},wrap:function(Na,Qa){Ka(Qa,function(){if(!this.wrapKey)throw new tb(U.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",Na.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ya){Qa.result(ya);},function(ya){Qa.error(new tb(U.WRAP_ERROR));});},this);},unwrap:function(Na,Qa,ya,la){function fa(Z){Ka(la,function(){switch(Z.type){case "secret":Yc(Z,la);break;case "public":Oc(Z,la);break;case "private":Zc(Z,la);break;default:throw new tb(U.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(la,function(){if(!this.wrapKey)throw new tb(U.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",Na,this.wrapKey,this.wrapKey.algorithm,Qa,!1,ya).then(function(Z){fa(Z);},function(Z){la.error(new tb(U.UNWRAP_ERROR));});},this);},sign:function(Na,Qa){var ya;ya=this;Ka(Qa,function(){if(!this.hmacKey)throw new tb(U.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(sc,this.hmacKey,Na).then(function(la){Ka(Qa,function(){var fa;fa=new Uint8Array(la);ce(fa,{result:function(Z){Qa.result(Z.bytes);},error:Qa.error});},ya);},function(){Qa.error(new tb(U.HMAC_ERROR));});},this);},verify:function(Na,Qa,ya){var la;la=this;Ka(ya,function(){if(!this.hmacKey)throw new tb(U.VERIFY_NOT_SUPPORTED,"no HMAC key.");de(Qa,ee.V1,{result:function(fa){Ka(ya,function(){Jb.verify(sc,this.hmacKey,fa.signature,Na).then(function(Z){ya.result(Z);},function(Z){ya.error(new tb(U.HMAC_ERROR));});},la);},error:ya.error});},this);}});})();jc=Bd.extend({init:function Z(Na,Qa,ya,la,fa){if(ya || la || fa)Z.base.call(this,Na,ya + "_" + Qa.sequenceNumber,la,fa,null);else {if(!Qa.isDecrypted())throw new Rc(U.MASTERTOKEN_UNTRUSTED,Qa);Z.base.call(this,Na,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});If=ad.extend({encrypt:function(Na,Qa){Qa.result(Na);},decrypt:function(Na,Qa){Qa.result(Na);},wrap:function(Na,Qa){Qa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Na,Qa,ya,la){la.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Na,Qa){Qa.result(new Uint8Array(0));},verify:function(Na,Qa,ya){ya.result(!1);}});Nb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Nb);(function(){Qc=Bb.Class.create({init:function(Na){Object.defineProperties(this,{scheme:{value:Na,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Na){return this === Na?!0:Na instanceof Qc?this.scheme == Na.scheme:!1;},toJSON:function(){var Na;Na={};Na.scheme=this.scheme;Na.authdata=this.getAuthData();return Na;}});Je=function(Na,Qa){var ya,la;ya=Qa.scheme;la=Qa.authdata;if(!ya || !la)throw new xb(U.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Nb[ya])throw new wc(U.UNIDENTIFIED_ENTITYAUTH_SCHEME,ya);Qa=Na.getEntityAuthenticationFactory(ya);if(!Qa)throw new wc(U.ENTITYAUTH_FACTORY_NOT_FOUND,ya);return Qa.createData(Na,la);};})();Cd=Bb.Class.create({init:function(Na){Object.defineProperties(this,{scheme:{value:Na,writable:!1,configurable:!1}});},createData:function(Na,Qa){},getCryptoContext:function(Na,Qa){}});(function(){nc=Qc.extend({init:function ya(Qa){ya.base.call(this,Nb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function la(ya){return this === ya?!0:ya instanceof nc?la.base.call(this,this,ya) && this.identity == ya.identity:!1;}});Ke=function(ya){var la;la=ya.identity;if(!la)throw new xb(U.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ya));return new nc(la);};})();Jf=Cd.extend({init:function ya(Qa){ya.base.call(this,Nb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,ya){return Ke(ya);},getCryptoContext:function(Qa,ya){if(!(ya instanceof nc))throw new vb("Incorrect authentication data type " + JSON.stringify(ya) + ".");if(ya.identity != this.localIdentity)throw new wc(U.ENTITY_NOT_FOUND,"mgk " + ya.identity).setEntity(ya);return new bd();}});(function(){tc=Qc.extend({init:function la(ya){la.base.call(this,Nb.PSK);Object.defineProperties(this,{identity:{value:ya,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ya;ya={};ya.identity=this.identity;return ya;},equals:function fa(la){return this === la?!0:la instanceof tc?fa.base.call(this,this,la) && this.identity == la.identity:!1;}});Le=function(la){var fa;fa=la.identity;if(!fa)throw new xb(U.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(la));return new tc(fa);};})();Kf=Cd.extend({init:function la(ya){la.base.call(this,Nb.PSK);Object.defineProperties(this,{localIdentity:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ya,la){return Le(la);},getCryptoContext:function(ya,la){if(!(la instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(la) + ".");if(la.getIdentity() != this.localIdentity)throw new wc(U.ENTITY_NOT_FOUND,"psk " + la.identity).setEntity(la);return new bd();}});(function(){Dd=Qc.extend({init:function Z(la,fa){Z.base.call(this,Nb.RSA);Object.defineProperties(this,{identity:{value:la,writable:!1,configurable:!1},publicKeyId:{value:fa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var la;la={};la.identity=this.identity;la.pubkeyid=this.publicKeyId;return la;},equals:function Z(fa){return this === fa?!0:fa instanceof Dd?Z.base.call(this,this,fa) && this.identity == fa.identity && this.publicKeyId == fa.publicKeyId:!1;}});Me=function(fa){var Z,ba;Z=fa.identity;ba=fa.pubkeyid;if(!Z || "string" !== typeof Z || !ba || "string" !== typeof ba)throw new xb(U.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(fa));return new Dd(Z,ba);};})();Lf=Cd.extend({init:function fa(la){fa.base.call(this,Nb.RSA);Object.defineProperties(this,{store:{value:la,writable:!1,enumerable:!1,configurable:!1}});},createData:function(la,fa){return Me(fa);},getCryptoContext:function(la,fa){var Z,ba,ha;if(!(fa instanceof Dd))throw new vb("Incorrect authentication data type " + fa + ".");Z=fa.identity;ba=fa.publicKeyId;ha=this.store.getPublicKey(ba);if(!ha)throw new wc(U.RSA_PUBLICKEY_NOT_FOUND,ba).setEntity(fa);return new zd(la,Z,null,ha,Ad.SIGN_VERIFY);}});(function(){gd=Qc.extend({init:function Z(fa){Z.base.call(this,Nb.NONE);Object.defineProperties(this,{identity:{value:fa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var fa;fa={};fa.identity=this.identity;return fa;},equals:function ba(Z){return this === Z?!0:Z instanceof gd?ba.base.call(this,this,Z) && this.identity == Z.identity:!1;}});Ne=function(Z){var ba;ba=Z.identity;if(!ba)throw new xb(U.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(Z));return new gd(ba);};})();Hf=Cd.extend({init:function fa(){fa.base.call(this,Nb.NONE);},createData:function(fa,Z){return Ne(Z);},getCryptoContext:function(fa,Z){if(!(Z instanceof gd))throw new vb("Incorrect authentication data type " + JSON.stringify(Z) + ".");return new bd();}});Mf=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(fa,Z){if(!(Z instanceof yd))throw new vb("Incorrect key data type " + Z + ".");this.rsaKeys[fa]=Z;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(fa){delete this.rsaKeys[fa];},getPublicKey:function(fa){return this.rsaKeys[fa];}});fe=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(fa,Z,ba){}});Ed=Bb.Class.create({abort:function(){},close:function(fa,Z){},write:function(fa,Z,ba,ha,ea){},flush:function(fa,Z){}});Nf=Bb.Class.create({init:function(fa){Object.defineProperties(this,{_data:{value:fa,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Wb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(fa,Z,ba){cb(ba,function(){var ha;if(this._closed)throw new Wb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == fa && (fa=this._data.length - this._currentPosition);ha=this._data.subarray(this._currentPosition,this._currentPosition + fa);this._currentPosition+=ha.length;return ha;},this);}});Of=Bb.Class.create({init:function(){var fa;fa={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,fa);},abort:function(){},close:function(fa,Z){this._closed=!0;Z.result(!0);},write:function(fa,Z,ba,ha,ea){cb(ea,function(){var S;if(this._closed)throw new Wb("Stream is already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(Z + ba > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");S=fa.subarray(Z,ba);this._buffered.push(S);return S.length;},this);},flush:function(fa,Z){var ba;for(;0 < this._buffered.length;){if((fa=this._buffered.shift(),this._result)){ba=new Uint8Array(this._result.length + fa.length);ba.set(this._result);ba.set(fa,this._result.length);this._result=ba;}else this._result=new Uint8Array(fa);}Z.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Pf=Bb.Class.create({getResponse:function(fa,Z,ba){}});(function(){var fa,Z;fa=Ed.extend({init:function(ba,ha){ba={_httpLocation:{value:ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Of(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new hd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(ba){this._timeout=ba;},getResponse:function(ba,ha){var ea;ea=this;this._responseQueue.poll(ba,{result:function(S){cb(ha,function(){S && this._responseQueue.add(S);return S;},ea);},timeout:function(){cb(ha,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ha.timeout();},ea);},error:function(S){cb(ha,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw S;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(ba,ha){var ea;ea=this;cb(ha,function(){var S;if(this._response)return !0;S=this._buffer.toByteArray();0 < S.length && (this._abortToken=this._httpLocation.getResponse({body:S},this._timeout,{result:function(Y){ea._response={response:Y};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(Y){ea._response={isError:!0,error:Y};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(ba,ha,ea,S,Y){cb(Y,function(){if(this._response)throw new Wb("HttpOutputStream already closed.");this._buffer.write(ba,ha,ea,S,Y);},this);},flush:function(ba,ha){cb(ha,function(){if(this._response)return !0;this._buffer.flush(ba,ha);},this);}});Z=fe.extend({init:function(ba){Object.defineProperties(this,{_out:{value:ba,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(ba,ha,ea){var Y;function S(pa){cb(ea,function(){if(!pa)return new Uint8Array(0);this._out.getResponse(ha,{result:function(ma){cb(ea,function(){var qa;if(ma.isTimeout)(this._timedout=!0,ea.timeout());else {if(ma.isError)throw (this._exception=ma.error || new Wb("Unknown HTTP exception."),this._exception);if(!ma.response)throw (this._exception=new Wb("Missing HTTP response."),this._exception);ma.response.json !== Ab && (this._json=ma.response.json,this.getJSON=function(){return Y._json;});qa=ma.response.content || Pd("string" === typeof ma.response.body?ma.response.body:JSON.stringify(this._json));this._buffer=new Nf(qa);this._buffer.read(ba,ha,ea);}},Y);},timeout:function(){ea.timeout();},error:function(ma){ea.error(ma);}});},Y);}Y=this;cb(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(ba,ha,ea):this._out.close(ha,{result:function(pa){S(pa);},timeout:function(){ea.timeout();},error:function(pa){ea.error(pa);}});}},Y);}});ye=Bb.Class.create({init:function(ba,ha){Object.defineProperties(this,{_httpLocation:{value:ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(ba){this._timeout=ba;},openConnection:function(){var ba;ba=new fa(this._httpLocation,this._timeout);return {input:new Z(ba),output:ba};}});})();(function(){var fa,Z;fa=Ed.extend({init:function(){var ba;ba={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(){},getResponse:function(ba,ha){ha.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(ba,ha){ha.result(!0);},write:function(ba,ha,ea,S,Y){var pa,ma;try{if(0 > ha)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(ha + ea > ba.length)throw new RangeError("Offset plus length cannot be greater than the array length.");pa=ba.subarray(ha,ea);ma=new Uint8Array(this._buffer.length + pa.length);ma.set(this._buffer);ma.set(pa,this._buffer.length);this._buffer=ma;Y.result(pa.length);}catch(qa){Y.error(qa);}},flush:function(ba,ha){ha.result(!0);},request:function(){return this._buffer;}});Z=fe.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ba,ha,ea){ea.result(new Uint8Array(16));}});ze=Bb.Class.create({init:function(){var ba;ba={output:{value:new fa(),writable:!1,enumerable:!1,configurable:!1},input:{value:new Z(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Od(this.output.request());}});})();Oe=function(fa,Z,ba){(function(ha,ea,S){ha.read(-1,ea,{result:function(Y){Y && Y.length?S(null,Y):S(null,null);},timeout:function(){ba.timeout();},error:function(Y){S(Y,null);}});})(fa,Z,function(ha,ea){var S,Y;if(ha)ba.error(ha);else if(ea){if(fa.getJSON !== Ab && "function" === typeof fa.getJSON)ba.result(fa.getJSON());else {ha=ba.result;ea=new Qf(Tb(ea,"utf-8"));S=[];for(Y=ea.nextValue();Y !== Ab;){S.push(Y);Y=ea.nextValue();}ha.call(ba,S);}}else ba.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){id=Bb.Class.create({init:function(fa){Object.defineProperties(this,{keyExchangeScheme:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof id?this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Pe=function(fa,Z,ba){Ka(ba,function(){var ha,ea,S;ha=Z.scheme;ea=Z.keydata;if(!ha || !ea || "object" !== typeof ea)throw new xb(U.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(Z));if(!lc[ha])throw new Pb(U.UNIDENTIFIED_KEYX_SCHEME,ha);S=fa.getKeyExchangeFactory(ha);if(!S)throw new Pb(U.KEYX_FACTORY_NOT_FOUND,ha);S.createRequestData(fa,ea,ba);});};})();(function(){jd=Bb.Class.create({init:function(fa,Z){Object.defineProperties(this,{masterToken:{value:fa,writable:!1,configurable:!1},keyExchangeScheme:{value:Z,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.mastertoken=this.masterToken;fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof jd?this.masterToken.equals(fa.masterToken) && this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Qe=function(fa,Z,ba){Ka(ba,function(){var ha,ea,S;ha=Z.mastertoken;ea=Z.scheme;S=Z.keydata;if(!ea || !ha || "object" !== typeof ha || !S || "object" !== typeof S)throw new xb(U.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(Z));if(!lc[ea])throw new Pb(U.UNIDENTIFIED_KEYX_SCHEME,ea);Tc(fa,ha,{result:function(Y){Ka(ba,function(){var pa;pa=fa.getKeyExchangeFactory(ea);if(!pa)throw new Pb(U.KEYX_FACTORY_NOT_FOUND,ea);return pa.createResponseData(fa,Y,S);});},error:function(Y){ba.error(Y);}});});};})();(function(){var fa;fa=Bb.Class.create({init:function(Z,ba){Object.defineProperties(this,{keyResponseData:{value:Z,writable:!1,configurable:!1},cryptoContext:{value:ba,writable:!1,configurable:!1}});}});oc=Bb.Class.create({init:function(Z){Object.defineProperties(this,{scheme:{value:Z,writable:!1,configurable:!1}});},createRequestData:function(Z,ba,ha){},createResponseData:function(Z,ba,ha){},generateResponse:function(Z,ba,ha,ea){},getCryptoContext:function(Z,ba,ha,ea,S){},generateSessionKeys:function(Z,ba){Ka(ba,function(){var ha,ea;ha=new Uint8Array(16);ea=new Uint8Array(32);Z.getRandom().nextBytes(ha);Z.getRandom().nextBytes(ea);yc(ha,rc,Ic,{result:function(S){yc(ea,sc,Sc,{result:function(Y){ba.result({encryptionKey:S,hmacKey:Y});},error:function(Y){ba.error(new tb(U.SESSION_KEY_CREATION_FAILURE,null,Y));}});},error:function(S){ba.error(new tb(U.SESSION_KEY_CREATION_FAILURE,null,S));}});});},importSessionKeys:function(Z,ba,ha){yc(Z,rc,Ic,{result:function(ea){yc(ba,sc,Sc,{result:function(S){ha.result({encryptionKey:ea,hmacKey:S});},error:function(S){ha.error(S);}});},error:function(ea){ha.error(ea);}});}});oc.KeyExchangeData=fa;})();(function(){var Z,ba,ha;function fa(ea,S,Y,pa,ma){Ka(ma,function(){var qa,Ba;switch(S){case Z.PSK:(qa=new tc(pa),Ba=ea.getEntityAuthenticationFactory(Nb.PSK));if(!Ba)throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,S);qa=Ba.getCryptoContext(ea,qa);return new Ac(ea,Bc.A128KW,vc,Ab);case Z.MGK:qa=new nc(pa);Ba=ea.getEntityAuthenticationFactory(Nb.MGK);if(!Ba)throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,S);qa=Ba.getCryptoContext(ea,qa);return new Ac(ea,Bc.A128KW,vc,Ab);case Z.WRAP:qa=ea.getMslCryptoContext();qa.unwrap(Y,xc,Jc,{result:function(sa){Ka(ma,function(){return new Ac(ea,Bc.A128KW,vc,sa);});},error:ma.error});break;default:throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,S);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ba=ge=id.extend({init:function pa(S,Y){pa.base.call(this,lc.JWE_LADDER);switch(S){case Z.WRAP:if(!Y)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:Y=null;}Object.defineProperties(this,{mechanism:{value:S,writable:!1,configurable:!1},wrapdata:{value:Y,writable:!1,configurable:!1}});},getKeydata:function(){var S;S={};S.mechanism=this.mechanism;this.wrapdata && (S.wrapdata=Db(this.wrapdata));return S;},equals:function pa(Y){return Y === this?!0:Y instanceof ge?pa.base.call(this,Y) && this.mechanism == Y.mechanism && Xb(this.wrapdata,Y.wrapdata):!1;},uniqueKey:function pa(){var ma;ma=pa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ma+=":" + gc(this.wrapdata));return ma;}});ha=Se=jd.extend({init:function W(ma,qa,Ba,sa,oa){W.base.call(this,ma,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:qa,writable:!1,configurable:!1},wrapdata:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.wrapkey=Db(this.wrapKey);ma.wrapdata=Db(this.wrapdata);ma.encryptionkey=Db(this.encryptionKey);ma.hmackey=Db(this.hmacKey);return ma;},equals:function Ba(qa){return this === qa?!0:qa instanceof Se?Ba.base.call(this,qa) && Xb(this.wrapKey,qa.wrapKey) && Xb(this.wrapdata,qa.wrapdata) && Xb(this.encryptionKey,qa.encryptionKey) && Xb(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function Ba(){return Ba.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Re=oc.extend({init:function oa(sa){oa.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(sa,oa,W){Ka(W,function(){var aa,ca,ka;aa=oa.mechanism;ca=oa.wrapdata;if(!aa || aa == Z.WRAP && (!ca || "string" !== typeof ca))throw new xb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(oa));if(!Z[aa])throw new Pb(U.UNIDENTIFIED_KEYX_MECHANISM,aa);switch(aa){case Z.WRAP:try{ka=Fb(ca);}catch(Ga){throw new Pb(U.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());}if(null == ka || 0 == ka.length)throw new Pb(U.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());break;default:ka=null;}return new ba(aa,ka);});},createResponseData:function(sa,oa,W){var aa,ca,ka,Ga,Ea,Pa,Ra;sa=W.wrapkey;aa=W.wrapdata;ca=W.encryptionkey;ka=W.hmackey;if(!(sa && "string" === typeof sa && aa && "string" === typeof aa && ca && "string" === typeof ca && ka) || "string" !== typeof ka)throw new xb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));try{Ga=Fb(sa);Ea=Fb(aa);}catch(ia){throw new tb(U.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(W),ia);}try{Pa=Fb(ca);}catch(ia){throw new tb(U.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(W),ia);}try{Ra=Fb(ka);}catch(ia){throw new tb(U.INVALID_HMAC_KEY,"keydata " + JSON.stringify(W),ia);}return new ha(oa,Ga,Ea,Pa,Ra);},generateResponse:function(sa,oa,W,aa){var Pa,Ra;function ca(ia,ua,xa){Pa.generateSessionKeys(sa,{result:function(Ha){Ka(aa,function(){ka(ia,ua,xa,Ha.encryptionKey,Ha.hmacKey);},Pa);},error:function(Ha){Ka(aa,function(){Ha instanceof bb && Ha.setEntity(Ra);throw Ha;});}});}function ka(ia,ua,xa,Ha,Aa){Ka(aa,function(){fa(sa,oa.mechanism,oa.wrapdata,ia,{result:function(Oa){Oa.wrap(ua,{result:function(Da){Ga(ua,xa,Ha,Aa,Da);},error:function(Da){Ka(aa,function(){Da instanceof bb && Da.setEntity(Ra);throw Da;});}});},error:function(Oa){Ka(aa,function(){Oa instanceof bb && Oa.setEntity(Ra);throw Oa;});}});},Pa);}function Ga(ia,ua,xa,Ha,Aa){Ka(aa,function(){var Oa;Oa=new Ac(sa,Bc.A128KW,vc,ia);Oa.wrap(xa,{result:function(Da){Oa.wrap(Ha,{result:function(Wa){Ea(ua,Aa,xa,Da,Ha,Wa);},error:function(Wa){Ka(aa,function(){Wa instanceof bb && Wa.setEntity(Ra);throw Wa;});}});},error:function(Da){Ka(aa,function(){Da instanceof bb && Da.setEntity(Ra);throw Da;});}});},Pa);}function Ea(ia,ua,xa,Ha,Aa,Oa){Ka(aa,function(){var Da;Da=sa.getTokenFactory();Ra?Da.renewMasterToken(sa,Ra,xa,Aa,{result:function(Wa){Ka(aa,function(){var Ya,Xa;Ya=new jc(sa,Wa);Xa=new ha(Wa,ua,ia,Ha,Oa);return new oc.KeyExchangeData(Xa,Ya,aa);},Pa);},error:function(Wa){Ka(aa,function(){Wa instanceof bb && Wa.setEntity(Ra);throw Wa;});}}):Da.createMasterToken(sa,W,xa,Aa,{result:function(Wa){Ka(aa,function(){var Ya,Xa;Ya=new jc(sa,Wa);Xa=new ha(Wa,ua,ia,Ha,Oa);return new oc.KeyExchangeData(Xa,Ya,aa);},Pa);},error:aa.error});},Pa);}Pa=this;Ka(aa,function(){var ia,ua;if(!(oa instanceof ba))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");ia=W;if(W instanceof ic){if(!W.isVerified())throw new Rc(U.MASTERTOKEN_UNTRUSTED,W);Ra=W;ia=W.identity;}ua=new Uint8Array(16);sa.getRandom().nextBytes(ua);yc(ua,xc,Jc,{result:function(xa){Ka(aa,function(){sa.getMslCryptoContext().wrap(xa,{result:function(Ha){ca(ia,xa,Ha);},error:function(Ha){Ka(aa,function(){Ha instanceof bb && Ha.setEntity(Ra);throw Ha;},Pa);}});},Pa);},error:function(xa){Ka(aa,function(){throw new tb(U.WRAP_KEY_CREATION_FAILURE,null,xa).setEntity(Ra);},Pa);}});},Pa);},getCryptoContext:function(sa,oa,W,aa,ca){var Ga;function ka(Ea,Pa,Ra,ia,ua){Ka(ca,function(){var xa;xa=new Ac(sa,Bc.A128KW,vc,ua);xa.unwrap(Pa.encryptionKey,rc,Ic,{result:function(Ha){xa.unwrap(Pa.hmacKey,sc,Sc,{result:function(Aa){Ka(ca,function(){this.repository.addCryptoContext(Pa.wrapdata,xa);this.repository.removeCryptoContext(Ra);return new jc(sa,Pa.masterToken,ia,Ha,Aa);},Ga);},error:function(Aa){Ka(ca,function(){Aa instanceof bb && Aa.setEntity(Ea);throw Aa;});}});},error:function(Ha){Ka(ca,function(){Ha instanceof bb && Ha.setEntity(Ea);throw Ha;});}});},Ga);}Ga=this;Ka(ca,function(){var Ea,Pa;if(!(oa instanceof ba))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");if(!(W instanceof ha))throw new vb("Key response data " + JSON.stringify(W) + " was not created by this factory.");Ea=oa.mechanism;Pa=oa.wrapdata;sa.getEntityAuthenticationData(null,{result:function(Ra){Ka(ca,function(){var ia,ua,xa;ia=Ra.getIdentity();switch(Ea){case Z.PSK:ua=new tc(ia);xa=sa.getEntityAuthenticationFactory(Nb.PSK);if(!xa)throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ra);ua=xa.getCryptoContext(sa,ua);ua=new Ac(sa,Bc.A128KW,vc,Ab);break;case Z.MGK:ua=new nc(ia);xa=sa.getEntityAuthenticationFactory(Nb.MGK);if(!xa)throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ra);ua=xa.getCryptoContext(sa,ua);ua=new Ac(sa,Bc.A128KW,vc,ua.wrapKey);break;case Z.WRAP:ua=this.repository.getCryptoContext(Pa);if(!ua)throw new Pb(U.KEYX_WRAPPING_KEY_MISSING,Db(Pa)).setEntity(Ra);break;default:throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Ea).setEntity(Ra);}ua.unwrap(W.wrapKey,xc,Jc,{result:function(Ha){ka(Ra,W,Pa,ia,Ha);},error:function(Ha){Ka(ca,function(){Ha instanceof bb && Ha.setEntity(Ra);throw Ha;});}});},Ga);},error:ca.error});},Ga);}});})();(function(){var Z,ba,ha,ea;function fa(S,Y,pa,ma,qa){Ka(qa,function(){var Ba,sa;switch(Y){case Z.PSK:(Ba=new tc(ma),sa=S.getEntityAuthenticationFactory(Nb.PSK));if(!sa)throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Y);Ba=sa.getCryptoContext(S,Ba);return new ea(Ab);case Z.MGK:Ba=new nc(ma);sa=S.getEntityAuthenticationFactory(Nb.MGK);if(!sa)throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Y);Ba=sa.getCryptoContext(S,Ba);return new ea(Ab);case Z.WRAP:Ba=S.getMslCryptoContext();Ba.unwrap(pa,xc,Jc,{result:function(oa){Ka(qa,function(){return new ea(oa);});},error:qa.error});break;default:throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Y);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ba=Fd=id.extend({init:function ma(Y,pa){ma.base.call(this,lc.JWK_LADDER);switch(Y){case Z.WRAP:if(!pa)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:pa=null;}Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},wrapdata:{value:pa,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.mechanism=this.mechanism;this.wrapdata && (Y.wrapdata=Db(this.wrapdata));return Y;},equals:function ma(pa){return pa === this?!0:pa instanceof Fd?ma.base.call(this,pa) && this.mechanism == pa.mechanism && Xb(this.wrapdata,pa.wrapdata):!1;},uniqueKey:function ma(){var qa;qa=ma.base.call(this) + ":" + this.mechanism;this.wrapdata && (qa+=":" + gc(this.wrapdata));return qa;}});ha=Te=jd.extend({init:function aa(qa,Ba,sa,oa,W){aa.base.call(this,qa,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Ba,writable:!1,configurable:!1},wrapdata:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:oa,writable:!1,configurable:!1},hmacKey:{value:W,writable:!1,configurable:!1}});},getKeydata:function(){var qa;qa={};qa.wrapkey=Db(this.wrapKey);qa.wrapdata=Db(this.wrapdata);qa.encryptionkey=Db(this.encryptionKey);qa.hmackey=Db(this.hmacKey);return qa;},equals:function sa(Ba){return this === Ba?!0:Ba instanceof Te?sa.base.call(this,Ba) && Xb(this.wrapKey,Ba.wrapKey) && Xb(this.wrapdata,Ba.wrapdata) && Xb(this.encryptionKey,Ba.encryptionKey) && Xb(this.hmacKey,Ba.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});ea=ad.extend({init:function(sa){sa && sa.rawKey && (sa=sa.rawKey);Object.defineProperties(this,{_wrapKey:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(sa,oa){oa.error(new tb(U.ENCRYPT_NOT_SUPPORTED));},decrypt:function(sa,oa){oa.error(new tb(U.DECRYPT_NOT_SUPPORTED));},wrap:function(sa,oa){Ka(oa,function(){Jb.wrapKey("jwk",sa.rawKey,this._wrapKey,xc).then(function(W){oa.result(W);},function(W){oa.error(new tb(U.WRAP_ERROR));});},this);},unwrap:function(sa,oa,W,aa){function ca(ka){Ka(aa,function(){switch(ka.type){case "secret":Yc(ka,aa);break;case "public":Oc(ka,aa);break;case "private":Zc(ka,aa);break;default:throw new tb(U.UNSUPPORTED_KEY,"type: " + ka.type);}});}Ka(aa,function(){Jb.unwrapKey("jwk",sa,this._wrapKey,xc,oa,!1,W).then(function(ka){ca(ka);},function(ka){aa.error(new tb(U.UNWRAP_ERROR));});},this);},sign:function(sa,oa){oa.error(new tb(U.SIGN_NOT_SUPPORTED));},verify:function(sa,oa,W){W.error(new tb(U.VERIFY_NOT_SUPPORTED));}});he=oc.extend({init:function W(oa){W.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(oa,W,aa){Ka(aa,function(){var ca,ka,Ga;ca=W.mechanism;ka=W.wrapdata;if(!ca || ca == Z.WRAP && (!ka || "string" !== typeof ka))throw new xb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));if(!Z[ca])throw new Pb(U.UNIDENTIFIED_KEYX_MECHANISM,ca);switch(ca){case Z.WRAP:try{Ga=Fb(ka);}catch(Ea){throw new Pb(U.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());}if(null == Ga || 0 == Ga.length)throw new Pb(U.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());break;default:Ga=null;}return new ba(ca,Ga);});},createResponseData:function(oa,W,aa){var ca,ka,Ga,Ea,Pa,Ra,ia;oa=aa.wrapkey;ca=aa.wrapdata;ka=aa.encryptionkey;Ga=aa.hmackey;if(!(oa && "string" === typeof oa && ca && "string" === typeof ca && ka && "string" === typeof ka && Ga) || "string" !== typeof Ga)throw new xb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ea=Fb(oa);Pa=Fb(ca);}catch(ua){throw new tb(U.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),ua);}try{Ra=Fb(ka);}catch(ua){throw new tb(U.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),ua);}try{ia=Fb(Ga);}catch(ua){throw new tb(U.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),ua);}return new ha(W,Ea,Pa,Ra,ia);},generateResponse:function(oa,W,aa,ca){var Ra,ia;function ka(ua,xa,Ha){Ra.generateSessionKeys(oa,{result:function(Aa){Ka(ca,function(){Ga(ua,xa,Ha,Aa.encryptionKey,Aa.hmacKey);},Ra);},error:function(Aa){Ka(ca,function(){Aa instanceof bb && Aa.setEntity(ia);throw Aa;});}});}function Ga(ua,xa,Ha,Aa,Oa){Ka(ca,function(){fa(oa,W.mechanism,W.wrapdata,ua,{result:function(Da){Da.wrap(xa,{result:function(Wa){Ea(xa,Ha,Aa,Oa,Wa);},error:function(Wa){Ka(ca,function(){Wa instanceof bb && Wa.setEntity(ia);throw Wa;});}});},error:function(Da){Ka(ca,function(){Da instanceof bb && Da.setEntity(ia);throw Da;});}});},Ra);}function Ea(ua,xa,Ha,Aa,Oa){Ka(ca,function(){var Da;Da=new ea(ua);Da.wrap(Ha,{result:function(Wa){Da.wrap(Aa,{result:function(Ya){Pa(xa,Oa,Ha,Wa,Aa,Ya);},error:function(Ya){Ka(ca,function(){Ya instanceof bb && Ya.setEntity(ia);throw Ya;});}});},error:function(Wa){Ka(ca,function(){Wa instanceof bb && Wa.setEntity(ia);throw Wa;});}});},Ra);}function Pa(ua,xa,Ha,Aa,Oa,Da){Ka(ca,function(){var Wa;Wa=oa.getTokenFactory();ia?Wa.renewMasterToken(oa,ia,Ha,Oa,{result:function(Ya){Ka(ca,function(){var Xa,hb;Xa=new jc(oa,Ya);hb=new ha(Ya,xa,ua,Aa,Da);return new oc.KeyExchangeData(hb,Xa,ca);},Ra);},error:function(Ya){Ka(ca,function(){Ya instanceof bb && Ya.setEntity(ia);throw Ya;});}}):Wa.createMasterToken(oa,aa,Ha,Oa,{result:function(Ya){Ka(ca,function(){var Xa,hb;Xa=new jc(oa,Ya);hb=new ha(Ya,xa,ua,Aa,Da);return new oc.KeyExchangeData(hb,Xa,ca);},Ra);},error:ca.error});},Ra);}Ra=this;Ka(ca,function(){var ua,xa;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");ua=aa;if(aa instanceof ic){if(!aa.isVerified())throw new Rc(U.MASTERTOKEN_UNTRUSTED,aa);ia=aa;ua=aa.identity;}xa=new Uint8Array(16);oa.getRandom().nextBytes(xa);yc(xa,xc,Jc,{result:function(Ha){Ka(ca,function(){oa.getMslCryptoContext().wrap(Ha,{result:function(Aa){ka(ua,Ha,Aa);},error:function(Aa){Ka(ca,function(){Aa instanceof bb && Aa.setEntity(ia);throw Aa;},Ra);}});},Ra);},error:function(Ha){Ka(ca,function(){throw new tb(U.WRAP_KEY_CREATION_FAILURE,null,Ha).setEntity(ia);},Ra);}});},Ra);},getCryptoContext:function(oa,W,aa,ca,ka){var Ea;function Ga(Pa,Ra,ia,ua,xa){Ka(ka,function(){var Ha;Ha=new ea(xa);Ha.unwrap(Ra.encryptionKey,rc,Ic,{result:function(Aa){Ha.unwrap(Ra.hmacKey,sc,Sc,{result:function(Oa){Ka(ka,function(){this.repository.addCryptoContext(Ra.wrapdata,Ha);this.repository.removeCryptoContext(ia);return new jc(oa,Ra.masterToken,ua,Aa,Oa);},Ea);},error:function(Oa){Ka(ka,function(){Oa instanceof bb && Oa.setEntity(Pa);throw Oa;});}});},error:function(Aa){Ka(ka,function(){Aa instanceof bb && Aa.setEntity(Pa);throw Aa;});}});},Ea);}Ea=this;Ka(ka,function(){var Pa,Ra;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof ha))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Pa=W.mechanism;Ra=W.wrapdata;oa.getEntityAuthenticationData(null,{result:function(ia){Ka(ka,function(){var ua,xa,Ha;ua=ia.getIdentity();switch(Pa){case Z.PSK:xa=new tc(ua);Ha=oa.getEntityAuthenticationFactory(Nb.PSK);if(!Ha)throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(ia);xa=Ha.getCryptoContext(oa,xa);xa=new ea(xa.wrapKey);break;case Z.MGK:xa=new nc(ua);Ha=oa.getEntityAuthenticationFactory(Nb.MGK);if(!Ha)throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(ia);xa=Ha.getCryptoContext(oa,xa);xa=new ea(xa.wrapKey);break;case Z.WRAP:xa=this.repository.getCryptoContext(Ra);if(!xa)throw new Pb(U.KEYX_WRAPPING_KEY_MISSING,Db(Ra)).setEntity(ia);break;default:throw new Pb(U.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(ia);}xa.unwrap(aa.wrapKey,xc,Jc,{result:function(Aa){Ga(ia,aa,Ra,ua,Aa);},error:function(Aa){Ka(ka,function(){Aa instanceof bb && Aa.setEntity(ia);throw Aa;});}});},Ea);},error:ka.error});},Ea);}});})();Rf=Bb.Class.create({addCryptoContext:function(fa,Z){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){}});(function(){var Z,ba,ha,ea;function fa(S,Y,pa,ma,qa){switch(pa){case Z.JWE_RSA:case Z.JWEJS_RSA:return new Ac(S,Bc.RSA_OAEP,vc,ma,qa);case Z.JWK_RSA:return new zd(S,Y,ma,qa,Ad.WRAP_UNWRAP_OAEP);case Z.JWK_RSAES:return new zd(S,Y,ma,qa,Ad.WRAP_UNWRAP_PKCS1);default:throw new tb(U.UNSUPPORTED_KEYX_MECHANISM,pa);}}Z=Gd={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};ba=Td=id.extend({init:function Ba(Y,pa,ma,qa){Ba.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Y,writable:!1,configurable:!1},mechanism:{value:pa,writable:!1,configurable:!1},publicKey:{value:ma,writable:!1,configurable:!1},privateKey:{value:qa,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.keypairid=this.keyPairId;Y.mechanism=this.mechanism;Y.publickey=Db(this.publicKey.getEncoded());return Y;},equals:function ma(pa){var qa;if(pa === this)return !0;if(!(pa instanceof Td))return !1;qa=this.privateKey === pa.privateKey || this.privateKey && pa.privateKey && Xb(this.privateKey.getEncoded(),pa.privateKey.getEncoded());return ma.base.call(this,pa) && this.keyPairId == pa.keyPairId && this.mechanism == pa.mechanism && Xb(this.publicKey.getEncoded(),pa.publicKey.getEncoded()) && qa;},uniqueKey:function ma(){var qa,Ba;qa=this.publicKey.getEncoded();Ba=this.privateKey && this.privateKey.getEncoded();qa=ma.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gc(qa);Ba && (qa+=":" + gc(Ba));return qa;}});ha=function(ma,qa){Ka(qa,function(){var Ba,sa,oa,W;Ba=ma.keypairid;sa=ma.mechanism;oa=ma.publickey;if(!Ba || "string" !== typeof Ba || !sa || !oa || "string" !== typeof oa)throw new xb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ma));if(!Z[sa])throw new Pb(U.UNIDENTIFIED_KEYX_MECHANISM,sa);try{W=Fb(oa);switch(sa){case Z.JWE_RSA:case Z.JWEJS_RSA:case Z.JWK_RSA:Yd(W,xd,Jc,{result:function(aa){qa.result(new ba(Ba,sa,aa,null));},error:function(aa){qa.error(aa);}});break;case Z.JWK_RSAES:Yd(W,Wd,Jc,{result:function(aa){qa.result(new ba(Ba,sa,aa,null));},error:function(aa){qa.error(aa);}});break;default:throw new tb(U.UNSUPPORTED_KEYX_MECHANISM,sa);}}catch(aa){if(!(aa instanceof bb))throw new tb(U.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ma),aa);throw aa;}});};ea=Ue=jd.extend({init:function W(qa,Ba,sa,oa){W.base.call(this,qa,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var qa;qa={};qa.keypairid=this.keyPairId;qa.encryptionkey=Db(this.encryptionKey);qa.hmackey=Db(this.hmacKey);return qa;},equals:function sa(Ba){return this === Ba?!0:Ba instanceof Ue?sa.base.call(this,Ba) && this.keyPairId == Ba.keyPairId && Xb(this.encryptionKey,Ba.encryptionKey) && Xb(this.hmacKey,Ba.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this) + ":" + this.keyPairId + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Ae=oc.extend({init:function oa(){oa.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(oa,W,aa){ha(W,aa);},createResponseData:function(oa,W,aa){var ca,ka,Ga,Ea;oa=aa.keypairid;ca=aa.encryptionkey;ka=aa.hmackey;if(!oa || "string" !== typeof oa || !ca || "string" !== typeof ca || !ka || "string" !== typeof ka)throw new xb(U.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ga=Fb(ca);}catch(Pa){throw new tb(U.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),Pa);}try{Ea=Fb(ka);}catch(Pa){throw new tb(U.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),Pa);}return new ea(W,oa,Ga,Ea);},generateResponse:function(oa,W,aa,ca){var Ea;function ka(Pa,Ra){Ka(ca,function(){var ia;ia=fa(oa,W.keyPairId,W.mechanism,null,W.publicKey);ia.wrap(Pa,{result:function(ua){Ka(ca,function(){ia.wrap(Ra,{result:function(xa){Ga(Pa,ua,Ra,xa);},error:function(xa){Ka(ca,function(){xa instanceof bb && aa instanceof ic && xa.setEntity(aa);throw xa;},Ea);}});},Ea);},error:function(ua){Ka(ca,function(){ua instanceof bb && aa instanceof ic && ua.setEntity(aa);throw ua;},Ea);}});},Ea);}function Ga(Pa,Ra,ia,ua){Ka(ca,function(){var xa;xa=oa.getTokenFactory();aa instanceof ic?xa.renewMasterToken(oa,aa,Pa,ia,{result:function(Ha){Ka(ca,function(){var Aa,Oa;Aa=new jc(oa,Ha);Oa=new ea(Ha,W.keyPairId,Ra,ua);return new oc.KeyExchangeData(Oa,Aa,ca);},Ea);},error:function(Ha){Ka(ca,function(){Ha instanceof bb && Ha.setEntity(aa);throw Ha;},Ea);}}):xa.createMasterToken(oa,aa,Pa,ia,{result:function(Ha){Ka(ca,function(){var Aa,Oa;Aa=new jc(oa,Ha);Oa=new ea(Ha,W.keyPairId,Ra,ua);return new oc.KeyExchangeData(Oa,Aa,ca);},Ea);},error:ca.error});},Ea);}Ea=this;Ka(ca,function(){if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");this.generateSessionKeys(oa,{result:function(Pa){ka(Pa.encryptionKey,Pa.hmacKey);},error:function(Pa){Ka(ca,function(){Pa instanceof bb && aa instanceof ic && Pa.setEntity(aa);throw Pa;},Ea);}});},Ea);},getCryptoContext:function(oa,W,aa,ca,ka){var Ga;Ga=this;Ka(ka,function(){var Ea,Pa,Ra;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof ea))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Ea=W.keyPairId;Pa=aa.keyPairId;if(Ea != Pa)throw new Pb(U.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ea + "; response " + Pa).setEntity(ca);Pa=W.privateKey;if(!Pa)throw new Pb(U.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ca);Ra=fa(oa,Ea,W.mechanism,Pa,null);Ra.unwrap(aa.encryptionKey,rc,Ic,{result:function(ia){Ra.unwrap(aa.hmacKey,sc,Sc,{result:function(ua){oa.getEntityAuthenticationData(null,{result:function(xa){Ka(ka,function(){var Ha;Ha=xa.getIdentity();return new jc(oa,aa.masterToken,Ha,ia,ua);},Ga);},error:function(xa){Ka(ka,function(){xa instanceof bb && xa.setEntity(ca);throw xa;},Ga);}});},error:function(ua){Ka(ka,function(){ua instanceof bb && ua.setEntity(ca);throw ua;},Ga);}});},error:function(ia){Ka(ka,function(){ia instanceof bb && ia.setEntity(ca);throw ia;},Ga);}});},Ga);}});})();Qf=Bb.Class.create({init:function(fa){var Z,ba,ha,ea,S,Y,pa,ma;Z=Yb.parser();ba=[];ha=[];pa=0;ma=!1;Z.onerror=function(qa){ma || (ma=!0,Z.end());};Z.onopenobject=function(qa){var Ba;if(ea)(ea[Y]={},ha.push(ea),ea=ea[Y]);else if(S){Ba={};ha.push(S);S.push(Ba);ea=Ba;S=Ab;}else ea={};Y=qa;};Z.oncloseobject=function(){var qa;qa=ha.pop();qa?"object" === typeof qa?ea=qa:(ea=Ab,S=qa):(ba.push(ea),pa=Z.index,ea=Ab);};Z.onopenarray=function(){var qa;if(ea)(ea[Y]=[],ha.push(ea),S=ea[Y],ea=Ab);else if(S){qa=[];ha.push(S);S.push(qa);S=qa;}else S=[];};Z.onclosearray=function(){var qa;qa=ha.pop();qa?"object" === typeof qa?(ea=qa,S=Ab):S=qa:(ba.push(S),pa=Z.index,S=Ab);};Z.onkey=function(qa){Y=qa;};Z.onvalue=function(qa){ea?ea[Y]=qa:S?S.push(qa):(ba.push(qa),pa=Z.index);};Z.write(fa).close();Object.defineProperties(this,{_values:{value:ba,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:pa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var fa,Z,ba,ha,ea;fa=ie="entityauthdata";Z=We="mastertoken";ba=Xe="headerdata";ha=Ye="errordata";ea=je="signature";Ve=function(S,Y,pa,ma){Ka(ma,function(){var qa,Ba,sa,oa,W,aa;qa=Y[fa];Ba=Y[Z];sa=Y[ea];if(qa && "object" !== typeof qa || Ba && "object" !== typeof Ba || "string" !== typeof sa)throw new xb(U.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));try{oa=Fb(sa);}catch(ca){throw new Ib(U.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(Y),ca);}W=null;qa && (W=Je(S,qa));aa=Y[ba];if(aa != Ab && null != aa){if("string" !== typeof aa)throw new xb(U.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ba?Tc(S,Ba,{result:function(ca){ke(S,aa,W,ca,oa,pa,ma);},error:function(ca){ma.error(ca);}}):ke(S,aa,W,null,oa,pa,ma);}else if((qa=Y[ha],qa != Ab && null != qa)){if("string" !== typeof qa)throw new xb(U.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ze(S,qa,W,oa,ma);}else throw new xb(U.JSON_PARSE_ERROR,JSON.stringify(Y));});};})();(function(){function fa(Z,ba){this.errordata=Z;this.signature=ba;}Nc=Bb.Class.create({init:function(Z,ba,ha,ea,S,Y,pa,ma,qa,Ba){var sa;sa=this;Ka(Ba,function(){var oa,W;0 > Y && (Y=-1);if(0 > ea || ea > Mb)throw new vb("Message ID " + ea + " is out of range.");if(!ba)throw new Ib(U.MESSAGE_ENTITY_NOT_FOUND);if(qa)return (Object.defineProperties(this,{entityAuthenticationData:{value:ba,writable:!1,configurable:!1},recipient:{value:ha,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:S,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:pa,writable:!1,configurable:!1},userMessage:{value:ma,writable:!1,configurable:!1},errordata:{value:qa.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);oa={};ha && (oa.recipient=ha);oa.messageid=ea;oa.errorcode=S;0 < Y && (oa.internalcode=Y);pa && (oa.errormsg=pa);ma && (oa.usermsg=ma);try{W=Z.getEntityAuthenticationFactory(ba.scheme).getCryptoContext(Z,ba);}catch(aa){throw (aa instanceof bb && (aa.setEntity(ba),aa.setMessageId(ea)),aa);}oa=Sb(JSON.stringify(oa),Lb);W.encrypt(oa,{result:function(aa){Ka(Ba,function(){W.sign(aa,{result:function(ca){Ka(Ba,function(){Object.defineProperties(this,{entityAuthenticationData:{value:ba,writable:!1,configurable:!1},recipient:{value:ha,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:S,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:pa,writable:!1,configurable:!1},userMessage:{value:ma,writable:!1,configurable:!1},errordata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ca,writable:!1,enumerable:!1,configurable:!1}});return this;},sa);},error:function(ca){Ka(Ba,function(){ca instanceof bb && (ca.setEntity(ba),ca.setMessageId(ea));throw ca;},sa);}});},sa);},error:function(aa){Ka(Ba,function(){aa instanceof bb && (aa.setEntity(ba),aa.setMessageId(ea));throw aa;},sa);}});},sa);},toJSON:function(){var Z;Z={};Z[ie]=this.entityAuthenticationData;Z[Ye]=Db(this.errordata);Z[je]=Db(this.signature);return Z;}});$e=function(Z,ba,ha,ea,S,Y,pa,ma,qa){new Nc(Z,ba,ha,ea,S,Y,pa,ma,null,qa);};Ze=function(Z,ba,ha,ea,S){Ka(S,function(){var Y,pa,ma;if(!ha)throw new Ib(U.MESSAGE_ENTITY_NOT_FOUND);try{Y=ha.scheme;pa=Z.getEntityAuthenticationFactory(Y);if(!pa)throw new wc(U.ENTITYAUTH_FACTORY_NOT_FOUND,Y);ma=pa.getCryptoContext(Z,ha);}catch(qa){throw (qa instanceof bb && qa.setEntity(ha),qa);}try{ba=Fb(ba);}catch(qa){throw new Ib(U.HEADER_DATA_INVALID,ba,qa).setEntity(ha);}if(!ba || 0 == ba.length)throw new Ib(U.HEADER_DATA_MISSING,ba).setEntity(ha);ma.verify(ba,ea,{result:function(qa){Ka(S,function(){if(!qa)throw new tb(U.MESSAGE_VERIFICATION_FAILED).setEntity(ha);ma.decrypt(ba,{result:function(Ba){Ka(S,function(){var sa,oa,W,aa,ca,ka,Ga,Ea;sa=Tb(Ba,Lb);try{oa=JSON.parse(sa);}catch(Ra){if(Ra instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"errordata " + sa,Ra).setEntity(ha);throw Ra;}W=oa.recipient !== Ab?oa.recipient:null;aa=parseInt(oa.messageid);ca=parseInt(oa.errorcode);ka=parseInt(oa.internalcode);Ga=oa.errormsg;Ea=oa.usermsg;if(W && "string" !== typeof W || !aa || aa != aa || !ca || ca != ca || oa.internalcode && ka != ka || Ga && "string" !== typeof Ga || Ea && "string" !== typeof Ea)throw new xb(U.JSON_PARSE_ERROR,"errordata " + sa).setEntity(ha);if(0 > aa || aa > Mb)throw new Ib(U.MESSAGE_ID_OUT_OF_RANGE,"errordata " + sa).setEntity(ha);oa=!1;for(var Pa in Ja){if(Ja[Pa] == ca){oa=!0;break;}}oa || (ca=Ja.FAIL);if(ka){if(0 > ka)throw new Ib(U.INTERNAL_CODE_NEGATIVE,"errordata " + sa).setEntity(ha).setMessageId(aa);}else ka=-1;sa=new fa(ba,ea);new Nc(Z,ha,W,aa,ca,ka,Ga,Ea,sa,S);});},error:function(Ba){Ka(S,function(){Ba instanceof bb && Ba.setEntity(ha);throw Ba;});}});});},error:function(qa){Ka(S,function(){qa instanceof bb && qa.setEntity(ha);throw qa;});}});});};})();Sf=Bb.Class.create({getUserMessage:function(fa,Z){}});(function(){le=function(fa,Z){var ba;if(!fa || !Z)return null;ba=fa.compressionAlgorithms.filter(function(ha){for(var ea=0;ea < Z.compressionAlgorithms.length;++ea){if(ha == Z.compressionAlgorithms[ea])return !0;}return !1;});fa=fa.languages.filter(function(ha){for(var ea=0;ea < Z.languages.length;++ea){if(ha == Z.languages[ea])return !0;}return !1;});return new kd(ba,fa);};kd=Bb.Class.create({init:function(fa,Z){fa || (fa=[]);Z || (Z=[]);fa.sort();Object.defineProperties(this,{compressionAlgorithms:{value:fa,writable:!1,enumerable:!0,configurable:!1},languages:{value:Z,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var fa;fa={};fa.compressionalgos=this.compressionAlgorithms;fa.languages=this.languages;return fa;},equals:function(fa){return this === fa?!0:fa instanceof kd?te(this.compressionAlgorithms,fa.compressionAlgorithms) && te(this.languages,fa.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});af=function(fa){var Z,ba,ea;Z=fa.compressionalgos;ba=fa.languages;if(Z && !(Z instanceof Array) || ba && !(ba instanceof Array))throw new xb(U.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(fa));fa=[];for(var ha=0;Z && ha < Z.length;++ha){ea=Z[ha];Pc[ea] && fa.push(ea);}return new kd(fa,ba);};})();(function(){var Ba,sa;function fa(oa,W,aa,ca,ka){this.customer=oa;this.sender=W;this.messageCryptoContext=aa;this.headerdata=ca;this.signature=ka;}function Z(oa,W,aa,ca,ka,Ga,Ea,Pa,Ra,ia,ua,xa,Ha,Aa,Oa,Da,Wa,Ya,Xa,hb){return {cryptoContext:{value:W,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},entityAuthenticationData:{value:ca,writable:!1,configurable:!1},masterToken:{value:ka,writable:!1,configurable:!1},sender:{value:Ga,writable:!1,configurable:!1},messageId:{value:Ea,writable:!1,configurable:!1},nonReplayableId:{value:Da,writable:!1,configurable:!1},keyRequestData:{value:Pa,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthenticationData:{value:ia,writable:!1,configurable:!1},userIdToken:{value:ua,writable:!1,configurable:!1},serviceTokens:{value:xa,writable:!1,configurable:!1},peerMasterToken:{value:Ha,writable:!1,configurable:!1},peerUserIdToken:{value:Aa,writable:!1,configurable:!1},peerServiceTokens:{value:Oa,writable:!1,configurable:!1},messageCapabilities:{value:Ya,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:hb,writable:!1,enumerable:!1,configurable:!1}};}function ba(oa,W,aa){var ca;if(aa){if(W=oa.getMslStore().getCryptoContext(aa))return W;if(!aa.isVerified() || !aa.isDecrypted())throw new Rc(U.MASTERTOKEN_UNTRUSTED,aa);return new jc(oa,aa);}aa=W.scheme;ca=oa.getEntityAuthenticationFactory(aa);if(!ca)throw new wc(U.ENTITYAUTH_FACTORY_NOT_FOUND,aa);return ca.getCryptoContext(oa,W);}function ha(oa,W,aa,ca,ka){Ka(ka,function(){W.verify(aa,ca,{result:function(Ga){Ka(ka,function(){if(!Ga)throw new tb(U.MESSAGE_VERIFICATION_FAILED);W.decrypt(aa,{result:function(Ea){Ka(ka,function(){return Tb(Ea,Lb);});},error:function(Ea){ka.error(Ea);}});});},error:function(Ga){ka.error(Ga);}});});}function ea(oa,W,aa){Ka(aa,function(){if(W)Qe(oa,W,aa);else return null;});}function S(oa,W,aa,ca){Ka(ca,function(){if(W)Uc(oa,W,aa,ca);else return null;});}function Y(oa,W,aa,ca){Ka(ca,function(){if(aa)ef(oa,W,aa,ca);else return null;});}function pa(oa,W,aa,ca,ka,Ga,Ea){var Ra;function Pa(ia,ua,xa){var Ha,Aa;if(ua >= ia.length){Ha=[];for(Aa in Ra){Ha.push(Ra[Aa]);}xa.result(Ha);}else {Ha=ia[ua];if("object" !== typeof Ha)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + Ga);Hd(oa,Ha,aa,ca,ka,{result:function(Oa){Ka(xa,function(){Ra[Oa.uniqueKey()]=Oa;Pa(ia,ua + 1,xa);});},error:function(Oa){xa.error(Oa);}});}}Ra={};Ka(Ea,function(){if(W){if(!(W instanceof Array))throw new xb(U.JSON_PARSE_ERROR,"headerdata " + Ga);Pa(W,0,Ea);}else return [];});}function ma(oa,W,aa,ca,ka,Ga){function Ea(Ra,ia,ua){Ka(ua,function(){var xa;xa=ia.peermastertoken;if(xa && "object" !== typeof xa)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ka);if(!xa)return null;Tc(Ra,xa,ua);});}function Pa(Ra,ia,ua,xa){Ka(xa,function(){var Ha;Ha=ia.peeruseridtoken;if(Ha && "object" !== typeof Ha)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ka);if(!Ha)return null;Uc(Ra,Ha,ua,xa);});}Ka(Ga,function(){if(!oa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ea(oa,W,{result:function(Ra){Ka(Ga,function(){var ia;ia=aa?aa.masterToken:Ra;Pa(oa,W,ia,{result:function(ua){Ka(Ga,function(){pa(oa,W.peerservicetokens,ia,ua,ca,ka,{result:function(xa){Ka(Ga,function(){return {peerMasterToken:Ra,peerUserIdToken:ua,peerServiceTokens:xa};});},error:function(xa){Ka(Ga,function(){xa instanceof bb && (xa.setEntity(ia),xa.setUser(ua));throw xa;});}});});},error:function(ua){Ka(Ga,function(){ua instanceof bb && ua.setEntity(ia);throw ua;});}});});},error:Ga.error});});}function qa(oa,W,aa,ca){var Ga;function ka(Ea,Pa){Ka(ca,function(){if(Pa >= Ea.length)return Ga;Pe(oa,Ea[Pa],{result:function(Ra){Ka(ca,function(){Ga.push(Ra);ka(Ea,Pa + 1);});},error:function(Ra){ca.error(Ra);}});});}Ga=[];Ka(ca,function(){var Ea;Ea=W.keyrequestdata;if(!Ea)return Ga;if(!(Ea instanceof Array))throw new xb(U.JSON_PARSE_ERROR,"headerdata " + aa);ka(Ea,0);});}Ba=cf=Bb.Class.create({init:function(oa,W,aa,ca,ka,Ga,Ea,Pa,Ra){Object.defineProperties(this,{messageId:{value:oa,writable:!1,configurable:!1},nonReplayableId:{value:W,writable:!1,configurable:!1},renewable:{value:aa,writable:!1,configurable:!1},capabilities:{value:ca,writable:!1,configurable:!1},keyRequestData:{value:ka,writable:!1,configurable:!1},keyResponseData:{value:Ga,writable:!1,configurable:!1},userAuthData:{value:Ea,writable:!1,configurable:!1},userIdToken:{value:Pa,writable:!1,configurable:!1},serviceTokens:{value:Ra,writable:!1,configurable:!1}});}});sa=df=Bb.Class.create({init:function(oa,W,aa){Object.defineProperties(this,{peerMasterToken:{value:oa,writable:!1,configurable:!1},peerUserIdToken:{value:W,writable:!1,configurable:!1},peerServiceTokens:{value:aa,writable:!1,configurable:!1}});}});ld=Bb.Class.create({init:function(oa,W,aa,ca,ka,Ga,Ea){var Ra;function Pa(ia){Ka(Ea,function(){var ua,xa,Ha,Aa,Oa,Da,Wa,Ya,Xa,hb,lb,ob,rb,sb,zb,wb,q;W=aa?null:W;ua=ca.nonReplayableId;xa=ca.renewable;Ha=ca.capabilities;Aa=ca.messageId;Oa=ca.keyRequestData?ca.keyRequestData:[];Da=ca.keyResponseData;Wa=ca.userAuthData;Ya=ca.userIdToken;Xa=ca.serviceTokens?ca.serviceTokens:[];if(oa.isPeerToPeer()){hb=ka.peerMasterToken;lb=ka.peerUserIdToken;ob=ka.peerServiceTokens?ka.peerServiceTokens:[];}else (lb=hb=null,ob=[]);if(0 > Aa || Aa > Mb)throw new vb("Message ID " + Aa + " is out of range.");if(!W && !aa)throw new vb("Message entity authentication data or master token must be provided.");if(Da){if(oa.isPeerToPeer()){rb=aa;sb=Da.masterToken;}else (rb=Da.masterToken,sb=hb);}else (rb=aa,sb=hb);if(Ya && (!rb || !Ya.isBoundTo(rb)))throw new vb("User ID token must be bound to a master token.");if(lb && (!sb || !lb.isBoundTo(sb)))throw new vb("Peer user ID token must be bound to a peer master token.");Xa.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!Ya || !b.isBoundTo(Ya)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!lb || !b.isBoundTo(lb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ga){q=Ga.customer;zb=Ga.messageCryptoContext;wb=Z(oa,zb,q,W,aa,ia,Aa,Oa,Da,Wa,Ya,Xa,hb,lb,ob,ua,xa,Ha,Ga.headerdata,Ga.signature);Object.defineProperties(this,wb);return this;}q=Ya?Ya.customer:null;wb={};ia && (wb.sender=ia);wb.messageid=Aa;"number" === typeof ua && (wb.nonreplayableid=ua);wb.renewable=xa;Ha && (wb.capabilities=Ha);0 < Oa.length && (wb.keyrequestdata=Oa);Da && (wb.keyresponsedata=Da);Wa && (wb.userauthdata=Wa);Ya && (wb.useridtoken=Ya);0 < Xa.length && (wb.servicetokens=Xa);hb && (wb.peermastertoken=hb);lb && (wb.peeruseridtoken=lb);0 < ob.length && (wb.peerservicetokens=ob);try{zb=ba(oa,W,aa);}catch(b){throw (b instanceof bb && (b.setEntity(aa),b.setEntity(W),b.setUser(Ya),b.setUser(Wa),b.setMessageId(Aa)),b);}wb=Sb(JSON.stringify(wb),Lb);zb.encrypt(wb,{result:function(b){Ka(Ea,function(){zb.sign(b,{result:function(a){Ka(Ea,function(){var c;c=Z(oa,zb,q,W,aa,ia,Aa,Oa,Da,Wa,Ya,Xa,hb,lb,ob,ua,xa,Ha,b,a);Object.defineProperties(this,c);return this;},Ra);},error:function(a){Ka(Ea,function(){a instanceof bb && (a.setEntity(aa),a.setEntity(W),a.setUser(Ya),a.setUser(Wa),a.setMessageId(Aa));throw a;},Ra);}});},Ra);},error:function(b){Ka(Ea,function(){b instanceof bb && (b.setEntity(aa),b.setEntity(W),b.setUser(Ya),b.setUser(Wa),b.setMessageId(Aa));throw b;},Ra);}});},Ra);}Ra=this;Ka(Ea,function(){Ga?Pa(Ga.sender):aa?oa.getEntityAuthenticationData(null,{result:function(ia){ia=ia.getIdentity();Pa(ia);},error:Ea.error}):Pa(null);},Ra);},isEncrypting:function(){return this.masterToken || Qd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var oa;oa={};this.masterToken?oa[We]=this.masterToken:oa[ie]=this.entityAuthenticationData;oa[Xe]=Db(this.headerdata);oa[je]=Db(this.signature);return oa;}});bf=function(oa,W,aa,ca,ka,Ga){new ld(oa,W,aa,ca,ka,null,Ga);};ke=function(oa,W,aa,ca,ka,Ga,Ea){Ka(Ea,function(){var Pa,Ra;aa=ca?null:aa;if(!aa && !ca)throw new Ib(U.MESSAGE_ENTITY_NOT_FOUND);Pa=W;try{W=Fb(Pa);}catch(ia){throw new Ib(U.HEADER_DATA_INVALID,Pa,ia);}if(!W || 0 == W.length)throw new Ib(U.HEADER_DATA_MISSING,Pa);try{Ra=ba(oa,aa,ca);}catch(ia){throw (ia instanceof bb && (ia.setEntity(ca),ia.setEntity(aa)),ia);}ha(oa,Ra,W,ka,{result:function(ia){Ka(Ea,function(){var ua,xa,Ha,Aa,Oa;try{ua=JSON.parse(ia);}catch(Da){if(Da instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ia,Da).setEntity(ca).setEntity(aa);throw Da;}xa=parseInt(ua.messageid);if(!xa || xa != xa)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ca).setEntity(aa);if(0 > xa || xa > Mb)throw new Ib(U.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ia).setEntity(ca).setEntity(aa);Ha=ca?ua.sender:null;if(ca && (!Ha || "string" !== typeof Ha))throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ca).setEntity(aa).setMessageId(xa);Aa=ua.keyresponsedata;if(Aa && "object" !== typeof Aa)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ia).setEntity(ca).setEntity(aa).setMessageId(xa);Oa=Ea;Ea={result:function(Da){Oa.result(Da);},error:function(Da){Da instanceof bb && (Da.setEntity(ca),Da.setEntity(aa),Da.setMessageId(xa));Oa.error(Da);}};ea(oa,Aa,{result:function(Da){Ka(Ea,function(){var Wa,Ya;Wa=!oa.isPeerToPeer() && Da?Da.masterToken:ca;Ya=ua.useridtoken;if(Ya && "object" !== typeof Ya)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ia);S(oa,Ya,Wa,{result:function(Xa){Ka(Ea,function(){var hb;hb=ua.userauthdata;if(hb && "object" !== typeof hb)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ia);Y(oa,Wa,hb,{result:function(lb){Ka(Ea,function(){var ob,rb,sb;if(lb){ob=lb.scheme;rb=oa.getUserAuthenticationFactory(ob);if(!rb)throw new Gb(U.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Xa).setUser(lb);ob=ca?ca.identity:aa.getIdentity();sb=rb.authenticate(oa,ob,lb,Xa);}else sb=Xa?Xa.customer:null;pa(oa,ua.servicetokens,Wa,Xa,Ga,ia,{result:function(zb){Ka(Ea,function(){var wb,q,b,a;wb=ua.nonreplayableid !== Ab?parseInt(ua.nonreplayableid):null;q=ua.renewable;if(wb != wb || "boolean" !== typeof q)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ia);if(0 > wb || wb > Mb)throw new Ib(U.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ia);b=null;a=ua.capabilities;if(a){if("object" !== typeof a)throw new xb(U.JSON_PARSE_ERROR,"headerdata " + ia);b=af(a);}qa(oa,ua,ia,{result:function(c){ma(oa,ua,Da,Ga,ia,{result:function(f){Ka(Ea,function(){var k,l,d,g;k=f.peerMasterToken;l=f.peerUserIdToken;d=f.peerServiceTokens;g=new Ba(xa,wb,q,b,c,Da,lb,Xa,zb);k=new sa(k,l,d);l=new fa(sb,Ha,Ra,W,ka);new ld(oa,aa,ca,g,k,l,Ea);});},error:Ea.error});},error:function(c){Ka(Ea,function(){c instanceof bb && (c.setUser(Xa),c.setUser(lb));throw c;});}});});},error:function(zb){Ka(Ea,function(){zb instanceof bb && (zb.setEntity(Wa),zb.setUser(Xa),zb.setUser(lb));throw zb;});}});});},error:Ea.error});});},error:Ea.error});});},error:Ea.error});});},error:Ea.error});});};})();(function(){function fa(Z,ba){this.payload=Z;this.signature=ba;}me=Bb.Class.create({init:function(Z,ba,ha,ea,S,Y,pa,ma){var qa;qa=this;Ka(ma,function(){var Ba,sa;if(0 > Z || Z > Mb)throw new vb("Sequence number " + Z + " is outside the valid range.");if(0 > ba || ba > Mb)throw new vb("Message ID " + ba + " is outside the valid range.");if(pa)return (Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:S,writable:!1,configurable:!1},endofmsg:{value:ha,writable:!1,enumerable:!1,configurable:!1},payload:{value:pa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){Ba=ne(ea,S);Ba || (ea=null,Ba=S);}else (ea=null,Ba=S);sa={};sa.sequencenumber=Z;sa.messageid=ba;ha && (sa.endofmsg=ha);ea && (sa.compressionalgo=ea);sa.data=Db(Ba);Ba=Sb(JSON.stringify(sa),Lb);Y.encrypt(Ba,{result:function(oa){Ka(ma,function(){Y.sign(oa,{result:function(W){Ka(ma,function(){Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:S,writable:!1,configurable:!1},endofmsg:{value:ha,writable:!1,enumerable:!1,configurable:!1},payload:{value:oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:W,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(W){ma.error(W);}});},qa);},error:function(oa){ma.error(oa);}});},qa);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var Z;Z={};Z.payload=Db(this.payload);Z.signature=Db(this.signature);return Z;}});ff=function(Z,ba,ha,ea,S,Y,pa){new me(Z,ba,ha,ea,S,Y,null,pa);};gf=function(Z,ba,ha){Ka(ha,function(){var ea,S,Y,pa;ea=Z.payload;S=Z.signature;if(!ea || "string" !== typeof ea || "string" !== typeof S)throw new xb(U.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(Z));try{Y=Fb(ea);}catch(ma){throw new Ib(U.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(Z),ma);}try{pa=Fb(S);}catch(ma){throw new Ib(U.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(Z),ma);}ba.verify(Y,pa,{result:function(ma){Ka(ha,function(){if(!ma)throw new tb(U.PAYLOAD_VERIFICATION_FAILED);ba.decrypt(Y,{result:function(qa){Ka(ha,function(){var Ba,sa,oa,W,aa,ca,ka;Ba=Tb(qa,Lb);try{sa=JSON.parse(Ba);}catch(Ga){if(Ga instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"payload chunk payload " + Ba,Ga);throw Ga;}oa=parseInt(sa.sequencenumber);W=parseInt(sa.messageid);aa=sa.endofmsg;ca=sa.compressionalgo;sa=sa.data;if(!oa || oa != oa || !W || W != W || aa && "boolean" !== typeof aa || ca && "string" !== typeof ca || "string" !== typeof sa)throw new xb(U.JSON_PARSE_ERROR,"payload chunk payload " + Ba);if(0 > oa || oa > Mb)throw new bb(U.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Ba);if(0 > W || W > Mb)throw new bb(U.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Ba);aa || (aa=!1);if(ca && !Pc[ca])throw new Ib(U.UNIDENTIFIED_COMPRESSION,ca);try{ka=Fb(sa);}catch(Ga){throw new Ib(U.PAYLOAD_DATA_CORRUPT,sa,Ga);}if(ka && 0 != ka.length)Ba=ca?Id(ca,ka):ka;else {if(0 < sa.length)throw new Ib(U.PAYLOAD_DATA_CORRUPT,sa);if(aa)Ba=new Uint8Array(0);else throw new Ib(U.PAYLOAD_DATA_MISSING,sa);}ka=new fa(Y,pa);new me(oa,W,aa,ca,Ba,ba,ka,ha);});},error:function(qa){ha.error(qa);}});});},error:function(ma){ha.error(ma);}});});};})();(function(){var ha,ea;function fa(S,Y,pa,ma,qa){var sa,oa,W,aa,ca;function Ba(){Ka(qa,function(){var ka,Ga;oa >= Y.length && (oa=0,++sa);if(sa >= W.length){if(aa)throw aa;throw new Pb(U.KEYX_FACTORY_NOT_FOUND,JSON.stringify(Y));}ka=W[sa];Ga=Y[oa];ka.scheme != Ga.keyExchangeScheme?(++oa,Ba()):ka.generateResponse(S,Ga,ca,{result:function(Ea){qa.result(Ea);},error:function(Ea){Ka(qa,function(){if(!(Ea instanceof bb))throw Ea;aa=Ea;++oa;Ba();});}});});}sa=0;oa=0;W=S.getKeyExchangeFactories();ca=pa?pa:ma;Ba();}function Z(S,Y,pa,ma,qa){Ka(qa,function(){var Ba;Ba=Y.keyRequestData;if(Y.isRenewable() && 0 < Ba.length)ma?ma.isRenewable() || ma.isExpired()?fa(S,Ba,ma,null,qa):S.getTokenFactory().isNewestMasterToken(S,ma,{result:function(sa){Ka(qa,function(){if(sa)return null;fa(S,Ba,ma,null,qa);});},error:qa.error}):fa(S,Ba,null,pa.getIdentity(),qa);else return null;});}function ba(S,Y,pa,ma){Ka(ma,function(){var qa,Ba,sa,oa;qa=Y.userIdToken;Ba=Y.userAuthenticationData;sa=Y.messageId;if(qa && qa.isVerified()){if(qa.isRenewable() && Y.isRenewable() || qa.isExpired() || !qa.isBoundTo(pa)){Ba=S.getTokenFactory();Ba.renewUserIdToken(S,qa,pa,ma);return;}}else if(Y.isRenewable() && pa && Ba){qa=Y.customer;if(!qa){qa=Ba.scheme;oa=S.getUserAuthenticationFactory(qa);if(!oa)throw new Gb(U.USERAUTH_FACTORY_NOT_FOUND,qa).setEntity(pa).setUser(Ba).setMessageId(sa);qa=oa.authenticate(S,pa.identity,Ba,null);}Ba=S.getTokenFactory();Ba.createUserIdToken(S,qa,pa,ma);return;}return qa;});}ha=new Uint8Array(0);ea=Vc=function(S){if(0 > S || S > Mb)throw new vb("Message ID " + S + " is outside the valid range.");return S == Mb?0:S + 1;};cd=function(S){if(0 > S || S > Mb)throw new vb("Message ID " + S + " is outside the valid range.");return 0 == S?Mb:S - 1;};Wc=function(S,Y,pa,ma,qa){Ka(qa,function(){var Ba;if(ma == Ab || null == ma){Ba=S.getRandom();do {ma=Ba.nextLong();}while(0 > ma || ma > Mb);}else if(0 > ma || ma > Mb)throw new vb("Message ID " + ma + " is outside the valid range.");S.getEntityAuthenticationData(null,{result:function(sa){Ka(qa,function(){var oa;oa=S.getMessageCapabilities();return new Jd(S,ma,oa,sa,Y,pa,null,null,null,null,null);});},error:function(sa){qa.error(sa);}});});};hf=function(S,Y,pa){Ka(pa,function(){var qa,Ba,sa,oa,W,aa;function ma(ca){Ka(pa,function(){ca instanceof bb && (ca.setEntity(qa),ca.setEntity(Ba),ca.setUser(sa),ca.setUser(oa),ca.setMessageId(W));throw ca;});}qa=Y.masterToken;Ba=Y.entityAuthenticationData;sa=Y.userIdToken;oa=Y.userAuthenticationData;W=Y.messageId;aa=ea(W);Z(S,Y,Ba,qa,{result:function(ca){Ka(pa,function(){var ka;ka=ca?ca.keyResponseData.masterToken:ka=qa;S.getEntityAuthenticationData(null,{result:function(Ga){Ka(pa,function(){ba(S,Y,ka,{result:function(Ea){Ka(pa,function(){var Pa,Ra,ia;sa=Ea;Pa=le(Y.messageCapabilities,S.getMessageCapabilities());Ra=Y.keyResponseData;ia=Y.serviceTokens;return S.isPeerToPeer()?new Jd(S,aa,Pa,Ga,Ra?Ra.masterToken:Y.peerMasterToken,Y.peerUserIdToken,Y.peerServiceTokens,qa,sa,ia,ca):new Jd(S,aa,Pa,Ga,Ra?Ra.masterToken:qa,sa,ia,null,null,null,ca);});},error:ma});});},error:ma});});},error:ma});});};jf=function(S,Y,pa,ma,qa){Ka(qa,function(){S.getEntityAuthenticationData(null,{result:function(Ba){Ka(qa,function(){var sa,oa;if(Y != Ab && null != Y)sa=ea(Y);else {oa=S.getRandom();do {sa=oa.nextInt();}while(0 > sa || sa > Mb);}$e(S,Ba,sa,pa.responseCode,pa.internalCode,pa.message,ma,qa);});},error:function(Ba){qa.error(Ba);}});});};Jd=Bb.Class.create({init:function(S,Y,pa,ma,qa,Ba,sa,oa,W,aa,ca){var ka,Ga,Ea,Pa,Ra;if(!S.isPeerToPeer() && (oa || W))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");ka=ca && !S.isPeerToPeer()?ca.keyResponseData.masterToken:qa;Ga=[];ka=S.getMslStore().getServiceTokens(ka,Ba);Ga.push.apply(Ga,ka);sa && sa.forEach(function(ia){Ga.push(ia);},this);Ea=[];if(S.isPeerToPeer()){Pa=oa;Ra=W;sa=ca?ca.keyResponseData.masterToken:oa;W=S.getMslStore().getServiceTokens(sa,W);Ea.push.apply(Ea,W);aa && aa.forEach(function(ia){Ea.push(ia);},this);}Object.defineProperties(this,{_ctx:{value:S,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ma,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:qa,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:pa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ca,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Pa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Qd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Qd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || ue(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || ue(this._entityAuthData.scheme);},getHeader:function(S){Ka(S,function(){var Y,pa,ma;Y=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;pa=[];for(ma in this._keyRequestData){pa.push(this._keyRequestData[ma]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(U.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ma=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ma=null;Y=new cf(this._messageId,ma,this._renewable,this._capabilities,pa,Y,this._userAuthData,this._userIdToken,this._serviceTokens);pa=new df(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);bf(this._ctx,this._entityAuthData,this._masterToken,Y,pa,S);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(S){this._nonReplayable=S;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(S){this._renewable=S;return this;},setAuthTokens:function(S,Y){var pa,qa;if(Y && !Y.isBoundTo(S))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{pa=this._ctx.getMslStore().getServiceTokens(S,Y);}catch(Ba){if(Ba instanceof bb)throw new vb("Invalid master token and user ID token combination despite checking above.",Ba);throw Ba;}for(var ma=this._serviceTokens.length - 1;0 <= ma;--ma){qa=this._serviceTokens[ma];(qa.isUserIdTokenBound() && !qa.isBoundTo(Y) || qa.isMasterTokenBound() && !qa.isBoundTo(S)) && this._serviceTokens.splice(ma,1);}pa.forEach(function(Ba){this.excludeServiceToken(Ba.name,Ba.isMasterTokenBound(),Ba.isUserIdTokenBound());this._serviceTokens.push(Ba);},this);this._masterToken=S;this._userIdToken=Y;},setUserAuthenticationData:function(S){this._userAuthData=S;return this;},setCustomer:function(S,Y){var pa;pa=this;Ka(Y,function(){var ma;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");ma=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ma)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,S,ma,{result:function(qa){Ka(Y,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=qa:(this._userIdToken=qa,this._userAuthData=null);return !0;},pa);},error:function(qa){Y.error(qa);}});},pa);},addKeyRequestData:function(S){this._keyRequestData[S.uniqueKey()]=S;return this;},removeKeyRequestData:function(S){delete this._keyRequestData[S.uniqueKey()];return this;},addServiceToken:function(S){var Y;Y=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(S.isMasterTokenBound() && !S.isBoundTo(Y))throw new Ib(U.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(S) + "; mt " + JSON.stringify(Y)).setEntity(Y);if(S.isUserIdTokenBound() && !S.isBoundTo(this._userIdToken))throw new Ib(U.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(S) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(Y).setUser(this._userIdToken);this.excludeServiceToken(S.name,S.isMasterTokenBound(),S.isUserIdTokenBound());this._serviceTokens.push(S);return this;},addServiceTokenIfAbsent:function(S){var pa;for(var Y=this._serviceTokens.length - 1;0 <= Y;--Y){pa=this._serviceTokens[Y];if(pa.name == S.name && pa.isMasterTokenBound() == S.isMasterTokenBound() && pa.isUserIdTokenBound() == S.isUserIdTokenBound())return this;}this.addServiceToken(S);return this;},excludeServiceToken:function(){var S,Y,pa,qa;if(1 == arguments.length){S=arguments[0];Y=S.name;pa=S.isMasterTokenBound();S=S.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],pa=arguments[1],S=arguments[2]);for(var ma=this._serviceTokens.length - 1;0 <= ma;--ma){qa=this._serviceTokens[ma];qa.name == Y && qa.isMasterTokenBound() == pa && qa.isUserIdTokenBound() == S && this._serviceTokens.splice(ma,1);}return this;},deleteServiceToken:function(){var S,Y,pa,ma;if(2 == arguments.length){S=arguments[0];Y=S.name;S.isMasterTokenBound();S.isUserIdTokenBound();pa=arguments[1];}else (arguments.length=4,Y=arguments[0],pa=arguments[3]);ma=this;Ka(pa,function(){var qa,Ba;qa=originalToken.isMasterTokenBound()?this._masterToken:null;Ba=originalToken.isUserIdTokenBound()?this._userIdToken:null;Cc(this._ctx,Y,ha,qa,Ba,!1,null,new bd(),{result:function(sa){Ka(pa,function(){return this.addServiceToken(sa);},ma);},error:function(sa){sa instanceof bb && (sa=new vb("Failed to create and add empty service token to message.",sa));pa.error(sa);}});},ma);},getServiceTokens:function(){var S;S=[];S.push.apply(S,this._serviceTokens);return S;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(S,Y){var pa,qa;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(Y && !S)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(Y && !Y.isBoundTo(S))throw new Ib(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + Y + "; mt " + S).setEntity(S).setUser(Y);try{pa=this._ctx.getMslStore().getServiceTokens(S,Y);}catch(Ba){if(Ba instanceof bb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",Ba);throw Ba;}for(var ma=this._peerServiceTokens.length - 1;0 <= ma;--ma){qa=this._peerServiceTokens[ma];(qa.isUserIdTokenBound() && !qa.isBoundTo(Y) || qa.isMasterTokenBound() && !qa.isBoundTo(S)) && this._peerServiceTokens.slice(ma,1);}pa.forEach(function(Ba){this.excludePeerServiceToken(Ba.name,Ba.isMasterTokenBound(),Ba.isUserIdTokenBound());this._peerServiceTokens.push(Ba);},this);this._peerUserIdToken=Y;this._peerMasterToken=S;return this;},addPeerServiceToken:function(S){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(S.isMasterTokenBound() && !S.isBoundTo(this._peerMasterToken))throw new Ib(U.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(S) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(S.isUserIdTokenBound() && !S.isBoundTo(this._peerUserIdToken))throw new Ib(U.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(S) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(S.name,S.isMasterTokenBound(),S.isUserIdTokenBound());this._peerServiceTokens.push(S);return this;},addPeerServiceTokenIfAbsent:function(S){var pa;for(var Y=this._peerServiceTokens.length - 1;0 <= Y;--Y){pa=this._peerServiceTokens[Y];if(pa.name == S.name && pa.isMasterTokenBound() == S.isMasterTokenBound() && pa.isUserIdTokenBound() == S.isUserIdTokenBound())return this;}this.addPeerServiceToken(S);return this;},excludePeerServiceToken:function(){var S,Y,pa,qa;if(1 == arguments.length){S=arguments[0];Y=S.name;pa=S.isMasterTokenBound();S=S.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],pa=arguments[1],S=arguments[2]);for(var ma=this._peerServiceTokens.length - 1;0 <= ma;--ma){qa=this._peerServiceTokens[ma];qa.name == Y && qa.isMasterTokenBound() == pa && qa.isUserIdTokenBound() == S && this._peerServiceTokens.splice(ma,1);}return this;},deletePeerServiceToken:function(){var S,Y,pa,ma,qa,Ba;if(2 == arguments.length){S=arguments[0];Y=S.name;pa=S.isMasterTokenBound();ma=S.isUserIdTokenBound();qa=arguments[1];}else (arguments.length=4,Y=arguments[0],pa=arguments[1],ma=arguments[2],qa=arguments[3]);Ba=this;Ka(qa,function(){Cc(this._ctx,Y,ha,pa?this._peerMasterToken:null,ma?this._peerUserIdToken:null,!1,null,new bd(),{result:function(sa){Ka(qa,function(){return this.addPeerServiceToken(sa);},Ba);},error:function(sa){sa instanceof bb && (sa=new vb("Failed to create and add empty peer service token to message.",sa));qa.error(sa);}});},Ba);},getPeerServiceTokens:function(){var S;S=[];S.push.apply(S,this._peerServiceTokens);return S;}});})();(function(){function fa(ba,ha){return ha[ba]?ha[ba]:ha[""];}function Z(ba){var ha;ha=ba.builder.getKeyExchangeData();return ha && !ba.ctx.isPeerToPeer()?ha.keyResponseData.masterToken:ba.builder.getMasterToken();}kf=Bb.Class.create({init:function(ba,ha,ea){ba={ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ha.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},isPrimaryMasterTokenAvailable:function(){return Z(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(ba){try{return (this.builder.addServiceToken(ba),!0);}catch(ha){if(ha instanceof Ib)return !1;throw ha;}},addPeerServiceToken:function(ba){try{return (this.builder.addPeerServiceToken(ba),!0);}catch(ha){if(ha instanceof Ib)return !1;throw ha;}},addUnboundPrimaryServiceToken:function(ba,ha,ea,S,Y){var pa;pa=this;Ka(Y,function(){var ma;ma=fa(ba,this.cryptoContexts);if(!ma)return !1;Cc(this.ctx,ba,ha,null,null,ea,S,ma,{result:function(qa){Ka(Y,function(){try{this.builder.addServiceToken(qa);}catch(Ba){if(Ba instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ba);throw Ba;}return !0;},pa);},error:function(qa){Y.error(qa);}});},pa);},addUnboundPeerServiceToken:function(ba,ha,ea,S,Y){var pa;pa=this;Ka(Y,function(){var ma;ma=fa(ba,this.cryptoContexts);if(!ma)return !1;Cc(this.ctx,ba,ha,null,null,ea,S,ma,{result:function(qa){Ka(Y,function(){try{this.builder.addPeerServiceToken(qa);}catch(Ba){if(Ba instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ba);throw Ba;}return !0;},pa);},error:function(qa){Y.error(qa);}});},pa);},addMasterBoundPrimaryServiceToken:function(ba,ha,ea,S,Y){var pa;pa=this;Ka(Y,function(){var ma,qa;ma=Z(this);if(!ma)return !1;qa=fa(ba,this.cryptoContexts);if(!qa)return !1;Cc(this.ctx,ba,ha,ma,null,ea,S,qa,{result:function(Ba){Ka(Y,function(){try{this.builder.addServiceToken(Ba);}catch(sa){if(sa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",sa);throw sa;}return !0;},pa);},error:function(Ba){Y.error(Ba);}});},pa);},addMasterBoundPeerServiceToken:function(ba,ha,ea,S,Y){var pa;pa=this;Ka(Y,function(){var ma,qa;ma=this.builder.getPeerMasterToken();if(!ma)return !1;qa=fa(ba,this.cryptoContexts);if(!qa)return !1;Cc(this.ctx,ba,ha,ma,null,ea,S,qa,{result:function(Ba){Ka(Y,function(){try{this.builder.addPeerServiceToken(Ba);}catch(sa){if(sa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",sa);throw sa;}return !0;},pa);},error:function(Ba){Y.error(Ba);}});},pa);},addUserBoundPrimaryServiceToken:function(ba,ha,ea,S,Y){var pa;pa=this;Ka(Y,function(){var ma,qa,Ba;ma=Z(this);if(!ma)return !1;qa=this.builder.getUserIdToken();if(!qa)return !1;Ba=fa(ba,this.cryptoContexts);if(!Ba)return !1;Cc(this.ctx,ba,ha,ma,qa,ea,S,Ba,{result:function(sa){Ka(Y,function(){try{this.builder.addServiceToken(sa);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},pa);},error:function(sa){Y.error(sa);}});},pa);},addUserBoundPeerServiceToken:function(ba,ha,ea,S,Y){var pa;pa=this;Ka(Y,function(){var ma,qa,Ba;ma=this.builder.getPeerMasterToken();if(!ma)return !1;qa=this.builder.getPeerUserIdToken();if(!qa)return !1;Ba=fa(ba,this.cryptoContexts);if(!Ba)return !1;Cc(this.ctx,ba,ha,ma,qa,ea,S,Ba,{result:function(sa){Ka(Y,function(){try{this.builder.addPeerServiceToken(sa);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},pa);},error:function(sa){Y.error(sa);}});},pa);},excludePrimaryServiceToken:function(){var ba,ha,ea,S;if(1 == arguments.length){ba=arguments[0];ha=ba.name;ea=ba.isMasterTokenBound();S=ba.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],ea=arguments[1],S=arguments[2]);for(var Y=this.builder.getServiceTokens(),pa=0;pa < Y.length;++pa){if((ba=Y[pa],ba.name == ha && ba.isMasterTokenBound() == ea && ba.isUserIdTokenBound() == S))return (this.builder.excludeServiceToken(ha,ea,S),!0);}return !1;},excludePeerServiceToken:function(){var ba,ha,ea,S;if(1 == arguments.length){ba=arguments[0];ha=ba.name;ea=ba.isMasterTokenBound();S=ba.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],ea=arguments[1],S=arguments[2]);for(var Y=this.builder.getPeerServiceTokens(),pa=0;pa < Y.length;++pa){if((ba=Y[pa],ba.name == ha && ba.isMasterTokenBound() == ea && ba.isUserIdTokenBound() == S))return (this.builder.excludePeerServiceToken(ha,ea,S),!0);}return !1;},deletePrimaryServiceToken:function(){var ba,ha,ea,S,Y;if(2 == arguments.length){ba=arguments[0];ha=ba.name;ea=ba.isMasterTokenBound();S=ba.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ha=arguments[0],ea=arguments[1],S=arguments[2],Y=arguments[3]);Ka(Y,function(){var qa;for(var pa=this.builder.getServiceTokens(),ma=0;ma < pa.length;++ma){qa=pa[ma];if(qa.name == ha && qa.isMasterTokenBound() == ea && qa.isUserIdTokenBound() == S){this.builder.deleteServiceToken(ha,ea,S,{result:function(){Y.result(!0);},error:function(Ba){Y.error(Ba);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var ba,ha,ea,S,Y;if(2 == arguments.length){ba=arguments[0];ha=ba.name;ea=ba.isMasterTokenBound();S=ba.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ha=arguments[0],ea=arguments[1],S=arguments[2],Y=arguments[3]);Ka(Y,function(){var qa;for(var pa=this.builder.getPeerServiceTokens(),ma=0;ma < pa.length;++ma){qa=pa[ma];if(qa.name == ha && qa.isMasterTokenBound() == ea && qa.isUserIdTokenBound() == S){this.builder.deletePeerServiceToken(ha,ea,S,{result:function(){Y.result(!0);},error:function(Ba){Y.error(Ba);}});return;}}return !1;},this);}});})();(function(){function fa(Z,ba,ha,ea){Ka(ea,function(){var Y,pa,ma,qa,Ba,sa;function S(){Ka(ea,function(){var oa;if(sa >= ha.length){if(Ba)throw Ba;throw new Pb(U.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ha));}oa=ha[sa];ma != oa.keyExchangeScheme?(++sa,S()):qa.getCryptoContext(Z,oa,pa,Y,{result:ea.result,error:function(W){Ka(ea,function(){if(!(W instanceof bb))throw W;Ba=W;++sa;S();});}});});}Y=ba.masterToken;pa=ba.keyResponseData;if(!pa)return null;ma=pa.keyExchangeScheme;qa=Z.getKeyExchangeFactory(ma);if(!qa)throw new Pb(U.KEYX_FACTORY_NOT_FOUND,ma);sa=0;S();});}lf=fe.extend({init:function(Z,ba,ha,ea,S,Y,pa){var ma;ma=this;cb(pa,function(){var aa;function qa(){ma._ready=!0;ma._readyQueue.add(!0);}function Ba(ca,ka){var Ga;try{Ga=ka.masterToken;ca.getTokenFactory().isMasterTokenRevoked(ca,Ga,{result:function(Ea){Ea?(ma._errored=new Rc(Ea,Ga).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId),qa()):sa(ca,ka);},error:function(Ea){Ea instanceof bb && (Ea.setEntity(ka.masterToken),Ea.setUser(ka.userIdToken),Ea.setUser(ka.userAuthenticationData),Ea.setMessageId(ka.messageId));ma._errored=Ea;qa();}});}catch(Ea){Ea instanceof bb && (Ea.setEntity(ka.masterToken),Ea.setUser(ka.userIdToken),Ea.setUser(ka.userAuthenticationData),Ea.setMessageId(ka.messageId));ma._errored=Ea;qa();}}function sa(ca,ka){var Ga,Ea;try{Ga=ka.masterToken;Ea=ka.userIdToken;Ea?ca.getTokenFactory().isUserIdTokenRevoked(ca,Ga,Ea,{result:function(Pa){Pa?(ma._errored=new MslUserIdTokenException(Pa,Ea).setEntity(Ga).setUser(Ea).setMessageId(ka.messageId),qa()):oa(ca,ka);},error:function(Pa){Pa instanceof bb && (Pa.setEntity(ka.masterToken),Pa.setUser(ka.userIdToken),Pa.setUser(ka.userAuthenticationData),Pa.setMessageId(ka.messageId));ma._errored=Pa;qa();}}):oa(ca,ka);}catch(Pa){Pa instanceof bb && (Pa.setEntity(ka.masterToken),Pa.setUser(ka.userIdToken),Pa.setUser(ka.userAuthenticationData),Pa.setMessageId(ka.messageId));ma._errored=Pa;qa();}}function oa(ca,ka){var Ga;try{Ga=ka.masterToken;Ga.isExpired()?ka.isRenewable() && 0 != ka.keyRequestData.length?ca.getTokenFactory().isMasterTokenRenewable(ca,Ga,{result:function(Ea){Ea?(ma._errored=new Ib(Ea,"Master token is expired and not renewable.").setEntity(Ga).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId),qa()):W(ca,ka);},error:function(Ea){Ea instanceof bb && (Ea.setEntity(ka.masterToken),Ea.setUser(ka.userIdToken),Ea.setUser(ka.userAuthenticationData),Ea.setMessageId(ka.messageId));ma._errored=Ea;qa();}}):(ma._errored=new Ib(U.MESSAGE_EXPIRED,JSON.stringify(ka)).setEntity(Ga).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId),qa()):W(ca,ka);}catch(Ea){Ea instanceof bb && (Ea.setEntity(ka.masterToken),Ea.setUser(ka.userIdToken),Ea.setUser(ka.userAuthenticationData),Ea.setMessageId(ka.messageId));ma._errored=Ea;qa();}}function W(ca,ka){var Ga,Ea;try{Ga=ka.masterToken;Ea=ka.nonReplayableId;"number" === typeof Ea?Ga?ca.getTokenFactory().acceptNonReplayableId(ca,Ga,Ea,{result:function(Pa){Pa || (ma._errored=new Ib(U.MESSAGE_REPLAYED,JSON.stringify(ka)).setEntity(Ga).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId));qa();},error:function(Pa){Pa instanceof bb && (Pa.setEntity(Ga),Pa.setUser(ka.userIdToken),Pa.setUser(ka.userAuthenticationData),Pa.setMessageId(ka.messageId));ma._errored=Pa;qa();}}):(ma._errored=new Ib(U.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(ka)).setEntity(ka.entityAuthenticationData).setUser(ka.userIdToken).setUser(ka.userAuthenticationData).setMessageId(ka.messageId),qa()):qa();}catch(Pa){Pa instanceof bb && (Pa.setEntity(ka.masterToken),Pa.setEntity(ka.entityAuthenticationData),Pa.setUser(ka.userIdToken),Pa.setUser(ka.userAuthenticationData),Pa.setMessageId(ka.messageId));ma._errored=Pa;qa();}}aa={_source:{value:ba,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ha,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Y,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);Oe(ma._source,Y,{result:function(ca){ma._json=ca;ma._jsonIndex=0;null === ma._json?(ma._errored=new xb(U.MESSAGE_DATA_MISSING),qa()):Ve(Z,ma._json[ma._jsonIndex++],S,{result:function(ka){var Ga;ma._header=ka;if(ma._header instanceof Nc)(ma._keyxCryptoContext=null,ma._cryptoContext=null,qa());else {Ga=ma._header;fa(Z,Ga,ea,{result:function(Ea){var Pa;try{ma._keyxCryptoContext=Ea;Z.isPeerToPeer() || !ma._keyxCryptoContext?ma._cryptoContext=Ga.cryptoContext:ma._cryptoContext=ma._keyxCryptoContext;try{Pa=Ga.masterToken;Pa && (Z.isPeerToPeer() || Pa.isVerified())?Ba(Z,Ga):W(Z,Ga);}catch(Ra){Ra instanceof bb && (Ra.setEntity(Ga.masterToken),Ra.setUser(Ga.userIdToken),Ra.setUser(Ga.userAuthenticationData),Ra.setMessageId(Ga.messageId));ma._errored=Ra;qa();}}catch(Ra){Ra instanceof bb && (Ra.setEntity(Ga.masterToken),Ra.setEntity(Ga.entityAuthenticationData),Ra.setUser(Ga.userIdToken),Ra.setUser(Ga.userAuthenticationData),Ra.setMessageId(Ga.messageId));ma._errored=Ra;qa();}},error:function(Ea){Ea instanceof bb && (Ea.setEntity(Ga.masterToken),Ea.setEntity(Ga.entityAuthenticationData),Ea.setUser(Ga.userIdToken),Ea.setUser(Ga.userAuthenticationData),Ea.setMessageId(Ga.messageId));ma._errored=Ea;qa();}});}},error:function(ka){ma._errored=ka;qa();}});},timeout:function(){ma._timedout=!0;qa();},error:function(ca){ma._errored=ca;qa();}});return this;},ma);},nextData:function(Z,ba){var ha;ha=this;cb(ba,function(){var S;function ea(Y){cb(Y,function(){var pa;if(this._jsonIndex < this._json.length)return pa=this._json[this._jsonIndex++];Oe(this._source,this._timeout,{result:function(ma){ma && ma.length && 0 < ma.length?(ma.forEach(function(qa){this._json.push(qa);}),ea(Y)):(this._eom=!0,Y.result(null));},timeout:function(){Y.timeout();},error:function(ma){Y.error(ma);}});},ha);}S=this.getMessageHeader();if(!S)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(Y){cb(ba,function(){if(!Y)return null;if("object" !== typeof Y)throw new xb(U.MESSAGE_FORMAT_ERROR);gf(Y,this._cryptoContext,{result:function(pa){cb(ba,function(){var ma,qa,Ba,sa;ma=S.masterToken;qa=S.entityAuthenticationData;Ba=S.userIdToken;sa=S.getUserAuthenticationData;if(pa.messageId != S.messageId)throw new Ib(U.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + pa.messageId + " header mid " + S.messageId).setEntity(ma).setEntity(qa).setUser(Ba).setUser(sa);if(pa.sequenceNumber != this._payloadSequenceNumber)throw new Ib(U.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + pa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ma).setEntity(qa).setUser(Ba).setUser(sa);++this._payloadSequenceNumber;pa.isEndOfMessage() && (this._eom=!0);ma=pa.data;this._payloads.push(ma);this._payloadIndex=-1;return ma;},ha);},error:function(pa){pa instanceof SyntaxError && (pa=new xb(U.JSON_PARSE_ERROR,"payloadchunk",pa));ba.error(pa);}});},ha);},timeout:function(){ba.timeout();},error:function(Y){ba.error(Y);}});},ha);},isReady:function(Z,ba){var ea;function ha(){cb(ba,function(){if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;cb(ba,function(){this._ready?ha():this._readyQueue.poll(Z,{result:function(S){cb(ba,function(){if(S === Ab)return !1;ha();},ea);},timeout:function(){ba.timeout();},error:function(S){ba.error(S);}});},ea);},getMessageHeader:function(){return this._header instanceof ld?this._header:null;},getErrorHeader:function(){return this._header instanceof Nc?this._header:null;},getIdentity:function(){var Z,ba;Z=this.getMessageHeader();if(Z){ba=Z.masterToken;return ba?ba.identity:Z.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var Z;Z=this.getMessageHeader();return Z?Z.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(Z){this._closeSource=Z;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(Z,ba,ha){var S;function ea(){cb(ha,function(){var pa,ma,qa,Ba;function Y(sa){cb(sa,function(){var oa,W,aa;if(ma && Ba >= ma.length)return ma.subarray(0,Ba);oa=-1;if(this._currentPayload){W=this._currentPayload.length - this._payloadOffset;if(!ma){aa=W;if(-1 != this._payloadIndex)for(var ca=this._payloadIndex;ca < this._payloads.length;++ca){aa+=this._payloads[ca].length;}0 < aa && (ma=new Uint8Array(aa));}W=Math.min(W,ma?ma.length - Ba:0);0 < W && (oa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + W),ma.set(oa,qa),oa=W,qa+=W,this._payloadOffset+=W);}-1 != oa?(Ba+=oa,Y(sa)):this.nextData(ba,{result:function(ka){cb(sa,function(){if(this._aborted)return ma?ma.subarray(0,Ba):new Uint8Array(0);this._currentPayload=ka;this._payloadOffset=0;if(this._currentPayload)Y(sa);else return 0 == Ba && 0 != Z?null:ma?ma.subarray(0,Ba):new Uint8Array(0);},S);},timeout:function(){sa.timeout(ma?ma.subarray(0,Ba):new Uint8Array(0));},error:function(ka){cb(sa,function(){ka instanceof bb && (ka=new Wb("Error reading the payload chunk.",ka));if(0 < Ba)return (S._readException=ka,ma.subarray(0,Ba));throw ka;},S);}});},S);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ha.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){pa=this._readException;this._readException=null;throw pa;}ma=-1 != Z?new Uint8Array(Z):Ab;qa=0;Ba=0;Y(ha);}},S);}S=this;cb(ha,function(){if(-1 > Z)throw new RangeError("read requested with illegal length " + Z);this._ready?ea():this._readyQueue.poll(ba,{result:function(Y){Y === Ab?ha.result(!1):ea();},timeout:function(){ha.timeout(new Uint8Array(0));},error:function(Y){ha.error(Y);}});},S);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});mf=function(Z,ba,ha,ea,S,Y,pa){new lf(Z,ba,ha,ea,S,Y,pa);};})();(function(){nf=Ed.extend({init:function(fa,Z,ba,ha,ea,S,Y){var pa;pa=this;cb(Y,function(){var qa,Ba,sa;function ma(){pa._ready=!0;pa._readyQueue.add(!0);}qa=le(fa.getMessageCapabilities(),ha.messageCapabilities);Ba=null;qa && (Ba=De(qa.compressionAlgorithms));qa={_destination:{value:Z,writable:!1,enumerable:!1,configurable:!1},_charset:{value:ba,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:qa,writable:!1,enumerable:!1,configurable:!1},_header:{value:ha,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,qa);sa=Sb(JSON.stringify(ha),ba);Z.write(sa,0,sa.length,S,{result:function(oa){try{pa._aborted?ma():oa < sa.length?(pa._timedout=!0,ma()):Z.flush(S,{result:function(W){pa._aborted || (pa._timedout=!W);ma();},timeout:function(){pa._timedout=!0;ma();},error:function(W){pa._errored=W;ma();}});}catch(W){pa._errored=W;ma();}},timeout:function(){pa._timedout=!0;ma();},error:function(oa){pa._errored=oa;ma();}});return this;},pa);},setCompressionAlgorithm:function(fa,Z,ba){var ea;function ha(){ea.flush(Z,{result:function(S){cb(ba,function(){if(!S)throw new Wb("flush() aborted");this._compressionAlgo=fa;return !0;},ea);},timeout:function(){ba.timeout();},error:function(S){ba.error(S);}});}ea=this;cb(ba,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == fa)return !0;if(fa){if(!this._capabilities)return !1;for(var S=this._capabilities.compressionAlgorithms,Y=0;Y < S.length;++Y){if(S[Y] == fa){ha();return;}}return !1;}ha();},ea);},getMessageHeader:function(){return this._header instanceof ld?this._header:null;},getErrorMessage:function(){return this._header instanceof Nc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(fa,Z){var ba;ba=this;cb(Z,function(){if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(fa,{result:function(ha){cb(Z,function(){ha && (this._currentPayload=null);return ha;},ba);},timeout:function(){Z.timeout();},error:function(ha){Z.error(ha);}});}},ba);},flush:function(fa,Z){var ha;function ba(){cb(Z,function(){var ea,S,qa;if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;S=0;this._currentPayload && this._currentPayload.forEach(function(Ba){S+=Ba.length;});for(var Y=new Uint8Array(S),pa=0,ma=0;this._currentPayload && ma < this._currentPayload.length;++ma){qa=this._currentPayload[ma];Y.set(qa,pa);pa+=qa.length;}ff(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,Y,this._cryptoContext,{result:function(Ba){cb(Z,function(){var sa;this._payloads.push(Ba);sa=Sb(JSON.stringify(Ba),this._charset);this._destination.write(sa,0,sa.length,fa,{result:function(oa){cb(Z,function(){if(this._aborted)return !1;oa < Ba.length?Z.timeout():this._destination.flush(fa,{result:function(W){cb(Z,function(){if(this._aborted)return !1;if(W)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);Z.timeout();},ha);},timeout:function(){Z.timeout();},error:function(W){W instanceof bb && (W=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",W));Z.error(W);}});},ha);},timeout:function(oa){Z.timeout();},error:function(oa){oa instanceof bb && (oa=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",oa));Z.error(oa);}});},ha);},error:function(Ba){Ba instanceof bb && (Ba=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",Ba));Z.error(Ba);}});}},ha);}ha=this;cb(Z,function(){this._ready?ba():this._readyQueue.poll(fa,{result:function(ea){ea === Ab?Z.result(!1):ba();},timeout:function(){Z.timeout();},error:function(ea){Z.error(ea);}});},ha);},write:function(fa,Z,ba,ha,ea){cb(ea,function(){var S;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Wb("Message output stream already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(Z + ba > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");S=fa.subarray(Z,Z + ba);this._currentPayload.push(S);return S.length;}},this);}});Kd=function(fa,Z,ba,ha,ea,S,Y){new nf(fa,Z,ba,ha,ea,S,Y);};})();Tf=Bb.Class.create({sentHeader:function(fa){},receivedHeader:function(fa){}});Object.freeze({USERDATA_REAUTH:Ja.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ja.SSOTOKEN_REJECTED});of=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(fa,Z,ba,ha){},getCustomer:function(){},getKeyRequestData:function(fa){},updateServiceTokens:function(fa,Z,ba){},write:function(fa,Z,ba){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(fa){},getOutputStream:function(fa){}});(function(){var pa,ma,qa,Ba,sa,oa,W,aa,ca,ka,Ga,Ea;function fa(Pa){return function(){Pa.abort();};}function Z(Pa,Ra){Object.defineProperties(this,{masterToken:{value:Pa,writable:!1,configurable:!1},ticket:{value:Ra,writable:!1,configurable:!1}});}function ba(Pa,Ra){Object.defineProperties(this,{builder:{value:Pa,writable:!1,configurable:!1},msgCtx:{value:Ra,writable:!1,configurable:!1}});}function ha(Pa,Ra,ia){Object.defineProperties(this,{requestHeader:{value:Pa,writable:!1,configurable:!1},payloads:{value:Ra,writable:!1,configurable:!1},handshake:{value:ia,writable:!1,configurable:!1}});}function ea(Pa,Ra){Object.defineProperties(this,{requestHeader:{value:Ra.requestHeader,writable:!1,configurable:!1},payloads:{value:Ra.payloads,writable:!1,configurable:!1},handshake:{value:Ra.handshake,writable:!1,configurable:!1},response:{value:Pa,writable:!1,configurable:!1}});}function S(Pa){for(;Pa;){if(Pa instanceof Zb)return !0;Pa=Pa instanceof bb?Pa.cause:Ab;}return !1;}function Y(Pa,Ra,ia,ua,xa,Ha,Aa,Oa,Da){jf(Ra,ua,xa,Ha,{result:function(Wa){ia && ia.sentHeader(Wa);Kd(Ra,Aa,Lb,Wa,null,null,Oa,{result:function(Ya){Pa.setAbort(function(){Ya.abort();});Ya.close(Oa,{result:function(Xa){cb(Da,function(){if(!Xa)throw new Zb("sendError aborted.");return Xa;});},timeout:function(){Da.timeout();},error:function(Xa){Da.error(Xa);}});},timeout:function(){},error:function(Ya){Da.error(Ya);}});},error:function(Wa){Da.error(Wa);}});}pa=Ed.extend({close:function(Pa,Ra){Ra.result(!0);},write:function(Pa,Ra,ia,ua,xa){Ka(xa,function(){return Math.min(Pa.length - Ra,ia);});},flush:function(Pa,Ra){Ra.result(!0);}});ma=Sf.extend({getUserMessage:function(Pa,Ra){return null;}});qa=of.extend({init:function(Pa){Object.defineProperties(this,{_appCtx:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Pa,Ra,ia,ua){this._appCtx.getUserAuthData(Pa,Ra,ia,ua);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Pa){this._appCtx.getKeyRequestData(Pa);},updateServiceTokens:function(Pa,Ra,ia){this._appCtx.updateServiceTokens(Pa,Ra,ia);},write:function(Pa,Ra,ia){this._appCtx.write(Pa,Ra,ia);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Ba=qa.extend({init:function ua(Ra,ia){ua.base.call(this,ia);Object.defineProperties(this,{_payloads:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ra,ia,ua){var Ha;function xa(Aa,Oa){var Da;if(Aa == Ha._payloads.length)ua.result(!0);else {Da=Ha._payloads[Aa];Ra.setCompressionAlgorithm(Da.compressionAlgo,ia,{result:function(Wa){Ra.write(Da.data,0,Da.data.length,ia,{result:function(Ya){cb(ua,function(){Da.isEndOfMessage()?xa(Aa + 1,Oa):Ra.flush(ia,{result:function(Xa){ua.result(Xa);},timeout:function(){ua.timeout();},error:function(Xa){ua.error(Xa);}});},Ha);},timeout:function(Ya){ua.timeout(Ya);},error:function(Ya){ua.error(Ya);}});},timeout:function(){},error:function(Wa){ua.error(Wa);}});}}Ha=this;xa(0);}});sa=qa.extend({init:function ua(ia){ua.base.call(this,ia);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ia,ua,xa){xa.result(!0);}});oa={};W=Bb.Class.create({init:function(ia){ia || (ia=new ma());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ia,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ia){this._filterFactory=ia;},getNewestMasterToken:function(ia,ua,xa,Ha){var Aa;Aa=this;cb(Ha,function(){var Oa,Da,Wa,Ya,Xa;Oa=ua.getMslStore();Da=Oa.getMasterToken();if(!Da)return null;Wa=Da.uniqueKey();Ya=this._masterTokenLocks[Wa];Ya || (Ya=new Vd(),this._masterTokenLocks[Wa]=Ya);Xa=Ya.readLock(xa,{result:function(hb){cb(Ha,function(){var lb;if(hb === Ab)throw new Zb("getNewestMasterToken aborted.");lb=Oa.getMasterToken();if(Da.equals(lb))return new Z(Da,hb);Ya.unlock(hb);Ya.writeLock(xa,{result:function(ob){cb(Ha,function(){if(ob === Ab)throw new Zb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];Ya.unlock(ob);return this.getNewestMasterToken(ia,ua,xa,Ha);},Aa);},timeout:function(){Ha.timeout();},error:function(ob){Ha.error(ob);}});},Aa);},timeout:function(){Ha.timeout();},error:function(hb){Ha.error(hb);}});ia.setAbort(function(){Xa && (Ya.cancel(Xa),Xa=Ab);});},Aa);},deleteMasterToken:function(ia,ua){var xa;if(ua){xa=this;setTimeout(function(){var Ha,Aa;Ha=ua.uniqueKey();Aa=xa._masterTokenLocks[Ha];Aa || (Aa=new Vd(),xa._masterTokenLocks[Ha]=Aa);Aa.writeLock(-1,{result:function(Oa){ia.getMslStore().removeCryptoContext(ua);delete xa._masterTokenLocks[Ha];Aa.unlock(Oa);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Oa){throw Oa;}});},0);}},releaseMasterToken:function(ia){var ua;if(ia && ia.masterToken){ua=ia.masterToken.uniqueKey();ua=this._masterTokenLocks[ua];if(!ua)throw new vb("Master token read/write lock does not exist when it should.");ua.unlock(ia.ticket);}},updateOutgoingCryptoContexts:function(ia,ua,xa){var Ha;Ha=ia.getMslStore();!ia.isPeerToPeer() && xa && (Ha.setCryptoContext(xa.keyResponseData.masterToken,xa.cryptoContext),this.deleteMasterToken(ia,ua.masterToken));},updateIncomingCryptoContexts:function(ia,ua,xa){var Ha,Aa;Ha=xa.getMessageHeader();if(Ha){Aa=ia.getMslStore();if(Ha=Ha.keyResponseData)(Aa.setCryptoContext(Ha.masterToken,xa.getKeyExchangeCryptoContext()),this.deleteMasterToken(ia,ua.masterToken));}},storeServiceTokens:function(ia,ua,xa,Ha){var Da,Wa;ia=ia.getMslStore();for(var Aa=[],Oa=0;Oa < Ha.length;++Oa){Da=Ha[Oa];if(!Da.isBoundTo(ua) || !ua.isVerified()){Wa=Da.data;Wa && 0 == Wa.length?ia.removeServiceTokens(Da.name,Da.isMasterTokenBound()?ua:null,Da.isUserIdTokenBound()?xa:null):Aa.push(Da);}}0 < Aa.length && ia.addServiceTokens(Aa);},buildRequest:function(ia,ua,xa,Ha,Aa){var Oa;Oa=this;this.getNewestMasterToken(ia,ua,Ha,{result:function(Da){Ka(Aa,function(){var Wa,Ya,Xa;Wa=Da && Da.masterToken;if(Wa){Ya=xa.getUserId();Xa=ua.getMslStore();Ya=(Ya=Ya?Xa.getUserIdToken(Ya):null) && Ya.isBoundTo(Wa)?Ya:null;}else Ya=null;Wc(ua,Wa,Ya,null,{result:function(hb){Ka(Aa,function(){hb.setNonReplayable(xa.isNonReplayable());return {builder:hb,tokenTicket:Da};});},error:function(hb){Ka(Aa,function(){this.releaseMasterToken(Da);hb instanceof bb && (hb=new vb("User ID token not bound to master token despite internal check.",hb));throw hb;},Oa);}});},Oa);},timeout:function(){Aa.timeout();},error:function(Da){Aa.error(Da);}});},buildResponse:function(ia,ua,xa,Ha,Aa,Oa){var Da;Da=this;hf(ua,Ha,{result:function(Wa){cb(Oa,function(){Wa.setNonReplayable(xa.isNonReplayable());if(!ua.isPeerToPeer() && !Ha.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(ia,ua,Aa,{result:function(Ya){cb(Oa,function(){var Xa,hb,lb;Xa=Ya && Ya.masterToken;if(Xa){hb=xa.getUserId();lb=ua.getMslStore();hb=(hb=hb?lb.getUserIdToken(hb):null) && hb.isBoundTo(Xa)?hb:null;}else hb=null;Wa.setAuthTokens(Xa,hb);return {builder:Wa,tokenTicket:Ya};},Da);},timeout:function(){Oa.timeout();},error:function(Ya){Oa.error(Ya);}});},Da);},error:function(Wa){Oa.error(Wa);}});},buildErrorResponse:function(ia,ua,xa,Ha,Aa,Oa,Da){var Xa;function Wa(hb,lb){cb(Da,function(){var ob,rb;ob=Vc(Aa.messageId);rb=new Ba(lb,xa);Wc(ua,null,null,ob,{result:function(sb){cb(Da,function(){ua.isPeerToPeer() && sb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ba(sb,rb),tokenTicket:null};},Xa);},error:function(sb){Da.error(sb);}});},Xa);}function Ya(hb,lb){Xa.getNewestMasterToken(ia,ua,Oa,{result:function(ob){cb(Da,function(){var rb,sb,zb;rb=ob && ob.masterToken;sb=Vc(Aa.messageId);zb=new Ba(lb,xa);Wc(ua,rb,null,sb,{result:function(wb){cb(Da,function(){ua.isPeerToPeer() && wb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);wb.setNonReplayable(zb.isNonReplayable());return {errorResult:new ba(wb,zb),tokenTicket:ob};},Xa);},error:function(wb){Da.error(wb);}});},Xa);},timeout:function(){Da.timeout();},error:function(ob){Da.error(ob);}});}Xa=this;cb(Da,function(){var hb,lb,ob,rb;hb=Ha.requestHeader;lb=Ha.payloads;ob=Aa.errorCode;switch(ob){case Ja.ENTITYDATA_REAUTH:case Ja.ENTITY_REAUTH:ua.getEntityAuthenticationData(ob,{result:function(sb){cb(Da,function(){if(!sb)return null;Wa(hb,lb);},Xa);},error:function(sb){Da.error(sb);}});break;case Ja.USERDATA_REAUTH:case Ja.SSOTOKEN_REJECTED:xa.getUserAuthData(ob,!1,!0,{result:function(sb){cb(Da,function(){if(!sb)return null;Ya(hb,lb);},Xa);},error:function(sb){Da.error(sb);}});break;case Ja.USER_REAUTH:Ya(hb,lb);break;case Ja.KEYX_REQUIRED:ob=Vc(Aa.messageId);rb=new Ba(lb,xa);Wc(ua,null,null,ob,{result:function(sb){cb(Da,function(){ua.isPeerToPeer() && sb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ba(sb,rb),tokenTicket:null};},Xa);},error:function(sb){Da.error(sb);}});break;case Ja.EXPIRED:this.getNewestMasterToken(ia,ua,Oa,{result:function(sb){cb(Da,function(){var zb,wb,q,b;zb=sb && sb.masterToken;wb=hb.userIdToken;q=Vc(Aa.messageId);b=new Ba(lb,xa);Wc(ua,zb,wb,q,{result:function(a){cb(Da,function(){ua.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new ba(a,b),tokenTicket:sb};},Xa);},error:function(a){Da.error(a);}},Xa);},Xa);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});break;case Ja.REPLAYED:this.getNewestMasterToken(ia,ua,Oa,{result:function(sb){cb(Da,function(){var zb,wb,q,b;zb=sb && sb.masterToken;wb=hb.userIdToken;q=Vc(Aa.messageId);b=new Ba(lb,xa);Wc(ua,zb,wb,q,{result:function(a){cb(Da,function(){ua.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new ba(a,b),tokenTicket:sb};},Xa);},error:function(a){Da.error(a);}});},Xa);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});break;default:return null;}},Xa);},cleanupContext:function(ia,ua,xa){switch(xa.errorCode){case Ja.ENTITY_REAUTH:this.deleteMasterToken(ia,ua.masterToken);break;case Ja.USER_REAUTH:(xa=ua.userIdToken,ua.masterToken && xa && ia.getMslStore().removeUserIdToken(xa));}},send:function(ia,ua,xa,Ha,Aa,Oa,Da){var ob;function Wa(rb,sb,zb){cb(Da,function(){var wb;wb=Aa.getPeerUserIdToken();!ua.isPeerToPeer() && !sb || ua.isPeerToPeer() && !wb?(wb=xa.getCustomer())?Aa.setCustomer(wb,{result:function(q){cb(Da,function(){sb=Aa.getUserIdToken();Ya(rb,sb,zb);},ob);},error:function(q){Da.error(q);}}):Ya(rb,sb,zb):Ya(rb,sb,zb);},ob);}function Ya(rb,sb,zb){cb(Da,function(){var wb,q;wb=!zb && (!xa.isEncrypted() || Aa.willEncryptPayloads()) && (!xa.isIntegrityProtected() || Aa.willIntegrityProtectPayloads()) && (!xa.isNonReplayable() || Aa.isNonReplayable() && rb);wb || Aa.setNonReplayable(!1);q=[];Aa.isRenewable() && (!rb || rb.isRenewable() || xa.isNonReplayable())?xa.getKeyRequestData({result:function(b){cb(Da,function(){var c;for(var a=0;a < b.length;++a){c=b[a];q.push(c);Aa.addKeyRequestData(c);}Xa(rb,sb,wb,q);},ob);},error:function(b){Da.error(b);}}):Xa(rb,sb,wb,q);},ob);}function Xa(rb,sb,zb,wb){cb(Da,function(){var q;q=new kf(ua,xa,Aa);xa.updateServiceTokens(q,!zb,{result:function(b){Aa.getHeader({result:function(a){cb(Da,function(){var c,f;c=xa.getDebugContext();c && c.sentHeader(a);c=Aa.getKeyExchangeData();this.updateOutgoingCryptoContexts(ua,a,c);this.storeServiceTokens(ua,rb,sb,a.serviceTokens);c=!ua.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ia.isAborted())throw new Zb("send aborted.");f=null != this._filterFactory?this._filterFactory.getOutputStream(Ha):Ha;Kd(ua,f,Lb,a,c,Oa,{result:function(k){ia.setAbort(function(){k.abort();});hb(k,a,zb);},timeout:function(){Da.timeout();},error:function(k){Da.error(k);}});},ob);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});},error:function(b){Da.error(b);}});},ob);}function hb(rb,sb,zb){var wb,q;if(zb)xa.write(rb,Oa,{result:function(b){cb(Da,function(){if(ia.isAborted())throw new Zb("MessageOutputStream write aborted.");lb(rb,sb,zb);},ob);},timeout:function(){Da.timeout();},error:function(b){Da.error(b);}});else {wb=new pa();q=new bd();Kd(ua,wb,Lb,sb,q,Oa,{result:function(b){xa.write(b,Oa,{result:function(a){cb(Da,function(){if(ia.isAborted())throw new Zb("MessageOutputStream proxy write aborted.");b.close(Oa,{result:function(c){cb(Da,function(){var f;if(!c)throw new Zb("MessageOutputStream proxy close aborted.");f=b.getPayloads();lb(rb,sb,zb,f);},ob);},timeout:function(){Da.timeout();},error:function(c){Da.error(c);}});},ob);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});},timeout:function(){Da.timeout();},error:function(b){Da.error(b);}});}}function lb(rb,sb,zb,wb){rb.close(Oa,{result:function(q){cb(Da,function(){if(!q)throw new Zb("MessageOutputStream close aborted.");wb || (wb=rb.getPayloads());return new ha(sb,wb,!zb);},ob);},timeout:function(){Da.timeout();},error:function(q){Da.error(q);}});}ob=this;cb(Da,function(){var rb,sb,zb,wb;rb=Aa.getMasterToken();sb=Aa.getUserIdToken();zb=!1;if(xa.getUserId()){wb=!sb;xa.getUserAuthData(null,Aa.isRenewable(),wb,{result:function(q){cb(Da,function(){q && (Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()?Aa.setUserAuthenticationData(q):zb=!0);Wa(rb,sb,zb);},ob);},error:function(q){Da.error(q);}});}else Wa(rb,sb,zb);},ob);},receive:function(ia,ua,xa,Ha,Aa,Oa,Da){var Wa;Wa=this;cb(Da,function(){var Ya,Xa,hb;if(ia.isAborted())throw new Zb("receive aborted.");Ya=[];Aa && (Ya=Aa.keyRequestData.filter(function(){return !0;}));Xa=xa.getCryptoContexts();hb=this._filterFactory?this._filterFactory.getInputStream(Ha):Ha;mf(ua,hb,Lb,Ya,Xa,Oa,{result:function(lb){ia.setAbort(function(){lb.abort();});lb.isReady(Oa,{result:function(ob){cb(Da,function(){var rb,sb,zb,wb;if(!ob)throw new Zb("MessageInputStream aborted.");rb=lb.getMessageHeader();sb=lb.getErrorHeader();zb=xa.getDebugContext();zb && zb.receivedHeader(rb?rb:sb);if(Aa && (zb=sb?sb.errorCode:null,rb || zb != Ja.FAIL && zb != Ja.TRANSIENT_FAILURE && zb != Ja.ENTITY_REAUTH && zb != Ja.ENTITYDATA_REAUTH)){zb=rb?rb.messageId:sb.messageId;wb=Vc(Aa.messageId);if(zb != wb)throw new Ib(U.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + wb + "; received " + zb);}ua.getEntityAuthenticationData(null,{result:function(q){cb(Da,function(){var b,a,c,f;b=q.getIdentity();if(rb){a=rb.entityAuthenticationData;c=rb.masterToken;a=c?rb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(U.UNEXPECTED_MESSAGE_SENDER,a);Aa && this.updateIncomingCryptoContexts(ua,Aa,lb);b=rb.keyResponseData;ua.isPeerToPeer()?(b=b?b.masterToken:rb.peerMasterToken,c=rb.peerUserIdToken,a=rb.peerServiceTokens):(b=b?b.masterToken:rb.masterToken,c=rb.userIdToken,a=rb.serviceTokens);f=xa.getUserId();f && c && !c.isVerified() && ua.getMslStore().addUserIdToken(f,c);this.storeServiceTokens(ua,b,c,a);}else if((a=sb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(U.UNEXPECTED_MESSAGE_SENDER,a);return lb;},Wa);},error:Da.error});},Wa);},timeout:function(){Da.timeout();},error:function(ob){Da.error(ob);}});},timeout:function(){Da.timeout();},error:function(lb){Da.error(lb);}});},Wa);},sendReceive:function(ia,ua,xa,Ha,Aa,Oa,Da,Wa,Ya){var hb;function Xa(lb,ob){cb(Ya,function(){Oa.setRenewable(ob);this.send(ia,ua,xa,Aa,Oa,Da,{result:function(rb){cb(Ya,function(){var sb;sb=rb.requestHeader.keyRequestData;Wa || rb.handshake || !sb.isEmpty()?this.receive(ia,ua,xa,Ha,rb.requestHeader,Da,{result:function(zb){cb(Ya,function(){ob && this.releaseRenewalLock(ua,lb,zb);return new ea(zb,rb);},hb);},timeout:function(){cb(Ya,function(){ob && this.releaseRenewalLock(ua,lb,null);Ya.timeout();},hb);},error:function(zb){cb(Ya,function(){ob && this.releaseRenewalLock(ua,lb,null);throw zb;},hb);}}):cb(Ya,function(){ob && this.releaseRenewalLock(ua,lb,null);return new ea(null,rb);},hb);},hb);},timeout:function(){cb(Ya,function(){ob && this.releaseRenewalLock(ua,lb,null);Ya.timeout();},hb);},error:function(rb){cb(Ya,function(){ob && this.releaseRenewalLock(ua,lb,null);throw rb;},hb);}});},hb);}hb=this;cb(Ya,function(){var lb;lb=new hd();this.acquireRenewalLock(ia,ua,xa,lb,Oa,Da,{result:function(ob){Xa(lb,ob);},timeout:function(){Ya.timeout();},error:function(ob){ob instanceof Zb?Ya.result(null):Ya.error(ob);}});},hb);},acquireRenewalLock:function(ia,ua,xa,Ha,Aa,Oa,Da){var Xa;function Wa(hb,lb,ob){cb(Da,function(){var zb,wb;if(ia.isAborted())throw new Zb("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){zb=this._renewingContexts[sb];if(zb.ctx === ua){rb=zb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:ua,queue:Ha}),!0);wb=rb.poll(Oa,{result:function(q){cb(Da,function(){var b;if(q === Ab)throw new Zb("acquireRenewalLock aborted.");rb.add(q);if(q === oa || q.isExpired())Wa(q,lb,ob);else {if(ob && !lb || lb && !lb.isBoundTo(q)){b=ua.getMslStore().getUserIdToken(ob);lb=b && b.isBoundTo(q)?b:null;}Aa.setAuthTokens(q,lb);Aa.isRenewable() && q.equals(hb)?Wa(q,lb,ob):xa.isRequestingTokens() && !lb?Wa(q,lb,ob):Ya(q,lb);}},Xa);},timeout:function(){},error:function(q){}});ia.setAbort(function(){wb && (rb.cancel(wb),wb=Ab);});},Xa);}function Ya(hb,lb){cb(Da,function(){var sb;if(ia.isAborted())throw new Zb("acquireRenewalLock aborted.");if(!hb || hb.isRenewable() || !lb && xa.getUserId() || lb && lb.isRenewable()){for(var ob=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === ua){ob=sb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:ua,queue:Ha}),!0);}return !1;},Xa);}Xa=this;cb(Da,function(){var hb,lb,ob;hb=Aa.getMasterToken();lb=Aa.getUserIdToken();ob=xa.getUserId();xa.isEncrypted() && !Aa.willEncryptPayloads() || xa.isIntegrityProtected() && !Aa.willIntegrityProtectPayloads() || Aa.isRenewable() || !hb && xa.isNonReplayable() || hb && hb.isExpired() || !(lb || !ob || Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()) || xa.isRequestingTokens() && (!hb || ob && !lb)?Wa(hb,lb,ob):Ya(hb,lb);},Xa);},releaseRenewalLock:function(ia,ua,xa){var Da;for(var Ha,Aa,Oa=0;Oa < this._renewingContexts.length;++Oa){Da=this._renewingContexts[Oa];if(Da.ctx === ia){Ha=Oa;Aa=Da.queue;break;}}if(Aa !== ua)throw new vb("Attempt to release renewal lock that is not owned by this queue.");xa?(xa=xa.messageHeader)?(Aa=xa.keyResponseData)?ua.add(Aa.masterToken):(ia=ia.isPeerToPeer()?xa.peerMasterToken:xa.masterToken)?ua.add(ia):ua.add(oa):ua.add(oa):ua.add(oa);this._renewingContexts.splice(Ha,1);}});pf=Bb.Class.create({init:function(){var ia;ia={_impl:{value:new W(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},setFilterFactory:function(ia){this._impl.setFilterFactory(ia);},shutdown:function(){this._shutdown=!0;},receive:function(ia,ua,xa,Ha,Aa,Oa){var Da;if(this._shutdown)throw new bb("MslControl is shutdown.");Da=new aa(this._impl,ia,ua,xa,Ha,Aa);setTimeout(function(){Da.call(Oa);},0);return fa(Da);},respond:function(ia,ua,xa,Ha,Aa,Oa,Da){var Wa;if(this._shutdown)throw new bb("MslControl is shutdown.");Wa=new ca(this._impl,ia,ua,xa,Ha,Aa,Oa);setTimeout(function(){Wa.call(Da);},0);return fa(Wa);},error:function xa(ia,ua,xa,Ha,Aa,Oa,Da){var Wa;if(this._shutdown)throw new bb("MslControl is shutdown.");Wa=new ka(this._impl,ia,ua,xa,Ha,Aa,Oa);setTimeout(function(){Wa.call(Da);},0);return fa(Wa);},request:function(ia,ua){var xa,Ha,Aa,Oa,Da,Wa;if(this._shutdown)throw new bb("MslControl is shutdown.");if(5 == arguments.length){Ha=arguments[2];Aa=xa=null;Oa=arguments[3];Da=arguments[4];if(ia.isPeerToPeer()){Da.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ha=null,xa=arguments[2],Aa=arguments[3],Oa=arguments[4],Da=arguments[5],!ia.isPeerToPeer())){Da.error(new vb("This method cannot be used in trusted network mode."));return;}Wa=new Ea(this._impl,ia,ua,Ha,xa,Aa,null,0,Oa);setTimeout(function(){Wa.call(Da);},0);return fa(Wa);}});aa=Bb.Class.create({init:function(ia,ua,xa,Ha,Aa,Oa){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ua,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},call:function(ia){var Aa;function ua(Oa){cb(ia,function(){var Da;Da=Oa.messageHeader;if(!Da)return Oa;this.setAbort(function(){Oa.abort();});Oa.mark(Number.MAX_VALUE);Oa.read(1,Aa._timeout,{result:function(Wa){cb(ia,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Oa.reset(),Oa);xa(Oa);},Aa);},timeout:function(){ia.timeout();},error:function(Wa){cb(ia,function(){var Ya,Xa,hb;if(S(Wa))return null;Ya=Da?Da.messageId:null;if(Wa instanceof Wb){Xa=U.MSL_COMMS_FAILURE;hb=Wa;}else (Xa=U.INTERNAL_EXCEPTION,hb=new vb("Error peeking into the message payloads."));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ya,Xa,null,this._output,this._timeout,{result:function(lb){ia.error(hb);},timeout:function(){ia.timeout();},error:function(lb){cb(ia,function(){if(S(lb))return null;throw new kc("Error peeking into the message payloads.",lb,Wa);},Aa);}});},Aa);}});},Aa);}function xa(Oa){cb(ia,function(){Oa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Oa.messageHeader,this._timeout,{result:function(Da){cb(ia,function(){var Wa,Ya,Xa,hb,lb;Wa=Da.builder;Ya=Da.tokenTicket;Xa=Oa.messageHeader;hb=new sa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Xa.isEncrypting() || Xa.keyResponseData)Ha(Xa,Wa,hb,Ya);else {lb=new Ea(this._ctrl,this._ctx,hb,null,this._input,this._output,Da,1,this._timeout);this.setAbort(function(){lb.abort();});lb.call(ia);}},Aa);},timeout:function(){ia.timeout();},error:function(Da){cb(ia,function(){var Wa,Ya,Xa,hb;if(S(Da))return null;if(Da instanceof bb){Wa=Da.messageId;Ya=Da.error;Xa=Oa.messageHeader.messageCapabilities;Xa=this._ctrl.messageRegistry.getUserMessage(Ya,Xa?Xa.languages:null);hb=Da;}else (Wa=requestHeader?requestHeader.messageId:null,Ya=U.INTERNAL_EXCEPTION,Xa=null,hb=new vb("Error creating an automatic handshake response.",Da));Y(this,this._ctx,this._msgCtx.getDebugContext(),Wa,Ya,Xa,this._output,this._timeout,{result:function(lb){ia.error(hb);},timeout:function(){ia.timeout();},error:function(lb){cb(ia,function(){if(S(lb))return null;throw new kc("Error creating an automatic handshake response.",lb,Da);},Aa);}});},Aa);}});},Aa);}function Ha(Oa,Da,Wa,Ya){cb(ia,function(){Da.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Da,this._timeout,{result:function(Xa){cb(ia,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Ya);return null;},Aa);},timeout:function(){cb(ia,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Ya);ia.timeout();},Aa);},error:function(Xa){cb(ia,function(){var hb,lb,ob,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Ya);if(S(Xa))return null;if(Xa instanceof bb){hb=Xa.messageId;lb=Xa.error;ob=Oa?Oa.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(lb,ob?ob.languages:null);rb=Xa;}else Xa instanceof Wb?(hb=Oa?Oa.messageId:null,lb=U.MSL_COMMS_FAILURE,ob=null,rb=Xa):(hb=Oa?Oa.messageId:null,lb=U.INTERNAL_EXCEPTION,ob=null,rb=new vb("Error sending an automatic handshake response.",Xa));Y(this,this._ctx,this._msgCtx.getDebugContext(),hb,lb,ob,this._output,this._timeout,{result:function(sb){ia.error(rb);},timeout:function(){ia.timeout();},error:function(sb){cb(ia,function(){if(S(sb))return null;throw new kc("Error sending an automatic handshake response.",sb,Xa);},Aa);}});},Aa);}});},Aa);}Aa=this;cb(ia,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Oa){ua(Oa);},timeout:function(){ia.timeout();},error:function(Oa){cb(ia,function(){var Da,Wa,Ya,Xa;if(S(Oa))return null;if(Oa instanceof bb){Da=Oa.messageId;Wa=Oa.error;Ya=this._ctrl.messageRegistry.getUserMessage(Wa,null);Xa=Oa;}else (Da=null,Wa=U.INTERNAL_EXCEPTION,Ya=null,Xa=new vb("Error receiving the message header.",Oa));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Wa,Ya,this._output,this._timeout,{result:function(hb){ia.error(Xa);},timeout:function(){ia.timeout();},error:function(hb){cb(ia,function(){if(S(hb))return null;throw new kc("Error receiving the message header.",hb,Oa);},Aa);}});},Aa);}});},Aa);}});ca=Bb.Class.create({init:function(ia,ua,xa,Ha,Aa,Oa,Da){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ua,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_request:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Da,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},trustedNetworkExecute:function(ia,ua,xa){var Ha;Ha=this;cb(xa,function(){var Aa,Oa;if(12 < ua + 1)return !1;if(Aa=this._msgCtx.isIntegrityProtected() && !ia.willIntegrityProtectHeader()?U.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ia.willEncryptPayloads()?U.RESPONSE_REQUIRES_ENCRYPTION:null){Oa=cd(ia.getMessageId());Y(this,this._ctx,this._msgCtx.getDebugContext(),Oa,Aa,null,this._output,this._timeout,{result:function(Da){xa.result(!1);},timeout:function(){xa.timeout();},error:function(Da){cb(xa,function(){if(S(Da))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Aa,Da,null);},Ha);}});}else !this._msgCtx.getCustomer() || ia.getMasterToken() || ia.getKeyExchangeData()?(ia.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ia,this._timeout,{result:function(Da){xa.result(!0);},timeout:function(){xa.timeout();},error:function(Da){xa.error(Da);}})):(Oa=cd(ia.getMessageId()),Y(this,this._ctx,this._msgCtx.getDebugContext(),Oa,U.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Da){xa.result(!1);},timeout:function(){xa.timeout();},error:function(Da){cb(xa,function(){if(S(Da))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Da,null);},Ha);}}));},Ha);},peerToPeerExecute:function(ia,ua,xa,Ha){var Oa;function Aa(Da){cb(Ha,function(){var Wa;Wa=Da.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Da.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,ia,Da,Wa,{result:function(Ya){cb(Ha,function(){var Xa,hb;if(!Ya)return !1;Xa=Ya.errorResult;hb=Ya.tokenTicket;this.peerToPeerExecute(Xa.msgCtx,Xa.builder,xa,{result:function(lb){cb(Ha,function(){this._ctrl.releaseMasterToken(hb);return lb;},Oa);},timeout:function(){cb(Ha,function(){this._ctrl.releaseMasterToken(hb);Ha.timeout();},Oa);},error:function(lb){cb(Ha,function(){this._ctrl.releaseMasterToken(hb);throw lb;},Oa);}});},Oa);}});},Oa);}Oa=this;cb(Ha,function(){var Da;if(12 < xa + 2)return !1;if(null != ia.getCustomer() && null == ua.getPeerMasterToken() && null == ua.getKeyExchangeData()){Da=cd(ua.getMessageId());Y(this,this._ctx,ia.getDebugContext(),Da,U.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Wa){cb(Ha,function(){if(S(Wa))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Oa);}});}else this._ctrl.sendReceive(this._ctx,ia,this._input,this._output,ua,this._timeout,!1,{result:function(Wa){cb(Ha,function(){var hb,lb,ob;function Ya(){hb.read(32768,Oa._timeout,{result:function(rb){cb(Ha,function(){rb?Ya():Xa();},Oa);},timeout:function(){Ha.timeout();},error:function(rb){Ha.error(rb);}});}function Xa(){cb(Ha,function(){var rb;rb=new Ba(Wa.payloads,ia);this._ctrl.buildResponse(this,this._ctx,rb,lb,this._timeout,{result:function(sb){cb(Ha,function(){var zb;zb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,xa,{result:function(wb){cb(Ha,function(){this._ctrl.releaseMasterToken(zb);return wb;},Oa);},timeout:function(){cb(Ha,function(){this._ctrl.releaseMasterToken(zb);Ha.timeout();},Oa);},error:function(wb){cb(Ha,function(){this._ctrl.releaseMasterToken(zb);throw wb;},Oa);}});},Oa);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});},Oa);}hb=Wa.response;xa+=2;if(!hb)return !0;lb=hb.getMessageHeader();if(lb){ob=Wa.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Wa.handshake && ob)Ya();else return !0;}else Aa(Wa);},Oa);},timeout:function(){Ha.timeout();},error:function(Wa){Ha.error(Wa);}});},Oa);},call:function(ia){var ua;ua=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(xa){cb(ia,function(){var Ha,Aa;Ha=xa.builder;Aa=xa.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ha,3,{result:function(Oa){cb(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return Oa;},ua);},timeout:function(){cb(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);ia.timeout();},ua);},error:function(Oa){cb(ia,function(){var Da,Wa,Ya,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(S(Oa))return !1;Da=cd(Ha.getMessageId());if(Oa instanceof bb){Wa=Oa.error;Ya=this._request.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(Wa,Ya?Ya.languages:null);Xa=Oa;}else Oa instanceof Wb?(Wa=U.MSL_COMMS_FAILURE,Ya=null,Xa=Oa):(Wa=U.INTERNAL_EXCEPTION,Ya=null,Xa=new vb("Error sending the response.",Oa));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Wa,Ya,this._output,this._timeout,{result:function(hb){ia.error(Xa);},timeout:function(){ia.timeout();},error:function(hb){cb(ia,function(){if(S(hb))return !1;throw new kc("Error sending the response.",hb,null);},ua);}});},ua);}}):this.trustedNetworkExecute(Ha,3,{result:function(Oa){cb(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return Oa;},ua);},timeout:function(){cb(ia,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);ia.timeout();},ua);},error:function(Oa){cb(ia,function(){var Da,Wa,Ya,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(S(Oa))return !1;Da=cd(Ha.getMessageId());if(Oa instanceof bb){Wa=Oa.error;Ya=this._request.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(Wa,Ya?Ya.languages:null);Xa=Oa;}else Oa instanceof Wb?(Wa=U.MSL_COMMS_FAILURE,Ya=null,Xa=Oa):(Wa=U.INTERNAL_EXCEPTION,Ya=null,Xa=new vb("Error sending the response.",Oa));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Wa,Ya,this._output,this._timeout,{result:function(hb){ia.error(Xa);},timeout:function(){ia.timeout();},error:function(hb){cb(ia,function(){if(S(hb))return !1;throw new kc("Error sending the response.",hb,null);},ua);}});},ua);}});},ua);},timeout:function(){ia.timeout();},error:function(xa){cb(ia,function(){var Ha,Aa,Oa,Da;if(S(xa))return !1;if(xa instanceof bb){Ha=xa.messageId;Aa=xa.error;Oa=this._request.messageCapabilities;Oa=this._ctrl.messageRegistry.getUserMessage(Aa,Oa?Oa.languages:null);Da=xa;}else (Ha=null,Aa=U.INTERNAL_EXCEPTION,Oa=null,Da=new vb("Error building the response.",xa));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Aa,Oa,this._output,this._timeout,{result:function(Wa){ia.error(Da);},timeout:function(){ia.timeout();},error:function(Wa){cb(ia,function(){if(S(Wa))return null;throw new kc("Error building the response.",Wa,xa);},ua);}});},ua);}});}});ka=Bb.Class.create({init:function(ia,ua,xa,Ha,Aa,Oa,Da){Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ua,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Da,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},call:function(ia){var ua;ua=this;cb(ia,function(){var xa,Ha;if(this._appError == ENTITY_REJECTED)xa=this._request.masterToken?U.MASTERTOKEN_REJECTED_BY_APP:U.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)xa=this._request.userIdToken?U.USERIDTOKEN_REJECTED_BY_APP:U.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ha=this._request.messageCapabilities;Ha=this._ctrl.messageRegistry.getUserMessage(xa,Ha?Ha.languages:null);Y(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,xa,Ha,this._output,this._timeout,{result:function(Aa){ia.result(Aa);},timeout:ia.timeout,error:function(Aa){cb(ia,function(){if(S(Aa))return !1;if(Aa instanceof bb)throw Aa;throw new vb("Error building the error response.",Aa);},ua);}});},ua);}});Ga={result:function(){},timeout:function(){},error:function(){}};Ea=Bb.Class.create({init:function(ia,ua,xa,Ha,Aa,Oa,Da,Wa,Ya){var Xa;if(Da){Xa=Da.builder;Da=Da.tokenTicket;}else Da=Xa=null;Object.defineProperties(this,{_ctrl:{value:ia,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ua,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Aa,writable:!0,enumerable:!1,configurable:!1},_output:{value:Oa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Xa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Da,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Ya,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ia){this._abortFunc=ia;},execute:function(ia,ua,xa,Ha,Aa){var Wa;function Oa(Ya){function Xa(hb){cb(Aa,function(){var lb;lb=Ya.response;return hb?hb:lb;},Wa);}cb(Aa,function(){var hb,lb;hb=Ya.response;hb.close();lb=hb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ya.requestHeader,lb);this._ctrl.buildErrorResponse(this,this._ctx,ia,Ya,lb,xa,{result:function(ob){cb(Aa,function(){var rb,sb,zb,wb;if(!ob)return hb;rb=ob.errorResult;sb=ob.tokenTicket;zb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,zb,this._timeout,Ha,{result:function(q){cb(Aa,function(){this._ctrl.releaseMasterToken(sb);Xa(q);},Wa);},timeout:function(){cb(Aa,function(){this._ctrl.releaseMasterToken(sb);Aa.timeout();},Wa);},error:function(q){cb(Aa,function(){this._ctrl.releaseMasterToken(sb);Aa.error(q);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(xa,Ga));wb=new Ea(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:zb,tokenTicket:sb},Ha,this._timeout);this.setAbort(function(){wb.abort();});wb.call({result:function(q){Xa(q);},timeout:function(){Aa.timeout();},error:function(q){Aa.error(q);}});}},Wa);},timeout:function(){Aa.timeout();},error:function(ob){Aa.error(ob);}});},Wa);}function Da(Ya){cb(Aa,function(){var lb,ob,rb,sb,zb;function Xa(){lb.read(32768,Wa._timeout,{result:function(wb){wb?Xa():hb();},timeout:function(){Aa.timeout();},error:function(wb){Aa.error(wb);}});}function hb(){cb(Aa,function(){var wb;wb=new Ba(Ya.payloads,ia);this._ctrl.buildResponse(this,this._ctx,ia,ob,xa,{result:function(q){cb(Aa,function(){var b;b=q.tokenTicket;this.execute(wb,q.builder,this._timeout,Ha,{result:function(a){cb(Aa,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){cb(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Wa);},error:function(a){cb(Aa,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Aa.timeout();},error:function(q){Aa.error(q);}});},Wa);}lb=Ya.response;ob=lb.getMessageHeader();rb=Ya.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!Ya.handshake || !rb)return lb;this._openedStreams && (this._input.close(),this._output.close(xa,Ga));sb=new Ba(Ya.payloads,ia);this._ctrl.buildResponse(this,this._ctx,ia,ob,xa,{result:function(wb){cb(Aa,function(){var q;q=new Ea(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,wb,Ha,this._timeout);this.setAbort(function(){q.abort();});q.call(Aa);},Wa);},timeout:function(){Aa.timeout();},error:function(wb){Aa.error(wb);}});}else if(Ya.handshake && rb)Xa();else if(0 < ob.keyRequestData.length){zb=new sa(ia);this._ctrl.buildResponse(this,this._ctx,zb,ob,xa,{result:function(wb){cb(Aa,function(){var q,b;q=wb.builder;b=wb.tokenTicket;lb.mark();lb.read(1,this._timeout,{result:function(a){cb(Aa,function(){function c(){lb.read(32768,Wa._timeout,{result:function(k){k?c():f();},timeout:function(){Aa.timeout();},error:function(k){Aa.error(k);}});}function f(){Wa.execute(zb,q,Wa._timeout,Ha,{result:function(k){cb(Aa,function(){this._ctrl.releaseMasterToken(b);return k;},Wa);},timeout:function(){cb(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Wa);},error:function(k){cb(Aa,function(){this._ctrl.releaseMasterToken(b);throw k;},Wa);}});}if(a){if((lb.reset(),12 >= Ha + 1))(q.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,q,this._timeout,{result:function(k){cb(Aa,function(){this.releaseMasterToken(b);return lb;},Wa);},timeout:function(){Aa.timeout();},error:function(k){Aa.error(k);}}));else return (this.releaseMasterToken(b),lb);}else c();},Wa);},timeout:function(){cb(Aa,function(){this.releaseMasterToken(b);Aa.timeout();},Wa);},error:function(a){cb(Aa,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Aa.timeout();},error:function(wb){Aa.error(wb);}});}},Wa);}Wa=this;cb(Aa,function(){if(12 < Ha + 2)return null;this._ctrl.sendReceive(this,this._ctx,ia,this._input,this._output,ua,xa,!0,{result:function(Ya){cb(Aa,function(){var Xa;if(!Ya)return null;Xa=Ya.response;Ha+=2;Xa.getMessageHeader()?Da(Ya):Oa(Ya);},Wa);},timeout:function(){Aa.timeout();},error:function(Ya){Aa.error(Ya);}});},Wa);},call:function(ia){var xa;function ua(Ha,Aa,Oa){cb(ia,function(){this.execute(this._msgCtx,Ha,Oa,this._msgCount,{result:function(Da){cb(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && this._output.close(Oa,Ga);Da && Da.closeSource(this._openedStreams);return Da;},xa);},timeout:function(){cb(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(Oa,Ga),this._input.close());ia.timeout();},xa);},error:function(Da){cb(ia,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(Oa,Ga),this._input.close());if(S(Da))return null;throw Da;},xa);}});},xa);}xa=this;cb(ia,function(){var Ha,Aa,Oa;Ha=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Aa=Date.now();Oa=this._remoteEntity.openConnection();this._output=Oa.output;this._input=Oa.input;-1 != Ha && (Ha=this._timeout - (Date.now() - Aa));this._openedStreams=!0;}catch(Da){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ga);this._input && this._input.close();if(S(Da))return null;throw Da;}this._builder?ua(this._builder,this._tokenTicket,Ha):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Da){cb(ia,function(){ua(Da.builder,Da.tokenTicket,Ha);},xa);},timeout:function(){cb(ia,function(){this._openedStreams && (this._output.close(this._timeout,Ga),this._input.close());ia.timeout();},xa);},error:function(Da){cb(ia,function(){this._openedStreams && (this._output.close(this._timeout,Ga),this._input.close());if(S(Da))return null;throw Da;},xa);}});},xa);}});})();(function(){oe=Bb.Class.create({init:function(fa){Object.defineProperties(this,{id:{value:fa,writable:!1,configurable:!1}});},toJSON:function(){var fa;fa={};fa.id=this.id;return fa;},equals:function(fa){return this === fa?!0:fa instanceof oe?this.id == fa.id:!1;},uniqueKey:function(){return this.id;}});qf=function(fa){var Z;Z=fa.id;if(!Z)throw new xb(U.JSON_PARSE_ERROR,JSON.stringify(fa));return new oe(Z);};})();Bb.Class.create({isNewestMasterToken:function(fa,Z,ba){},isMasterTokenRevoked:function(fa,Z){},acceptNonReplayableId:function(fa,Z,ba,ha){},createMasterToken:function(fa,Z,ba,ha,ea){},isMasterTokenRenewable:function(fa,Z,ba){},renewMasterToken:function(fa,Z,ba,ha,ea){},isUserIdTokenRevoked:function(fa,Z,ba,ha){},createUserIdToken:function(fa,Z,ba,ha){},renewUserIdToken:function(fa,Z,ba,ha){}});(function(){function fa(Z,ba,ha,ea){this.sessiondata=Z;this.tokendata=ba;this.signature=ha;this.verified=ea;}ic=Bb.Class.create({init:function(Z,ba,ha,ea,S,Y,pa,ma,qa,Ba,sa){var oa;oa=this;Ka(sa,function(){var W,aa,ca,ka,Ga;if(ha.getTime() < ba.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Mb)throw new vb("Sequence number " + ea + " is outside the valid range.");if(0 > S || S > Mb)throw new vb("Serial number " + S + " is outside the valid range.");W=Math.floor(ba.getTime() / 1E3);aa=Math.floor(ha.getTime() / 1E3);if(Ba)ca=Ba.sessiondata;else {ka={};Y && (ka.issuerdata=Y);ka.identity=pa;ka.encryptionkey=Db(ma.toByteArray());ka.hmackey=Db(qa.toByteArray());ca=Sb(JSON.stringify(ka),Lb);}if(Ba)return (Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:S,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:ma,writable:!1,configurable:!1},hmacKey:{value:qa,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:Ba.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ba.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ga=Z.getMslCryptoContext();Ga.encrypt(ca,{result:function(Ea){Ka(sa,function(){var Pa,Ra;Pa={};Pa.renewalwindow=W;Pa.expiration=aa;Pa.sequencenumber=ea;Pa.serialnumber=S;Pa.sessiondata=Db(Ea);Ra=Sb(JSON.stringify(Pa),Lb);Ga.sign(Ra,{result:function(ia){Ka(sa,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:S,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:ma,writable:!1,configurable:!1},hmacKey:{value:qa,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(ia){sa.error(ia);}});},oa);},error:function(Ea){sa.error(Ea);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(Z){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(Z){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(Z){var ba;if(this.sequenceNumber == Z.sequenceNumber)return this.expiration > Z.expiration;if(this.sequenceNumber > Z.sequenceNumber){ba=this.sequenceNumber - Mb + 127;return Z.sequenceNumber >= ba;}ba=Z.sequenceNumber - Mb + 127;return this.sequenceNumber < ba;},toJSON:function(){var Z;Z={};Z.tokendata=Db(this.tokendata);Z.signature=Db(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof ic?this.serialNumber == Z.serialNumber && this.sequenceNumber == Z.sequenceNumber && this.expiration.getTime() == Z.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Tc=function(Z,ba,ha){Ka(ha,function(){var ea,S,Y,pa,ma;ea=Z.getMslCryptoContext();S=ba.tokendata;Y=ba.signature;if("string" !== typeof S || "string" !== typeof Y)throw new xb(U.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(ba));try{pa=Fb(S);}catch(qa){throw new bb(U.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(ba),qa);}if(!pa || 0 == pa.length)throw new xb(U.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(ba));try{ma=Fb(Y);}catch(qa){throw new bb(U.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(ba),qa);}ea.verify(pa,ma,{result:function(qa){Ka(ha,function(){var Ba,sa,oa,W,aa,ca,ka,Ga,Ea,Pa;Ba=Tb(pa,Lb);try{sa=JSON.parse(Ba);oa=parseInt(sa.renewalwindow);W=parseInt(sa.expiration);aa=parseInt(sa.sequencenumber);ca=parseInt(sa.serialnumber);ka=sa.sessiondata;}catch(Ra){if(Ra instanceof SyntaxError)throw new xb(U.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ba,Ra);throw Ra;}if(!oa || oa != oa || !W || W != W || "number" !== typeof aa || aa != aa || "number" !== typeof ca || ca != ca || "string" !== typeof ka)throw new xb(U.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ba);if(W < oa)throw new bb(U.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ba);if(0 > aa || aa > Mb)throw new bb(U.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ba);if(0 > ca || ca > Mb)throw new bb(U.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ba);Ga=new Date(1E3 * oa);Ea=new Date(1E3 * W);try{Pa=Fb(ka);}catch(Ra){throw new bb(U.MASTERTOKEN_SESSIONDATA_INVALID,ka,Ra);}if(!Pa || 0 == Pa.length)throw new bb(U.MASTERTOKEN_SESSIONDATA_MISSING,ka);qa?ea.decrypt(Pa,{result:function(Ra){Ka(ha,function(){var ia,ua,xa,Ha,Aa,Oa;ia=Tb(Ra,Lb);try{ua=JSON.parse(ia);xa=ua.issuerdata;Ha=ua.identity;Aa=ua.encryptionkey;Oa=ua.hmackey;}catch(Da){if(Da instanceof SyntaxError)throw new xb(U.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ia,Da);throw Da;}if(xa && "object" !== typeof xa || !Ha || "string" !== typeof Aa || "string" !== typeof Oa)throw new xb(U.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ia);yc(Aa,rc,Ic,{result:function(Da){yc(Oa,sc,Sc,{result:function(Wa){Ka(ha,function(){var Ya;Ya=new fa(Ra,pa,ma,qa);new ic(Z,Ga,Ea,aa,ca,xa,Ha,Da,Wa,Ya,ha);});},error:function(Wa){ha.error(new tb(U.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Da){ha.error(new tb(U.MASTERTOKEN_KEY_CREATION_ERROR,Da));}});});},error:function(Ra){ha.error(Ra);}}):(oa=new fa(null,pa,ma,qa),new ic(Z,Ga,Ea,aa,ca,null,null,null,null,oa,ha));});},error:function(qa){ha.error(qa);}});});};})();(function(){function fa(Z,ba,ha){this.tokendata=Z;this.signature=ba;this.verified=ha;}$c=Bb.Class.create({init:function(Z,ba,ha,ea,S,Y,pa,ma,qa){var Ba;Ba=this;Ka(qa,function(){var sa,oa,W,aa,ca,ka,Ga;if(ha.getTime() < ba.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new vb("Cannot construct a user ID token without a master token.");if(0 > S || S > Mb)throw new vb("Serial number " + S + " is outside the valid range.");sa=Math.floor(ba.getTime() / 1E3);oa=Math.floor(ha.getTime() / 1E3);W=ea.serialNumber;if(ma){aa=ma.tokendata;ca=ma.signature;ka=ma.verified;W=ea.serialNumber;Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:sa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},serialNumber:{value:S,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:pa,writable:!1,configurable:!1},verified:{value:ka,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ca,writable:!1,enumerable:!1,configurable:!1}});return this;}aa={};Y && (aa.issuerdata=Y);aa.identity=pa;aa=Sb(JSON.stringify(aa),Lb);Ga=Z.getMslCryptoContext();Ga.encrypt(aa,{result:function(Ea){Ka(qa,function(){var Pa,Ra;Pa={};Pa.renewalwindow=sa;Pa.expiration=oa;Pa.mtserialnumber=W;Pa.serialnumber=S;Pa.userdata=Db(Ea);Ra=Sb(JSON.stringify(Pa),Lb);Ga.sign(Ra,{result:function(ia){Ka(qa,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:sa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:S,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:pa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;},Ba);},error:function(ia){Ka(qa,function(){ia instanceof bb && ia.setEntity(ea);throw ia;},Ba);}});},Ba);},error:function(Ea){Ka(qa,function(){Ea instanceof bb && Ea.setEntity(ea);throw Ea;},Ba);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(Z){return Z && Z.serialNumber == this.mtSerialNumber;},toJSON:function(){var Z;Z={};Z.tokendata=Db(this.tokendata);Z.signature=Db(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof $c?this.serialNumber == Z.serialNumber && this.mtSerialNumber == Z.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Uc=function(Z,ba,ha,ea){Ka(ea,function(){var S,Y,pa,ma,qa;S=Z.getMslCryptoContext();Y=ba.tokendata;pa=ba.signature;if("string" !== typeof Y || "string" !== typeof pa)throw new xb(U.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(ba)).setEntity(ha);try{ma=Fb(Y);}catch(Ba){throw new bb(U.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ba),Ba).setEntity(ha);}if(!ma || 0 == ma.length)throw new xb(U.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(ba)).setEntity(ha);try{qa=Fb(pa);}catch(Ba){throw new bb(U.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ba),Ba).setEntity(ha);}S.verify(ma,qa,{result:function(Ba){Ka(ea,function(){var sa,oa,W,aa,ca,ka,Ga,Ea,Pa,Ra;sa=Tb(ma,Lb);try{oa=JSON.parse(sa);W=parseInt(oa.renewalwindow);aa=parseInt(oa.expiration);ca=parseInt(oa.mtserialnumber);ka=parseInt(oa.serialnumber);Ga=oa.userdata;}catch(ia){if(ia instanceof SyntaxError)throw new xb(U.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + sa,ia).setEntity(ha);throw ia;}if(!W || W != W || !aa || aa != aa || "number" !== typeof ca || ca != ca || "number" !== typeof ka || ka != ka || "string" !== typeof Ga)throw new xb(U.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + sa).setEntity(ha);if(aa < W)throw new bb(U.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + sa).setEntity(ha);if(0 > ca || ca > Mb)throw new bb(U.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + sa).setEntity(ha);if(0 > ka || ka > Mb)throw new bb(U.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + sa).setEntity(ha);Ea=new Date(1E3 * W);Pa=new Date(1E3 * aa);if(!ha || ca != ha.serialNumber)throw new bb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ca + "; mt " + JSON.stringify(ha)).setEntity(ha);try{Ra=Fb(Ga);}catch(ia){throw new bb(U.USERIDTOKEN_USERDATA_INVALID,Ga,ia).setEntity(ha);}if(!Ra || 0 == Ra.length)throw new bb(U.USERIDTOKEN_USERDATA_MISSING,Ga).setEntity(ha);Ba?S.decrypt(Ra,{result:function(ia){Ka(ea,function(){var ua,xa,Ha,Aa,Oa;ua=Tb(ia,Lb);try{xa=JSON.parse(ua);Ha=xa.issuerdata;Aa=xa.identity;}catch(Da){if(Da instanceof SyntaxError)throw new xb(U.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ua).setEntity(ha);throw Da;}if(Ha && "object" !== typeof Ha || "object" !== typeof Aa)throw new xb(U.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ua).setEntity(ha);try{Oa=qf(Aa);}catch(Da){throw new bb(U.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ua,Da).setEntity(ha);}Aa=new fa(ma,qa,Ba);new $c(Z,Ea,Pa,ha,ka,Ha,Oa,Aa,ea);});},error:function(ia){Ka(ea,function(){ia instanceof bb && ia.setEntity(ha);throw ia;});}}):(W=new fa(ma,qa,Ba),new $c(Z,Ea,Pa,ha,ka,null,null,W,ea));});},error:function(Ba){Ka(ea,function(){Ba instanceof bb && Ba.setEntity(ha);throw Ba;});}});});};})();(function(){function fa(ba,ha){var ea,S,Y;ea=ba.tokendata;if("string" !== typeof ea)throw new xb(U.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba));try{S=Fb(ea);}catch(pa){throw new bb(U.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ba),pa);}if(!S || 0 == S.length)throw new xb(U.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ba));try{Y=JSON.parse(Tb(S,Lb)).name;}catch(pa){if(pa instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba),pa);throw pa;}if(!Y)throw new xb(U.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba));return ha[Y]?ha[Y]:ha[""];}function Z(ba,ha,ea){this.tokendata=ba;this.signature=ha;this.verified=ea;}Kc=Bb.Class.create({init:function(ba,ha,ea,S,Y,pa,ma,qa,Ba,sa){var oa;oa=this;Ka(sa,function(){var W,aa,ca,ka,Ga;if(S && Y && !Y.isBoundTo(S))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");W=S?S.serialNumber:-1;aa=Y?Y.serialNumber:-1;if(Ba)return (Ga=Ba.tokendata,Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ma,writable:!1,configurable:!1},verified:{value:Ba.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ga,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ma){ca=ne(ma,ea);ca.length < ea.length || (ma=null,ca=ea);}else (ma=null,ca=ea);ka={};ka.name=ha;-1 != W && (ka.mtserialnumber=W);-1 != aa && (ka.uitserialnumber=aa);ka.encrypted=pa;ma && (ka.compressionalgo=ma);if(pa && 0 < ca.length)qa.encrypt(ca,{result:function(Ea){Ka(sa,function(){var Pa;ka.servicedata=Db(Ea);Pa=Sb(JSON.stringify(ka),Lb);qa.sign(Pa,{result:function(Ra){Ka(sa,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ma,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Pa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ra){Ka(sa,function(){Ra instanceof bb && (Ra.setEntity(S),Ra.setUser(Y));throw Ra;});}});},oa);},error:function(Ea){Ka(sa,function(){Ea instanceof bb && (Ea.setEntity(S),Ea.setUser(Y));throw Ea;});}});else {ka.servicedata=Db(ca);Ga=Sb(JSON.stringify(ka),Lb);qa.sign(Ga,{result:function(Ea){Ka(sa,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ma,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ga,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ea){Ka(sa,function(){Ea instanceof bb && (Ea.setEntity(S),Ea.setUser(Y));throw Ea;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(ba){return ba?ba instanceof ic?ba.serialNumber == this.mtSerialNumber:ba instanceof $c?ba.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var ba;ba={};ba.tokendata=Db(this.tokendata);ba.signature=Db(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof Kc?this.name == ba.name && this.mtSerialNumber == ba.mtSerialNumber && this.uitSerialNumber == ba.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Cc=function(ba,ha,ea,S,Y,pa,ma,qa,Ba){new Kc(ba,ha,ea,S,Y,pa,ma,qa,null,Ba);};Hd=function(ba,ha,ea,S,Y,pa){Ka(pa,function(){var ma,qa,Ba,sa,oa,W,aa,ca,ka,Ga,Ea,Pa,Ra;!Y || Y instanceof ad || (Y=fa(ha,Y));ma=ha.tokendata;qa=ha.signature;if("string" !== typeof ma || "string" !== typeof qa)throw new xb(U.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ha)).setEntity(ea).setEntity(S);try{Ba=Fb(ma);}catch(ia){throw new bb(U.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ha),ia).setEntity(ea).setEntity(S);}if(!Ba || 0 == Ba.length)throw new xb(U.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ha)).setEntity(ea).setEntity(S);try{sa=Fb(qa);}catch(ia){throw new bb(U.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ha),ia).setEntity(ea).setEntity(S);}oa=Tb(Ba,Lb);try{W=JSON.parse(oa);aa=W.name;ca=W.mtserialnumber?parseInt(W.mtserialnumber):-1;ka=W.uitserialnumber?parseInt(W.uitserialnumber):-1;Ga=W.encrypted;Ea=W.compressionalgo;Pa=W.servicedata;}catch(ia){if(ia instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"servicetokendata " + oa,ia).setEntity(ea).setEntity(S);throw ia;}if(!aa || "number" !== typeof ca || ca != ca || "number" !== typeof ka || ka != ka || "boolean" !== typeof Ga || Ea && "string" !== typeof Ea || "string" !== typeof Pa)throw new xb(U.JSON_PARSE_ERROR,"servicetokendata " + oa).setEntity(ea).setEntity(S);if(W.mtserialnumber && 0 > ca || ca > Mb)throw new bb(U.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(S);if(W.uitserialnumber && 0 > ka || ka > Mb)throw new bb(U.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(S);if(-1 != ca && (!ea || ca != ea.serialNumber))throw new bb(U.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ca + "; mt " + ea).setEntity(ea).setEntity(S);if(-1 != ka && (!S || ka != S.serialNumber))throw new bb(U.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + ka + "; uit " + S).setEntity(ea).setEntity(S);Ga=!0 === Ga;if(Ea){if(!Pc[Ea])throw new bb(U.UNIDENTIFIED_COMPRESSION,Ea);Ra=Ea;}else Ra=null;Y?Y.verify(Ba,sa,{result:function(ia){Ka(pa,function(){var ua,xa;if(ia){try{ua=Fb(Pa);}catch(Ha){throw new bb(U.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa,Ha).setEntity(ea).setEntity(S);}if(!ua || 0 != Pa.length && 0 == ua.length)throw new bb(U.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa).setEntity(ea).setEntity(S);if(Ga && 0 < ua.length)Y.decrypt(ua,{result:function(Ha){Ka(pa,function(){var Aa,Oa;Aa=Ra?Id(Ra,Ha):Ha;Oa=new Z(Ba,sa,ia);new Kc(ba,aa,Aa,-1 != ca?ea:null,-1 != ka?S:null,Ga,Ra,Y,Oa,pa);});},error:function(Ha){Ka(pa,function(){Ha instanceof bb && (Ha.setEntity(ea),Ha.setUser(S));throw Ha;});}});else {ua=Ra?Id(Ra,ua):ua;xa=new Z(Ba,sa,ia);new Kc(ba,aa,ua,-1 != ca?ea:null,-1 != ka?S:null,Ga,Ra,Y,xa,pa);}}else (ua="" == Pa?new Uint8Array(0):null,xa=new Z(Ba,sa,ia),new Kc(ba,aa,ua,-1 != ca?ea:null,-1 != ka?S:null,Ga,Ra,Y,xa,pa));});},error:function(ia){Ka(pa,function(){ia instanceof bb && (ia.setEntity(ea),ia.setUser(S));throw ia;});}}):(ma="" == Pa?new Uint8Array(0):null,qa=new Z(Ba,sa,!1),new Kc(ba,aa,ma,-1 != ca?ea:null,-1 != ka?S:null,Ga,Ra,Y,qa,pa));});};})();$b={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze($b);(function(){Hc=Bb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(fa){return this === fa?!0:fa instanceof Hc?this.scheme == fa.scheme:!1;},toJSON:function(){var fa;fa={};fa.scheme=this.scheme;fa.authdata=this.getAuthData();return fa;}});ef=function(fa,Z,ba,ha){Ka(ha,function(){var ea,S,Y;ea=ba.scheme;S=ba.authdata;if(!ea || !S)throw new xb(U.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(ba));if(!$b[ea])throw new Gb(U.UNIDENTIFIED_USERAUTH_SCHEME,ea);Y=fa.getUserAuthenticationFactory(ea);if(!Y)throw new Gb(U.USERAUTH_FACTORY_NOT_FOUND,ea);Y.createData(fa,Z,S,ha);});};})();md=Bb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},createData:function(fa,Z,ba,ha){},authenticate:function(fa,Z,ba,ha){}});(function(){Xc=Hc.extend({init:function ha(Z,ba){ha.base.call(this,$b.NETFLIXID);Object.defineProperties(this,{netflixId:{value:Z,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.netflixid=this.netflixId;this.secureNetflixId && (Z.securenetflixid=this.secureNetflixId);return Z;},equals:function ha(ba){return this === ba?!0:ba instanceof Xc?ha.base.call(this,ba) && this.netflixId == ba.netflixId && this.secureNetflixId == ba.secureNetflixId:!1;}});rf=function(ba){var ha,ea;ha=ba.netflixid;ea=ba.securenetflixid;if(!ha)throw new xb(U.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(ba));return new Xc(ha,ea);};})();Uf=md.extend({init:function Z(){Z.base.call(this,$b.NETFLIXID);},createData:function(Z,ba,ha,ea){Ka(ea,function(){return rf(ha);});},authenticate:function(Z,ba,ha,ea){if(!(ha instanceof Xc))throw new vb("Incorrect authentication data type " + ha + ".");Z=ha.secureNetflixId;if(!ha.netflixId || !Z)throw new Gb(U.NETFLIXID_COOKIES_BLANK).setUser(ha);throw new Gb(U.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ha);}});(function(){nd=Hc.extend({init:function ea(ba,ha){ea.base.call(this,$b.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:ba,writable:!1,configurable:!1},password:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){var ba;ba={};ba.email=this.email;ba.password=this.password;return ba;},equals:function ea(ha){return this === ha?!0:ha instanceof nd?ea.base.call(this,this,ha) && this.email == ha.email && this.password == ha.password:!1;}});sf=function(ha){var ea,S;ea=ha.email;S=ha.password;if(!ea || !S)throw new xb(U.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ha));return new nd(ea,S);};})();Vf=md.extend({init:function ba(){ba.base.call(this,$b.EMAIL_PASSWORD);},createData:function(ba,ha,ea,S){Ka(S,function(){return sf(ea);});},authenticate:function(ba,ha,ea,S){if(!(ea instanceof nd))throw new vb("Incorrect authentication data type " + ea + ".");ba=ea.password;if(!ea.email || !ba)throw new Gb(U.EMAILPASSWORD_BLANK).setUser(ea);throw new Gb(U.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});(function(){var S,Y,pa,ma,qa,Ba,sa,oa;function ba(W,aa){return "<" + W + ">" + aa + "</" + W + ">";}function ha(W){return W.replace(/[<>&"']/g,function(aa){return qa[aa];});}function ea(W){return encodeURIComponent(W).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}S=Ld={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};Y=Bb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});pa=pe=Y.extend({init:function(W,aa,ca,ka,Ga,Ea,Pa){var ua;function Ra(xa){Ka(Pa,function(){var Ha,Aa;try{Ha={};Ha.useridtoken=W;Ha.action=aa;Ha.nonce=ca;Ha.pin=Db(xa);Aa=Sb(JSON.stringify(Ha),Lb);}catch(Oa){throw new xb(U.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Oa);}Ga.sign(Aa,{result:function(Oa){ia(Aa,Oa);},error:Pa.error});},ua);}function ia(xa,Ha){Ka(Pa,function(){Object.defineProperties(this,{_userIdToken:{value:W,writable:!1,enumerable:!1,configurable:!1},_action:{value:aa,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ca,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ka,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:xa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ha,writable:!1,enumerable:!1,configurable:!1}});return this;},ua);}ua=this;Ka(Pa,function(){Ea?ia(Ea.encoding,Ea.signature):Ga.encrypt(Sb(ka,Lb),{result:function(xa){Ra(xa);},error:Pa.error});},ua);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof pa?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin && this._userIdToken.equals(W._userIdToken):!1;}});pe.ACTION="userauth";ma=function(W,aa,ca,ka,Ga){function Ea(Ra){Ka(Ga,function(){var ia,ua,xa,Ha,Aa,Oa;ia=Tb(ca,Lb);try{ua=JSON.parse(ia);xa=ua.useridtoken;Ha=ua.action;Aa=ua.nonce;Oa=ua.pin;}catch(Da){if(Da instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"MDX authdata " + ia,Da);throw Da;}if(!(xa && "object" === typeof xa && Ha && "string" === typeof Ha && Aa && "number" === typeof Aa && Oa) || "string" !== typeof Oa)throw new xb(U.JSON_PARSE_ERROR,"MDX authdata " + ia);Uc(W,xa,aa,{result:function(Da){Ka(Ga,function(){if(!Da.isDecrypted())throw new Gb(U.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + ia);Pa(Ra,Da,Ha,Aa,Oa);});},error:function(Da){Ka(Ga,function(){if(Da instanceof bb)throw new Gb(U.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + ia,Da);throw Da;});}});});}function Pa(Ra,ia,ua,xa,Ha){Ka(Ga,function(){var Aa;Aa=Fb(Ha);Ra.decrypt(Aa,{result:function(Oa){Ka(Ga,function(){var Da;Da=Tb(Oa,Lb);new pa(ia,ua,xa,Da,null,{encoding:ca,signature:ka},Ga);});},error:Ga.error});});}Ka(Ga,function(){var Ra,ia;try{Ra=W.getMslStore().getCryptoContext(aa);ia=Ra?Ra:new jc(W,aa);}catch(ua){if(ua instanceof Rc)throw new Gb(U.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Db(ca));throw ua;}ia.verify(ca,ka,{result:function(ua){Ka(Ga,function(){if(!ua)throw new tb(U.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ca));Ea(ia);});},error:Ga.error});});};qa={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Ba=od=Y.extend({init:function(W,aa,ca,ka){var Ga,Ea;Ga=ba("action",ha(W));Ea=ba("nonce",aa.toString());ca=ba("pin",ca);Ga=ba("registerdata",Ga + Ea + ca);Ga=Sb(Ga,"utf-8");Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof Ba?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});od.ACTION="regpairrequest";sa=qe=Y.extend({init:function(W,aa,ca,ka,Ga,Ea){var ia;function Pa(ua){Ka(Ea,function(){var xa,Ha,Aa,Oa,Da;xa=Db(ua);Ha=ba("action",ha(W));Aa=ba("nonce",aa.toString());Oa=ba("pin",xa);Ha=ba("registerdata",Ha + Aa + Oa);Da=Sb(Ha,"utf-8");xa="action=" + ea(W) + "&nonce=" + ea(aa.toString()) + "&pin=" + ea(xa);ka.sign(Sb(xa,"utf-8"),{result:function(Wa){Ra(Da,Wa);},error:Ea.error});},ia);}function Ra(ua,xa){Ka(Ea,function(){Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ca,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:ua,writable:!1,enumerable:!1,configurable:!1},_signature:{value:xa,writable:!1,enumerable:!1,configurable:!1}});return this;},ia);}ia=this;Ka(Ea,function(){Ga?Ra(Ga.encoding,Ga.signature):ka.encrypt(Sb(ca,"utf-8"),{result:function(ua){Pa(ua);},error:Ea.error});},ia);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof sa?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});qe.ACTION=od.ACTION;oa=function(W,aa,ca,ka,Ga){Ka(Ga,function(){var Ea,Pa,Ra,ia,ua,xa,Ha;Ea=W.getMslStore().getCryptoContext(aa);Pa=Ea?Ea:new jc(W,aa);Ea=Tb(ca,"utf-8");Ra=new DOMParser().parseFromString(Ea,"application/xml");Ea=Ra.getElementsByTagName("action");ia=Ra.getElementsByTagName("nonce");Ra=Ra.getElementsByTagName("pin");ua=Ea && 1 == Ea.length && Ea[0].firstChild?Ea[0].firstChild.nodeValue:null;xa=ia && 1 == ia.length && ia[0].firstChild?parseInt(ia[0].firstChild.nodeValue):null;Ha=Ra && 1 == Ra.length && Ra[0].firstChild?Ra[0].firstChild.nodeValue:null;if(!ua || !xa || !Ha)throw new xb(U.XML_PARSE_ERROR,"MDX authdata " + Db(ca));Ea="action=" + ea(ua) + "&nonce=" + ea(xa.toString()) + "&pin=" + ea(Ha);Pa.verify(Sb(Ea,"utf-8"),ka,{result:function(Aa){Ka(Ga,function(){var Oa;if(!Aa)throw new tb(U.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ca));Oa=Fb(Ha);Pa.decrypt(Oa,{result:function(Da){Ka(Ga,function(){var Wa;Wa=Tb(Da,"utf-8");new sa(ua,xa,Wa,null,{encoding:ca,signature:ka},Ga);});},error:Ga.error});});},error:Ga.error});});};dd=Hc.extend({init:function Ra(aa,ca,ka,Ga,Ea,Pa){var ia,ua,xa,Ha,Aa,Oa;Ra.base.call(this,$b.MDX);ia=null;ua=null;xa=null;if("string" === typeof ka)(aa=S.MSL_LEGACY,xa=ka);else if(ka instanceof Uint8Array)(aa=S.NTBA,ua=ka);else if(ka instanceof ic)(aa=S.MSL,ia=ka);else throw new TypeError("Controller token " + ka + " is not a master token, encrypted CTicket, or MSL token construct.");Ha=ka=null;Aa=null;if(Pa){Oa=Pa.controllerAuthData;ka=Oa.getAction();Ha=Oa.getPin();Pa=Pa.userIdToken;Oa instanceof pa?Aa=Oa.getUserIdToken().customer:Pa && (Aa=Pa.customer);}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},action:{value:ka,writable:!1,configurable:!1},targetPin:{value:ca,writable:!1,configurable:!1},controllerPin:{value:Ha,writable:!1,configurable:!1},customer:{value:Aa,writable:!1,configurable:!1},_masterToken:{value:ia,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:ua,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:xa,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ea,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var aa,ca;aa={};switch(this.mechanism){case S.MSL:ca=JSON.parse(JSON.stringify(this._masterToken));aa.mastertoken=ca;break;case S.NTBA:ca=Tb(this._encryptedCTicket,"utf-8");aa.cticket=ca;break;case S.MSL_LEGACY:aa.cticket=this._mslTokens;break;default:throw new vb("Unsupported MDX mechanism.");}aa.pin=this.targetPin;aa.mdxauthdata=Db(this._controllerEncoding);aa.signature=Db(this._signature);return aa;},equals:function ka(ca){return this === ca?!0:ca instanceof dd?ka.base.call(this,ca) && (this._masterToken == ca._masterToken || this._masterToken && this._masterToken.equals(ca._masterToken)) && (this._encryptedCTicket == ca._encryptedCTicket || this._encryptedCTicket && Xb(this._encryptedCTicket,ca._encryptedCTicket)) && this._mslTokens == ca._mslTokens && Xb(this._controllerEncoding,ca._controllerEncoding) && Xb(this._signature,ca._signature):!1;}});tf=function(ca,ka,Ga){function Ea(ia,ua,xa,Ha){Tc(ca,ua,{result:function(Aa){Ka(Ga,function(){if(!Aa.isDecrypted())throw new Gb(U.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + ka.toString());ma(ca,Aa,xa,Ha,{result:function(Oa){Ka(Ga,function(){var Da,Wa;Da=Oa.getEncoding();Wa=Oa.getSignature();return new dd(ca,ia,Aa,Da,Wa,{controllerAuthData:Oa,userIdToken:null});});},error:Ga.error});});},error:function(Aa){Ka(Ga,function(){if(Aa instanceof bb)throw new Gb(U.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),Aa);throw Aa;});}});}function Pa(ia,ua,xa,Ha){Ka(Ga,function(){throw new Gb(U.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Ra(ia,ua,xa,Ha){function Aa(Da,Wa){Ka(Wa,function(){var Ya,Xa;try{Ya=Fb(Da);}catch(hb){throw new Gb(U.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),hb);}if(!Ya || 0 == Ya.length)throw new Gb(U.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(ka));try{Xa=JSON.parse(Tb(Ya,"utf-8"));Tc(ca,Xa,{result:function(hb){Ka(Wa,function(){if(!hb.isDecrypted())throw new Gb(U.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + ka.toString());return hb;});},error:function(hb){Ka(Wa,function(){if(hb instanceof bb)throw new Gb(U.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),hb);throw hb;});}});}catch(hb){if(hb instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka),hb);throw hb;}});}function Oa(Da,Wa,Ya){Ka(Ya,function(){var Xa,hb;try{Xa=Fb(Da);}catch(lb){throw new Gb(U.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),lb);}if(!Xa || 0 == Xa.length)throw new Gb(U.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(ka));try{hb=JSON.parse(Tb(Xa,"utf-8"));Uc(ca,hb,Wa,{result:function(lb){Ka(Ya,function(){if(!lb.isDecrypted())throw new Gb(U.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(ka));return lb;});},error:function(lb){Ka(Ya,function(){if(lb instanceof bb)throw new Gb(U.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(ka),lb);throw lb;});}});}catch(lb){if(lb instanceof SyntaxError)throw new xb(U.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka),lb);throw lb;}});}Ka(Ga,function(){var Da;Da=ua.split(",");if(3 != Da.length || "1" != Da[0])throw new Gb(U.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(ka));Aa(Da[1],{result:function(Wa){Oa(Da[2],Wa,{result:function(Ya){oa(ca,Wa,xa,Ha,{result:function(Xa){Ka(Ga,function(){return new dd(ca,ia,ua,xa,Ha,{controllerAuthData:Xa,userIdToken:Ya});});},error:function(Xa){Ka(Ga,function(){if(Xa instanceof Rc)throw new Gb(U.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(ka),Xa);throw Xa;});}});},error:Ga.error});},error:Ga.error});});}Ka(Ga,function(){var ia,ua,xa,Ha,Aa;ia=ka.pin;ua=ka.mdxauthdata;xa=ka.signature;if(!ia || "string" !== typeof ia || !ua || "string" !== typeof ua || !xa || "string" !== typeof xa)throw new xb(U.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka));try{Ha=Fb(ua);Aa=Fb(xa);}catch(Oa){throw new Gb(U.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(ka),Oa);}if(ka.mastertoken){ua=ka.mastertoken;if(!ua || "object" !== typeof ua)throw new xb(U.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka));Ea(ia,ua,Ha,Aa);}else if(ka.cticket){ua=ka.cticket;if(!ua || "string" !== typeof ua)throw new xb(U.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(ka));-1 == ua.indexOf(",")?Pa(ia,ua,Ha,Aa):Ra(ia,ua,Ha,Aa);}else throw new Gb(U.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(ka));});};})();(function(){var ba,ha,ea;ba=pe.ACTION;ha=od.ACTION;ea=qe.ACTION;uf=md.extend({init:function Y(){Y.base.call(this,$b.MDX);},createData:function(Y,pa,ma,qa){tf(Y,ma,qa);},authenticate:function(Y,pa,ma,qa){if(!(ma instanceof dd))throw new vb("Incorrect authentication data type " + ma.getClass().getName() + ".");Y=ma.action;switch(ma.mechanism){case Ld.MSL:if(ba != Y)throw new Gb(U.MDX_USERAUTH_ACTION_INVALID).setUser(ma);break;case Ld.NTBA:if(ha != Y)throw new Gb(U.MDX_USERAUTH_ACTION_INVALID).setUser(ma);break;case Ld.MSL_LEGACY:if(ea != Y)throw new Gb(U.MDX_USERAUTH_ACTION_INVALID).setUser(ma);}Y=ma.controllerPin;pa=ma.targetPin;if(!Y || !pa)throw new Gb(U.MDX_PIN_BLANK).setUser(ma);if(Y != pa)throw new Gb(U.MDX_PIN_MISMATCH).setUser(ma);Y=ma.customer;if(!Y)throw new Gb(U.MDX_USER_UNKNOWN).setUser(ma);if(qa && (qa=qa.customer,!Y.equals(qa)))throw new Gb(U.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + Y + "; uit customer " + qa).setUser(ma);return Y;}});})();(function(){var ba,ha,ea;ba={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ha=wf=Bb.Class.create({init:function(S,Y){Object.defineProperties(this,{email:{value:S,writable:!1,enumerable:!0,configurable:!1},password:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});ea=xf=Bb.Class.create({init:function(S,Y){Object.defineProperties(this,{netflixId:{value:S,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});pd=Hc.extend({init:function Ba(Y,pa,ma,qa){var sa,oa,W,aa;Ba.base.call(this,$b.SSO);sa=null;oa=null;W=null;aa=null;ma instanceof ha?(sa=ma.email,oa=ma.password):ma instanceof ea && (W=ma.netflixId,aa=ma.secureNetflixId);Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},token:{value:pa,writable:!1,configurable:!1},email:{value:sa,writable:!1,configurable:!1},password:{value:oa,writable:!1,configurable:!1},netflixId:{value:W,writable:!1,configurable:!1},secureNetflixId:{value:aa,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof qa?null:qa,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.mechanism=this.mechanism;Y.token=Db(this.token);this.email && this.password?(Y.email=this.email,Y.password=this.password):this.netflixId && this.secureNetflixId && (Y.netflixid=this.netflixId,Y.securenetflixid=this.secureNetflixId);this.profileGuid && (Y.profileguid=this.profileGuid);return Y;},equals:function ma(pa){return this === pa?!0:pa instanceof pd?ma.base.call(this,pa) && this.mechanism == pa.mechanism && Xb(this.token,pa.token) && this.email == pa.email && this.password == pa.password && this.netflixId == pa.netflixId && this.secureNetflixId == pa.secureNetflixId && this.profileGuid == pa.profileGuid:!1;}});vf=function(pa){var ma,qa,Ba,sa,oa,W,aa,ca,ka;ma=pa.mechanism;qa=pa.token;if(!ma || !qa || "string" !== typeof qa)throw new xb(U.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(pa));if(!ba[ma])throw new Gb(U.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(pa));Ba=pa.email;sa=pa.password;oa=pa.netflixid;W=pa.securenetflixid;aa=pa.profileguid;if(Ba && !sa || !Ba && sa || oa && !W || !oa && W || Ba && oa)throw new xb(U.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(pa));try{ca=Fb(qa);}catch(Ga){throw new Gb(U.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(pa),Ga);}Ba && sa?ka=new ha(Ba,sa):oa && W && (ka=new ea(oa,W));return new pd(ma,ca,ka,aa);};})();Wf=md.extend({init:function ha(){ha.base.call(this,$b.SSO);},createData:function(ha,ea,S,Y){Ka(Y,function(){return vf(S);});},authenticate:function(ha,ea,S,Y){var pa,ma;if(!(S instanceof pd))throw new vb("Incorrect authentication data type " + S + ".");ha=S.token;ea=S.email;Y=S.password;pa=S.netflixId;ma=S.secureNetflixId;if(!ha || 0 == ha.length)throw new Gb(U.SSOTOKEN_BLANK);if(!(null === ea && null === Y || ea && Y))throw new Gb(U.EMAILPASSWORD_BLANK);if(!(null === pa && null === ma || pa && ma))throw new Gb(U.NETFLIXID_COOKIES_BLANK).setUser(S);throw new Gb(U.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(S);}});(function(){qd=Hc.extend({init:function Y(ea,S){Y.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:ea,writable:!1,configurable:!1},profileGuid:{value:S,writable:!1,configurable:!1}});},getAuthData:function(){var ea;ea={};ea.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));ea.profileguid=this.profileGuid;return ea;},equals:function Y(S){return this == S?!0:S instanceof qd?Y.base.call(this,S) && this.userIdToken.equals(S.userIdToken) && this.profileGuid == S.profileGuid:!1;}});yf=function(S,Y,pa,ma){Ka(ma,function(){var qa,Ba;if(!Y)throw new Gb(U.USERAUTH_MASTERTOKEN_MISSING);qa=pa.useridtoken;Ba=pa.profileguid;if("object" !== typeof qa || "string" !== typeof Ba)throw new xb(U.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(pa));Uc(S,qa,Y,{result:function(sa){Ka(ma,function(){if(!sa.isDecrypted())throw new Gb(U.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(pa));return new qd(sa,Ba);});},error:function(sa){ma.error(new Gb(U.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(pa),sa));}});});};})();Xf=md.extend({init:function S(ea){S.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:ea,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ea,S,Y,pa){yf(ea,S,Y,pa);},authenticate:function(ea,S,Y,pa){if(!(Y instanceof qd))throw new vb("Incorrect authentication data type " + Y + ".");S=Y.userIdToken;ea=Y.profileGuid;if(!ea)throw new Gb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(Y);S=S.user;if(!S)throw new Gb(U.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(Y);ea=this._store.switchUsers(S,ea);if(!ea)throw new Gb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(Y);if(pa && (pa=pa.user,!ea.equals(pa)))throw new Gb(U.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + ea + "; uit user " + pa).setUserAuthenticationData(Y);return ea;}});Object.freeze({ENTITY_REAUTH:Ja.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ja.ENTITYDATA_REAUTH});Yf=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(ea,S){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(ea){},getUserAuthenticationFactory:function(ea){},getTokenFactory:function(){},getKeyExchangeFactory:function(ea){},getKeyExchangeFactories:function(){},getMslStore:function(){}});zf=Bb.Class.create({setCryptoContext:function(ea,S){},getMasterToken:function(){},getNonReplayableId:function(ea){},getCryptoContext:function(ea){},removeCryptoContext:function(ea){},clearCryptoContexts:function(){},addUserIdToken:function(ea,S){},getUserIdToken:function(ea){},removeUserIdToken:function(ea){},clearUserIdTokens:function(){},addServiceTokens:function(ea){},getServiceTokens:function(ea,S){},removeServiceTokens:function(ea,S,Y){},clearServiceTokens:function(){}});(function(){var ea;ea=Pc;ne=function(S,Y){var pa;pa={};switch(S){case ea.LZW:return Be(Y,pa);case ea.GZIP:return gzip$compress(Y);default:throw new bb(U.UNSUPPORTED_COMPRESSION,S);}};Id=function(S,Y,pa){switch(S){case ea.LZW:return Ce(Y);case ea.GZIP:return gzip$uncompress(Y);default:throw new bb(U.UNSUPPORTED_COMPRESSION,S.name());}};})();zf.extend({setCryptoContext:function(ea,S){},getMasterToken:function(){return null;},getNonReplayableId:function(ea){return 1;},getCryptoContext:function(ea){return null;},removeCryptoContext:function(ea){},clearCryptoContexts:function(){},addUserIdToken:function(ea,S){},getUserIdToken:function(ea){return null;},removeUserIdToken:function(ea){},clearUserIdTokens:function(){},addServiceTokens:function(ea){},getServiceTokens:function(ea,S){if(S){if(!ea)throw new bb(U.USERIDTOKEN_MASTERTOKEN_NULL);if(!S.isBoundTo(ea))throw new bb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + S.mtSerialNumber + "; mt " + ea.serialNumber);}return [];},removeServiceTokens:function(ea,S,Y){if(Y && S && !Y.isBoundTo(S))throw new bb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.masterTokenSerialNumber + "; mt " + S.serialNumber);},clearServiceTokens:function(){}});(function(){Af=zf.extend({init:function S(){S.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(S,Y){var pa;if(Y){pa=S.uniqueKey();this.masterTokens[pa]=S;this.cryptoContexts[pa]=Y;}else this.removeCryptoContext(S);},getMasterToken:function(){var S,Y,pa;S=null;for(Y in this.masterTokens){pa=this.masterTokens[Y];if(!S || pa.isNewerThan(S))S=pa;}return S;},getNonReplayableId:function(S){var Y;S=S.serialNumber;Y=this.nonReplayableIds[S] !== Ab?this.nonReplayableIds[S]:0;if(0 > Y || Y > Mb)throw new vb("Non-replayable ID " + Y + " is outside the valid range.");Y=Y == Mb?0:Y + 1;return this.nonReplayableIds[S]=Y;},getCryptoContext:function(S){return this.cryptoContexts[S.uniqueKey()];},removeCryptoContext:function(S){var Y,pa,ma,qa;Y=S.uniqueKey();if(this.masterTokens[Y]){pa=S.serialNumber;for(ma in this.masterTokens){qa=this.masterTokens[ma];if(!qa.equals(S) && qa.serialNumber == pa){delete this.masterTokens[Y];delete this.cryptoContexts[Y];return;}}Object.keys(this.userIdTokens).forEach(function(Ba){Ba=this.userIdTokens[Ba];Ba.isBoundTo(S) && this.removeUserIdToken(Ba);},this);try{this.removeServiceTokens(null,S,null);}catch(Ba){if(Ba instanceof bb)throw new vb("Unexpected exception while removing master token bound service tokens.",Ba);throw Ba;}delete this.nonReplayableIds[pa];delete this.masterTokens[Y];delete this.cryptoContexts[Y];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(S){for(var Y in S){delete S[Y];}},this);},addUserIdToken:function(S,Y){var pa,ma;pa=!1;for(ma in this.masterTokens){if(Y.isBoundTo(this.masterTokens[ma])){pa=!0;break;}}if(!pa)throw new bb(U.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + Y.mtSerialNumber);this.userIdTokens[S]=Y;},getUserIdToken:function(S){return this.userIdTokens[S];},removeUserIdToken:function(S){var Y,pa,ma;Y=null;for(pa in this.masterTokens){ma=this.masterTokens[pa];if(S.isBoundTo(ma)){Y=ma;break;}}Object.keys(this.userIdTokens).forEach(function(qa){if(this.userIdTokens[qa].equals(S)){try{this.removeServiceTokens(null,Y,S);}catch(Ba){if(Ba instanceof bb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",Ba);throw Ba;}delete this.userIdTokens[qa];}},this);},clearUserIdTokens:function(){for(var S in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[S]);}},addServiceTokens:function(S){S.forEach(function(Y){var pa,ma;if(Y.isMasterTokenBound()){pa=!1;for(ma in this.masterTokens){if(Y.isBoundTo(this.masterTokens[ma])){pa=!0;break;}}if(!pa)throw new bb(U.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + Y.mtSerialNumber);}if(Y.isUserIdTokenBound()){pa=!1;for(var qa in this.userIdTokens){if(Y.isBoundTo(this.userIdTokens[qa])){pa=!0;break;}}if(!pa)throw new bb(U.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + Y.uitSerialNumber);}},this);S.forEach(function(Y){var pa;if(Y.isUnbound())this.unboundServiceTokens[Y.uniqueKey()]=Y;else {if(Y.isMasterTokenBound()){pa=this.mtServiceTokens[Y.mtSerialNumber];pa || (pa={});pa[Y.uniqueKey()]=Y;this.mtServiceTokens[Y.mtSerialNumber]=pa;}Y.isUserIdTokenBound() && ((pa=this.uitServiceTokens[Y.uitSerialNumber]) || (pa={}),pa[Y.uniqueKey()]=Y,this.uitServiceTokens[Y.uitSerialNumber]=pa);}},this);},getServiceTokens:function(S,Y){var pa,ma,qa;if(Y){if(!S)throw new bb(U.USERIDTOKEN_MASTERTOKEN_NULL);if(!Y.isBoundTo(S))throw new bb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.mtSerialNumber + "; mt " + S.serialNumber);}pa={};for(ma in this.unboundServiceTokens){qa=this.unboundServiceTokens[ma];pa[qa.uniqueKey()]=qa;}if(S && (ma=this.mtServiceTokens[S.serialNumber]))for(var Ba in ma){qa=ma[Ba];qa.isUserIdTokenBound() || (pa[Ba]=qa);}if(Y && (Y=this.uitServiceTokens[Y.serialNumber]))for(var sa in Y){Ba=Y[sa];Ba.isBoundTo(S) && (pa[sa]=Ba);}S=[];for(var oa in pa){S.push(pa[oa]);}return S;},removeServiceTokens:function(S,Y,pa){var ma,qa,Ba;if(pa && Y && !pa.isBoundTo(Y))throw new bb(U.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + pa.mtSerialNumber + "; mt " + Y.serialNumber);!S || Y || pa || Object.keys(this.unboundServiceTokens).forEach(function(sa){this.unboundServiceTokens[sa].name == S && delete this.unboundServiceTokens[sa];},this);if(Y && !pa && (ma=this.mtServiceTokens[Y.serialNumber])){Ba=Object.keys(ma);Ba.forEach(function(sa){var oa;oa=ma[sa];S && oa.name != S || delete ma[sa];},this);this.mtServiceTokens[Y.serialNumber]=ma;}pa && (qa=this.uitServiceTokens[pa.serialNumber]) && (Y=Object.keys(qa),Y.forEach(function(sa){var oa;oa=qa[sa];S && oa.name != S || delete qa[sa];},this),this.uitServiceTokens[pa.serialNumber]=qa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(S){for(var Y in S){delete S[Y];}},this);}});})();Gf=Rf.extend({init:function S(){S.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(S,Y){Y && S && S.length && (S=Db(S),this._contextMap[S]=Y);},getCryptoContext:function(S){return S && S.length?(S=Db(S),this._contextMap[S] || null):null;},removeCryptoContext:function(S){S && S.length && (S=Db(S),delete this._contextMap[S]);}});Bf=Jf.extend({init:function Ba(Y,pa,ma,qa){Ba.base.call(this,Y);Object.defineProperties(this,{_kde:{value:pa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:qa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Y,pa){if(!(pa instanceof nc))throw new vb("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.identity != this.localIdentity)throw new wc(U.ENTITY_NOT_FOUND,"mgk " + pa.identity);return new Bd(Y,this.localIdentity,this._kde,this._kdh,this._kdw);}});Zf=Kf.extend({init:function sa(pa,ma,qa,Ba){sa.base.call(this,pa);Object.defineProperties(this,{_kpe:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kph:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(pa,ma){if(!(ma instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.identity != this.localIdentity)throw new wc(U.ENTITY_NOT_FOUND,"psk " + ma.identity);return new Bd(pa,this.localIdentity,this._kpe,this._kph,this._kpw);}});ag=Af.extend({init:function aa(ma,qa,Ba,sa,oa,W){aa.base.call(this);this._log=ma;this._esn=qa;this._keyRequestData=Ba;this._createKeyRequestData=sa;this._systemKeyName=oa;this._systemKeyWrapFormat=W;},setCryptoContext:function oa(qa,Ba,sa){var W;W=this;W._log.trace("Adding MasterToken",{SequenceNumber:qa.sequenceNumber,SerialNumber:qa.serialNumber,Expiration:qa.expiration.getTime()});oa.base.call(this,qa,Ba);!sa && (qa=W._createKeyRequestData) && (W._log.trace("Generating new keyx request data"),qa().then(function(aa){W._keyRequestData=aa;},function(aa){W._log.error("Unable to generate new keyx request data","" + aa);}));},addUserIdToken:function oa(Ba,sa){this._log.trace("Adding UserIdToken",{UserId:Ba,SerialNumber:sa.serialNumber,MTSerialNumber:sa.mtSerialNumber,Expiration:sa.expiration.getTime()});oa.base.call(this,Ba,sa);},addServiceTokens:function oa(sa){oa.base.call(this,sa.filter(function(W){return !$f[W.name];}));},getUserIdTokenKeys:function(){var sa,oa;sa=[];for(oa in this.userIdTokens){sa.push(oa);}return sa;},rekeyUserIdToken:function(sa,oa){this.userIdTokens[sa] && (this.userIdTokens[oa]=this.userIdTokens[sa],delete this.userIdTokens[sa]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(sa){var oa;oa=this;Ka(sa,function(){var W;W=oa.getMasterToken();W?oa.getKeysForStore(W,{result:function(aa){Ka(sa,function(){var ca,ka,Ga;ca=oa.userIdTokens;ka=Object.keys(ca).map(function(Ea){var Pa;Pa=ca[Ea];return {userId:Ea,userIdTokenJSON:ca[Ea].toJSON(),serviceTokenJSONList:oa.getServiceTokens(W,Pa).map(Df)};});aa.esn=oa._esn;aa.masterTokenJSON=W.toJSON();aa.userList=ka;Ga=oa._keyRequestData.storeData;Ga && Object.keys(Ga).forEach(function(Ea){aa[Ea]=Ga[Ea];});return aa;});},timeout:sa.timeout,error:sa.error}):sa.result(null);});},getKeysForStore:function(sa,oa){var W;W=this;Ka(oa,function(){var aa;aa=W.getCryptoContext(sa);aa={encryptionKey:aa.encryptionKey,hmacKey:aa.hmacKey};if(aa.encryptionKey && aa.hmacKey){if(W._systemKeyWrapFormat)W.wrapKeysWithSystemKey(aa,oa);else return aa;}else throw new bb(U.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(sa,oa){var W;W=this;ve(this._systemKeyName,{result:function(aa){Ka(oa,function(){var ca,ka,Ga,Ea;ca=sa.encryptionKey;ka=sa.hmacKey;Ga=ca[ed];Ea=ka[ed];if(Ga && Ea)return {wrappedEncryptionKey:Ga,wrappedHmacKey:Ea};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(W._systemKeyWrapFormat,ca,aa,aa.algorithm),Jb.wrapKey(W._systemKeyWrapFormat,ka,aa,aa.algorithm)]);}).then(function(Pa){Ga=Db(Pa[0]);ca[ed]=Ga;Ea=Db(Pa[1]);ka[ed]=Ea;oa.result({wrappedEncryptionKey:Ga,wrappedHmacKey:Ea});}).catch(function(Pa){oa.error(new bb(U.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Pa));});});},timeout:oa.timeout,error:oa.error});},unwrapKeysWithSystemKey:function(sa,oa){var W;W=this;ve(this._systemKeyName,{result:function(aa){Ka(oa,function(){var ca,ka;ca=Fb(sa.wrappedEncryptionKey);ka=Fb(sa.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(W._systemKeyWrapFormat,ca,aa,aa.algorithm,rc,!1,Ic),Jb.unwrapKey(W._systemKeyWrapFormat,ka,aa,aa.algorithm,sc,!1,Sc)]);}).then(function(Ga){var Ea;Ea=Ga[0];Ga=Ga[1];Ea[ed]=sa.wrappedEncryptionKey;Ga[ed]=sa.wrappedHmacKey;oa.result({encryptionKey:Ea,hmacKey:Ga});}).catch(function(Ga){oa.error(new bb(U.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ga));});});},timeout:oa.timeout,error:oa.error});},loadStoreState:function(sa,oa,W,aa){var Ga,Ea;function ca(Pa,Ra){var ia;try{ia=W.userList.slice();}catch(ua){}ia?(function xa(){var Ha;Ha=ia.shift();Ha?Uc(oa,Ha.userIdTokenJSON,Pa,{result:function(Aa){try{Ga.addUserIdToken(Ha.userId,Aa);ka(Pa,Aa,Ha.serviceTokenJSONList,{result:xa,timeout:xa,error:xa});}catch(Oa){xa();}},timeout:xa,error:xa}):Ra.result();})():Ra.result();}function ka(Pa,Ra,ia,ua){var xa,Ha;try{xa=ia.slice();}catch(Aa){}if(xa){Ha=Ga.getCryptoContext(Pa);(function Oa(){var Da;Da=xa.shift();Da?Hd(oa,Da,Pa,Ra,Ha,{result:function(Wa){Ga.addServiceTokens([Wa]);Oa();},timeout:function(){Oa();},error:function(){Oa();}}):ua.result();})();}else ua.result();}Ga=this;Ea=Ga._log;W.esn != Ga._esn?(Ea.error("Esn mismatch, starting fresh"),aa.error()):(function(Pa){var ua,xa,Ha,Aa;function Ra(){var Oa;if(!ua && xa && Ha && Aa){ua=!0;Oa=new jc(oa,xa,sa.esn,{rawKey:Ha},{rawKey:Aa});Ga.setCryptoContext(xa,Oa,!0);Pa.result(xa);}}function ia(Oa,Da){Ea.error(Oa,Da && "" + Da);ua || (ua=!0,Pa.error());}W.masterTokenJSON?(Tc(oa,W.masterTokenJSON,{result:function(Oa){xa=Oa;Ra();},timeout:function(){ia("Timeout parsing MasterToken");},error:function(Oa){ia("Error parsing MasterToken",Oa);}}),Ga._systemKeyWrapFormat?Ga.unwrapKeysWithSystemKey(W,{result:function(Oa){Ha=Oa.encryptionKey;Aa=Oa.hmacKey;Ra();},timeout:function(){ia("Timeout unwrapping keys");},error:function(Oa){ia("Error unwrapping keys",Oa);}}):Promise.resolve().then(function(){return Jb.encrypt({name:rc.name,iv:new Uint8Array(16)},W.encryptionKey,new Uint8Array(1));}).then(function(Oa){Ha=W.encryptionKey;}).catch(function(Oa){ia("Error loading encryptionKey");}).then(function(){return Jb.sign(sc,W.hmacKey,new Uint8Array(1));}).then(function(Oa){Aa=W.hmacKey;Ra();}).catch(function(Oa){ia("Error loading hmacKey");})):ia("Persisted store is corrupt");})({result:function(Pa){ca(Pa,aa);},timeout:aa.timeout,error:aa.error});}});$f={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ed="$netflix$msl$wrapsys";bg=Yf.extend({init:function(sa,oa,W,aa,ca,ka){var Ga,Ea;Ga=new kd([Pc.LZW]);Ea=new Mf();Ea.addPublicKey(oa,W);aa[Nb.RSA]=new Lf(Ea);oa={};oa[$b.EMAIL_PASSWORD]=new Vf();oa[$b.NETFLIXID]=new Uf();oa[$b.MDX]=new uf();oa[$b.SSO]=new Wf();oa[$b.SWITCH_PROFILE]=new Xf();sa={_mslCryptoContext:{value:new If(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ca,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:aa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ka,writable:!1,enumerable:!1,configurable:!1},_store:{value:sa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,sa);},getTime:function(){return Date.now();},getRandom:function(){return new Ge();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(sa,oa){oa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(sa){return this._entityAuthFactories[sa];},getUserAuthenticationFactory:function(sa){return this._userAuthFactories[sa];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(sa){return this._keyExchangeFactories.filter(function(oa){return oa.scheme == sa;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});xe=of.extend({init:function(sa,oa,W,aa){this._log=sa;this._mslContext=oa;this._mslRequest=W;this._keyRequestData=aa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(sa,oa,W,aa){var ca,ka;ca=this._mslRequest;ka=this._mslContext;Ka(aa,function(){var Ga,Ea;if(sa || !ca.shouldSendUserAuthData)return null;if(ca.token){ca.email?Ga=new wf(ca.email,ca.password):ca.netflixId && (Ga=new xf(ca.netflixId,ca.secureNetflixId));Ea="undefined" === typeof ca.profileGuid?null:ca.profileGuid;return new pd(ca.mechanism,Sb(ca.token),Ga,Ea);}return ca.email?new nd(ca.email,ca.password):ca.netflixId?new Xc(ca.netflixId,ca.secureNetflixId):ca.mdxControllerToken?(Ga=new od("regpairrequest",ca.mdxNonce,ca.mdxEncryptedPinB64,ca.mdxSignature).getEncoding(),new dd(ka,ca.mdxPin,ca.mdxControllerToken,Ga,ca.mdxSignature)):ca.useNetflixUserAuthData?new Xc():ca.profileGuid?(Ga=ca.userId,Ga=ka.getMslStore().userIdTokens[Ga],new qd(Ga,ca.profileGuid)):W && ca.sendUserAuthIfRequired?new Xc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(sa){sa.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(sa,oa,W){var aa,ca,ka,Ga,Ea,Pa;aa=this._log;ca=(this._mslRequest.serviceTokens || []).slice();ka=this._mslContext;oa=ka.getMslStore();Ga=sa.builder.getMasterToken();Ea=this.getUserId();Pa=oa.getUserIdToken(Ea);(function ia(){var ua;ua=ca.shift();if(ua)try{ua instanceof Kc?(sa.addPrimaryServiceToken(ua),ia()):Hd(ka,ua,Ga,Pa,null,{result:function(xa){try{sa.addPrimaryServiceToken(xa);}catch(Ha){aa.warn("Exception adding service token","" + Ha);}ia();},timeout:function(){aa.warn("Timeout parsing service token");ia();},error:function(xa){aa.warn("Error parsing service token","" + xa);ia();}});}catch(xa){aa.warn("Exception processing service token","" + xa);ia();}else W.result(!0);})();},write:function(sa,oa,W){var aa;aa=Sb(this._mslRequest.body);sa.write(aa,0,aa.length,oa,{result:function(ca){ca != aa.length?W.error(new Wb("Not all data was written to output.")):sa.flush(oa,{result:function(){W.result(!0);},timeout:function(){W.timeout();},error:function(ka){W.error(ka);}});},timeout:function(){W.timeout();},error:function(ca){W.error(ca);}});},getDebugContext:function(){this._dc || (this._dc=new cg(this._log,this._mslRequest));return this._dc;}});cg=Tf.extend({init:function(sa,oa){this._log=sa;this._mslRequest=oa;},sentHeader:function(sa){this._log.trace("Sent MSL header",we(this._mslRequest,sa),sa.serviceTokens && sa.serviceTokens.map(Ef).join("\n"));},receivedHeader:function(sa){var oa,W;oa=we(this._mslRequest,sa);W=sa.errorCode;W?this._log.warn("Received MSL error header",oa,{errorCode:W,errorMessage:sa.errorMessage,internalCode:sa.internalCode}):this._log.trace("Received MSL header",oa);}});Cf={PSK:function(sa){return Rd(sa,Nb.PSK,Zf,tc,he,Fd);},MGK:function(sa){return Rd(sa,Nb.MGK,Bf,nc,he,Fd);},MGK_WITH_FALLBACK:function(sa){var oa,W;switch(sa.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":oa="PSK";break;default:oa="MGK";}W=Cf[oa];if(!W)throw new bb(U.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + oa);return W(sa);},MGK_JWE:function(sa){return Rd(sa,Nb.MGK,Bf,nc,Re,ge);},JWK_RSA:function(sa){return Sd(sa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gd.JWK_RSA);},JWK_RSAES:function(sa){return Sd(sa,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWK_RSAES);},JWEJS_RSA:function(sa){return Sd(sa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWEJS_RSA);}};pb.netflix=pb.netflix || ({});pb.netflix.msl={createMslClient:function(sa,oa){var W,aa,ca,ka,Ga;W=sa.log;Ga=sa.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Qb && Qb.generateKey && Qb.importKey && Qb.unwrapKey))throw new bb(U.INTERNAL_EXCEPTION,"No WebCrypto");bc=Qb.generateKey({name:"AES-CBC",length:128},!0,Ic).then?wd.V2014_02:wd.LEGACY;Ga("mslisik");return Jb.importKey("spki",sa.serverIdentityKeyData,He,!1,["verify"]);}).then(function(Ea){return new Promise(function(Pa,Ra){Oc(Ea,{result:Pa,error:function(){Ra(new bb(U.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ea){aa=Ea;if(Ea=Cf[sa.authenticationType])return (Ga("mslcc"),Ea(sa));throw new bb(U.INTERNAL_EXCEPTION,"Invalid authenticationType: " + sa.authenticationType);}).then(function(Ea){var Pa;ca=new ag(W,sa.esn,Ea.keyRequestData,Ea.createKeyRequestData,sa.authenticationKeyNames.s,sa.systemKeyWrapFormat);ka=new bg(ca,sa.serverIdentityId,aa,Ea.entityAuthFactories,Ea.entityAuthData,Ea.keyExchangeFactories);Pa=sa.storeState;if(Pa)return (Ga("mslss"),W.info("Loading store state"),new Promise(function(Ra,ia){ca.loadStoreState(sa,ka,Pa,{result:Ra,timeout:Ra,error:Ra});}));W.info("No store state, starting fresh");}).then(function(){var Ea;Ea=new pf();Ga("msldone");oa.result(new Ff(W,Ea,ka,ca,sa.ErrorSubCodes));}).catch(function(Ea){oa.error(Ea);});},IHttpLocation:Pf,MslIoException:Wb};(function(){var Ya,Xa,hb,lb,ob,rb,sb,zb,wb;function sa(q){var b;b=0;return function(){return b < q.length?{done:!1,value:q[b++]}:{done:!0};};}function oa(q,b){var a,f;if(b)a:{a=Xa;q=q.split(".");for(var c=0;c < q.length - 1;c++){f=q[c];if(!((f in a)))break a;a=a[f];}q=q[q.length - 1];c=a[q];b=b(c);b != c && null != b && Ya(a,q,{configurable:!0,writable:!0,value:b});}}function W(q){q={next:q};q[Symbol.iterator]=function(){return this;};return q;}function aa(q){var b;b="undefined" != typeof Symbol && Symbol.iterator && q[Symbol.iterator];return b?b.call(q):{next:sa(q)};}function ca(q){if(!(q instanceof Array)){q=aa(q);for(var b,a=[];!(b=q.next()).done;){a.push(b.value);}q=a;}return q;}function ka(q,b){var c;q.prototype=hb(b.prototype);q.prototype.constructor=q;if(zb)zb(q,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(q,a,c);}else q[a]=b[a];}q.N7b=b.prototype;}function Ga(){this.bU=!1;this.XC=null;this.qua=void 0;this.iG=1;this.GRa=this.Vnb=0;this.eR=null;}function Ea(q){if(q.bU)throw new TypeError("Generator is already running");q.bU=!0;}function Pa(q){this.jf=new Ga();this.jOb=q;}function Ra(q,b){var a;Ea(q.jf);a=q.jf.XC;if(a)return ia(q,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,q.jf.return);q.jf.return(b);return ua(q);}function ia(q,b,a,c){var f,k;try{f=b.call(q.jf.XC,a);if(!(f instanceof Object))throw new TypeError("Iterator result " + f + " is not an object");if(!f.done)return (q.jf.bU=!1,f);k=f.value;}catch(l){return (q.jf.XC=null,q.jf.RW(l),ua(q));}q.jf.XC=null;c.call(q.jf,k);return ua(q);}function ua(q){var b;for(;q.jf.iG;){try{b=q.jOb(q.jf);if(b)return (q.jf.bU=!1,{value:b.value,done:!1});}catch(a){q.jf.qua=void 0;q.jf.RW(a);}}q.jf.bU=!1;if(q.jf.eR){b=q.jf.eR;q.jf.eR=null;if(b.EEb)throw b.HK;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function xa(q){this.next=function(b){return q.VU(b);};this.throw=function(b){return q.RW(b);};this.return=function(b){return Ra(q,b);};this[Symbol.iterator]=function(){return this;};}function Ha(q,b){b=new xa(new Pa(b));zb && q.prototype && zb(b,q.prototype);return b;}function Aa(q,b){return Object.prototype.hasOwnProperty.call(q,b);}function Oa(q,b){var a,c,f;q instanceof String && (q+="");a=0;c=!1;f={next:function(){var k;if(!c && a < q.length){k=a++;return {value:b(k,q[k]),done:!1};}c=!0;return {done:!0,value:void 0};}};f[Symbol.iterator]=function(){return f;};return f;}function Da(q,b,a){if(null == q)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return q + "";}function Wa(q,b,a){var k;q instanceof String && (q=String(q));for(var c=q.length,f=0;f < c;f++){k=q[f];if(b.call(a,k,f,q))return {qla:f,SC:k};}return {qla:-1,SC:void 0};}Ya="function" == typeof Object.defineProperties?Object.defineProperty:function(q,b,a){if(q == Array.prototype || q == Object.prototype)return q;q[b]=a.value;return q;};Xa=(function(q){var a;q=["object" == typeof globalThis && globalThis,q,"object" == typeof pb && pb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < q.length;++b){a=q[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);oa("Symbol",function(q){var c;function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (f || "") + "_" + c++,f);}function a(f,k){this.g7a=f;Ya(this,"description",{configurable:!0,writable:!0,value:k});}if(q)return q;a.prototype.toString=function(){return this.g7a;};c=0;return b;});oa("Symbol.iterator",function(q){var c;if(q)return q;q=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Xa[b[a]];"function" === typeof c && "function" != typeof c.prototype[q] && Ya(c.prototype,q,{configurable:!0,writable:!0,value:function(){return W(sa(this));}});}return q;});hb="function" == typeof Object.create?Object.create:function(q){function b(){}b.prototype=q;return new b();};lb=(function(){var b;function q(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(q())return Reflect.construct;b=Reflect.construct;return function(a,c,f){a=b(a,c);f && Reflect.setPrototypeOf(a,f.prototype);return a;};}return function(a,c,f){void 0 === f && (f=a);f=hb(f.prototype || Object.prototype);return Function.prototype.apply.call(a,f,c) || f;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;ob=sb.a;break a;}catch(q){}ob=!1;}ob=ob?function(q,b){q.__proto__=b;if(q.__proto__ !== b)throw new TypeError(q + " is not extensible");return q;}:null;}zb=ob;Ga.prototype.VU=function(q){this.qua=q;};Ga.prototype.RW=function(q){this.eR={HK:q,EEb:!0};this.iG=this.Vnb || this.GRa;};Ga.prototype.return=function(q){this.eR={return:q};this.iG=this.GRa;};Pa.prototype.VU=function(q){Ea(this.jf);if(this.jf.XC)return ia(this,this.jf.XC.next,q,this.jf.VU);this.jf.VU(q);return ua(this);};Pa.prototype.RW=function(q){Ea(this.jf);if(this.jf.XC)return ia(this,this.jf.XC["throw"],q,this.jf.VU);this.jf.RW(q);return ua(this);};oa("Reflect",function(q){return q?q:{};});oa("Reflect.construct",function(){return lb;});oa("Reflect.setPrototypeOf",function(q){return q?q:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});oa("Object.setPrototypeOf",function(q){return q || zb;});wb="function" == typeof Object.assign?Object.assign:function(q,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var f in c){Aa(c,f) && (q[f]=c[f]);}}return q;};oa("Object.assign",function(q){return q || wb;});oa("Promise",function(q){var f,k;function b(l){var d;this.CN=0;this.dW=void 0;this.oM=[];this.xWa=!1;d=this.Sga();try{l(d.resolve,d.reject);}catch(g){d.reject(g);}}function a(){this.$A=null;}function c(l){return l instanceof b?l:new b(function(d){d(l);});}if(q)return q;a.prototype.xMa=function(l){var d;if(null == this.$A){this.$A=[];d=this;this.yMa(function(){d.awb();});}this.$A.push(l);};f=Xa.setTimeout;a.prototype.yMa=function(l){f(l,0);};a.prototype.awb=function(){var l,g;for(;this.$A && this.$A.length;){l=this.$A;this.$A=[];for(var d=0;d < l.length;++d){g=l[d];l[d]=null;try{g();}catch(h){this.Jlb(h);}}}this.$A=null;};a.prototype.Jlb=function(l){this.yMa(function(){throw l;});};b.prototype.Sga=function(){var d,g;function l(h){return function(m){g || (g=!0,h.call(d,m));};}d=this;g=!1;return {resolve:l(this.vQb),reject:l(this.Gqa)};};b.prototype.vQb=function(l){var d;if(l === this)this.Gqa(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof b)this.zSb(l);else {a:switch(typeof l){case "object":d=null != l;break a;case "function":d=!0;break a;default:d=!1;}d?this.uQb(l):this.mSa(l);}};b.prototype.uQb=function(l){var d;d=void 0;try{d=l.then;}catch(g){this.Gqa(g);return;}"function" == typeof d?this.ASb(d,l):this.mSa(l);};b.prototype.Gqa=function(l){this.u3a(2,l);};b.prototype.mSa=function(l){this.u3a(1,l);};b.prototype.u3a=function(l,d){if(0 != this.CN)throw Error("Cannot settle(" + l + ", " + d + "): Promise already settled in state" + this.CN);this.CN=l;this.dW=d;2 === this.CN && this.ZQb();this.bwb();};b.prototype.ZQb=function(){var l;l=this;f(function(){var d;if(l.dKb()){d=Xa.console;"undefined" !== typeof d && d.error(l.dW);}},1);};b.prototype.dKb=function(){var l,d,g;if(this.xWa)return !1;l=Xa.CustomEvent;d=Xa.Event;g=Xa.dispatchEvent;if("undefined" === typeof g)return !0;"function" === typeof l?l=new l("unhandledrejection",{cancelable:!0}):"function" === typeof d?l=new d("unhandledrejection",{cancelable:!0}):(l=Xa.document.createEvent("CustomEvent"),l.initCustomEvent("unhandledrejection",!1,!0,l));l.promise=this;l.reason=this.dW;return g(l);};b.prototype.bwb=function(){if(null != this.oM){for(var l=0;l < this.oM.length;++l){k.xMa(this.oM[l]);}this.oM=null;}};k=new a();b.prototype.zSb=function(l){var d;d=this.Sga();l.c1(d.resolve,d.reject);};b.prototype.ASb=function(l,d){var g;g=this.Sga();try{l.call(d,g.resolve,g.reject);}catch(h){g.reject(h);}};b.prototype.then=function(l,d){var h,m,n;function g(r,p){return "function" == typeof r?function(u){try{h(r(u));}catch(t){m(t);}}:p;}n=new b(function(r,p){h=r;m=p;});this.c1(g(l,h),g(d,m));return n;};b.prototype.catch=function(l){return this.then(void 0,l);};b.prototype.c1=function(l,d){var h;function g(){switch(h.CN){case 1:l(h.dW);break;case 2:d(h.dW);break;default:throw Error("Unexpected state: " + h.CN);}}h=this;null == this.oM?k.xMa(g):this.oM.push(g);this.xWa=!0;};b.resolve=c;b.reject=function(l){return new b(function(d,g){g(l);});};b.race=function(l){return new b(function(d,g){for(var h=aa(l),m=h.next();!m.done;m=h.next()){c(m.value).c1(d,g);}});};b.all=function(l){var d,g;d=aa(l);g=d.next();return g.done?c([]):new b(function(h,m){var r,p;function n(u){return function(t){r[u]=t;p--;0 == p && h(r);};}r=[];p=0;do {r.push(void 0);p++;c(g.value).c1(n(r.length - 1),m);g=d.next();}while(!g.done);});};return b;});oa("Object.entries",function(q){return q?q:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push([c,b[c]]);}return a;};});oa("Array.prototype.keys",function(q){return q?q:function(){return Oa(this,function(b){return b;});};});oa("Object.is",function(q){return q?q:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});oa("Array.prototype.includes",function(q){return q?q:function(b,a){var c,f,k;c=this;c instanceof String && (c=String(c));f=c.length;a=a || 0;for(0 > a && (a=Math.max(a + f,0));a < f;a++){k=c[a];if(k === b || Object.is(k,b))return !0;}return !1;};});oa("String.prototype.includes",function(q){return q?q:function(b,a){return -1 !== Da(this,b,"includes").indexOf(b,a || 0);};});oa("Number.isNaN",function(q){return q?q:function(b){return "number" === typeof b && isNaN(b);};});oa("Math.tanh",function(q){return q?q:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});oa("Array.prototype.entries",function(q){return q?q:function(){return Oa(this,function(b,a){return [b,a];});};});oa("WeakMap",function(q){var l,d;function b(g){this.ST=(d+=Math.random() + 1).toString();if(g){g=aa(g);for(var h;!(h=g.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(g){var h;h=typeof g;return "object" === h && null !== g || "function" === h;}function f(g){var h;if(!Aa(g,l)){h=new a();Ya(g,l,{value:h});}}function k(g){var h;h=Object[g];h && (Object[g]=function(m){if(m instanceof a)return m;Object.isExtensible(m) && f(m);return h(m);});}if((function(){var g,h,m;if(!q || !Object.seal)return !1;try{g=Object.seal({});h=Object.seal({});m=new q([[g,2],[h,3]]);if(2 != m.get(g) || 3 != m.get(h))return !1;m.delete(g);m.set(h,4);return !m.has(g) && 4 == m.get(h);}catch(n){return !1;}})())return q;l="$jscomp_hidden_" + Math.random();k("freeze");k("preventExtensions");k("seal");d=0;b.prototype.set=function(g,h){if(!c(g))throw Error("Invalid WeakMap key");f(g);if(!Aa(g,l))throw Error("WeakMap key fail: " + g);g[l][this.ST]=h;return this;};b.prototype.get=function(g){return c(g) && Aa(g,l)?g[l][this.ST]:void 0;};b.prototype.has=function(g){return c(g) && Aa(g,l) && Aa(g[l],this.ST);};b.prototype.delete=function(g){return c(g) && Aa(g,l) && Aa(g[l],this.ST)?delete g[l][this.ST]:!1;};return b;});oa("Map",function(q){var k,l;function b(){var d;d={};return d.bz=d.next=d.head=d;}function a(d,g){var h;h=d.ty;return W(function(){if(h){for(;h.head != d.ty;){h=h.bz;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:g(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,g){var h,m,n;h=g && typeof g;"object" == h || "function" == h?k.has(g)?h=k.get(g):(h="" + ++l,k.set(g,h)):h="p_" + g;m=d.Ox[h];if(m && Aa(d.Ox,h))for(d=0;d < m.length;d++){n=m[d];if(g !== g && n.key !== n.key || g === n.key)return {id:h,list:m,index:d,entry:n};}return {id:h,list:m,index:-1,entry:void 0};}function f(d){this.Ox={};this.ty=b();this.size=0;if(d){d=aa(d);for(var g;!(g=d.next()).done;){g=g.value;this.set(g[0],g[1]);}}}if((function(){var d,g,h,m;if(!q || "function" != typeof q || !q.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});g=new q(aa([[d,"s"]]));if("s" != g.get(d) || 1 != g.size || g.get({x:4}) || g.set({x:4},"t") != g || 2 != g.size)return !1;h=g.entries();m=h.next();if(m.done || m.value[0] != d || "s" != m.value[1])return !1;m=h.next();return m.done || 4 != m.value[0].x || "t" != m.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return q;k=new WeakMap();f.prototype.set=function(d,g){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.Ox[h.id]=[]);h.entry?h.entry.value=g:(h.entry={next:this.ty,bz:this.ty.bz,head:this.ty,key:d,value:g},h.list.push(h.entry),this.ty.bz.next=h.entry,this.ty.bz=h.entry,this.size++);return this;};f.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.Ox[d.id],d.entry.bz.next=d.entry.next,d.entry.next.bz=d.entry.bz,d.entry.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.Ox={};this.ty=this.ty.bz=b();this.size=0;};f.prototype.has=function(d){return ! !c(this,d).entry;};f.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};f.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};f.prototype.keys=function(){return a(this,function(d){return d.key;});};f.prototype.values=function(){return a(this,function(d){return d.value;});};f.prototype.forEach=function(d,g){for(var h=this.entries(),m;!(m=h.next()).done;){m=m.value;d.call(g,m[1],m[0],this);}};f.prototype[Symbol.iterator]=f.prototype.entries;l=0;return f;});oa("Set",function(q){function b(a){this.tv=new Map();if(a){a=aa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.tv.size;}if((function(){var a,c,f,k;if(!q || "function" != typeof q || !q.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new q(aa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;f=c.entries();k=f.next();if(k.done || k.value[0] != a || k.value[1] != a)return !1;k=f.next();return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0]?!1:f.next().done;}catch(l){return !1;}})())return q;b.prototype.add=function(a){a=0 === a?0:a;this.tv.set(a,a);this.size=this.tv.size;return this;};b.prototype.delete=function(a){a=this.tv.delete(a);this.size=this.tv.size;return a;};b.prototype.clear=function(){this.tv.clear();this.size=0;};b.prototype.has=function(a){return this.tv.has(a);};b.prototype.entries=function(){return this.tv.entries();};b.prototype.values=function(){return this.tv.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var f;f=this;this.tv.forEach(function(k){return a.call(c,k,k,f);});};return b;});oa("Array.prototype.find",function(q){return q?q:function(b,a){return Wa(this,b,a).SC;};});oa("String.prototype.endsWith",function(q){return q?q:function(b,a){var c;c=Da(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var f=b.length;0 < f && 0 < a;){if(c[--a] != b[--f])return !1;}return 0 >= f;};});oa("String.prototype.repeat",function(q){return q?q:function(b){var a;a=Da(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});oa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});oa("Array.prototype.values",function(q){return q?q:function(){return Oa(this,function(b,a){return a;});};});oa("Object.values",function(q){return q?q:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push(b[c]);}return a;};});oa("String.prototype.startsWith",function(q){return q?q:function(b,a){var c,f,k;c=Da(this,b,"startsWith");b+="";f=c.length;k=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var l=0;l < k && a < f;){if(c[a++] != b[l++])return !1;}return l >= k;};});oa("Array.prototype.findIndex",function(q){return q?q:function(b,a){return Wa(this,b,a).qla;};});oa("String.fromCodePoint",function(q){return q?q:function(b){var f;for(var a="",c=0;c < arguments.length;c++){f=Number(arguments[c]);if(0 > f || 1114111 < f || f !== Math.floor(f))throw new RangeError("invalid_code_point " + f);65535 >= f?a+=String.fromCharCode(f):(f-=65536,a+=String.fromCharCode(f >>> 10 & 1023 | 55296),a+=String.fromCharCode(f & 1023 | 56320));}return a;};});oa("Number.isFinite",function(q){return q?q:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(q){var a;function b(c){var f;if(a[c])return a[c].exports;f=a[c]={qla:c,OFb:!1,exports:{}};q[c].call(f.exports,f,f.exports,b);f.OFb=!0;return f.exports;}a={};b.L5b=q;b.c=a;b.d=function(c,f,k){b.nKb(c,f) || Object.defineProperty(c,f,{enumerable:!0,get:k});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,f){var k;f & 1 && (c=b(c));if(f & 8 || f & 4 && "object" === typeof c && c && c.__esModule)return c;k=Object.create(null);b.r(k);Object.defineProperty(k,"default",{enumerable:!0,value:c});if(f & 2 && "string" != typeof c)for(var l in c){b.d(k,l,(function(d){return c[d];}).bind(null,l));}return k;};b.n=function(c){var f;f=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(f,"a",f);return f;};b.nKb=function(c,f){return Object.prototype.hasOwnProperty.call(c,f);};b.p="";return b(b.OQb=529);})([function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});q=a(41);b.o0b=q;q=a(532);b.YX=q.YX;q=a(75);b.Hr=q.Hr;b.ej=q.ej;b.Lw=q.Lw;q=a(548);b.lva=q.lva;b.ad=q.ad;q=a(549);b.R=q.R;q=a(550);b.F4a=q.F4a;q=a(551);b.jZa=q.jZa;q=a(297);b.l=q.l;b.M$=q.M$;q=a(552);b.optional=q.optional;q=a(553);b.cj=q.cj;q=a(554);b.fG=q.fG;q=a(555);b.PW=q.PW;q=a(556);b.s0a=q.s0a;q=a(295);b.faa=q.faa;q=a(103);b.id=q.id;q=a(88);b.Jq=q.Jq;q=a(300);b.x5a=q.x5a;b.G4a=q.G4a;b.kZa=q.kZa;b.D5a=q.D5a;q=a(130);b.hL=q.hL;a=a(557);b.gZa=a.gZa;},function(q,b,a){var G,I;function c(){c=Object.assign || (function(J){for(var H,M=1,O=arguments.length;M < O;M++){H=arguments[M];for(var L in H){Object.prototype.hasOwnProperty.call(H,L) && (J[L]=H[L]);}}return J;});return c.apply(this,arguments);}function f(J,H){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(M,O){M.__proto__=O;}) || (function(M,O){for(var L in O){Object.prototype.hasOwnProperty.call(O,L) && (M[L]=O[L]);}});return f(J,H);}function k(J,H){function M(){this.constructor=J;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");f(J,H);J.prototype=null === H?Object.create(H):(M.prototype=H.prototype,new M());}function l(J,H){var M,O,L;M={};for(O in J){Object.prototype.hasOwnProperty.call(J,O) && 0 > H.indexOf(O) && (M[O]=J[O]);}if(null != J && "function" === typeof Object.getOwnPropertySymbols){L=0;for(O=Object.getOwnPropertySymbols(J);L < O.length;L++){0 > H.indexOf(O[L]) && Object.prototype.propertyIsEnumerable.call(J,O[L]) && (M[O[L]]=J[O[L]]);}}return M;}function d(J,H,M,O){var L,P,R;L=arguments.length;P=3 > L?H:null === O?O=Object.getOwnPropertyDescriptor(H,M):O;if("object" === typeof Reflect && "function" === typeof Reflect.Jq)P=Reflect.Jq(J,H,M,O);else for(var K=J.length - 1;0 <= K;K--){if(R=J[K])P=(3 > L?R(P):3 < L?R(H,M,P):R(H,M)) || P;}return (3 < L && P && Object.defineProperty(H,M,P),P);}function g(J,H){return function(M,O){H(M,O,J);};}function h(J,H){if("object" === typeof Reflect && "function" === typeof Reflect.xd)return Reflect.xd(J,H);}function m(J,H,M,O){function L(P){return P instanceof M?P:new M(function(R){R(P);});}return new (M || (M=Promise))(function(P,R){function K(da){try{N(O.next(da));}catch(na){R(na);}}function Q(da){try{N(O["throw"](da));}catch(na){R(na);}}function N(da){da.done?P(da.value):L(da.value).then(K,Q);}N((O=O.apply(J,H || [])).next());});}function n(J,H){var L,P,R,K,Q;function M(N){return function(da){return O([N,da]);};}function O(N){if(P)throw new TypeError("Generator is already executing.");for(;L;){try{if((P=1,R && (K=N[0] & 2?R["return"]:N[0]?R["throw"] || ((K=R["return"]) && K.call(R),0):R.next) && !(K=K.call(R,N[1])).done))return K;if((R=0,K))N=[N[0] & 2,K.value];switch(N[0]){case 0:case 1:K=N;break;case 4:return (L.label++,{value:N[1],done:!1});case 5:L.label++;R=N[1];N=[0];continue;case 7:N=L.Tm.pop();L.gn.pop();continue;default:if(!(K=L.gn,K=0 < K.length && K[K.length - 1]) && (6 === N[0] || 2 === N[0])){L=0;continue;}if(3 === N[0] && (!K || N[1] > K[0] && N[1] < K[3]))L.label=N[1];else if(6 === N[0] && L.label < K[1])(L.label=K[1],K=N);else if(K && L.label < K[2])(L.label=K[2],L.Tm.push(N));else {K[2] && L.Tm.pop();L.gn.pop();continue;}}N=H.call(J,L);}catch(da){N=[6,da];R=0;}finally{P=K=0;}}if(N[0] & 5)throw N[1];return {value:N[0]?N[1]:void 0,done:!0};}L={label:0,Oe:function(){if(K[0] & 1)throw K[1];return K[1];},gn:[],Tm:[]};return (Q={next:M(0),"throw":M(1),"return":M(2)},"function" === typeof Symbol && (Q[Symbol.iterator]=function(){return this;}),Q);}function r(J,H){for(var M in J){"default" === M || Object.prototype.hasOwnProperty.call(H,M) || G(H,J,M);}}function p(J){var H,M,O;H="function" === typeof Symbol && Symbol.iterator;M=H && J[H];O=0;if(M)return M.call(J);if(J && "number" === typeof J.length)return {next:function(){J && O >= J.length && (J=void 0);return {value:J && J[O++],done:!J};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(J,H){var M,O,L;M="function" === typeof Symbol && J[Symbol.iterator];if(!M)return J;J=M.call(J);L=[];try{for(;(void 0 === H || 0 < H--) && !(O=J.next()).done;){L.push(O.value);}}catch(R){var P;P={error:R};}finally{try{O && !O.done && (M=J["return"]) && M.call(J);}finally{if(P)throw P.error;}}return L;}function t(){for(var J=[],H=0;H < arguments.length;H++){J=J.concat(u(arguments[H]));}return J;}function w(){var O;for(var J=0,H=0,M=arguments.length;H < M;H++){J+=arguments[H].length;}J=Array(J);O=0;for(H=0;H < M;H++){for(var L=arguments[H],P=0,R=L.length;P < R;(P++,O++)){J[O]=L[P];}}return J;}function v(J,H,M){if(M || 2 === arguments.length)for(var O=0,L=H.length,P;O < L;O++){!P && (O in H) || (P || (P=Array.prototype.slice.call(H,0,O)),P[O]=H[O]);}return J.concat(P || H);}function x(J){return this instanceof x?(this.SC=J,this):new x(J);}function y(J,H,M){var Q,N,da;function O(na){Q[na] && (N[na]=function(va){return new Promise(function(ra,X){1 < da.push([na,va,ra,X]) || L(na,va);});});}function L(na,va){var ra;try{ra=Q[na](va);ra.value instanceof x?Promise.resolve(ra.value.SC).then(P,R):K(da[0][2],ra);}catch(X){K(da[0][3],X);}}function P(na){L("next",na);}function R(na){L("throw",na);}function K(na,va){(na(va),da.shift(),da.length) && L(da[0][0],da[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Q=M.apply(J,H || []);da=[];return (N={},O("next"),O("throw"),O("return"),N[Symbol.asyncIterator]=function(){return this;},N);}function z(J){var M,O;function H(L,P){M[L]=J[L]?function(R){return (O=!O)?{value:x(J[L](R)),done:"return" === L}:P?P(R):R;}:P;}return (M={},H("next"),H("throw",function(L){throw L;}),H("return"),M[Symbol.iterator]=function(){return this;},M);}function B(J){var O,L;function H(P){L[P]=J[P] && (function(R){return new Promise(function(K,Q){R=J[P](R);M(K,Q,R.done,R.value);});});}function M(P,R,K,Q){Promise.resolve(Q).then(function(N){P({value:N,done:K});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");O=J[Symbol.asyncIterator];return O?O.call(J):(J="function" === typeof p?p(J):J[Symbol.iterator](),L={},H("next"),H("throw"),H("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function A(J,H){Object.defineProperty?Object.defineProperty(J,"raw",{value:H}):J.raw=H;return J;}function C(J){var H;if(J && J.__esModule)return J;H={};if(null != J)for(var M in J){"default" !== M && Object.prototype.hasOwnProperty.call(J,M) && G(H,J,M);}I(H,J);return H;}function E(J){return J && J.__esModule?J:{default:J};}function F(J,H,M,O){if("a" === M && !O)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?J !== H || !O:!H.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === M?O:"a" === M?O.call(J):O?O.value:H.get(J);}function D(J,H,M,O,L){if("m" === O)throw new TypeError("Private method is not writable");if("a" === O && !L)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?J !== H || !L:!H.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === O?L.call(J,M):L?L.value=M:H.set(J,M),M);}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return G;});a.d(b,"__exportStar",function(){return r;});a.d(b,"__values",function(){return p;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return B;});a.d(b,"__makeTemplateObject",function(){return A;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return D;});G=Object.create?function(J,H,M,O){void 0 === O && (O=M);Object.defineProperty(J,O,{enumerable:!0,get:function(){return H[M];}});}:function(J,H,M,O){void 0 === O && (O=M);J[O]=H[M];};I=Object.create?function(J,H){Object.defineProperty(J,"default",{enumerable:!0,value:H});}:function(J,H){J["default"]=H;};},function(q,b,a){function c(){c=Object.assign || (function(G){for(var I,J=1,H=arguments.length;J < H;J++){I=arguments[J];for(var M in I){Object.prototype.hasOwnProperty.call(I,M) && (G[M]=I[M]);}}return G;});return c.apply(this,arguments);}function f(G,I){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(J,H){J.__proto__=H;}) || (function(J,H){for(var M in H){H.hasOwnProperty(M) && (J[M]=H[M]);}});return f(G,I);}function k(G,I){function J(){this.constructor=G;}f(G,I);G.prototype=null === I?Object.create(I):(J.prototype=I.prototype,new J());}function l(G,I){var J,H,M;J={};for(H in G){Object.prototype.hasOwnProperty.call(G,H) && 0 > I.indexOf(H) && (J[H]=G[H]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){M=0;for(H=Object.getOwnPropertySymbols(G);M < H.length;M++){0 > I.indexOf(H[M]) && Object.prototype.propertyIsEnumerable.call(G,H[M]) && (J[H[M]]=G[H[M]]);}}return J;}function d(G,I,J,H){var M,O,L;M=arguments.length;O=3 > M?I:null === H?H=Object.getOwnPropertyDescriptor(I,J):H;if("object" === typeof Reflect && "function" === typeof Reflect.Jq)O=Reflect.Jq(G,I,J,H);else for(var P=G.length - 1;0 <= P;P--){if(L=G[P])O=(3 > M?L(O):3 < M?L(I,J,O):L(I,J)) || O;}return (3 < M && O && Object.defineProperty(I,J,O),O);}function g(G,I){return function(J,H){I(J,H,G);};}function h(G,I){if("object" === typeof Reflect && "function" === typeof Reflect.xd)return Reflect.xd(G,I);}function m(G,I,J,H){function M(O){return O instanceof J?O:new J(function(L){L(O);});}return new (J || (J=Promise))(function(O,L){function P(Q){try{K(H.next(Q));}catch(N){L(N);}}function R(Q){try{K(H["throw"](Q));}catch(N){L(N);}}function K(Q){Q.done?O(Q.value):M(Q.value).then(P,R);}K((H=H.apply(G,I || [])).next());});}function n(G,I){var M,O,L,P,R;function J(K){return function(Q){return H([K,Q]);};}function H(K){if(O)throw new TypeError("Generator is already executing.");for(;M;){try{if((O=1,L && (P=K[0] & 2?L["return"]:K[0]?L["throw"] || ((P=L["return"]) && P.call(L),0):L.next) && !(P=P.call(L,K[1])).done))return P;if((L=0,P))K=[K[0] & 2,P.value];switch(K[0]){case 0:case 1:P=K;break;case 4:return (M.label++,{value:K[1],done:!1});case 5:M.label++;L=K[1];K=[0];continue;case 7:K=M.Tm.pop();M.gn.pop();continue;default:if(!(P=M.gn,P=0 < P.length && P[P.length - 1]) && (6 === K[0] || 2 === K[0])){M=0;continue;}if(3 === K[0] && (!P || K[1] > P[0] && K[1] < P[3]))M.label=K[1];else if(6 === K[0] && M.label < P[1])(M.label=P[1],P=K);else if(P && M.label < P[2])(M.label=P[2],M.Tm.push(K));else {P[2] && M.Tm.pop();M.gn.pop();continue;}}K=I.call(G,M);}catch(Q){K=[6,Q];L=0;}finally{O=P=0;}}if(K[0] & 5)throw K[1];return {value:K[0]?K[1]:void 0,done:!0};}M={label:0,Oe:function(){if(P[0] & 1)throw P[1];return P[1];},gn:[],Tm:[]};return (R={next:J(0),"throw":J(1),"return":J(2)},"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function r(G,I,J,H){void 0 === H && (H=J);G[H]=I[J];}function p(G,I){for(var J in G){"default" === J || I.hasOwnProperty(J) || (I[J]=G[J]);}}function u(G){var I,J,H;I="function" === typeof Symbol && Symbol.iterator;J=I && G[I];H=0;if(J)return J.call(G);if(G && "number" === typeof G.length)return {next:function(){G && H >= G.length && (G=void 0);return {value:G && G[H++],done:!G};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(G,I){var J,H,M;J="function" === typeof Symbol && G[Symbol.iterator];if(!J)return G;G=J.call(G);M=[];try{for(;(void 0 === I || 0 < I--) && !(H=G.next()).done;){M.push(H.value);}}catch(L){var O;O={error:L};}finally{try{H && !H.done && (J=G["return"]) && J.call(G);}finally{if(O)throw O.error;}}return M;}function w(){for(var G=[],I=0;I < arguments.length;I++){G=G.concat(t(arguments[I]));}return G;}function v(){var H;for(var G=0,I=0,J=arguments.length;I < J;I++){G+=arguments[I].length;}G=Array(G);H=0;for(I=0;I < J;I++){for(var M=arguments[I],O=0,L=M.length;O < L;(O++,H++)){G[H]=M[O];}}return G;}function x(G){return this instanceof x?(this.SC=G,this):new x(G);}function y(G,I,J){var R,K,Q;function H(N){R[N] && (K[N]=function(da){return new Promise(function(na,va){1 < Q.push([N,da,na,va]) || M(N,da);});});}function M(N,da){var na;try{na=R[N](da);na.value instanceof x?Promise.resolve(na.value.SC).then(O,L):P(Q[0][2],na);}catch(va){P(Q[0][3],va);}}function O(N){M("next",N);}function L(N){M("throw",N);}function P(N,da){(N(da),Q.shift(),Q.length) && M(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=J.apply(G,I || []);Q=[];return (K={},H("next"),H("throw"),H("return"),K[Symbol.asyncIterator]=function(){return this;},K);}function z(G){var J,H;function I(M,O){J[M]=G[M]?function(L){return (H=!H)?{value:x(G[M](L)),done:"return" === M}:O?O(L):L;}:O;}return (J={},I("next"),I("throw",function(M){throw M;}),I("return"),J[Symbol.iterator]=function(){return this;},J);}function B(G){var H,M;function I(O){M[O]=G[O] && (function(L){return new Promise(function(P,R){L=G[O](L);J(P,R,L.done,L.value);});});}function J(O,L,P,R){Promise.resolve(R).then(function(K){O({value:K,done:P});},L);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=G[Symbol.asyncIterator];return H?H.call(G):(G="function" === typeof u?u(G):G[Symbol.iterator](),M={},I("next"),I("throw"),I("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function A(G,I){Object.defineProperty?Object.defineProperty(G,"raw",{value:I}):G.raw=I;return G;}function C(G){var I;if(G && G.__esModule)return G;I={};if(null != G)for(var J in G){Object.hasOwnProperty.call(G,J) && (I[J]=G[J]);}I.default=G;return I;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,I){if(!I.has(G))throw new TypeError("attempted to get private field on non-instance");return I.get(G);}function D(G,I,J){if(!I.has(G))throw new TypeError("attempted to set private field on non-instance");I.set(G,J);return J;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return r;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return u;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return B;});a.d(b,"__makeTemplateObject",function(){return A;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return D;});},function(q,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Lr=b.g$=b.pya=b.f$=b.A$a=b.B$a=b.oya=b.lya=b.z$a=b.FBa=b.SY=b.JY=b.nya=b.M=b.L=void 0;(function(f){f[f.jm=7001]="UNKNOWN";f[f.oeb=7002]="UNHANDLED_EXCEPTION";f[f.uab=7003]="INIT_COMPONENT_LOG_TO_REMOTE";f[f.xza=7010]="INIT_ASYNCCOMPONENT";f[f.Nza=7011]="INIT_HTTP";f[f.qab=7014]="INIT_BADMOVIEID";f[f.Iab=7016]="INIT_NETFLIXID_MISSING";f[f.Hab=7017]="INIT_NETFLIXID_INVALID";f[f.Kab=7018]="INIT_SECURENETFLIXID_MISSING";f[f.Oza=7020]="INIT_PLAYBACK_LOCK";f[f.Pza=7022]="INIT_SESSION_LOCK";f[f.Jab=7029]="INIT_POSTAUTHORIZE";f[f.c0b=7031]="INIT_HEADER_MEDIA";f[f.Q_b=7032]="HEADER_MISSING";f[f.P_b=7033]="HEADER_FRAGMENTS_MISSING";f[f.Lab=7034]="INIT_TIMEDTEXT_TRACK";f[f.d0b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";f[f.e0b=7036]="INIT_STREAMS_NOT_AVAILABLE";f[f.p7a=7037]="ASE_SESSION_ERROR";f[f.o7a=7038]="ASE_SEEK_THREW";f[f.q7a=7039]="ASE_SKIPPED_THREW";f[f.Eab=7041]="INIT_CORE_OBJECTS1";f[f.Fab=7042]="INIT_CORE_OBJECTS2";f[f.Gab=7043]="INIT_CORE_OBJECTS3";f[f.$_b=7051]="INIT_COMPONENT_REQUESTQUOTA";f[f.U_b=7052]="INIT_COMPONENT_FILESYSTEM";f[f.Gza=7053]="INIT_COMPONENT_STORAGE";f[f.Hza=7054]="INIT_COMPONENT_STORAGELOCK";f[f.V_b=7055]="INIT_COMPONENT_LOGPERSIST";f[f.W_b=7056]="INIT_COMPONENT_NRDDPI";f[f.Y_b=7057]="INIT_COMPONENT_PEPPERCRYPTO";f[f.Dza=7058]="INIT_COMPONENT_MAINTHREADMONITOR";f[f.B$=7059]="INIT_COMPONENT_DEVICE";f[f.X_b=7062]="INIT_COMPONENT_NTBA";f[f.Eza=7063]="INIT_COMPONENT_MSL";f[f.sab=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";f[f.Cza=7066]="INIT_COMPONENT_LOGBLOBBATCHER";f[f.aA=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";f[f.Z_b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";f[f.rab=7069]="INIT_COMPONENT_ACCOUNT";f[f.wab=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";f[f.yab=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";f[f.zab=7072]="INIT_COMPONENT_NRDP_MEDIA";f[f.Aab=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";f[f.Bab=7074]="INIT_COMPONENT_NRDP_REGISTRATION";f[f.vab=7081]="INIT_COMPONENT_NRDP";f[f.xab=7082]="INIT_COMPONENT_NRDP_DEVICE";f[f.Mza=7083]="INIT_COMPONENT_WEBCRYPTO";f[f.Dab=7084]="INIT_COMPONENT_VIDEO_PREPARER";f[f.b0b=7085]="INIT_CONGESTION_SERVICE";f[f.Bza=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";f[f.Iza=7087]="INIT_COMPONENT_TRACKING_LOG";f[f.zza=7088]="INIT_COMPONENT_BATTERY_MANAGER";f[f.yza=7089]="INIT_COMPONENT_ASE";f[f.a0b=7090]="INIT_COMPONENT_VIDEO_CACHE";f[f.$H=7091]="INIT_COMPONENT_DRM_CACHE";f[f.tab=7092]="INIT_COMPONENT_DRM";f[f.Cab=7093]="INIT_COMPONENT_PREFETCH_EVENTS";f[f.Aza=7094]="INIT_COMPONENT_FTL";f[f.Fza=7095]="INIT_COMPONENT_PREPARE_MODEL";f[f.Jza=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";f[f.Kza=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";f[f.Lza=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";f[f.V$=7111]="MANIFEST";f[f.A7a=7112]="AUTHORIZE_UNKNOWN";f[f.kbb=7117]="MANIFEST_VERIFY";f[f.Qdb=7120]="START";f[f.cI=7121]="LICENSE";f[f.eba=7122]="RELEASE";f[f.RFa=7123]="STOP";f[f.G_b=7124]="FPSAPPDATA";f[f.J$=7125]="KEEPALIVE";f[f.EZb=7126]="DEACTIVATE";f[f.r2b=7127]="SYNC_DEACTIVATE_LINKS";f[f.BYb=7130]="ACTIVATE";f[f.Fcb=7131]="PING";f[f.M0b=7133]="NETFLIXID";f[f.v$a=7134]="ENGAGE";f[f.ibb=7135]="LOGIN";f[f.Xdb=7136]="SWITCH_PROFILES";f[f.hbb=7137]="LOGBLOB";f[f.pcb=7138]="PAUSE";f[f.ydb=7139]="RESUME";f[f.PFa=7140]="SPLICE";f[f.PZb=7141]="DOWNLOAD_EVENT";f[f.P7a=7142]="BIND";f[f.ncb=7143]="PAIR";f[f.Q7a=7144]="BIND_DEVICE";f[f.M$a=7145]="GENERATE_SCREENSHOTS";f[f.Kcb=7202]="PLAY_INIT_EXCEPTION";f[f.n0b=7301]="MEDIA_DOWNLOAD";f[f.v1b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";f[f.w1b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";f[f.VCa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";f[f.Qcb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";f[f.WCa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";f[f.Rcb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";f[f.vaa=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";f[f.x1b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";f[f.Pcb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";f[f.$Ca=7351]="PLAY_MSE_NOTSUPPORTED";f[f.YCa=7352]="PLAY_MSE_EME_NOTSUPPORTED";f[f.UCa=7353]="PLAY_MSE_DECODER_TIMEOUT";f[f.xP=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";f[f.waa=7355]="PLAY_MSE_SOURCEADD";f[f.TCa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";f[f.yP=7357]="PLAY_MSE_GENERATEKEYREQUEST";f[f.A1b=7358]="PLAY_MSE_PARSECHALLENGE";f[f.u1b=7359]="PLAY_MSE_ADDKEY";f[f.D1b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";f[f.Ucb=7361]="PLAY_MSE_EVENT_ERROR";f[f.mI=7362]="PLAY_MSE_SETMEDIAKEYS";f[f.oq=7363]="PLAY_MSE_EVENT_KEYERROR";f[f.Tcb=7364]="PLAY_MSE_EME_SESSION_CLOSE";f[f.Vcb=7365]="PLAY_MSE_GETCURRENTTIME";f[f.Wcb=7367]="PLAY_MSE_SETCURRENTTIME";f[f.Xcb=7371]="PLAY_MSE_SOURCEAPPEND";f[f.B1b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";f[f.adb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";f[f.$cb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";f[f.Zcb=7377]="PLAY_MSE_UNEXPECTED_REWIND";f[f.C1b=7379]="PLAY_MSE_SOURCE_EOS";f[f.Ycb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";f[f.aDa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";f[f.z1b=7385]="PLAY_MSE_KEYSESSION_UPDATE";f[f.Lcb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";f[f.Mcb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";f[f.Ncb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";f[f.XCa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";f[f.Scb=7395]="PLAY_MSE_EME_MISSING_PSSH";f[f.y1b=7396]="PLAY_MSE_EME_MISSING_CERT";f[f.ZCa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";f[f.Ocb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";f[f.fZ=7399]="PLAY_MSE_SET_LICENSE_ERROR";f[f.y$a=7400]="EXTERNAL";f[f.eZ=7500]="PAUSE_TIMEOUT";f[f.KY=7502]="INACTIVITY_TIMEOUT";f[f.z7a=7510]="AUTHORIZATION_EXPIRED";f[f.GZb=7520]="DECRYPT_AUDIO";f[f.p$a=7700]="EME_INVALID_KEYSYSTEM";f[f.Nxa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";f[f.EO=7702]="EME_CREATE_MEDIAKEYS_FAILED";f[f.qY=7703]="EME_GENERATEREQUEST_FAILED";f[f.Uxa=7704]="EME_UPDATE_FAILED";f[f.Sxa=7705]="EME_KEYSESSION_ERROR";f[f.Rxa=7706]="EME_KEYMESSAGE_EMPTY";f[f.s$a=7707]="EME_REMOVE_FAILED";f[f.r$a=7708]="EME_LOAD_FAILED";f[f.m$a=7709]="EME_CREATE_SESSION_FAILED";f[f.c$=7710]="EME_LDL_RENEWAL_ERROR";f[f.Pxa=7711]="EME_INVALID_INITDATA_DATA";f[f.Qxa=7712]="EME_INVALID_LICENSE_DATA";f[f.q$a=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";f[f.ZZb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";f[f.Mxa=7716]="EME_CLOSE_FAILED";f[f.t$a=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";f[f.Gcb=7800]="PLAYDATA_STORE_FAILURE";f[f.s1b=7801]="PLAYDATA_SEND_FAILURE";f[f.kO=7900]="BRANCH_PLAY_FAILURE";f[f.HH=7901]="BRANCH_QUEUE_FAILURE";f[f.sva=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";f[f.R0b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";f[f.S0b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";f[f.vcb=8100]="PBO_EVENTLOOKUP_FAILURE";f[f.Hcb=8200]="PLAYGRAPH_ADD_MANIFEST";f[f.t1b=8201]="PLAYGRAPH_SEGMENT_NOT_READY";})(a=b.L || (b.L={}));(function(f){f[f.jm=1001]="UNKNOWN";f[f.fj=1003]="EXCEPTION";f[f.Oab=1004]="INVALID_DI";f[f.t7a=1011]="ASYNCLOAD_EXCEPTION";f[f.u7a=1013]="ASYNCLOAD_TIMEOUT";f[f.DYb=1015]="ASYNCLOAD_BADCONFIG";f[f.r7a=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";f[f.s7a=1017]="ASYNCLOAD_COMPONENT_MISSING";f[f.dP=1101]="HTTP_UNKNOWN";f[f.w$=1102]="HTTP_XHR";f[f.aP=1103]="HTTP_PROTOCOL";f[f.$O=1104]="HTTP_OFFLINE";f[f.cP=1105]="HTTP_TIMEOUT";f[f.jD=1106]="HTTP_READTIMEOUT";f[f.$z=1107]="HTTP_ABORT";f[f.iza=1108]="HTTP_PARSE";f[f.eza=1110]="HTTP_BAD_URL";f[f.bP=1111]="HTTP_PROXY";f[f.jBa=1203]="MSE_AUDIO";f[f.kBa=1204]="MSE_VIDEO";f[f.wbb=1250]="MSE_MEDIA_ERR_BASE";f[f.q0b=1251]="MSE_MEDIA_ERR_ABORTED";f[f.t0b=1252]="MSE_MEDIA_ERR_NETWORK";f[f.r0b=1253]="MSE_MEDIA_ERR_DECODE";f[f.u0b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";f[f.s0b=1255]="MSE_MEDIA_ERR_ENCRYPTED";f[f.Kr=1260]="EME_MEDIA_KEYERR_BASE";f[f.e_b=1261]="EME_MEDIA_KEYERR_UNKNOWN";f[f.$Zb=1262]="EME_MEDIA_KEYERR_CLIENT";f[f.d_b=1263]="EME_MEDIA_KEYERR_SERVICE";f[f.c_b=1264]="EME_MEDIA_KEYERR_OUTPUT";f[f.b_b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";f[f.a_b=1266]="EME_MEDIA_KEYERR_DOMAIN";f[f.f_b=1269]="EME_MEDIA_UNAVAILABLE_CDM";f[f.o$a=1280]="EME_ERROR_NODRMSESSSION";f[f.n$a=1281]="EME_ERROR_NODRMREQUESTS";f[f.WZb=1282]="EME_ERROR_INDIV_FAILED";f[f.XZb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";f[f.u$a=1284]="EME_TIMEOUT_MESSAGE";f[f.g_b=1285]="EME_TIMEOUT_KEYCHANGE";f[f.Txa=1286]="EME_UNDEFINED_DATA";f[f.SH=1287]="EME_INVALID_STATE";f[f.YZb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";f[f.Oxa=1289]="EME_EMPTY_DATA";f[f.FO=1290]="EME_TIMEOUT";f[f.G0b=1303]="NCCP_METHOD_NOT_SUPPORTED";f[f.J0b=1305]="NCCP_PARSEXML";f[f.ddb=1309]="PROCESS_EXCEPTION";f[f.I0b=1311]="NCCP_NETFLIXID_MISSING";f[f.K0b=1312]="NCCP_SECURENETFLIXID_MISSING";f[f.D0b=1313]="NCCP_HMAC_MISSING";f[f.C0b=1315]="NCCP_HMAC_MISMATCH";f[f.B0b=1317]="NCCP_HMAC_FAILED";f[f.A0b=1321]="NCCP_CLIENTTIME_MISSING";f[f.z0b=1323]="NCCP_CLIENTTIME_MISMATCH";f[f.Lya=1331]="GENERIC";f[f.Pbb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";f[f.Qbb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";f[f.L0b=1341]="NCCP_TRANSACTION";f[f.E0b=1343]="NCCP_INVALID_DRMTYPE";f[f.F0b=1344]="NCCP_INVALID_LICENCE_RESPONSE";f[f.H0b=1345]="NCCP_MISSING_PAYLOAD";f[f.J1b=1346]="PROTOCOL_NOT_INITIALIZED";f[f.I1b=1347]="PROTOCOL_MISSING_FIELD";f[f.H1b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";f[f.mA=1402]="STORAGE_NODATA";f[f.b2b=1403]="STORAGE_EXCEPTION";f[f.j2b=1405]="STORAGE_QUOTA_NOT_GRANTED";f[f.k2b=1407]="STORAGE_QUOTA_TO_SMALL";f[f.TFa=1411]="STORAGE_LOAD_ERROR";f[f.Sdb=1412]="STORAGE_LOAD_TIMEOUT";f[f.UFa=1414]="STORAGE_SAVE_ERROR";f[f.Vdb=1415]="STORAGE_SAVE_TIMEOUT";f[f.mba=1417]="STORAGE_DELETE_ERROR";f[f.SFa=1418]="STORAGE_DELETE_TIMEOUT";f[f.i2b=1421]="STORAGE_FS_REQUESTFILESYSTEM";f[f.f2b=1423]="STORAGE_FS_GETDIRECTORY";f[f.h2b=1425]="STORAGE_FS_READENTRIES";f[f.c2b=1427]="STORAGE_FS_FILEREAD";f[f.e2b=1429]="STORAGE_FS_FILEWRITE";f[f.d2b=1431]="STORAGE_FS_FILEREMOVE";f[f.g2b=1432]="STORAGE_FS_PARSEJSON";f[f.Udb=1451]="STORAGE_NO_LOCALSTORAGE";f[f.Tdb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";f[f.Y0b=1501]="NTBA_UNKNOWN";f[f.X0b=1502]="NTBA_EXCEPTION";f[f.T0b=1504]="NTBA_CRYPTO_KEY";f[f.V0b=1506]="NTBA_CRYPTO_OPERATION";f[f.U0b=1508]="NTBA_CRYPTO_KEYEXCHANGE";f[f.W0b=1515]="NTBA_DECRYPT_UNSUPPORTED";f[f.Rwa=1553]="DEVICE_NO_ESN";f[f.Qwa=1555]="DEVICE_ERROR_GETTING_ESN";f[f.E$a=1701]="FORMAT_UNKNOWN";f[f.yya=1713]="FORMAT_XML";f[f.F$a=1715]="FORMAT_XML_CONTENT";f[f.D$a=1721]="FORMAT_BASE64";f[f.uY=1723]="FORMAT_DFXP";f[f.cab=1801]="INDEXDB_OPEN_EXCEPTION";f[f.vza=1802]="INDEXDB_NOT_SUPPORTED";f[f.bab=1803]="INDEXDB_OPEN_ERROR";f[f.wza=1804]="INDEXDB_OPEN_NULL";f[f.aab=1805]="INDEXDB_OPEN_BLOCKED";f[f.dab=1807]="INDEXDB_OPEN_TIMEOUT";f[f.$$a=1808]="INDEXDB_INVALID_STORE_STATE";f[f.LY=1809]="INDEXDB_ACCESS_EXCEPTION";f[f.Gbb=1901]="MSL_UNKNOWN";f[f.zbb=1911]="MSL_INIT_NO_MSL";f[f.mBa=1913]="MSL_INIT_ERROR";f[f.Abb=1915]="MSL_INIT_NO_WEBCRYPTO";f[f.xbb=1931]="MSL_ERROR";f[f.Fbb=1933]="MSL_REQUEST_TIMEOUT";f[f.Ebb=1934]="MSL_READ_TIMEOUT";f[f.ybb=1935]="MSL_ERROR_HEADER";f[f.v0b=1936]="MSL_ERROR_ENVELOPE";f[f.w0b=1937]="MSL_ERROR_MISSING_PAYLOAD";f[f.lBa=1957]="MSL_ERROR_REAUTH";f[f.Jba=2103]="WEBCRYPTO_MISSING";f[f.ueb=2105]="WEBCRYPTOKEYS_MISSING";f[f.veb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";f[f.mZb=2200]="CACHEDDATA_PARSEJSON";f[f.Pva=2201]="CACHEDDATA_UNSUPPORTED_VERSION";f[f.nZb=2202]="CACHEDDATA_UPGRADE_FAILED";f[f.Wz=2203]="CACHEDDATA_INVALID_FORMAT";f[f.zYb=3E3]="ACCOUNT_CHANGE_INFLIGHT";f[f.AYb=3001]="ACCOUNT_INVALID";f[f.OZb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";f[f.NZb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";f[f.LZb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";f[f.MZb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";f[f.KZb=3202]="DOWNLOADED_LICENSE_EXCEPTION";f[f.l2b=3300]="STORAGE_VA_LOAD_ERROR";f[f.m2b=3301]="STORAGE_VA_LOAD_TIMEOUT";f[f.p2b=3302]="STORAGE_VA_SAVE_ERROR";f[f.q2b=3303]="STORAGE_VA_SAVE_TIMEOUT";f[f.n2b=3304]="STORAGE_VA_REMOVE_ERROR";f[f.o2b=3305]="STORAGE_VA_REMOVE_TIMEOUT";f[f.saa=3077]="PBO_DEVICE_EOL_WARNING";f[f.NCa=3078]="PBO_DEVICE_EOL_FINAL";f[f.QCa=3100]="PBO_DEVICE_RESET";f[f.PCa=3101]="PBO_DEVICE_RELOAD";f[f.OCa=3102]="PBO_DEVICE_EXIT";f[f.Dcb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.qcb=5005]="PBO_ACCOUNT_ON_HOLD";f[f.ucb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.RCa=5007]="PBO_INCORRECT_PIN";f[f.Bcb=5008]="PBO_MOBILE_ONLY";f[f.Ecb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";f[f.xcb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";f[f.scb=5059]="PBO_BLACKLISTED_IP";f[f.rcb=5070]="PBO_AGE_VERIFICATION_REQUIRED";f[f.tcb=5080]="PBO_CHOICE_MAP_ERROR";f[f.Ccb=5090]="PBO_RESTRICTED_TO_TESTERS";f[f.zcb=5091]="PBO_MALFORMED_REQUEST";f[f.ycb=5092]="PBO_INVALID_SERVICE_VERSION";f[f.Acb=5093]="PBO_MDX_INVALID_CTICKET";f[f.wcb=5094]="PBO_FREE_PREVIEW_ENDED";f[f.g9a=5100]="DECODER_TIMEOUT_BUFFERING";f[f.i9a=5101]="DECODER_TIMEOUT_PRESENTING";f[f.h9a=5102]="DECODER_TIMEOUT_PLAYING";f[f.Z9a=5200]="DOWNLOADER_IO_ERROR";f[f.rva=5300]="BRANCHING_SEGMENT_NOTFOUND";f[f.U7a=5301]="BRANCHING_PRESENTER_UNINITIALIZED";f[f.QYb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";f[f.z9=5303]="BRANCHING_ASE_UNINITIALIZED";f[f.R7a=5304]="BRANCHING_ASE_FAILURE";f[f.NYb=5305]="BRANCHING_MOMENT_FAILURE";f[f.S7a=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";f[f.PYb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";f[f.V7a=5308]="BRANCHING_SEEK_THREW";f[f.OYb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";f[f.T7a=5310]="BRANCHING_PLAY_TIMEDOUT";f[f.W7a=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";f[f.X7a=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";f[f.CYb=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";f[f.h7a=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";f[f.Wdb=5500]="STUDIO_MUXED_MANIFEST";})(c=b.M || (b.M={}));(function(f){f[f.aZb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.RYb=5005]="BR_ACCOUNT_ON_HOLD";f[f.VYb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.YYb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";f[f.UYb=5059]="BR_BLACKLISTED_IP";f[f.SYb=5070]="BR_AGE_VERIFICATION_REQUIRED";f[f.ZYb=2204]="BR_PLAYBACK_CONTEXT_CREATION";f[f.WYb=2205]="BR_DRM_LICENSE_AQUISITION";f[f.$Yb=2206]="BR_PLAYBACK_SERVICE_ERROR";f[f.XYb=2207]="BR_ENDPOINT_ERROR";f[f.TYb=2208]="BR_AUTHORIZATION_ERROR";})(b.nya || (b.nya={}));b.JY={d8a:"400",L2b:"401",fDa:"413"};b.SY={E_b:1,E2b:2,j_b:3,K2b:4,h0b:5,i_b:6,Eba:7,l_b:8,R1b:9,Z1b:10};(function(f){f[f.q1b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";f[f.r1b=98]="PAIRING_UNKNOWN_ERROR";})(b.FBa || (b.FBa={}));b.z$a=function(f){return 7100 <= f && 7200 > f;};b.lya=function(f){return f == a.eZ || f == a.KY;};b.oya=function(f){return 1100 <= f && 1199 >= f;};b.B$a=function(f){return 1300 <= f && 1399 >= f;};b.A$a=function(f){return 1900 <= f && 1999 >= f;};b.f$=function(f,k){return 1 <= f && 9 >= f?k + f:k;};b.pya=function(f){return b.f$(f,c.wbb);};b.g$=function(f){return b.f$(f,c.Kr);};b.Lr=function(f){var k,l,d;k={};l=f.errorExternalCode || f.Ve;d=f.errorDetails || f.sb;k.ErrorSubCode=f.errorSubCode || f.oa || c.jm;l && (k.ErrorExternalCode=l);d && (k.ErrorDetails=d);return k;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={VT:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(q,b,a){var k;function c(){return k.SP.apply(this,arguments) || this;}function f(l){return new k.Mr(l,b.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.hb=b.oza=b.haa=b.nn=b.ma=b.wD=b.timestamp=b.eDb=b.B5=b.Wg=b.uc=b.u0a=b.DIb=b.ieb=void 0;k=a(301);ka(c,k.SP);b.ieb=c;b.DIb=function(l){return new k.Mr(l,b.wD);};b.u0a=function(l){return new k.Mr(l * b.nn.Wf,b.wD);};b.uc=f;b.Wg=function(l){return new k.Mr(l,b.nn);};b.B5=function(l){return new k.Mr(l,b.haa);};b.eDb=function(l){return new k.Mr(l,b.oza);};b.timestamp=function(l){return f(l);};b.wD=new c(1,"\u03bcs");b.ma=new c(1E3,"ms",b.wD);b.nn=new c(1E3 * b.ma.Wf,"s",b.wD);b.haa=new c(60 * b.nn.Wf,"min",b.wD);b.oza=new c(60 * b.haa.Wf,"hr",b.wD);b.hb=f(0);},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);f=a(144);k=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);return d;})(Error);b.assert=function(l,d){if(!l)try{throw new k(d || "Assertion failed");}catch(g){throw (f.fm.H.error("Assertion failed",{value:l,message:d,stack:g.stack}),g);}};},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.ha=b.AEa=b.gT=b.Ih=b.ii=b.log=b.Bg=b.aL=b.SMa=b.Dq=b.ZA=b.Bc=b.Amb=b.lfa=b.ymb=b.zmb=b.Fi=b.TN=b.lX=b.wh=b.vc=b.wa=void 0;c=a(191);q=a(8);f=a(25);k=a(77);l=a(76);d=a(35);g=a(29);h=a(137);m=a(40);a=a(46);b.wa=c.jd.get(m.wi);b.vc=c.jd.get(a.lj);b.wh=c.jd.get(k.ru);b.lX=b.wh.encode.bind(b.wh);b.TN=b.wh.decode.bind(b.wh);b.Fi=c.jd.get(l.lw);b.zmb=b.Fi.encode.bind(b.Fi);b.ymb=b.Fi.decode.bind(b.Fi);b.lfa=b.Fi.rF.bind(b.Fi);b.Amb=b.Fi.k5a.bind(b.Fi);b.Bc=c.jd.get(d.Rh);b.ZA=function(n){n=g.ze(n)?b.TN(n):n;return b.Bc.encode(n);};b.Dq=b.Bc.decode.bind(b.Bc);b.SMa=function(n){return b.lX(b.Dq(n));};b.aL=function(){return c.jd.get(f.qw);};b.Bg=c.jd.get(q.Kb);b.log=b.Bg.Cb("General");b.ii=function(n,r){return b.Bg.Cb(n,void 0,r);};b.Ih=function(n,r,p){return b.Bg.Cb(r,n,p);};b.gT=function(n,r,p,u){return b.Bg.Cb(n,void 0,u,r,p);};b.AEa=function(n,r,p){return c.jd.get(h.DP)(n,r,p).gta();};b.ha=c.jd;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.DO=b.Kb=b.R$=b.hj=void 0;q=b.hj || (b.hj={});q[q.C$a=0]="FATAL";q[q.uf=1]="ERROR";q[q.Iba=2]="WARN";q[q.A$=3]="INFO";q[q.SGa=4]="TRACE";q[q.ka=5]="DEBUG";b.R$="LogFieldBuilderFactorySymbol";b.Kb="LoggerFactorySymbol";b.DO={};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.AP=b.Mya=b.$Ha=void 0;q=a(2);q.__exportStar(a(776),b);q.__exportStar(a(110),b);q.__exportStar(a(22),b);q.__exportStar(a(777),b);q.__exportStar(a(778),b);q.__exportStar(a(779),b);q.__exportStar(a(780),b);q.__exportStar(a(781),b);q.__exportStar(a(782),b);q.__exportStar(a(783),b);c=q.__importDefault(a(784));b.$Ha=c.default;c=q.__importDefault(a(785));b.Mya=c.default;a=q.__importDefault(a(379));b.AP=a.default;},function(q){var b;b={xa:function(a){return "number" === typeof a;},Sg:function(a){return "object" === typeof a;},ze:function(a){return "string" === typeof a;},ga:function(a){return "undefined" === typeof a;},r5b:function(a){return "boolean" === typeof a;},Kc:function(a){return "function" === typeof a;},ob:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},JLb:function(a){var c,f;f=[];if(!b.Sg(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && f.push([c,a[c]]);}return f;}};b.Te=b.forEach=function(a,c,f){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var k=0,l=a.length;k < l;k++){c.call(f,a[k],k,a);}else for(k in a){b.has(a,k) && c.call(f,a[k],k,a);}return a;};q.exports=b;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rma=b.localStorage=b.MDb=b.indexedDB=b.UY=b.ep=b.iA=b.jI=b.BD=b.URL=b.XY=b.VY=b.EBa=b.QY=b.tD=b.uD=b.xo=b.ln=b.yi=b.aaa=b.Aw=b.LGa=b.NH=b.FD=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.vx=b.Sbb=b.De=b.iu=b.ju=b.WY=b.jA=void 0;q=pb;b.Qe=q.navigator;b.jA=null === b.Qe || void 0 === b.Qe?void 0:b.Qe.userAgent;b.WY=q.location;b.ju=q.screen;b.iu=q.performance;b.De=q.document;b.Sbb=b.De.documentElement;b.vx=Array.prototype;b.sort=b.vx.sort;b.map=b.vx.map;b.slice=b.vx.slice;b.every=b.vx.every;b.reduce=b.vx.reduce;b.filter=b.vx.filter;b.forEach=b.vx.forEach;b.pop=b.vx.pop;b.FD=Object.create;b.NH=Date.now;b.LGa=String.fromCharCode;b.Aw=Math.floor;b.aaa=Math.ceil;b.yi=Math.round;b.ln=Math.max;b.xo=Math.min;b.uD=Math.random;b.tD=Math.abs;b.QY=Math.pow;b.EBa=Math.sqrt;b.VY=q.escape;b.XY=q.unescape;b.URL=q.URL || q.webkitURL;b.BD=q.MediaSource || q.WebKitMediaSource;b.jI=q.WebKitMediaKeys || q.MSMediaKeys || q.MediaKeys;b.iA=q.webkitCrypto || q.msCrypto || q.crypto;b.ep=b.iA && (b.iA.webkitSubtle || b.iA.subtle);b.UY=q.webkitCryptokeys || q.msCryptokeys || q.cryptokeys;try{b.indexedDB=q.indexedDB;}catch(a){b.MDb=a || "noex";}try{b.localStorage=q.localStorage;}catch(a){b.Rma=a || "noex";}},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.hI=b.PY=b.n8a=b.i8a=b.k8a=b.l8a=b.Fva=b.h8a=b.j8a=b.Eva=b.m8a=b.t8a=b.r8a=b.s8a=b.q8a=b.i$a=b.h$a=b.Exa=b.nbb=b.obb=b.zw=b.fBa=b.gBa=b.gI=b.Fxa=b.k$a=b.a$=b.pY=b.fcb=b.Mdb=b.bBa=b.c8a=b.Owa=b.dZ=b.ED=b.cZ=b.aBa=b.fA=b.b8a=b.qva=b.cbb=b.seb=b.mbb=b.lbb=b.Gdb=b.Fdb=b.Ik=b.Ee=b.qFa=b.kj=void 0;b.fba=void 0;b.kj=function(){};b.qFa=function(){return !0;};b.Ee={X:!0};b.Ik=1E3;b.Fdb=86400;b.Gdb=604800;b.lbb=1E4;b.mbb=1E7;b.seb=1.5;b.cbb=.128;b.qva=7.8125;b.b8a=128;b.fA=145152E5;b.aBa=1E5;b.cZ="$netflix$player$order";b.ED=-1;b.dZ=1;b.Owa=["en-US"];b.c8a=8;b.bBa=65535;b.Mdb=65536;b.fcb=Number.MAX_VALUE;b.pY="playready";b.a$="widevine";b.k$a="fps";b.Fxa="clearkey";b.gI='audio/mp4; codecs="mp4a.40.5"';b.gBa='audio/mp4; codecs="mp4a.40.42"';b.fBa='audio/mp4; codecs="mp4a.a6"';b.zw='video/mp4; codecs="avc1.640028"';b.obb='video/mp4; codecs="hev1.2.6.L153.B0"';b.nbb='video/mp4; codecs="dvhe.01000000"';b.Exa="9A04F079-9840-4286-AB92-E65BE0885F95";b.h$a="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.i$a="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.q8a=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.s8a="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.r8a="4E657466-6C69-7846-7261-6D6552617465";b.t8a="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.m8a="mp4a";b.Eva="enca";b.j8a="ec-3";b.h8a="avc1";b.Fva="encv";b.l8a="hvcC";b.k8a="hev1";b.i8a="dvhe";b.n8a="vp09";b.PY=0;b.hI=1;b.fba="position:relative;width:100%;height:100%;overflow:hidden";},function(q,b,a){var k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A;function c(C){return (C=b.config.yta[f(C)])?C:{};}function f(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":C;}Object.defineProperty(b,"__esModule",{value:!0});b.spb=b.tpb=b.yga=b.p1=b.rpb=b.EOa=b.qpb=b.FOa=b.xga=b.config=void 0;k=a(12);l=a(47);d=a(7);g=a(38);h=a(21);a(29);m=a(25);n=a(50);r=a(24);a(8);p=a(11);u=a(17);t=a(171);w=a(58);v=a(99);x=a(131);y=a(49);z=a(5);B=a(34);A=a(20);b.FOa=function(C,E){var va,ra,X,ta,za,V,T,ja,Ia;function F(wa,Sa){r.de(wa,function(Ua,$a){u.Kc($a)?Sa[Ua]=$a.call(void 0,Sa[Ua]):u.Sg($a) && (Sa[Ua]=Sa[Ua] || ({}),F($a,Sa[Ua]));});}function D(wa,Sa,Ua,$a){for(var Za=[],mb=3;mb < arguments.length;++mb){Za[mb - 3]=arguments[mb];}return function(db){u.Hc(db) && (Ua=db);h.gb(u.Kc(wa));return wa.apply(void 0,[Sa,Ua].concat(ca(Za)));};}function G(wa){wa=wa.toLowerCase();ta.hasOwnProperty(wa) && (X[wa]=ta[wa],za[wa]=ta[wa]);return wa;}function I(wa,Sa,Ua){var $a;wa=wa.toLowerCase();if(X.hasOwnProperty(wa)){$a=X[wa];try{$a=Ua?Ua($a):$a;}catch(Za){$a=void 0;}if(void 0 !== $a)return $a;h.gb(!1);d.log.error("Invalid configuration value. Name: " + wa);}return Sa;}function J(wa,Sa,Ua,$a){return I(wa,Sa,function(Za){u.ze(Za) && (Za=r.pe(Za));if(u.mWa(Za,Ua,$a))return Za;});}function H(wa,Sa,Ua,$a){return I(wa,Sa,function(Za){u.ze(Za) && (Za=r.pe(Za));if(u.Cy(Za,Ua,$a))return Za;});}function M(wa,Sa,Ua,$a){return I(wa,Sa,function(Za){u.ze(Za) && (Za=parseFloat(Za));if(u.xa(Za,Ua,$a))return Za;});}function O(wa,Sa,Ua){return I(wa,Sa,function($a){if(Ua?Ua.test($a):u.ze($a))return $a;});}function L(wa,Sa){return I(wa,Sa,function(Ua){if("true" == Ua || !0 === Ua)return !0;if("false" == Ua || !1 === Ua)return !1;});}function P(wa,Sa){return I(wa,Sa,function(Ua){if(u.ze(Ua))return JSON.parse(p.XY(Ua));if(u.Sg(Ua))return Ua;});}function R(wa,Sa,Ua,$a,Za,mb){var db;wa=wa.toLowerCase();X.hasOwnProperty(wa) && (db=X[wa]);if(!u.Hc(db))return Sa;if(u.ze(db))if(db[0] !== Ua)db=$a(db);else try{db=JSON.parse(p.XY(db));}catch(Ta){db=void 0;}if(void 0 === db)return Sa;for(wa=0;wa < Za.length;wa++){if(!Za[wa](db))return Sa;}return mb?mb(db):db;}function K(wa,Sa,Ua,$a,Za){return R(wa,Sa,"[",function(mb){mb=mb.split("|");for(var db=mb.length;db--;){mb[db]=r.pe(mb[db]);}return mb;},[function(mb){return u.isArray(mb) && 0 < mb.length;},function(mb){for(var db=mb.length;db--;){if(!u.Cy(mb[db],Ua,$a))return !1;}return !0;},function(mb){return void 0 === Za || mb.length >= Za;}]);}function Q(wa,Sa){return R(wa,Sa,"[",function(Ua){Ua=u.isArray(Ua)?Ua:Ua.split("|");for(var $a=Ua.length;$a--;){try{Ua[$a]=JSON.parse(p.XY(Ua[$a]));}catch(Za){Ua=void 0;break;}}return Ua;},[function(Ua){return u.isArray(Ua) && 0 < Ua.length;},function(Ua){for(var $a=Ua.length;$a--;){if(!u.Hc(Ua[$a]) || !u.Sg(Ua[$a]))return !1;}return !0;}]);}function N(wa,Sa,Ua,$a){return R(wa,Sa,"[",function(Za){return u.isArray(Za)?Za:Za.split("|");},[function(Za){return u.isArray(Za) && 0 < Za.length;},function(Za){for(var mb=Za.length;mb--;){if(Ua?!Ua.test(Za[mb]):!u.Dy(Za[mb]))return !1;}return !0;},function(Za){return void 0 === $a || Za.length >= $a;}]);}function da(wa,Sa,Ua){return R(wa,Sa,"{",function($a){var Za,db,Ta;Za={};$a=$a.split(";");for(var mb=$a.length;mb--;){db=$a[mb];Ta=db.indexOf(":");if(0 >= Ta)return;Za[db.substring(0,Ta)]=db.substring(Ta + 1);}return Za;},[function($a){return u.Sg($a) && 0 < Object.keys($a).length;},function($a){if(Ua)for(var Za in $a){if(!Ua.test($a[Za]))return !1;}return !0;}],function($a){var Za;Za={};r.Qb(Za,Sa);r.Qb(Za,$a);return Za;});}function na(wa){var Sa;Sa=[];r.de(wa,function(Ua,$a){var Za;try{Za="videoapp" === Ua.toLowerCase()?"[object object]":JSON.stringify($a);}catch(mb){Za="cantparse";}Sa.push(Ua + "=" + Za);});return Sa.join("\n");}va=/^[0-9]+[%]?$/;ra=/^[0-9]*$/;za={};V=d.ha.get(g.gm);T=d.ha.get(x.BP);(function(wa){function Sa(Ua){Ua.split(",").forEach(function($a){var Za;Za=$a.indexOf("=");0 < Za && (X[$a.substring(0,Za).toLowerCase()]=$a.substring(Za + 1));});}X={};r.Qb(X,wa);C && C.length && p.forEach.call(C,function(Ua){u.ze(Ua)?Sa(Ua):u.Sg(Ua) && r.Qb(X,Ua,{NL:!0});});ta=r.Qb({},l.m3(),{NL:!0});if(wa=l.$0a().cadmiumconfig)(d.log.info("Config cookie loaded",wa),Sa(wa));if(d.ha.get(B.Kk).y0 || X.istestaccount)(r.Qb(X,ta),za=ta);})(E);b.config={};ja={Evb:D(L,G("enableXHEAAC"),!1),MQa:D(L,G("enableDDPlus20"),!0),LQa:D(L,G("enableDDPlus"),!0),FS:D(L,G("enableDDPlusAtmos"),!1),nvb:D(L,G("enableLSSDH"),!0),hvb:D(L,G("enableHEVC"),!1),u_a:D(L,G("overrideEnableHEVC"),!1),Yha:D(L,G("enableHDR"),!1),t_a:D(L,G("overrideEnableHDR"),!1),s_a:D(L,G("overrideEnableDV"),!1),yK:D(L,G("enableAVCHigh"),T.yK),rC:D(L,G("overrideEnableAVCHigh"),T.rC),Cvb:D(L,G("enableVP9"),!1),v_a:D(L,G("overrideEnableVP9"),!1),bvb:D(L,G("enableAV1"),!1),r_a:D(L,G("overrideEnableAV1"),!1),tvb:D(L,G("enablePRK"),!1),fvb:D(L,G("enableDV"),!1),ivb:D(L,G("enableHWDRM"),!1),lvb:D(L,G("enableImageSubs"),!0),hXb:D(L,G("useLegacySubs"),!1),YA:D(N,G("audioProfiles"),T.YA),f4b:D(L,G("disableHD"),!1),Bvb:D(L,G("enableUHD"),!0),K8:D(H,"videoCapabilityDetectorType",m.Bi.Zt),Yea:D(H,"audioCapabilityDetectorType",m.Wt.Zt),hw:D(N,G("videoProfiles"),T.hw),zjb:D(N,G("timedTextProfiles"),T.$v),$v:function(){return ja.zjb().filter(function(wa){return wa === n.Or.P9?ja.nvb():wa === n.Or.iI?ja.lvb():!0;});},endpoint:D(L,G("endpoint"),!1),version:D(O,"version","unknown"),d3a:D(L,G("setMediaKeysEarly"),!1),G6b:D(L,G("nrdpPersistCookiesToIndexDB"),!1),n6a:D(L,G("useHdcpLevelOnCast"),!1),jvb:D(L,G("enableHdcp"),!1),Iv:D(L,G("prepareCadmium"),!1),Yjb:D(L,G("acceptManifestOnPrepareItemParams"),!0),hNb:D(P,"ppmconfig",{maxNumberTitlesScheduled:1}),SMb:D(L,G("playerPredictionModelV2"),!0),HS:D(L,G("enableLdlPrefetch"),!1),e2:D(L,G("enableGetHeadersAndMediaPrefetch"),!1),xtb:D(L,G("deleteCachedManifestOnPlayback"),!1),wtb:D(L,G("deleteCachedManifestOnCreate"),!1),Btb:D(L,G("deleteOtherManifestCacheOnCreate"),!1),Atb:D(L,G("deleteOtherLdlCacheOnCreate"),!1),V6b:D(H,G("periodicPrepareLogsIntervalMilliseconds"),36E5),ENb:D(H,G("prepareManifestCacheMaxCount"),50),CNb:D(H,G("prepareLdlCacheMaxCount"),30),y0a:D(H,G("prepareManifestExpiryMilliseconds"),12E5),DNb:D(H,G("prepareLdlExpiryMilliseconds"),78E4),wNb:D(H,G("prefetcherMaxWishlistSize"),1),vNb:D(H,G("prefetcherBudgetInBytes"),Infinity),xNb:D(L,G("prefetcherOverrideItemPriority"),!0),zNb:D(L,G("prefetcherRemoveItemOnManifestExpiration"),!0),oNb:D(L,G("preferManifestFromPrefetcher"),!1),BNb:D(O,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),i8b:D(P,"videoApp"),MC:D(P,"storageRules"),Oxb:D(L,"ftlEnabled",!0),sla:D(H,G("imageSubsResolution"),0),xDb:D(H,G("imageSubsMaxBuffer"),T.SHb.ea(y.Xt),0),OR:D(L,G("captureBatteryStatus"),!1),yyb:D(H,G("getBatteryApiTimeoutMilliseconds"),5E3),Xe:D(O,G("keySystemId"),T.Xe),VWa:D(N,G("keySystemList"),void 0,void 0),IIb:D(H,G("hdcpGlobalTimeout1"),1E4),JIb:D(H,G("hdcpGlobalTimeout2"),1E4),k6b:D(H,G("hdcpQueryTimeout1"),1E3),l6b:D(H,G("hdcpQueryTimeout2"),1E3),KYa:D(H,G("hdcpQueryTimeout2"),100),KIb:D(L,G("microsoftHwdrmRequiresHevc"),!1),EIb:D(L,G("microsoftAvcHighRequiresSwdrm"),!1),FIb:D(L,G("microsoftEnableDeviceInfo"),!1),GIb:D(L,G("microsoftEnableHardwareInfo"),!1),HIb:D(L,G("microsoftEnableHardwareReset"),!1),eXb:D(L,G("useHevcCodecForDolbyVision"),!1),qvb:D(L,G("enableMediaCapabilities"),!1),gNb:D(L,G("powerEfficientForVideo"),!1),$Gb:D(L,"logMediaPipelineStatus",!1),XV:D(L,G("renderDomDiagnostics"),!0),AXa:function(){return -1;},ML:D(J,G("logDisplayMaxEntryCount"),T.ML,-1),fHb:D(J,G("logToConsoleLevel"),-1),A3b:D(J,G("bladerunnerCmdHistorySize"),10),Zu:function(){return V.Zu;},VWb:D(L,"upgradeNetflixId",!0),Wma:D(L,"logErrorIfEsnNotProvided",!0),gia:D(L,"enforceSinglePlayback",T.gia),g2:D(L,"enforceSingleSession",T.g2),nga:D(L,"closeOtherPlaybacks",!0),Ilb:D(H,"asyncLoadTimeout",15E3,1),nHb:D(H,"mainThreadMonitorPollRate",0),F6b:D(L,"nrdpAlwaysShowUIOverlay",!1),H6b:D(L,"nrdpValidateSSOTokens",!0),A7b:D(L,"showNrdpDebugBadging",!1),N8:function(){return V.N8;},HB:function(){return V.HB;},YJ:function(){return V.YJ;},uH:function(){return V.uH;},B6a:D(H,G("verbosePlaybackInfoDenominator"),0),W6:D(L,"renderTimedText",!0),iNb:D(L,"preBufferTimedText",!0),wwb:D(L,"fatalOnTimedTextLoadError",!0),cta:D(da,"timedTextStyleDefaults",{}),h8:D(da,"timedTextStyleOverrides",{}),bta:D(da,"timedTextFontFamilyMapping",T.bta || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),MN:D(H,"timedTextSimpleFallbackThreshold",T.MN.ea(y.Xt)),cha:D(O,G("customDfxpUrl")),Avb:D(L,G("enableSubtitleTrackerLogging"),!1),ARb:D(L,G("sendSubtitleQoeLogblobOnMidplay"),!1),Pfa:D(K,"cdnIdWhiteList",[]),Ofa:D(K,"cdnIdBlackList",[]),$ia:D(O,G("forceAudioTrack")),uJb:D(L,"muteVolumeOnPlaybackClose",!0),I6b:D(O,"nrdpVolumeControlType","VOLUME_STREAM"),dja:D(O,G("forceTimedTextTrack")),ZHb:D(H,G("maxRetriesTimedTextDownload"),0),fVb:D(H,G("timedTextRetryInterval"),8E3),STb:D(O,"storageType","idb",/^(none|fs|idb|ls)$/),wXa:D(H,"lockExpiration",1E4),YGb:D(H,"lockRefresh",3E3),Unb:D(L,"captureUnhandledExceptions",!0),wDb:D(L,"ignoreUnhandledExceptionDuringPlayback",!0),iWb:D(L,"unhandledExceptionsArePlaybackErrors",!1),I5a:D(O,"unhandledExceptionSource",""),PNb:D(L,"preserveLastFrame",!1),UIb:D(H,"minBufferingTimeInMilliseconds",4E3),kOb:D(H,"progressBackwardsGraceTimeMilliseconds",4E3),lOb:D(H,"progressBackwardsMinPercent",10),Lmb:D(O,G("bookmarkIgnoreBeginning"),"0",va),Mmb:D(O,G("bookmarkIgnoreEnd"),"5%",va),Nmb:D(O,G("bookmarkIgnoreEndForBranching"),"60000",va),QL:D(H,"maxParallelConnections",3),Sqa:D(L,"reportThroughputInLogblobs",!0),XL:D(H,"minAudioMediaRequestDuration",16E3),SIb:D(H,"minAudioMediaRequestDurationBranching",0),aM:D(H,"minVideoMediaRequestDuration",4E3),XIb:D(H,"minVideoMediaRequestDurationAL1",0),YIb:D(H,"minVideoMediaRequestDurationBranching",0),s5:D(H,"minAudioMediaRequestSizeBytes",0),z5:D(H,"minVideoMediaRequestSizeBytes",0),Jub:D(L,"droppedFrameRateFilterEnabled",!1),Kub:D(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),Mub:D(function(wa,Sa,Ua,$a,Za,mb){return R(wa,Sa,"[",function(db){db=db.split(";");for(var Ta=db.length;Ta--;){db[Ta]=db[Ta].split("|");for(var Ca=db[Ta].length;Ca--;){db[Ta][Ca]=r.pe(db[Ta][Ca]);}}return db;},[function(db){return u.isArray(db) && 0 < db.length;},function(db){for(var Ta=db.length;Ta-- && void 0 !== db;){if(!u.isArray(db[Ta]))return !1;for(var Ca=db[Ta].length;Ca--;){if(!u.Cy(db[Ta][Ca],Ua,$a))return !1;}}return !0;},function(db){if(void 0 !== Za)for(var Ta=db.length;Ta--;){if(Za !== db[Ta].length)return !1;}return !0;},function(db){return void 0 === mb || db.length >= mb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),p4b:D(L,"droppedFrameRateFilterWithoutRebufferEnabled",!0),Lub:D(H,"droppedFrameRateFilterMinHeight",384),Nub:D(K,"droppedFramesPercentilesList",[]),LIb:D(L,"microsoftScreenSizeFilterEnabled",!1),HFb:D(L,"keyStatusFilterEnabled",!1),eVa:D(H,"hdcpEngagementWaitTime",0),fWb:D(L,"uiLabelFilterEnabled",!0),eWb:D(P,"uiLabelFilter",{}),stb:D(H,G("defaultVolume"),100,0,100),Cna:D(H,G("maxPlaybackRate"),2,0,16),cQa:D(L,"disableVideoRightClickMenu",!1),u5:D(H,"minDecoderBufferMilliseconds",1E3,0,k.fA),oG:D(H,"optimalDecoderBufferMilliseconds",5E3,0,k.fA),i_a:D(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.fA),jC:D(H,"minimumTimeBeforeBranchDecision",3E3,0,k.fA),My:D(H,"maxDecoderBufferMilliseconds",T.My.ea(z.ma),0,k.fA),IPa:D(H,"decoderTimeoutMilliseconds",1E4,1),uZa:D(H,"noRenderTimeoutMilliseconds",0),eub:D(L,"disgardMediaOnAppend",!1),llb:D(L,"appendMediaBeforeInit",!1),eMb:D(H,"pauseTimeoutLimitMilliseconds",18E5),ula:D(H,"inactivityMonitorInterval",3E4,0),Xjb:D(K,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),BK:D(L,"enableTrickPlay",!1),Okb:D(K,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),PVb:D(H,"trickPlayHighResolutionBitrateThreshold",1E3),QVb:D(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),TVb:D(M,"trickplayBufferFactor",.5),OVb:D(H,"trickPlayDownloadRetryCount",1),vna:D(O,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),moa:D(O,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),nza:D(P,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),oYa:D(J,"maxIQRSamples",Infinity),RYa:D(J,"minIQRSamples",5),s6a:D(L,"useResourceTimingAPI",!1),uDb:D(L,"ignoreFirstByte",!0),qIb:D(L,"mediaRequestAsyncLoadStart",!0),qXb:D(L,"useXHROnLoadStart",!1),zia:D(K,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),s1:D(H,"connectTimeoutMilliseconds",8E3,500),roa:D(H,"noProgressTimeoutMilliseconds",8E3,500),jXb:D(L,"useOnLineApi",!1),b5a:D(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),x6b:D(H,"netflixRequestExpiryTimeout",0),iYb:D(L,"webkitDecodedFrameCountIncorrectlyReported",!1),dRb:D(H,"seekBackOnAudioTrackChangeMilliseconds",8E3),cMb:D(L,"pausePlaybackOnAudioSwitch",!0),Qsa:D(N,G("supportedAudioTrackTypes"),[],void 0,1),RVa:D(H,"initialLogFlushTimeout",5E3),k0a:D(O,"playdataPersistKey",V.Zu?"unsentplaydatatest":"unsentplaydata"),Lra:D(L,"sendPersistedPlaydata",!0),PMb:D(H,"playdataPersistIntervalMilliseconds",4E3),W6b:D(H,"playdataSendDelayMilliseconds",1E4),u7:D(L,"sendPlaydataBackupOnInit",!0),cHb:D(N,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),NIb:D(L,"midplayEnabled",!0),LYa:D(H,"midplayIntervalMilliseconds",3E5),OIb:D(K,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),vS:D(H,"downloadReportDenominator",0),xub:D(H,"downloadReportInterval",3E5),zXa:D(H,"logConfigApplyDenominator",0),$Ma:D(da,G("bookmarkByMovieId"),{}),ZS:D(L,G("forceLimitedDurationLicense"),!1),$B:D(H,G("licenseRenewalRequestDelay"),0),rpa:D(H,G("persistedReleaseDelay"),1E4),D5b:D(L,G("limitedDurationFlagOverride"),void 0),r2a:D(H,"safariPlayPauseWorkaroundDelay",100),sYb:D(H,"workaroundValueForSeekIssue",1200),Lfa:D(L,G("callEndOfStream"),T.Lfa),qMb:D(L,"performRewindCheck",!0),ywb:D(L,"fatalOnUnexpectedSeeking",!0),xwb:D(L,"fatalOnUnexpectedSeeked",!0),vSb:D(L,G("setVideoElementSize")),Rob:D(L,G("clearVideoSrc"),!0),SPa:D(H,G("delayPlayPause"),0),Cr:D(L,G("useTypescriptEme"),!1),m6a:D(L,G("useEncryptedEvent"),!0),yS:D(O,G("drmPersistKey"),"unsentDrmData"),L0a:D(L,G("promiseBasedEme"),!1),Tnb:D(L,"captureKeyStatusData",!1),U3:D(L,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),gKb:D(L,G("nudgeSourceBuffer"),!1),Bra:D(J,G("seekDelta"),1),AV:D(L,G("preciseSeeking"),!1),kNb:D(L,G("preciseSeekingOnTwoCoreDevice"),!1),RPa:D(da,G("delayErrorHandling")),q5a:D(L,"trackingLogEnabled",!1),r5a:D(function(wa,Sa){var Ua;Ua=da(wa,Sa,void 0);Ua && Object.entries(Ua).forEach(function($a){var Za;Za=aa($a);$a=Za.next().value;Za=Za.next().value;"true" === Za?Ua[$a]=!0:"false" === Za && (Ua[$a]=!1);});return Ua;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),lta:D(O,"trackingLogPath","/customerevents/track/debug"),GVb:D(K,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),gi:D(O,"esn",""),BRa:D(O,"fesn",""),vvb:D(L,G("enablePerformanceLogging"),!1),PQa:D(L,G("enableEmeVerboseLogging"),!1),ovb:D(L,"enableLastChunkLogging",!1),appId:D(O,"appId","",ra),sessionId:D(O,"sessionId","",ra),Rfa:D(O,"cdnProxyUrl"),nXb:D(L,"usePlayReadyHeaderObject",!1),bSa:D(H,"forceXhrErrorResponseCode",void 0),Mq:{v6b:D(O,"mslApiPath","/msl/"),b7b:D(O,"proxyPath",""),Ez:D(O,"uiVersion"),w8:D(O,"uiPlatform"),K3b:function(){return "0";},Rpa:D(N,"preferredLanguages",k.Owa,/^[a-zA-Z-]{2,5}$/,1),rxb:D(O,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),xUb:D(L,"supportPreviewContentPin",!0),yUb:D(L,"supportWatermarking",!0),aTb:D(L,"showAllSubDubTracks",!1),B4b:D(L,G("failOnGuidMismatch"),!1)},N6:{enabled:D(L,"qcEnabled",!1),Ep:D(O,"qcPackageId","")},St:D(L,"useRangeHeader",!1),IS:D(L,"enableMilestoneEventList",!0),RJ:D(O,"authenticationType",V.Zu?T.MMa:T.RJ),LMa:D(da,"authenticationKeyNames",r.Qb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),HUb:D(O,"systemKeyWrapFormat"),EDb:D(L,"includeNetflixIdUserAuthData",!0),VSb:D(L,"shouldSendUserAuthData",!0),Ora:D(L,"sendUserAuthIfRequired",T.Ora),QSb:D(L,"shouldClearUserData",!1),pJb:D(L,"mslDeleteStore",!1),rJb:D(L,"mslPersistStore",!0),Qpb:D(L,"correctNetworkForShortTitles",!0),fNb:D(L,"postplayHighInitBitrate",!1),nxb:D(L,"flushHeaderCacheOnAudioTrackChange",!0),BUb:D(L,"supportsUnequalizedDownloadables",!0),EPa:D(H,G("debugAseDenominator"),100),oR:D(H,"aseAudioBufferSizeBytes",T.oR.ea(y.Xt)),qR:D(H,"aseVideoBufferSizeBytes",T.qR.ea(y.Xt)),zv:D(H,"minInitVideoBitrate",560),Xna:D(H,"minHCInitVideoBitrate",560),Oy:D(H,"maxInitVideoBitrate",Infinity),KU:D(H,"minInitAudioBitrate",0),JU:D(H,"minHCInitAudioBitrate",0),wU:D(H,"maxInitAudioBitrate",65535),r5:D(H,"minAcceptableVideoBitrate",235),LU:D(H,"minRequiredBuffer",3E4),Qi:D(H,"minPrebufSize",7800),Wna:D(H,"minCheckBufferingCompleteInterval",999999),wqa:D(M,"rebufferingFactor",1),$q:D(H,"maxBufferingTime",2600),Uta:D(L,"useMaxPrebufSize",!0),gC:D(H,"maxPrebufSize",45E3),Ena:D(H,"maxRebufSize",Infinity),X3:D(Q,"initialBitrateSelectionCurve",null),MVa:D(H,"initSelectionLowerBound",560),NVa:D(H,"initSelectionUpperBound",1050),e8:D(H,"throughputPercentForAudio",15),ifa:D(H,"bandwidthMargin",10),jfa:D(L,"bandwidthMarginContinuous",!1),kfa:D(Q,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Aga:D(H,"conservBandwidthMargin",20),Tsa:D(L,"switchConfigBasedOnInSessionTput",!1),XR:D(H,"conservBandwidthMarginTputThreshold",0),Bga:D(Q,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),C4a:D(L,"switchAlgoBasedOnHistIQR",!1),OC:D(O,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Dna:D(J,"maxPlayerStateToSwitchConfig",-1),ena:D(O,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),C$:D(M,"IQRThreshold",.5),jla:D(O,"histIQRCalcToUse","simple"),$s:D(H,"maxTotalBufferLevelPerSession",0),d2:D(L,"enableDiscontiguousBuffering",!1),bja:D(K,"forceImmediateTransitionTypeForTitles",[]),Sta:D(L,"useBufferSizeLimiter",!1),oVa:D(H,"highWatermarkLevel",3E4),j5a:D(H,"toStableThreshold",3E4),k8:D(H,"toUnstableThreshold",T.k8.ea(z.ma)),nsa:D(L,"skipBitrateInUpswitch",!0),kua:D(H,"watermarkLevelForSkipStart",8E3),dla:D(H,"highStreamRetentionWindow",9E4),fna:D(H,"lowStreamTransitionWindow",51E4),fla:D(H,"highStreamRetentionWindowUp",3E5),hna:D(H,"lowStreamTransitionWindowUp",3E5),ela:D(H,"highStreamRetentionWindowDown",6E5),gna:D(H,"lowStreamTransitionWindowDown",0),cla:D(M,"highStreamInfeasibleBitrateFactor",.5),Hy:D(H,"lowestBufForUpswitch",15E3),S4:D(H,"lockPeriodAfterDownswitch",15E3),jna:D(H,"lowWatermarkLevel",25E3),Iy:D(H,"lowestWaterMarkLevel",2E4),kna:D(L,"lowestWaterMarkLevelBufferRelaxed",!1),Ona:D(M,"mediaRate",1),f5:D(H,"maxTrailingBufferLen",1E4),tR:D(H,"audioBufferTargetAvailableSize",262144),oX:D(H,"videoBufferTargetAvailableSize",1048576),xYa:D(H,"maxVideoTrailingBufferSize",8388608),hYa:D(H,"maxAudioTrailingBufferSize",393216),t2:D(M,"fastUpswitchFactor",3),Aia:D(M,"fastDownswitchFactor",1),Py:D(H,"maxMediaBufferAllowed",24E4),lsa:D(L,"simulatePartialBlocks",!0),D3a:D(L,"simulateBufferFull",!0),Cga:D(L,"considerConnectTime",!1),zga:D(M,"connectTimeMultiplier",1),HXa:D(H,"lowGradeModeEnterThreshold",12E4),IXa:D(H,"lowGradeModeExitThreshold",9E4),lYa:D(H,"maxDomainFailureWaitDuration",3E4),gYa:D(H,"maxAttemptsOnFailure",18),pRa:D(L,"exhaustAllLocationsForFailure",!0),rYa:D(H,"maxNetworkErrorsDuringBuffering",20),Z4:D(H,"maxBufferingTimeAllowedWithNetworkError",12E4),xRa:D(H,"fastDomainSelectionBwThreshold",2E3),P4a:D(H,"throughputProbingEnterThreshold",4E4),Q4a:D(H,"throughputProbingExitThreshold",34E3),vXa:D(H,"locationProbingTimeout",1E4),ERa:D(H,"finalLocationSelectionBwThreshold",1E4),N4a:D(M,"throughputHighConfidenceLevel",.75),O4a:D(M,"throughputLowConfidenceLevel",.4),VQa:D(L,"enablePerfBasedLocationSwitch",!1),At:D(L,"probeServerWhenError",!0),Wpa:D(H,"probeRequestTimeoutMilliseconds",8E3),sx:D(L,"allowSwitchback",!0),yG:D(H,"probeDetailDenominator",100),a5:D(H,"maxDelayToReportFailure",300),Tma:D(H,"locationStatisticsUpdateInterval",6E4),VOa:D(L,"countGapInBuffer",!1),PLa:D(L,"allowCallToStreamSelector",!0),hNa:D(H,"bufferThresholdForAbort",1E4),vpa:D(H,"pipelineScheduleTimeoutMs",2),Qy:D(H,"maxPartialBuffersAtBufferingStart",2),Yna:D(H,"minPendingBufferLen",6E3),fC:D(H,"maxPendingBufferLen",12E3),XHb:D(H,"maxPendingBufferLenAL1",3E4),Fna:D(H,"maxStreamingSkew",4E3),Bna:D(H,"maxPendingBufferPercentage",10),SL:D(H,"maxRequestsInBuffer",60),tYa:D(H,"maxRequestsInBufferAL1",240),uYa:D(H,"maxRequestsInBufferBranching",120),H3:D(H,"headerRequestSize",4096),oia:D(L,"estimateHeaderSize",!0),IU:D(H,"minBufferLenForHeaderDownloading",1E4),$M:D(H,"reserveForSkipbackBufferMs",1E4),Aoa:D(H,"numExtraFragmentsAllowed",2),Fp:D(L,"pipelineEnabled",!1),M3a:D(H,"socketReceiveBufferSize",0),J0:D(H,"audioSocketReceiveBufferSize",32768),WN:D(H,"videoSocketReceiveBufferSize",65536),ala:D(H,"headersSocketReceiveBufferSize",32768),B8:D(H,"updatePtsIntervalMs",1E3),vfa:D(H,"bufferTraceDenominator",100),UJ:D(H,"bufferLevelNotifyIntervalMs",2E3),WA:D(H,"aseReportDenominator",0),E0:D(H,"aseReportIntervalMs",3E5),cvb:D(L,"enableAbortTesting",!1),Vjb:D(H,"abortRequestFrequency",8),Ksa:D(H,"streamingStatusIntervalMs",2E3),$y:D(H,"prebufferTimeLimit",24E4),t5:D(H,"minBufferLevelForTrackSwitch",2E3),mpa:D(H,"penaltyFactorForLongConnectTime",2),cna:D(H,"longConnectTimeThreshold",200),wea:D(H,"additionalBufferingLongConnectTime",2E3),xea:D(H,"additionalBufferingPerFailure",8E3),PV:D(H,"rebufferCheckDuration",6E4),SQa:D(L,"enableLookaheadHints",!1),EXa:D(H,"lookaheadFragments",2),ay:D(L,"enableOCSideChannel",!0),aZ:D(P,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),T5a:D(L,"updateDrmRequestOnNetworkFailure",!1),QPa:D(L,"deferAseScheduling",!1),kYa:D(H,"maxDiffAudioVideoEndPtsMs",16E3),SN:D(L,"useHeaderCache",!0),N1:D(H,"defaultHeaderCacheSize",4),M1:D(H,"defaultHeaderCacheDataPrefetchMs",8E3),Zka:D(H,"headerCacheMaxPendingData",6),hG:D(L,"neverWipeHeaderCache",!0),hVa:D(H,"headerCachePriorityLimit",5),$ha:D(L,"enableUsingHeaderCount",!1),iVa:D(L,"headerCacheTruncateHeaderAfterParsing",!0),F4b:D(L,G("flushHeaderCacheBeforePlayback"),!1),loa:D(H,"networkFailureResetWaitMs",2E3),koa:D(H,"networkFailureAbandonMs",6E4),e5:D(H,"maxThrottledNetworkFailures",3),d8:D(H,"throttledNetworkFailureThresholdMs",200),ina:D(J,"lowThroughputThreshold",400),tia:D(L,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),cZa:D(L,"mp4ParsingInNative",!1),O3a:D(L,"sourceBufferInOrderAppend",!0),mz:D(L,"requireAudioStreamToEncompassVideo",!0),OLa:D(L,"allowAudioToStreamPastVideo",!0),Gh:D(L,"enableManagerDebugTraces",!1),VXa:D(H,"managerDebugMessageInterval",1E3),UXa:D(H,"managerDebugMessageCount",20),GZa:D(L,"notifyManifestCacheEom",!1),ufa:D(H,"bufferThresholdToSwitchToSingleConnMs",18E4),tfa:D(H,"bufferThresholdToSwitchToParallelConnMs",12E4),r6:D(H,"periodicHistoryPersistMs",3E5),k7:D(H,"saveVideoBitrateMs",18E4),eMa:D(L,"appendMediaRequestOnComplete",!0),P8:D(L,"waitForDrmToAppendMedia",!1),C2:D(L,G("forceAppendHeadersAfterDrm"),!1),LOb:D(L,G("reappendRequestsOnSkip"),!1),xJb:D(H,"netIntrStoreWindow",36E3),VIb:D(H,"minNetIntrDuration",8E3),twb:D(H,"fastHistoricBandwidthExpirationTime",10368E3),qmb:D(H,"bandwidthExpirationTime",5184E3),qwb:D(H,"failureExpirationTime",86400),ZCb:D(H,"historyTimeOfDayGranularity",4),dwb:D(L,"expandDownloadTime",!1),eJb:D(H,"minimumMeasurementTime",500),dJb:D(H,"minimumMeasurementBytes",131072),XUb:D(H,"throughputMeasurementTimeout",2E3),SDb:D(H,"initThroughputMeasureDataSize",262144),YUb:D(O,"throughputPredictor","ewma"),WUb:D(H,"throughputMeasureWindow",5E3),aVb:D(H,"throughputWarmupTime",5E3),VUb:D(H,"throughputIQRMeasureWindow",5E3),$ab:D(H,"IQRBucketizerWindow",15E3),vpb:D(H,"connectTimeHalflife",10),xQb:D(H,"responseTimeHalflife",10),YCb:D(H,"historicBandwidthUpdateInterval",2E3),cJb:D(H,"minimumBufferToStopProbing",1E4),Ara:D(O,"secondThroughputEstimator","none"),x2a:D(J,"secondThroughputMeasureWindowInMs",Infinity),gvb:D(N,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),Kwb:D(P,"filterDefinitionOverrides",{}),ktb:D(O,"defaultFilter","throughput-ewma"),bRb:D(O,"secondaryFilter","none"),ltb:D(P,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),QU:D(L,"needMinimumNetworkConfidence",!0),nfa:D(L,"biasTowardHistoricalThroughput",!0),pea:D(L,"addHeaderDataToNetworkMonitor",!1),xsa:D(L,"startMonitorOnLoadStart",!1),Rqa:D(L,"reportFailedRequestsToNetworkMonitor",!1),zna:D(J,"maxFastPlayBufferInMs",Infinity),yna:D(J,"maxFastPlayBitThreshold",Infinity),Hea:D(L,"appendFirstHeaderOnComplete",!0),vlb:D(O,"ase_stream_selector","optimized"),Fla:D(O,"initBitrateSelectorAlgorithm","default"),zfa:D(O,"bufferingSelectorAlgorithm","default"),FPa:D(O,"ase_ls_failure_simulation",""),fha:D(L,"ase_dump_fragments",!1),hha:D(H,"ase_location_history",0),iha:D(H,"ase_throughput",0),HPa:D(L,"ase_simulate_verbose",!1),bNb:D(H,"pollingPeriod",150),QGb:D(H,"loadTimeMs",18E4),CHb:D(H,"marginTimeMs",1E4),Dja:D(L,"getDeviceIdFromBindDevice",!1),oea:D(L,"addFailedLogBlobsToQueue",!0),yta:{"content-sampling":{$q:D(H,"contentSamplingMaxBufferingTime",3E3),fN:D(O,"contentSamplingSelectStartingVMAFMethod","fallback"),hR:D(L,"contentSamplingActivateSelectStartingVMAF",!0),$L:D(H,"contentSamplingMinStartingVideoVMAF",80),HU:D(H,"contentSamplingMinAcceptableVMAF",70),bG:D(H,"contentSamplingMinAllowedVmaf",60)},billboard:{zv:D(H,"billboardMinInitVideoBitrate",1050),Oy:D(H,"billboardMaxInitVideoBitrate",null),Qi:D(H,"billboardMinPrebufSize",null),gC:D(H,"billboardMaxPrebufSize",null),$q:D(H,"billboardMaxBufferingTime",null),Qy:D(H,"billboardMaxPartialBuffersAtBufferingStart",null),Iy:D(H,"billboardLowestWaterMarkLevel",6E3),Hy:D(H,"billboardLowestBufForUpswitch",25E3),OC:D(O,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{zv:D(H,"preplayMinInitVideoBitrate",1050),Oy:D(H,"preplayMaxInitVideoBitrate",null),Qi:D(H,"preplayMinPrebufSize",null),gC:D(H,"preplayMaxPrebufSize",null),$q:D(H,"preplayMaxBufferingTime",null),Qy:D(H,"preplayMaxPartialBuffersAtBufferingStart",null),Iy:D(H,"preplayLowestWaterMarkLevel",6E3),Hy:D(H,"preplayLowestBufForUpswitch",25E3)},embedded:{zv:D(H,"embeddedMinInitVideoBitrate",1050),Oy:D(H,"embeddedMaxInitVideoBitrate",null),Qi:D(H,"embeddedMinPrebufSize",null),gC:D(H,"embeddedMaxPrebufSize",null),$q:D(H,"embeddedMaxBufferingTime",null),Qy:D(H,"embeddedMaxPartialBuffersAtBufferingStart",null),Iy:D(H,"embeddedLowestWaterMarkLevel",6E3),Hy:D(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{zv:D(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),Oy:D(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Qi:D(H,"videoMerchBobHorizontalMinPrebufSize",null),gC:D(H,"videoMerchBobHorizontalMaxPrebufSize",null),$q:D(H,"videoMerchBobHorizontalMaxBufferingTime",null),Qy:D(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Iy:D(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Hy:D(H,"videoMerchBobHorizontalLowestBufForUpswitch",null),hw:D(N,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{zv:D(H,"miniModalHorizontalMinInitVideoBitrate",null),Oy:D(H,"miniModalHorizontalMaxInitVideoBitrate",null),Qi:D(H,"miniModalHorizontalMinPrebufSize",null),gC:D(H,"miniModalHorizontalMaxPrebufSize",null),$q:D(H,"miniModalHorizontalMaxBufferingTime",500),Qy:D(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Iy:D(H,"miniModalHorizontalLowestWaterMarkLevel",null),Hy:D(H,"miniModalHorizontalLowestBufForUpswitch",null)}},Dvb:D(L,"enableVerbosePlaydelayLogging",!1),yvb:D(L,"enableSeamless",!1),ila:D(H,"hindsightDenominator",0),hla:D(H,"hindsightDebugDenominator",0),L3:D(P,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),JS:D(L,"enableSessionHistoryReport",!1),Wha:D(H,"earlyStageEstimatePeriod",1E4),iXa:D(H,"lateStageEstimatePeriod",3E4),c5:D(H,"maxNumSessionHistoryStored",30),y5:D(H,"minSessionHistoryDuration",3E4),uv:D(H,"maxActiveRequestsPerSession",3),X4:D(H,"maxActiveRequestsSABCell100",2),d5:D(H,"maxPendingBufferLenSABCell100",500),Nma:D(L,"limitAudioDiscountByMaxAudioBitrate",!0),Ud:D(P,"browserInfo",{}),gnb:D(H,G("busyGracePeriod"),199),BRb:D(L,G("sendTransitionLogblob"),!0),Uub:D(L,G("editVideoFragments"),!0),b2:D(L,G("earlyAppendSingleChildBranch"),!0),FDb:D(L,G("includeSegmentInfoOnLogblobs"),!0),iwb:D(L,"exposeTestData",!1),kha:D(L,"declareBufferingCompleteAtSegmentEnd",!0),VA:D(L,"applyProfileTimestampOffset",!1),ck:D(L,"applyProfileStreamingOffset",!1),dlb:D(L,G("allowSmallSeekDelta"),!1),pTb:D(H,G("smallSeekDeltaThresholdMilliseconds"),t.vZ),evb:D(L,"enableCDMAttestedDescriptors",!1),a7:D(L,"requireDownloadDataAtBuffering",!1),b7:D(L,"requireSetupConnectionDuringBuffering",!1),zqa:D(L,"recordFirstFragmentOnSubBranchCreate",!1),Tmb:D(L,"branchingAudioTrackFrameDropSmallSeekFix",!0),$Ra:D(L,"forceL3WidevineCdm",!1),iXb:D(L,"useMobileVMAF",!1),Ltb:D(O,"desiredVMAFTypeMobile","phone_plus_lts"),Mtb:D(O,"desiredVMAFTypeNonMobile","plus_lts"),hR:D(L,"activateSelectStartingVMAF",!1),$L:D(H,"minStartingVideoVMAF",1),HU:D(H,"minAcceptableVMAF",1),bG:D(H,"minAllowedVmaf",1),Eea:D(L,"alwaysNotifyEOSForPlaygraph",!0),AK:D(L,"enableNewAse",!0),kX:D(L,"useNewApi",!0),kvb:D(L,"enableHudsonFieldTest",!1),nDb:D(N,"hudsonTitles",["81127954","70125931","80158148"]),WHb:D(H,"maxPartialBuffersAtHudson",1),lKb:D(H,"numberOfChunksPerSegment",4),KUb:D(H,"targetContentLatency",1E4),LUb:D(H,"targetLongContentLatency",3E4),fJb:D(H,"minimumTimeDelay",1),aia:D(L,"enableWsslEstimate",!1),Y4:D(H,"maxAllowedOutstandingRequests",4),KJ:D(L,"alwaysRunUnderflowTimer",!0),Zna:D(H,"minStreamableConcurrencyWindow",3E3),Hsa:D(M,"streamableConcurrencyFactor",.3),KR:D(H,"bufferingConcurrencyWindow",7800),kTb:D(L,"singleStreamablePerBranch",!0),f2:D(L,"enableResolutionVMAFStreamFilter",!1),g7:D(P,"resolutionVMAFCappingRuleList",{}),opa:D(J,"percentCapTitlesForResolutionVMAFStreamFilter",100),cub:D(L,"disableSkipping",!1),Tta:D(L,G("useExitZones"),!0)};Ia=!0;b.xga=function(wa){var Sa,Ua,$a;Sa=d.ha.get(A.zd).id;if(0 < b.config.zXa && 0 === Sa % b.config.zXa)try{Ua=d.ha.get(w.iq);$a=d.ha.get(v.eA).Uu("config","info",{params:wa});Ua.Xd($a);}catch(Za){d.log.error("Failed to log config$apply",Za);}pb._cad_global.config=b.config;h.gb(wa);wa && (X=r.Qb({},wa,{NL:!0}),r.Qb(X,za,{NL:!0}),F(ja,b.config),X.istestaccount && d.log.trace("Config applied for",na(Ia?X:wa)),Ia=!1);};b.xga(X);};b.qpb=function(C,E){return u.ze(C) && "%" == C[C.length - 1]?p.yi(parseFloat(C) * E / 100):C | 0;};b.EOa=function(C){return C?(C=r.Qb({},b.config),r.Qb(C,{oG:b.config.i_a},{Vy:!0})):b.config;};b.rpb=function(C){var E;E=r.Qb({},b.config);C=c(C);return r.Qb(E,C,{Vy:!0});};b.p1=function(C){C=c(C);return r.Qb({},a(179)(C),{Vy:!0});};b.yga=function(C,E,F){F=! !F && (0 <= F.indexOf("h264hpl") || 0 <= F.indexOf("vp9"));C={XL:C?b.config.SIb:b.config.XL,aM:C?b.config.YIb:F?b.config.XIb:b.config.aM,SL:C && F?Math.max(b.config.uYa,b.config.tYa):C?b.config.uYa:F?b.config.tYa:b.config.SL,fC:F?b.config.XHb:b.config.fC,b2:!E};return r.Qb({},a(179)(C),{Vy:!0});};b.tpb=c;b.spb=f;},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(373),b);},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.vo={J3b:"casttv",ega:"chrome",N3b:"chromecast",Mq:"edge",AQa:"edgeoss",SRa:"firefox",l5b:"ie",opera:"opera",q2a:"safari"};b.Ao={A0:"android",XNa:"chromeos",oGb:"linux",NXa:"mac",I4a:"tesla",lua:"windows"};b.eP={opb:"computer",phone:"phone",E4a:"tablet"};b.dd="ConfigSymbol";},function(q,b,a){b=a(109);b.mtb=0;q.exports={EventEmitter:b,zh:a(772)};},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Kc=b.Pla=b.Dy=b.ze=b.nma=b.IEb=b.wEb=b.fma=b.Cy=b.mWa=b.xa=b.lma=b.isArray=b.HWa=b.Sg=b.Hc=b.is=void 0;q=a(190);b.is=q.lD;b.Hc=function(c){return b.is.eg(c);};b.Sg=function(c){return b.is.LJ(c);};b.HWa=function(c){return b.is.eea(c);};b.isArray=function(c){return b.is.tx(c);};b.lma=function(c){return b.is.VLa(c);};b.xa=function(c,f,k){return b.is.$h(c,f,k);};b.mWa=function(c,f,k){return b.is.Fea(c,f,k);};b.Cy=function(c,f,k){return b.is.mR(c,f,k);};b.fma=function(c){return b.is.bR(c);};b.wEb=function(c){return b.is.Tjb(c);};b.IEb=function(c){return b.is.Ujb(c);};b.nma=function(c){return b.is.WLa(c);};b.ze=function(c){return b.is.So(c);};b.Dy=function(c){return b.is.Bn(c);};b.Pla=function(c){return b.is.aR(c);};b.Kc=function(c){return b.is.t0(c);};},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Jd=b.Bb=b.$e=b.Gb=b.W=b.F$=b.tI=b.Rb=void 0;(function(c){c.UGb="loadedtracks";c.TGb="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Iq="currenttimechanged";c.oWb="unthrottledcurrenttimechanged";c.lNa="bufferedtimechanged";c.Pub="durationchanged";c.TXb="videosizechanged";c.fMb="pausedchanged";c.$Mb="playingchanged";c.Lvb="endedchanged";c.Efa="busychanged";c.EMa="audiotracklistchanged";c.xR="audiotrackchanged";c.kH="timedtexttracklistchanged";c.Az="timedtexttrackchanged";c.bX="trickplayframeschanged";c.vJb="mutedchanged";c.aYb="volumechanged";c.bTb="showsubtitle";c.KPb="removesubtitle";c.hYb="watermark";c.gma="isReadyToTransition";c.qL="inactivated";c.aWa="internalPlaybackError";c.lRb="segmentmaploaded";c.mRb="segmentpresenting";c.imb="autoplaywasallowed";c.jmb="autoplaywasblocked";})(b.Rb || (b.Rb={}));(b.tI || (b.tI={})).q7="playgraphsegmenttransition";b.F$=a;a.M2a="serverTimeChanged";(function(c){c.pR="aseException";c.OJ="aseReport";c.emb="authorized";c.dfa="autoplayWasAllowed";c.El="autoplayWasBlocked";c.vmb="bandwidthMeterAggregateUpdate";c.Bx="bufferUnderrun";c.closed="closed";c.dg="closing";c.Iq="currentTimeChanged";c.iF="downloadComplete";c.qL="inactivated";c.kXa="licenseAdded";c.LL="licensed";c.pv="locationSelected";c.OL="manifestClosing";c.sv="manifestPresenting";c.O5b="manifestSelected";c.i5="mediaBufferChanged";c.O5="nextBranchingSegmentChosen";c.ot="playbackStart";c.Gp="playbackReady";c.Zl="repositioned";c.EG="repositioning";c.s2a="safePlayRequested";c.eRb="segmentAborted";c.NG="segmentPresenting";c.u7b="segmentComplete";c.gRb="segmentLastPts";c.kRb="segmentStarting";c.lN="serverSwitch";c.A3a="shouldUpdateVideoDiagInfo";c.GN="subtitleError";c.Ysa="throttledMediaTimeChanged";c.M5a="unthrottledMediaTimeChanged";c.LN="timedTextRebuffer";c.kH="timedTextTrackListChanged";c.bX="trickPlayFramesChanged";c.dX="tryRecoverFromStall";c.Kta="updateNextBranchingSegmentWeights";c.uXb="userInitiatedPause";c.w6a="userInitiatedResume";})(b.W || (b.W={}));(function(c){c[c.kI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.$d=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Gb || (b.Gb={}));(function(c){c[c.$d=1]="NORMAL";c[c.Sc=2]="BUFFERING";c[c.QFa=3]="STALLED";})(b.$e || (b.$e={}));(function(c){c[c.Jg=1]="WAITING";c[c.yc=2]="PLAYING";c[c.Wh=3]="PAUSED";c[c.au=4]="ENDED";})(b.Bb || (b.Bb={}));(function(c){c[c.yw=0]="INITIAL";c[c.Iw=1]="SEEK";c[c.xI=2]="TRACK_CHANGED";c[c.HD=3]="SEGMENT_CHANGED";c[c.tY=4]="FORCE_REBUFFER";})(b.Jd || (b.Jd={}));},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ka=!1;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zd="ApplicationSymbol";},function(q,b,a){function c(f,k){return b.En.assert(f,k);}Object.defineProperty(b,"__esModule",{value:!0});b.Wsb=b.eha=b.Psb=b.Tsb=b.nK=b.jS=b.Ssb=b.Usb=b.oK=b.DPa=b.Rsb=b.Qsb=b.gb=b.En=b.Vsb=b.M7a=void 0;q=a(7);a=a(91);b.M7a=function(){c(!1);};b.Vsb=!0;b.En=q.ha.get(a.Yt);b.gb=c;b.Qsb=function(f,k){return b.En.zlb(f,k);};b.Rsb=function(f,k){return b.En.Alb(f,k);};b.DPa=function(f,k){return b.En.G0(f,k);};b.oK=function(f,k){return b.En.Glb(f,k);};b.Usb=function(f,k){return b.En.Elb(f,k);};b.Ssb=function(f,k){return b.En.Sea(f,k);};b.jS=function(f,k){return b.En.Clb(f,k);};b.nK=function(f,k){return b.En.Flb(f,k);};b.Tsb=function(f,k){return b.En.Dlb(f,k);};b.Psb=function(f,k){return b.En.ylb(f,k);};b.eha=function(f,k){return b.En.Blb(f,k);};b.Wsb=function(){return b.En.kEb();};},function(q,b){function a(c,f){var k,l,d,g,h;if(c && f){k=Math;l=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=l.call(k,c * f / g);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.S=void 0;q=(function(){function c(f,k){"object" === typeof f?(this.cc=f.Wb,this.eb=f.U):(this.cc=f,this.eb=k);}c.compare=function(f,k){return f.Wk(k);};c.abs=function(f){return new c(Math.abs(f.cc),f.eb);};c.rb=function(f){return 0 === f?c.hb:new c(f,1E3);};c.VW=function(f,k){return Math.floor(1E3 * f / k);};c.F5=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{Wb:{get:function(){return this.cc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return c.VW(this.cc,this.eb);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{vG:{get:function(){return 1E3 * this.cc / this.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{HG:{get:function(){var f;f=this.vG;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Wg:{get:function(){return this.cc / this.eb;},enumerable:!1,configurable:!0}});c.prototype.Vf=function(f){f/=this.eb;return new c(Math.floor(this.cc * f),Math.floor(this.eb * f));};c.prototype.add=function(f){var k;if(this.eb === f.eb)return new c(this.cc + f.cc,this.eb);k=a(this.eb,f.eb);return new c(this.cc * k / this.eb + f.cc * k / f.eb,k);};c.prototype.Ba=function(f){var k;if(this.eb === f.eb)return new c(this.cc - f.cc,this.eb);k=a(this.eb,f.eb);return new c(this.cc * k / this.eb - f.cc * k / f.eb,k);};c.prototype.mC=function(f){return new c(this.cc * f,this.eb);};c.prototype.Yk=function(f){var k;if("number" === typeof f){k=a(this.cc,f);return k !== this.cc?this.Vf(k / this.cc * this.eb).Yk(f):new c(this.cc / f,this.eb);}if(this.eb === f.eb)return this.cc / f.cc;k=a(this.eb,f.eb);return this.cc * k / this.eb / (f.cc * k / f.eb);};c.prototype.bQa=function(f){var k;if(this.eb === f.eb)return new c(Math.abs(this.cc - f.cc),this.eb);k=a(this.eb,f.eb);return new c(Math.abs(this.cc * k / this.eb - f.cc * k / f.eb),k);};c.prototype.yqa=function(){return new c(this.eb,this.cc);};c.prototype.compare=function(f,k){var l;if(this.eb === k.eb)return f(this.cc,k.cc);l=a(this.eb,k.eb);return f(this.cc * l / this.eb,k.cc * l / k.eb);};c.prototype.Wk=function(f){var k;if(this.eb === f.eb)return this.cc - f.cc;k=a(this.eb,f.eb);return this.cc * k / this.eb - f.cc * k / f.eb;};c.prototype.equal=function(f){return this.compare(function(k,l){return k === l;},f);};c.prototype.T5=function(f){return this.compare(function(k,l){return k !== l;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,l){return k < l;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,l){return k > l;},f);};c.prototype.Fy=function(f){return this.compare(function(k,l){return k <= l;},f);};c.prototype.xp=function(f){return this.compare(function(k,l){return k >= l;},f);};c.prototype.isFinite=function(){return ! !this.eb && isFinite(this.cc);};c.prototype.s3=function(f){return a(this.U,f);};c.prototype.toJSON=function(){return {ticks:this.cc,timescale:this.eb};};c.prototype.toString=function(){return this.cc + "/" + this.eb;};c.prototype.Nd=function(){return this.cc + "/" + this.eb + " (" + this.V + "ms)";};c.hb=new c(0,1E3);c.Cv=new c(1,1E3);c.PB=new c(Infinity,1);return c;})();b.S=q;},function(q,b,a){function c(){c=Object.assign || (function(G){for(var I,J=1,H=arguments.length;J < H;J++){I=arguments[J];for(var M in I){Object.prototype.hasOwnProperty.call(I,M) && (G[M]=I[M]);}}return G;});return c.apply(this,arguments);}function f(G,I){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(J,H){J.__proto__=H;}) || (function(J,H){for(var M in H){H.hasOwnProperty(M) && (J[M]=H[M]);}});return f(G,I);}function k(G,I){function J(){this.constructor=G;}f(G,I);G.prototype=null === I?Object.create(I):(J.prototype=I.prototype,new J());}function l(G,I){var J,H,M;J={};for(H in G){Object.prototype.hasOwnProperty.call(G,H) && 0 > I.indexOf(H) && (J[H]=G[H]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){M=0;for(H=Object.getOwnPropertySymbols(G);M < H.length;M++){0 > I.indexOf(H[M]) && Object.prototype.propertyIsEnumerable.call(G,H[M]) && (J[H[M]]=G[H[M]]);}}return J;}function d(G,I,J,H){var M,O,L;M=arguments.length;O=3 > M?I:null === H?H=Object.getOwnPropertyDescriptor(I,J):H;if("object" === typeof Reflect && "function" === typeof Reflect.Jq)O=Reflect.Jq(G,I,J,H);else for(var P=G.length - 1;0 <= P;P--){if(L=G[P])O=(3 > M?L(O):3 < M?L(I,J,O):L(I,J)) || O;}return (3 < M && O && Object.defineProperty(I,J,O),O);}function g(G,I){return function(J,H){I(J,H,G);};}function h(G,I){if("object" === typeof Reflect && "function" === typeof Reflect.xd)return Reflect.xd(G,I);}function m(G,I,J,H){function M(O){return O instanceof J?O:new J(function(L){L(O);});}return new (J || (J=Promise))(function(O,L){function P(Q){try{K(H.next(Q));}catch(N){L(N);}}function R(Q){try{K(H["throw"](Q));}catch(N){L(N);}}function K(Q){Q.done?O(Q.value):M(Q.value).then(P,R);}K((H=H.apply(G,I || [])).next());});}function n(G,I){var M,O,L,P,R;function J(K){return function(Q){return H([K,Q]);};}function H(K){if(O)throw new TypeError("Generator is already executing.");for(;M;){try{if((O=1,L && (P=K[0] & 2?L["return"]:K[0]?L["throw"] || ((P=L["return"]) && P.call(L),0):L.next) && !(P=P.call(L,K[1])).done))return P;if((L=0,P))K=[K[0] & 2,P.value];switch(K[0]){case 0:case 1:P=K;break;case 4:return (M.label++,{value:K[1],done:!1});case 5:M.label++;L=K[1];K=[0];continue;case 7:K=M.Tm.pop();M.gn.pop();continue;default:if(!(P=M.gn,P=0 < P.length && P[P.length - 1]) && (6 === K[0] || 2 === K[0])){M=0;continue;}if(3 === K[0] && (!P || K[1] > P[0] && K[1] < P[3]))M.label=K[1];else if(6 === K[0] && M.label < P[1])(M.label=P[1],P=K);else if(P && M.label < P[2])(M.label=P[2],M.Tm.push(K));else {P[2] && M.Tm.pop();M.gn.pop();continue;}}K=I.call(G,M);}catch(Q){K=[6,Q];L=0;}finally{O=P=0;}}if(K[0] & 5)throw K[1];return {value:K[0]?K[1]:void 0,done:!0};}M={label:0,Oe:function(){if(P[0] & 1)throw P[1];return P[1];},gn:[],Tm:[]};return (R={next:J(0),"throw":J(1),"return":J(2)},"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function r(G,I,J,H){void 0 === H && (H=J);G[H]=I[J];}function p(G,I){for(var J in G){"default" === J || I.hasOwnProperty(J) || (I[J]=G[J]);}}function u(G){var I,J,H;I="function" === typeof Symbol && Symbol.iterator;J=I && G[I];H=0;if(J)return J.call(G);if(G && "number" === typeof G.length)return {next:function(){G && H >= G.length && (G=void 0);return {value:G && G[H++],done:!G};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(G,I){var J,H,M;J="function" === typeof Symbol && G[Symbol.iterator];if(!J)return G;G=J.call(G);M=[];try{for(;(void 0 === I || 0 < I--) && !(H=G.next()).done;){M.push(H.value);}}catch(L){var O;O={error:L};}finally{try{H && !H.done && (J=G["return"]) && J.call(G);}finally{if(O)throw O.error;}}return M;}function w(){for(var G=[],I=0;I < arguments.length;I++){G=G.concat(t(arguments[I]));}return G;}function v(){var H;for(var G=0,I=0,J=arguments.length;I < J;I++){G+=arguments[I].length;}G=Array(G);H=0;for(I=0;I < J;I++){for(var M=arguments[I],O=0,L=M.length;O < L;(O++,H++)){G[H]=M[O];}}return G;}function x(G){return this instanceof x?(this.SC=G,this):new x(G);}function y(G,I,J){var R,K,Q;function H(N){R[N] && (K[N]=function(da){return new Promise(function(na,va){1 < Q.push([N,da,na,va]) || M(N,da);});});}function M(N,da){var na;try{na=R[N](da);na.value instanceof x?Promise.resolve(na.value.SC).then(O,L):P(Q[0][2],na);}catch(va){P(Q[0][3],va);}}function O(N){M("next",N);}function L(N){M("throw",N);}function P(N,da){(N(da),Q.shift(),Q.length) && M(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=J.apply(G,I || []);Q=[];return (K={},H("next"),H("throw"),H("return"),K[Symbol.asyncIterator]=function(){return this;},K);}function z(G){var J,H;function I(M,O){J[M]=G[M]?function(L){return (H=!H)?{value:x(G[M](L)),done:"return" === M}:O?O(L):L;}:O;}return (J={},I("next"),I("throw",function(M){throw M;}),I("return"),J[Symbol.iterator]=function(){return this;},J);}function B(G){var H,M;function I(O){M[O]=G[O] && (function(L){return new Promise(function(P,R){L=G[O](L);J(P,R,L.done,L.value);});});}function J(O,L,P,R){Promise.resolve(R).then(function(K){O({value:K,done:P});},L);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=G[Symbol.asyncIterator];return H?H.call(G):(G="function" === typeof u?u(G):G[Symbol.iterator](),M={},I("next"),I("throw"),I("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function A(G,I){Object.defineProperty?Object.defineProperty(G,"raw",{value:I}):G.raw=I;return G;}function C(G){var I;if(G && G.__esModule)return G;I={};if(null != G)for(var J in G){Object.hasOwnProperty.call(G,J) && (I[J]=G[J]);}I.default=G;return I;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,I){if(!I.has(G))throw new TypeError("attempted to get private field on non-instance");return I.get(G);}function D(G,I,J){if(!I.has(G))throw new TypeError("attempted to set private field on non-instance");I.set(G,J);return J;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return r;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return u;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return B;});a.d(b,"__makeTemplateObject",function(){return A;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return D;});},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.UOa=b.cSa=b.gy=b.mk=b.vd=b.qv=b.trim=b.QT=b.r4a=b.jqa=b.NLb=b.pe=b.pMa=b.FNa=b.Qb=b.de=void 0;c=a(21);f=a(29);k=a(11);l=a(17);b.de=function(d,g){for(var h in d){d.hasOwnProperty(h) && g(h,d[h]);}};b.Qb=b.Qb || (function(d,g,h){var m,n,r;if(g)if(h){m=h.NL;n=h.prefix;r=h.Vy;b.de(g,function(p,u){if(!r || f.Hc(u))d[(n || "") + (m?p.toLowerCase():p)]=u;});}else b.de(g,function(p,u){d[p]=u;});return d;});b.FNa=function(d,g,h,m){var n;if(d){n=d[g];l.Kc(n) && (h=n.apply(d,k.slice.call(arguments,3)));}return h;};b.pMa=function(d){for(var g={},h=d.length;h--;){g[d[h]]=!0;}return g;};b.pe=b.pe || (function(d){return parseInt(d,10);});b.NLb=function(d){return (/^true$/i).test(d);};b.jqa=function(d,g){return k.yi(d + k.uD() * (g - d));};b.r4a=function(d){return JSON.stringify(d,null,"  ");};b.QT=(function(){var g,h;function d(m){c.gb(void 0 !== g[m]);return g[m];}g={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(m){return m.replace(h,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(g){return g.replace(d,"");};})();b.qv=function(d){return Array.isArray(d)?d:[d];};b.vd=b.vd || (function(d){var g,h,m;if(d){g=d.stack;h=d.number;m=d.message;m || (m="" + d);g?(d="" + g,0 != d.indexOf(m) && (d=m + "\n" + d)):d=m;h && (d+="\nnumber:" + h);return d;}});b.mk=function(d){return l.xa(d)?d.toFixed(0):"";};b.gy=function(d){return l.xa(d)?(d / 1E3).toFixed(0):"";};b.cSa=function(d){return l.xa(d)?d.toFixed():"";};b.UOa=function(d){for(var g=[],h=0;h < d.length;h++){g[h]=d[h];}return g;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qw=b.RHa=b.teb=b.gj=b.ce=b.Bi=b.Wt=b.hm=void 0;(function(a){a[a.Audio=0]="Audio";a[a.LHa=1]="Video";})(b.hm || (b.hm={}));(function(a){a[a.Zt=0]="Default";a[a.Bw=1]="Microsoft";})(b.Wt || (b.Wt={}));(function(a){a[a.Zt=0]="Default";a[a.J9=1]="Cast";a[a.LH=2]="Chrome";a[a.Bw=3]="Microsoft";})(b.Bi || (b.Bi={}));(function(a){a[a.KP=0]="SD";a[a.xY=1]="HD";a[a.AI=2]="UHD";a[a.Ir=3]="DV";a[a.xw=4]="HDR10";a[a.YC=5]="AVCHigh";a[a.QD=6]="VP9";a[a.Fk=7]="AV1";})(b.ce || (b.ce={}));(function(a){a[a.oD=0]="Level_1_4";a[a.eu=1]="Level_2_2";})(b.gj || (b.gj={}));b.teb=function(){};(function(a){a[a.O1b=0]="Platform";a[a.DZb=1]="CurrentTitle";})(b.RHa || (b.RHa={}));b.qw="DeviceCapabilitiesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gf="IsTypeSymbol";},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={bZb:{Kw:0,a2b:1,name:["STARTUP","STEADY"]},yY:{Ig:0,$1b:1,peb:2,name:["STARTING","STABLE","UNSTABLE"]},Za:{Tb:0,Hb:1,name:["AUDIO","VIDEO"]},Hk:{Tb:0,Hb:1,name:["AUDIO","VIDEO"]},$g:{URL:0,KD:1,LOCATION:2,Ew:3,name:["URL","SERVER","LOCATION","NETWORK"]},wf:{HAVE_NOTHING:0,Zz:1,ww:2,YH:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},JD:{JYb:0,F_b:1,F1b:2,N0b:3,m1b:4,C2b:5,H_b:6,m0b:7,Kw:8,uf:9,xaa:10,cdb:11,y9:12,gbb:13,fbb:14,Jdb:15,Idb:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},h_b:{Ew:0,FZb:1,name:["NETWORK","DECODE"]},Y1b:{HZb:"delayedSeamless",R_b:"hideLongTransition"}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hf="UtilitiesSymbol";},function(q,b,a){var l,d;function c(g){return null !== g && void 0 !== g;}function f(g){return typeof g == b.UGa;}function k(g,h,m){var n,r,p;if(h)if(m){n=m.NL;r=m.prefix;p=m.Vy;d.de(h,function(u,t){if(!p || c(t))g[(r || "") + (n?u.toLowerCase():u)]=t;});}else d.de(h,function(u,t){g[u]=t;});return g;}Object.defineProperty(b,"__esModule",{value:!0});b.M=b.vd=b.QT=b.NK=b.ZE=b.createElement=b.qs=b.oMa=b.j1=b.sN=b.Qb=b.yo=b.pe=b.Dy=b.ze=b.Sg=b.Hc=b.TGa=b.geb=b.heb=b.UGa=b.WC=b.U8=b.Fr=b.eO=b.dO=b.Vj=b.QY=b.tD=b.uD=b.xo=b.ln=b.yi=b.aaa=b.Aw=b.NH=b.kcb=b.FD=b.Ik=b.kj=void 0;l=a(11);d=a(24);b.kj=function(){};b.Ik=1E3;b.FD=Object.create;b.kcb=Object.keys;b.NH=Date.now;b.Aw=Math.floor;b.aaa=Math.ceil;b.yi=Math.round;b.ln=Math.max;b.xo=Math.min;b.uD=Math.random;b.tD=Math.abs;b.QY=Math.pow;b.Vj="$attributes";b.dO="$children";b.eO="$name";b.Fr="$text";b.U8="$parent";b.WC="$sibling";b.UGa="string";b.heb="number";b.geb="function";b.TGa="object";b.Hc=c;b.Sg=function(g){return typeof g == b.TGa;};b.ze=f;b.Dy=function(g){return f(g) && g;};b.pe=function(g){return parseInt(g,10);};b.yo=function(g,h,m){return g >= h?g <= m?g:m:h;};b.Qb=k;b.sN=function(g){return k({},g);};b.j1=function(g){var n;for(var h=0;h < arguments.length;++h){;}h=0;for(var m=arguments.length;h < m;){n=arguments[h++];if(c(n))return n;}};b.oMa=function(g,h){for(var m,n=!0,r;n;){for((n=!1,m=g.length);--m;){r=g[m];r[h] < g[m - 1][h] && (g[m]=g[m - 1],g[m - 1]=r,n=!0);}}};b.qs=function(g,h){if(g.length == h.length){for(var m=g.length;m--;){if(g[m] != h[m])return !1;}return !0;}return !1;};b.createElement=function(g,h,m,n){var r;r=l.De.createElement(g);h && (r.style.cssText=h);m && (r.innerHTML=m);n && d.de(n,function(p,u){r.setAttribute(p,u);});return r;};b.ZE=function(g){var h;h="";d.de(g,function(m,n){h+=(h?";":"") + m + ":" + n;});return h;};b.NK=function(g,h,m){var n;if(g / h > m){n=b.yi(h * m);g=h;}else (n=g,g=b.yi(g / m));return {width:n,height:g};};b.QT=(function(){var h,m;function g(n){return h[n];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};m=/[&'"<>]/g;return function(n){return n.replace(m,g);};})();b.vd=function(g){var h,m;if(g){h=g.stack;m=g.number;g="" + g;h?(h="" + h,0 != h.indexOf(g) && (h=g + "\n" + h)):h=g;m && (h+="\nnumber:" + m);return h;}};b.M={jm:1001,fj:1003,E$a:1701,yya:1713,F$a:1715,D$a:1721,uY:1723};},function(q,b,a){var f;function c(k){return k.filter(function(l,d){return k.indexOf(l) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.S5=b.fCb=b.Rpb=b.flatten=b.QYa=b.dpb=b.qMa=b.ds=b.nMa=b.lMa=b.qlb=b.fs=b.mMa=b.wg=void 0;f=a(2);b.wg=function(k,l){for(var d=0;d < k.length;d++){if(l(k[d],d,k))return k[d];}};b.mMa=function(k,l){for(var d=k.length - 1;0 <= d;--d){if(l(k[d],d,k))return k[d];}};b.fs=function(k,l){var d;d=-1;return k.some(function(g,h,m){d=h;return l(g,h,m);})?d:-1;};b.qlb=function(k,l){for(var d=k.length - 1;0 <= d;d--){if(l(k[d],d,k))return d;}return -1;};b.lMa=c;b.nMa=function(k,l){l=k.indexOf(l);if(-1 === l)return !1;k.splice(l,1);return !0;};b.ds=function(k,l,d){return d?k.filter(function(g){return !l.some(function(h){return d(g,h);});}):k.filter(function(g){return -1 === l.indexOf(g);});};b.qMa=function(k,l){return c(k.concat(l));};b.dpb=function(k){return function(l,d){return k(l) - k(d);};};b.QYa=function(k){return function(l,d){return k(l) < k(d)?l:d;};};b.flatten=function(k){var l;return (l=[]).concat.apply(l,f.__spread(k));};b.Rpb=function(k,l){void 0 === l && (l=function(d){return d;});return k.reduce(function(d,g){g=l(g);return (void 0 === d[g]?d[g]=1:++d[g],d);},{});};b.fCb=function(k,l){return k.reduce(function(d,g){var h;h=l(g);return (void 0 === d[h]?d[h]=[g]:d[h].push(g),d);},{});};b.S5=function(k){return null !== k && void 0 !== k;};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);b.ka=!1;q=(function(){function f(k,l,d,g,h){this.ia=k;this.type=l;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Sa={};this.Vm=g;}f.Em=function(k,l){var g,m;function d(n){n && n.Em && (n=n.Em(l),n.length && (g=g.concat(n)));}g=[];k.type === l && g.push(k);if(k.Sa)for(var h in k.Sa){m=k.Sa[h];Array.isArray(m) && m.forEach(d);}return g;};f.$r=function(k,l){void 0 === k.Sa[l.type] && (k.Sa[l.type]=[]);k.Sa[l.type].push(l);};f.$k=function(k,l){return f.Em(k,l)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.ia;},enumerable:!0,configurable:!0}});f.prototype.ec=function(){var k;k=this.ia.ta();this.version=k >> 24;this.flags=k & 16777215;};f.prototype.$r=function(k){f.$r(this,k);};f.prototype.Em=function(k){return f.Em(this,k);};f.prototype.$k=function(k){return f.$k(this,k);};f.prototype.parse=function(){return !0;};f.prototype.Ds=function(){return !0;};f.prototype.vh=function(k){if((k=this.Sa[k]) && Array.isArray(k) && 1 === k.length)return k[0];};f.prototype.re=function(k,l){l=void 0 === l?this.ia.offset:l;c.assert(l >= this.startOffset + 8 && l + k <= this.startOffset + this.Vm,"Removal range [0x" + l.toString(16) + "-0x" + (l + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Vm).toString(16) + ")");this.ia.re(k,l,this);};f.prototype.Et=function(k,l,d){d=void 0 === d?this.ia.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.Vm,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Vm).toString(16) + ")");this.ia.Et(k,l,d,this);};f.prototype.OV=function(k,l,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.OQ(k,l));}return g;}return this.OQ(k,l);};f.prototype.oi=function(k){var l,d;d=this;void 0 === l && (l={});k.forEach(function(g){var h,m;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.ia.offset+=h / 8;}else for(h in g){m=g[h];l[h]="string" === typeof m?d.OV(m):d.OV(m.type,m.length,m.Oea);}});return l;};f.prototype.OQ=function(k,l){var d;d=this.byteLength - this.ia.offset + this.startOffset;"undefined" === typeof l && (l=d);switch(k){case "int8":k=this.ia.cb();break;case "int64":k=this.ia.Hd();break;case "int32":k=this.ia.ta();break;case "int16":k=this.ia.Dc();break;case "string":k=this.ia.nqa(Math.min(l,d));break;default:throw Error("Invalid type: " + k);}return k;};f.Ka=!1;return f;})();b.kc=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zg="AsyncComponentLoaderSymbol";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(156);b.ka=!1;q=(function(){function f(k,l,d,g,h){this.ia=k;this.type=l;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Sa={};this.Vm=g;}f.Em=function(k,l){var g,m;function d(n){n && n.Em && (n=n.Em(l),n.length && (g=g.concat(n)));}g=[];k.type === l && g.push(k);if(k.Sa)for(var h in k.Sa){m=k.Sa[h];Array.isArray(m) && m.forEach(d);}return g;};f.$r=function(k,l){void 0 === k.Sa[l.type] && (k.Sa[l.type]=[]);k.Sa[l.type].push(l);};f.$k=function(k,l){return f.Em(k,l)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.ia;},enumerable:!0,configurable:!0}});f.prototype.ec=function(){var k;k=this.ia.ta();this.version=k >> 24;this.flags=k & 16777215;};f.prototype.$r=function(k){f.$r(this,k);};f.prototype.Em=function(k){return f.Em(this,k);};f.prototype.$k=function(k){return f.$k(this,k);};f.prototype.parse=function(){return !0;};f.prototype.Ds=function(){return !0;};f.prototype.vh=function(k){if((k=this.Sa[k]) && Array.isArray(k) && 1 === k.length)return k[0];};f.prototype.re=function(k,l){l=void 0 === l?this.ia.offset:l;c.assert(l >= this.startOffset + 8 && l + k <= this.startOffset + this.Vm,"Removal range [0x" + l.toString(16) + "-0x" + (l + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Vm).toString(16) + ")");this.ia.re(k,l,this);};f.prototype.Et=function(k,l,d){d=void 0 === d?this.ia.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.Vm,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Vm).toString(16) + ")");this.ia.Et(k,l,d,this);};f.prototype.OV=function(k,l,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.OQ(k,l));}return g;}return this.OQ(k,l);};f.prototype.oi=function(k){var l,d;d=this;void 0 === l && (l={});k.forEach(function(g){var h,m;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.ia.offset+=h / 8;}else for(h in g){m=g[h];l[h]="string" === typeof m?d.OV(m):d.OV(m.type,m.length,m.Oea);}});return l;};f.prototype.OQ=function(k,l){var d;d=this.byteLength - this.ia.offset + this.startOffset;"undefined" === typeof l && (l=d);switch(k){case "int8":k=this.ia.cb();break;case "int64":k=this.ia.Hd();break;case "int32":k=this.ia.ta();break;case "int16":k=this.ia.Dc();break;case "string":k=this.ia.nqa(Math.min(l,d));break;default:throw Error("Invalid type: " + k);}return k;};f.Ka=!1;return f;})();b.kc=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kk="PlatformSymbol";b.kA="PlatformMutableSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rh="Base64EncoderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.WHa="WindowTimersSymbol";b.mD="JSONSymbol";b.DHa="UserAgentSymbol";b.lI="NavigatorSymbol";b.Kbb="MediaSourceSymbol";b.DAa="LocationSymbol";b.Ywa="DateSymbol";b.Gaa="PerformanceSymbol";b.CP="PlatformExtraInfoSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.L9="ConfigurableInputsSymbol";b.km="ValidatingConfigurableInputsSymbol";b.vO="ConfigNameSymbol";b.gP="InitParamsSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gm=b.hu=b.vw=void 0;(function(a){a[a.XGa=0]="Test";a[a.bAa=1]="Int";a[a.Ydb=2]="Staging";a[a.rdb=3]="Prod";})(b.vw || (b.vw={}));(function(a){a[a.EP=0]="PreferMsl";a[a.ZEa=1]="PreferNoMsl";a[a.ecb=2]="NoMsl";})(b.hu || (b.hu={}));b.gm="GeneralConfigSymbol";},function(q,b,a){var l,d;function c(g,h){return g && g.Vs && (h || !1 !== g.ev);}function f(g,h,m){return !l.xa(g) || g < h?h:g > m?m:g;}function k(g){if(!(this instanceof k))return new k(g);this.ie=l.xa(g)?g:void 0;}l=a(10);d=new (a(4).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");q.exports={console:d,debug:!1,assert:function(g,h){if(!g)throw (g=h?" : " + h:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},GL:c,Oia:function(g,h,m){var r,p,u,t;function n(w){var v;v=g[w];if(!v.Vs || m && !m(v,w))return !1;t=w;return !0;}r=g.length;p=0;u=r;l.isArray(h) && (p=f(h[0],0,r),u=f(h[1],0,r),h=h[2]);h=f(h,p - 1,u);for(r=h - 1;r >= p;--r){if(n(r))return t;}for(r=h + 1;r < u;++r){if(n(r))return t;}return -1;},nJb:function(g,h){return Math.floor(g / (125 * h) * 1E3);},hnb:function(g,h){return Math.ceil(g / 1E3 * h * 125);},s5b:function(g,h){return !g.slice(h + 1).some(c);},Do:k,wg:function(g,h){var m;return g.some(function(n,r,p){m=n;return h(n,r,p);})?m:void 0;},fs:function(g,h){var m;return g.some(function(n,r,p){m=r;return h(n,r,p);})?m:-1;},f1:f};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wi="ClockSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.hA="named";b.TY="name";b.RP="unmanaged";b.GCa="optional";b.fP="inject";b.rD="multi_inject";b.PGa="inversify:tagged";b.QGa="inversify:tagged_props";b.raa="inversify:paramtypes";b.x9a="design:paramtypes";b.zP="post_construct";},function(q,b,a){var f;function c(k,l,d,g,h,m,n,r,p,u,t,w){this.code=void 0 === k?f.L.jm:k;this.jc=l;this.wd=d;this.Bm=g;this.Av=h;this.message=m;this.details=n;this.data=r;this.Dj=p;this.NMb=u;this.alert=t;this.Cea=w;this.X=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.$c=void 0;f=a(3);c.vd=function(k){var l,d,g;if(k){l=k.stack;d=k.number;g=k.message;g || (g="" + k);l?(k="" + l,0 !== k.indexOf(g) && (k=g + "\n" + k)):k=g;d && (k+="\nnumber:" + d);return k;}return "";};c.prototype.pS=function(k){this.details=c.vd(k);this.data=k;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.jc,extCode:this.wd,edgeCode:this.Bm,mslCode:this.Av,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Dj,playbackServiceError:this.NMb};};c.hja=function(k,l){return new c(k,f.M.fj,void 0,void 0,void 0,void 0,l.message,l.stack);};c.pYb=function(k,l,d){return new c(k,l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.$c=c;},function(q,b,a){var l,d,g;function c(h){var m,n,r,t;r=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var p=(m=void 0,l.__values(Object.getOwnPropertyNames(h))),u=p.next();!u.done;u=p.next()){t=u.value;-1 === r.indexOf(t) && r.push(t);}}catch(w){m={error:w};}finally{try{u && !u.done && (n=p.return) && n.call(p);}finally{if(m)throw m.error;}}h=Object.getPrototypeOf(h);}return r;}function f(h,m,n,r,p){var u;Object.getOwnPropertyNames(h).filter(function(t){return p(t) && (n || !Object.prototype.hasOwnProperty.call(m,t)) && (r || !((t in m)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(h,t);void 0 !== u && Object.defineProperty(m,t,u);});}function k(h,m,n,r){var p,u;p=[];n || (p=Object.getOwnPropertyNames(m));r || (p=c(m));u=Object.getPrototypeOf(h);null !== u && u !== Object.prototype && k(u,m,n,r);f(h,m,!0,!0,function(t){return "constructor" !== t && -1 === p.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.tf=b.Ppb=void 0;l=a(2);d=a(6);b.Ppb=k;g=Object.getOwnPropertyNames(Function);b.tf=function(h,m,n,r){void 0 === n && (n=!0);void 0 === r && (r=!0);r || d.assert(!n);h.prototype?(k(h.prototype,m.prototype,n,r),f(h,m,n,r,function(p){return -1 === g.indexOf(p);})):f(h,m.prototype,n,r,function(p){return -1 === g.indexOf(p);});return m;};},function(q,b,a){var l,d,g;function c(h){return function(m,n){return m.tqa(n,h);};}function f(h,m){return h.O6.wOb[m] || k(h,m);}function k(h,m){h=h.vy.data[m];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.ux=b.Cqa=b.object=b.Uvb=b.url=b.ca=b.vk=b.zta=b.jEb=b.U7=b.string=b.Fz=b.ud=b.g4=b.config=void 0;l=a(49);d=a(5);g=a(135);b.config=function(h,m,n){n=void 0 === n?!1:n;return function(r,p,u){var t,w;t=void 0 !== m?m:p;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.cFb(p))return this.hBb(p);a:{v=(this.blb || n?f:k)(this,t.toString());if(void 0 !== v)if((v=h(this.$U,v),v instanceof g.zo))this.fSa(t,v);else break a;v=w.bind(this)();}this.wQb(p,v);return v;});return u;};};b.g4=function(h,m){return h.c1a(m);};b.ud=function(h,m){return h.mqa(m);};b.Fz=function(h,m){return h.Lp(m);};b.string=function(h,m){return h.tqa(m);};b.U7=function(h,m){return h.ph(m,b.string);};b.jEb=function(h,m){return h.ph(m,b.g4);};b.zta=function(h,m){return h.ph(m,b.Fz);};b.vk=function(h,m){h=h.Lp(m);return h instanceof g.zo?h:d.uc(h);};b.ca=function(h,m){h=h.Lp(m);return h instanceof g.zo?h:l.ca(h);};b.url=c(/^\S+$/);b.Uvb=function(h){return function(m,n){return m.b1a(n,h);};};b.object=function(){return function(h,m){return h.d1a(m);};};b.Cqa=c;b.ux=function(h,m){return function(n,r){return n.ph(r,h,m);};};},function(q,b,a){var k,l,d,g;function c(h,m){var n;n=g.call(this,h,m) || this;n.GOa=m;n.debug=h.debug;n.ya=h.Bg.Cb(n.GOa);return n;}function f(h,m){this.GOa=m;this.cqa={};this.vy=h.vy;this.$U=h.$U;this.O6=h.O6;}Object.defineProperty(b,"__esModule",{value:!0});b.ff=b.lO=b.RGa=void 0;q=a(1);k=a(577);l=a(0);d=a(135);b.RGa="isTestAccount";f.prototype.fSa=function(){};f.prototype.wQb=function(h,m){this.cqa[h]=[m,this.vy.i7];};f.prototype.cFb=function(h){return k.qaa.of(this.cqa[h]).map(function(m){return m[1];}).or(-1) < this.vy.i7;};f.prototype.hBb=function(h){return k.qaa.of(this.cqa[h]).map(function(m){return m[0];}).or(function(){throw Error("Invalid State Error");});};Xa.Object.defineProperties(f.prototype,{blb:{configurable:!0,enumerable:!0,get:function(){var h,m;if(this && this.vy && this.vy.data){h=this.vy.data[b.RGa];"undefined" !== typeof h && (m=h.toString());h=this.$U.mqa(m);h=h instanceof d.zo?!1:h;}else h=!1;return h;}}});g=f;g=q.__decorate([l.R(),q.__param(0,l.cj()),q.__param(1,l.cj())],g);b.lO=g;ka(c,g);c.prototype.fSa=function(h,m){this.ya.error("Invalid configuration value.",{name:h},m);this.debug.assert(!1);};a=c;a=q.__decorate([q.__param(0,l.cj()),q.__param(1,l.cj())],a);b.ff=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lj="SchedulerSymbol";},function(q,b,a){var h,m,n,r,p,u,t,w;function c(){var v,x;if(v=b.m3.tKa)return v;v=u.WY.search.substr(1);x=v.indexOf("#");0 <= x && (v=v.substr(0,x));v=f(v);return b.m3.tKa=v;}function f(v){for(var x=/[+]/g,y=(v || "").split("&"),z={},B,A=0;A < y.length;A++){v=r.trim(y[A]);B=v.indexOf("=");0 <= B?z[decodeURIComponent(v.substr(0,B).replace(x,"%20")).toLowerCase()]=decodeURIComponent(v.substr(B + 1).replace(x,"%20")):z[v.toLowerCase()]=null;}return z;}function k(v){return (v=(/function (.{1,})\(/).exec(v.toString())) && 1 < v.length?v[1]:"";}function l(v){return k(v.constructor);}function d(v){return u.sort.call(v,function(x,y){return x - y;});}function g(v){for(var x=0,y=v.length;y--;){x+=v[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.dNb=b.zT=b.eTa=b.A4=b.aNb=b.vWa=b.o8a=b.p8a=b.lxb=b.ms=b.npb=b.NK=b.Hwb=b.nG=b.G7a=b.n9=b.H7a=b.KX=b.Nua=b.F7a=b.fEb=b.ZE=b.HNb=b.Eoa=b.zja=b.getFunctionName=b.lM=b.oV=b.m3=b.ZAb=b.$0a=b.CLa=b.LOa=b.EOb=b.qs=b.uOa=void 0;h=a(12);m=a(21);n=a(7);r=a(24);p=a(29);u=a(11);t=a(17);w=a(66);b.uOa=function(v,x){if(v === x)return !0;if(!v || !x)return !1;for(var y in v){if(v.hasOwnProperty(y) && (!x.hasOwnProperty(y) || v[y] !== x[y]))return !1;}return !0;};b.qs=b.qs || (function(v,x){if(v.length == x.length){for(var y=v.length;y--;){if(v[y] != x[y])return !1;}return !0;}return !1;});b.EOb=function(v){var x;if(v){x=v.length;if(x)return (x=r.jqa(0,x - 1),v[x]);}};b.LOa=function(v,x){if(v.length != x.length)return !1;v.sort();x.sort();for(var y=v.length;y--;){if(v[y] !== x[y])return !1;}return !0;};b.CLa=function(v,x,y){function z(){v.removeEventListener(x,z);y.apply(this,arguments);}v.addEventListener(x,z);};b.$0a=function(){var v,x,y,z,B,A;v=u.De.cookie.split("; ");x=v.length;B={};for(y=0;y < x;y++){if(z=r.trim(v[y])){A=z.indexOf("=");0 < A && (B[z.substr(0,A)]=z.substr(A + 1));}}return B;};b.ZAb=c;b.m3=Object.assign(c,{tKa:void 0});b.oV=f;b.lM=function(v){var x;x="";r.de(v,function(y,z){x && (x+="&");m.gb(p.ze(z) || t.xa(z) || t.Pla(z));x+=encodeURIComponent(y) + "=" + encodeURIComponent(z);});return x;};b.getFunctionName=k;b.zja=l;b.Eoa=function(v){var x;x="";t.isArray(v) || t.lma(v)?x=u.reduce.call(v,function(y,z){return y + (32 <= z && 128 > z?u.LGa(z):".");},""):p.ze(v)?x=v:r.de(v,function(y,z){x+=(x?", ":"") + "{" + y + ": " + (t.Kc(z)?k(z) || "function":z) + "}";});return "[" + l(v) + " " + x + "]";};b.HNb=function(v,x){v.firstChild?v.insertBefore(x,v.firstChild):v.appendChild(x);};b.ZE=b.ZE || (function(v){var x;x="";r.de(v,function(y,z){x+=(x?";":"") + y + ":" + z;});return x;});b.fEb=function(v,x){var y;y=v[0];if(x <= y[0])return y.slice(1);for(var z=1,B;B=v[z++];){if(x <= B[0]){v=(x - y[0]) / (B[0] - y[0]);x=[];for(z=1;z < y.length;z++){x.push((y[z] || 0) + v * ((B[z] || 0) - (y[z] || 0)));}return x;}y=B;}return y.slice(1);};b.F7a=function(v,x){var B;for(var y={},z=0;z < x.length;z++){B=x[z];if("string" != typeof B && "number" != typeof B)return !1;y[x[z]]=1;}for(z=0;z < v.length;z++){if((B=v[z],!y[B]))return !1;}return !0;};b.Nua=function(v,x){0 > v.indexOf(x) && v.push(x);};b.KX=d;b.H7a=g;b.n9=function(v,x){var y,z,B,A;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (B=v[y]) && B <= B);){B=void 0;}for(;++y < z;){null != (A=v[y]) && A > B && (B=A);}}else {for(;++y < z && !(null != (B=x.call(v,v[y],y)) && B <= B);){B=void 0;}for(;++y < z;){null != (A=x.call(v,v[y],y)) && A > B && (B=A);}}return B;};b.G7a=function(v,x){var y,z,B,A;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (B=v[y]) && B <= B);){B=void 0;}for(;++y < z;){null != (A=v[y]) && B > A && (B=A);}}else {for(;++y < z && !(null != (B=x.call(v,v[y],y)) && B <= B);){B=void 0;}for(;++y < z;){null != (A=x.call(v,v[y],y)) && B > A && (B=A);}}return B;};b.nG=function(v){return t.Kc(v.then)?v:new Promise(function(x,y){v.oncomplete=function(){x(v.result);};v.onerror=function(){y(v.error);};});};b.Hwb=function(v,x){var z,B,A,C,E,F;function y(D){0 > z.indexOf(D) && t.xa(D) && z.push(D);}v=v.slice();d(v);z=[];if(!x || !x.length)return v;if(!v.length)return [];B=x.length;try{for(;B--;){C="" + x[B];E=p.pe(C);switch(C[C.length - 1]){case "-":for(A=v.length;A--;){F=v[A];if(F < E){y(F);break;}}break;case "+":for(A=0;A < v.length;A++){if((F=v[A],F > E)){y(F);break;}}break;default:0 <= v.indexOf(E) && y(E);}}}catch(D){}z.length || z.push(v[0]);d(z);return z;};b.NK=b.NK || (function(v,x,y){var z;if(v / x > y){z=u.yi(x * y);v=x;}else (z=v,v=u.yi(v / y));return {width:z,height:v};});b.npb=function(v,x,y){for(var z=[],B=0;B < x;B++){z.push(u.QY(v[B] - y,2));}return u.EBa(g(z) / z.length);};b.ms=function(v,x){var y;y=v.length;x=(y - 1) * x + 1;if(1 === x)return v[0];if(x == y)return v[y - 1];y=u.Aw(x);return v[y - 1] + (x - y) * (v[y] - v[y - 1]);};b.lxb=function(v,x){if(!t.isArray(v))throw Error("boxes is not an array");if(0 >= v.length)throw Error("There are no boxes in boxes");x=t.isArray(x)?x:[x];for(var y=v.length,z=0;z < y;z++){for(var B=0;B < x.length;B++){if(v[z].type == x[B])return v[z];}}throw Error("Box not found " + x);};b.p8a=function(v){return v.dzb("trak/mdia/minf/stbl/stsd/" + h.Eva + "|" + h.Fva).children.filter(function(x){return "sinf" == x.type && x.C4b.schm.q7b == w.Xz;})[0].dzb("schi/tenc").Li;};b.o8a=function(v){var y;function x(z,B){var A;A=y[z];y[z]=y[B];y[B]=A;}y=new Uint8Array(v);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.vWa=function(){return t.Kc(u.Qe.requestMediaKeySystemAccess);};b.aNb=function(v){return function(x){return x && x[v];};};t.Kc(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(v,x){var y,z;void 0 === v && (v=0);void 0 === x && (x=this.byteLength);v=Math.floor(v);x=Math.floor(x);0 > v && (v+=this.byteLength);0 > x && (x+=this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - v)return new ArrayBuffer(0);y=new ArrayBuffer(x - v);z=new Uint8Array(y);v=new Uint8Array(this,v,x - v);z.set(v);return y;});b.A4=function(v){return v && 0 == v.toLowerCase().indexOf("https");};b.eTa=function(){var v,x;v=new ArrayBuffer(4);x=new Uint8Array(v);v=new Uint32Array(v);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == v[0]?"LE":2712847316 == v[0]?"BE":"undefined";};b.zT=function(){var v,x,y;try{v=/playercore.*js/;x=u.iu.getEntries("resource").filter(function(z){return null !== v.exec(z.name);});if(x && 0 < x.length){y=u.yi(x[0].duration);return JSON.stringify(y);}}catch(z){}};b.dNb=function(v,x,y){if(v && v.length){if(y && y.Bob)try{v.forEach(function(z,B){var A;A=(B=y.Bob[B]) && B.media;A && p.ze(A)?(!1,A=n.Dq(A).buffer,z.media={arrayBuffer:A,length:A.byteLength,stream:x,Pc:B.cdn}):n.log.warn("chunk not in cache",z.Kh);});}catch(z){n.log.error("error reading cached chunks",z);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qu=b.ah=void 0;b.Ai={BXa:"logblob",sa:"manifest",ig:"license",events:"events",bind:"bind",x_a:"pair",ping:"ping",config:"config"};q=b.ah || (b.ah={});q[q.cu=20]="High";q[q.daa=10]="Medium";q[q.fI=0]="Low";b.qu={ah:"reqPriority",Adb:"reqAttempt",Bdb:"reqName",u8a:"browsername",z8a:"browserversion",icb:"osname",jcb:"osversion",Z8a:"clienttype",meb:"uiversion"};},function(q,b,a){var k;function c(){return k.SP.apply(this,arguments) || this;}function f(l){return new k.Mr(l,b.aD);}Object.defineProperty(b,"__esModule",{value:!0});b.hb=b.bCa=b.K$=b.Xt=b.aD=b.uIb=b.NFb=b.ca=b.zx=b.B8a=void 0;k=a(301);ka(c,k.SP);b.B8a=c;b.zx=f;b.ca=function(l){return new k.Mr(l,b.Xt);};b.NFb=function(l){return new k.Mr(l,b.K$);};b.uIb=function(l){return new k.Mr(l,b.bCa);};b.aD=new c(1,"b");b.Xt=new c(8 * b.aD.Wf,"B",b.aD);b.K$=new c(1024 * b.Xt.Wf,"KB",b.aD);b.bCa=new c(1024 * b.K$.Wf,"MB",b.aD);b.hb=f(0);},function(q,b){function a(){}function c(){}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.Or=b.je=b.O=void 0;b.O=f;f.XH="playready-h264mpl30-dash";f.gD="playready-h264mpl31-dash";f.p$="playready-h264mpl40-dash";f.Rya="playready-h264hpl22-dash";f.IO="playready-h264hpl30-dash";f.JO="playready-h264hpl31-dash";f.o$="playready-h264hpl40-dash";f.IZ="vp9-profile0-L21-dash-cenc";f.BI="vp9-profile0-L30-dash-cenc";f.CI="vp9-profile0-L31-dash-cenc";f.UP="vp9-profile0-L40-dash-cenc";f.Q$a="hevc-main10-L30-dash-cenc";f.R$a="hevc-main10-L31-dash-cenc";f.S$a="hevc-main10-L40-dash-cenc";f.T$a="hevc-main10-L41-dash-cenc";f.WO="hevc-main10-L50-dash-cenc";f.YO="hevc-main10-L51-dash-cenc";f.zY="hevc-main10-L30-dash-cenc-prk";f.BY="hevc-main10-L31-dash-cenc-prk";f.DY="hevc-main10-L40-dash-cenc-prk";f.FY="hevc-main10-L41-dash-cenc-prk";f.AY="hevc-main10-L30-dash-cenc-prk-do";f.CY="hevc-main10-L31-dash-cenc-prk-do";f.EY="hevc-main10-L40-dash-cenc-prk-do";f.GY="hevc-main10-L41-dash-cenc-prk-do";f.XO="hevc-main10-L50-dash-cenc-prk-do";f.ZO="hevc-main10-L51-dash-cenc-prk-do";f.aY="hevc-dv5-main10-L30-dash-cenc-prk";f.cY="hevc-dv5-main10-L31-dash-cenc-prk";f.zO="hevc-dv5-main10-L40-dash-cenc-prk";f.fY="hevc-dv5-main10-L41-dash-cenc-prk";f.hY="hevc-dv5-main10-L50-dash-cenc-prk";f.jY="hevc-dv5-main10-L51-dash-cenc-prk";f.bY="hevc-dv5-main10-L30-dash-cenc-prk-do";f.dY="hevc-dv5-main10-L31-dash-cenc-prk-do";f.eY="hevc-dv5-main10-L40-dash-cenc-prk-do";f.gY="hevc-dv5-main10-L41-dash-cenc-prk-do";f.iY="hevc-dv5-main10-L50-dash-cenc-prk-do";f.kY="hevc-dv5-main10-L51-dash-cenc-prk-do";f.Tya="hevc-hdr-main10-L30-dash-cenc";f.Uya="hevc-hdr-main10-L31-dash-cenc";f.Vya="hevc-hdr-main10-L40-dash-cenc";f.Wya="hevc-hdr-main10-L41-dash-cenc";f.Xya="hevc-hdr-main10-L50-dash-cenc";f.Yya="hevc-hdr-main10-L51-dash-cenc";f.LO="hevc-hdr-main10-L30-dash-cenc-prk";f.NO="hevc-hdr-main10-L31-dash-cenc-prk";f.ZH="hevc-hdr-main10-L40-dash-cenc-prk";f.QO="hevc-hdr-main10-L41-dash-cenc-prk";f.SO="hevc-hdr-main10-L50-dash-cenc-prk";f.UO="hevc-hdr-main10-L51-dash-cenc-prk";f.MO="hevc-hdr-main10-L30-dash-cenc-prk-do";f.OO="hevc-hdr-main10-L31-dash-cenc-prk-do";f.PO="hevc-hdr-main10-L40-dash-cenc-prk-do";f.RO="hevc-hdr-main10-L41-dash-cenc-prk-do";f.TO="hevc-hdr-main10-L50-dash-cenc-prk-do";f.VO="hevc-hdr-main10-L51-dash-cenc-prk-do";f.vua="av1-main-L20-dash-cbcs-prk";f.wua="av1-main-L21-dash-cbcs-prk";f.xua="av1-main-L30-dash-cbcs-prk";f.yua="av1-main-L31-dash-cbcs-prk";f.zua="av1-main-L40-dash-cbcs-prk";f.Aua="av1-main-L41-dash-cbcs-prk";f.Bua="av1-main-L50-dash-cbcs-prk";f.Cua="av1-main-L51-dash-cbcs-prk";f.Edb=[f.XH];f.N$a=[f.gD,f.p$];f.Bba=[f.zY,f.BY,f.DY,f.FY,f.WO,f.YO];f.Cba=[f.AY,f.CY,f.EY,f.GY,f.XO,f.ZO];f.r$=[f.LO,f.NO,f.ZH,f.QO,f.SO,f.UO];f.q$=[f.MO,f.OO,f.PO,f.RO,f.TO,f.VO];f.Xwa=[f.aY,f.zO,f.hY,f.cY,f.fY,f.jY];f.Wwa=[f.bY,f.eY,f.iY,f.dY,f.gY,f.kY];f.k9=[f.IO,f.JO,f.o$];f.IHa=[f.BI,f.CI,f.UP];f.QD=[f.IZ,f.BI,f.CI,f.UP];f.D7a=[f.vua,f.wua,f.xua];f.C7a=[f.yua,f.zua,f.Aua];f.E7a=[f.Bua,f.Cua];f.Fk=[].concat(f.D7a,f.C7a,f.E7a);f.n$=f.Edb.concat(f.N$a);b.je=c;c.hD="heaac-2-dash";c.Zya="heaac-5.1-dash";c.iD="heaac-2hq-dash";c.EI="xheaac-dash";c.wO="ddplus-2.0-dash";c.M9="ddplus-5.1-dash";c.xO="ddplus-atmos-dash";b.Or=a;a.Ldb="simplesdh";a.P9="dfxp-ls-sdh";a.iI="nflx-cmisc";},function(q,b,a){var f,k,l,d,g;function c(){return f.jd.get(l.zd).TF.ea(g.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.Wob=b.mga=b.jOa=b.Uob=b.Vob=b.i1=b.Hi=void 0;f=a(191);k=a(40);l=a(20);d=a(92);g=a(5);b.Hi=function(){return f.jd.get(l.zd).Zb().ea(g.ma);};b.i1=function(){return f.jd.get(k.wi).Ue.ea(g.nn);};b.Vob=function(){return f.jd.get(l.zd).TF.ea(g.nn);};b.Uob=function(){return f.jd.get(d.cA).lB();};b.jOa=c;b.mga=function(){return f.jd.get(k.wi).Ue.ea(g.ma);};b.Wob=function(){return c();};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.im="PboCommandContextSymbol";},function(q,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.mJb=b.platform=b.jk=b.ic=b.fAb=b.wT=b.zF=b.PXa=b.OD=b.ae=b.RD=void 0;c=a(2);c.__exportStar(a(373),b);c.__exportStar(a(752),b);c.__exportStar(a(753),b);c.__exportStar(a(754),b);f=a(95);Object.defineProperties(b,{RD:{enumerable:!0,get:function(){return f.RD;}}});c.__exportStar(a(22),b);k=a(54);Object.defineProperties(b,{ae:{enumerable:!0,get:function(){return k.ae;}}});l=a(220);Object.defineProperties(b,{OD:{enumerable:!0,get:function(){return l.OD;}}});c.__exportStar(a(376),b);b.PXa=function(g){b.platform.VT(g);return a(771).oBa;};b.zF=function(g){b.platform.VT(g);return Promise.resolve().then(function(){return c.__importStar(a(254));}).then(function(h){return h.zF();});};b.wT=function(g,h){b.platform.VT(g);return Promise.resolve().then(function(){return c.__importStar(a(434));}).then(function(m){return m.wT(h);});};b.fAb=function(){return a(224);};q=c.__importDefault(a(27));b.ic=q.default;q=a(985);b.jk=q.jk;q=c.__importDefault(a(4));b.platform=q.default;d=a(986);b.mJb=function(){return {Nr:d.Nr};};},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hba=b.ae=void 0;c=a(2);f=a(766);(function(k){k[k.JC=0]="startPlayback";k[k.ip=1]="endPlayback";k[k.zr=2]="underflow";})(b.ae || (b.ae={}));q=(function(){function k(l){this.config=l;this.UM=[];}k.prototype.ai=function(l){var d,g;g=c.__read(this.config.Eha.filter(function(h){return h.Ii === l.Ii;}),1)[0];(null !== (d=null === g || void 0 === g?void 0:g.enabled) && void 0 !== d?d:l.enabled)?this.UM.push(l):l.wb && l.wb();};k.prototype.Ln=function(l){var d,g,h,r,p;g={};h=[];try{for(var m=c.__values(this.UM),n=m.next();!n.done;n=m.next()){r=n.value;try{p=r.Ln({ji:l});p && (r.nC?g[r.nC]=p:g=c.__assign(c.__assign({},g),p));}catch(t){h.push(t);}}}catch(t){var u;u={error:t};}finally{try{n && !n.done && (d=m.return) && d.call(m);}finally{if(u)throw u.error;}}h.length && (g["rpt-error"]=new f.Gua("Reporting error",h));return g;};return k;})();b.hba=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.$9a="Cannot apply @injectable decorator multiple times.";b.a$a="Metadata key was used more than once in a parameter:";b.sP="NULL argument";b.hAa="Key Not Found";b.j7a="Ambiguous match found for serviceIdentifier:";b.C8a="Could not unbind serviceIdentifier:";b.Vbb="No matching bindings found for serviceIdentifier:";b.tbb="Missing required @injectable annotation in:";b.ubb="Missing required @inject or @multiInject annotation in:";b.neb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.E8a="Circular dependency found:";b.P0b="Sorry, this feature is not fully implemented yet.";b.Mab="Invalid binding type:";b.Xbb="No snapshot available to restore.";b.Qab="Invalid return type in middleware. Middleware must return!";b.Pab="Value provided to function binding must be a function!";b.Sab="The toSelf function can only be applied when a constructor is used as service identifier";b.Nab="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.l7a=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.T8a="Invalid Container constructor argument. Container options must be an object.";b.R8a="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Q8a="Invalid Container option. Auto bind injectable must be a boolean";b.S8a="Invalid Container option. Skip base check must be a boolean";b.Hbb="Cannot apply @postConstruct decorator multiple times in the same class";b.bdb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.F8a=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Pdb="Maximum call stack size exceeded";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vn=b.eUb=b.RZa=void 0;b.RZa=function(a,c){return a - c;};b.eUb=function(a,c){return a.localeCompare(c);};b.Vn=function(a,c){var f;f=Object.getOwnPropertyDescriptor(a,c);f && Object.defineProperty(a,c,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(q,b,a){var c,f;c=a(123);f=a(170);q.exports=function(k){return function h(d,g){switch(arguments.length){case 0:return h;case 1:return f(d)?h:c(function(m){return k(d,m);});default:return f(d) && f(g)?h:f(d)?c(function(m){return k(m,g);}):f(g)?c(function(m){return k(d,m);}):k(d,g);}};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.P$="LogBatcherConfigSymbol";b.iq="LogBatcherSymbol";b.GAa="LogBatcherProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mma=b.Th=void 0;(function(a){a[a.Co=0]="STANDARD";a[a.kn=1]="LIMITED";})(b.Th || (b.Th={}));b.Mma=function(a){return ["STANDARD","LIMITED"][a];};},function(q,b){function a(c){var f;f=Error.call(this,"TimeoutError");this.message=f.message;("stack" in f) && (this.stack=f.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Gw=b.qq=void 0;ka(a,Error);b.qq=a;b.Gw="PromiseTimerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.fg=void 0;b.fg=function(a){return setTimeout(a,0);};},function(q,b,a){var f,k;function c(l,d){var g;g=b.Bo[0];g == d && (g=b.Bo[1]);g?g.close(function(){c(l,d);}):l && l(f.Ee);}Object.defineProperty(b,"__esModule",{value:!0});b.jEa=b.iEa=b.Maa=b.Naa=b.qI=b.Paa=b.Oaa=b.Saa=b.Raa=b.Bo=b.Taa=b.Qaa=void 0;f=a(12);k=a(21);b.Qaa=c;b.Taa=function(l,d){switch(l){case b.Oaa:b.Raa.push(d);return;case b.Paa:b.Saa.push(d);return;}k.gb(!1);};b.Bo=[];b.Raa=[];b.Saa=[];b.Oaa=1;b.Paa=3;b.qI={index:0,jJb:void 0,Tia:void 0};b.Naa="network";b.Maa="media";b.iEa="timedtext";b.jEa="playback";},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.x3=b.mL=b.y3=b.FB=b.Jm=b.lf=void 0;q=a(72);c=a(61);f=a(11);b.lf=new q.Wj();b.Jm=1;b.FB=2;b.y3=3;b.mL=4;b.x3=5;c.fg(function(){var l,d,g;function k(h,m){if(d)d.on(h,m);else pb.addEventListener(h,m);}l=pb.jQuery;d=l && l(pb);l=(l=pb.netflix) && l.cadmium && l.cadmium.addBeforeUnloadHandler;g=f.De.hidden;l?l(function(h){b.lf.tc(b.Jm,h);}):k("beforeunload",function(h){b.lf.tc(b.Jm,h);});k("keydown",function(h){b.lf.tc(b.FB,h);});k("resize",function(){b.lf.tc(b.y3);});f.De.addEventListener("visibilitychange",function(){g !== f.De.hidden && (g=f.De.hidden,b.lf.tc(b.mL));});});(function(){pb.addEventListener("error",function(k){b.lf.tc(b.x3,k);return !0;});})();},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);q=(function(){function f(k,l){this.key=k;this.value=l;}f.prototype.toString=function(){return this.key === c.hA?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return f;})();b.Metadata=q;},function(q,b){var c,f;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.gq=b.Da=b.nj=void 0;(function(k){k[k.Co=0]="STANDARD";k[k.kn=1]="LIMITED";k[k.E1b=2]="PREVIEW";})(c || (c={}));(function(k){k[k.HAVE_NOTHING=0]="HAVE_NOTHING";k[k.HAVE_METADATA=1]="HAVE_METADATA";k[k.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";k[k.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";k[k.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(f || (f={}));(function(k){k.x7a="asl_start";k.v7a="asl_comp";k.EYb="asl_exc";k.w7a="asl_fail";k.Rdb="stf_creat";k.hab="idb_open";k.eab="idb_block";k.oab="idb_upgr";k.nab="idb_succ";k.fab="idb_error";k.gab="idb_invalid_state";k.jab="idb_open_timeout";k.lab="idb_open_wrkarnd";k.mab="idb_storelen_exc";k.iab="idb_open_exc";k.kab="idb_timeout_invalid_storelen";k.Bbb="msl_load_data";k.Dbb="msl_load_no_data";k.Cbb="msl_load_failed";})(q=b.nj || (b.nj={}));(function(k){k.uaa="PlaybackRequestStart";k.taa="PlaybackRequestEnd";k.rZ="RequestPrefetchManifestStart";k.qZ="RequestPrefetchManifestEnd";k.pZ="RequestManifestStart";k.oZ="RequestManifestEnd";k.nZ="RequestLicenseStart";k.mZ="RequestLicenseEnd";k.qO="RequestTimedTextUrlStart";k.pO="RequestTimedTextUrlEnd";k.oO="RequestAudioUrlStart";k.nO="RequestAudioUrlEnd";k.sO="RequestVideoUrlStart";k.rO="RequestVideoUrlEnd";k.a9="AppendBufferStart";k.Z8="AppendBufferEnd";k.jba="SetMediaKeysStart";k.iba="SetMediaKeysEnd";k.wY="GenerateChallengeStart";k.vY="GenerateChallengeEnd";k.IX="ApplyLicenseStart";k.HX="ApplyLicenseEnd";})(b.Da || (b.Da={}));b.gq=a;a.L$=c;a.SOa=function(k){return ["STANDARD","LIMITED","PREVIEW"][k];};a.nj=q;a.bza=f;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xz="cenc";b.j$="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.SCa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.xeb="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.web="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.IY="HW_SECURE_DECODE";b.VFa="SW_SECURE_DECODE";b.nba="SW_SECURE_CRYPTO";},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(2);q.__exportStar(a(151),b);q.__exportStar(a(850),b);q.__exportStar(a(175),b);},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bu="EmeConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ND="TimingApiSymbol";b.oP="MilestoneTimingApiSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ku="PboConfigSymbol";},function(q,b,a){var m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F;function c(D){var G,I,J,H;G=D.url.split("?");I=G[0];J="sc=" + D.$Qb;H=D.tNa?"random=" + (1E17 * z.uD()).toFixed(0):"";I=G[1]?I + ("?" + G[1] + "&" + J):I + ("?" + J);I+=H?"&" + H:"";D.Pc && !p.A4(I) && (D=n.config && n.config.Rfa) && (I=D.replace("{URL}",I).replace("{EURL}",encodeURIComponent(I)));return I;}function f(D){var G,I,J,H;G=D.url.split("?");I=G[0];J="bb_reason=" + D.reason;H=D.tNa?"random=" + (1E17 * z.uD()).toFixed(0):"";I=G[1]?I + ("?" + G[1] + "&" + J):I + ("?" + J);I+=H?"&" + H:"";D.Pc && !p.A4(I) && (D=n.config && n.config.Rfa) && (I=D.replace("{URL}",I).replace("{EURL}",encodeURIComponent(I)));return I;}function k(D,G){var I,J,H;I=D.url.split("?");J=I[0];H=l(D);H && (G.fr=H,(void 0 === D.St?n.config.St:D.St)?(D.headers=D.headers || ({}),D.headers.Range="bytes=" + H):(G.fr=H,J="/" == J[J.length - 1]?J + "range/":J + "/range/",J+=H));H=D.tNa?"random=" + (1E17 * z.uD()).toFixed(0):"";n.config.ay && D.H7 && (H="sc=" + D.H7 + (H?"&" + H:""));J=I[1]?J + ("?" + I[1] + (H?"&" + H:"")):J + (H?"?" + H:"");D.Pc && !p.A4(J) && (D=n.config && n.config.Rfa) && (J=D.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));G.url=J;}function l(D){var G;G=D.offset;if(void 0 !== G)return (x.jS(G),void 0 !== D.length?(D=D.offset + D.length - 1,x.jS(D),G + "-" + D):G + "-");}function d(){return !1 !== z.Qe.onLine;}function g(D,G,I,J){var H,M;H=J.Lpa;M=J.headers;D.open(H?"POST":"GET",G,!I);switch(J.responseType){case b.RT:D.responseType="arraybuffer";break;case b.mla:y.FNa(D,"overrideMimeType",void 0,"text/xml");}H && (G={"Content-Type":t.ze(H)?"text/plain":"application/x-octet-stream"},M=M?t.Qb(G,M):G);M && y.de(M,function(O,L){D.setRequestHeader(O,L);});J.withCredentials && (D.withCredentials=!0);void 0 !== D.msCaching && (D.msCaching="disabled");H?D.send(H):D.send();}function h(D,G){switch(G.type){case b.RT:return D.response || new ArrayBuffer(0);case b.mla:return D.responseXML;default:return D.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.RT=b.mla=b.lla=b.nla=b.O3=b.sVa=b.rVa=b.M3=b.Aeb=b.Beb=b.kDb=b.N3=b.hDb=b.iDb=b.gDb=b.jDb=b.Bf=void 0;m=a(72);n=a(13);r=a(12);p=a(47);u=a(51);t=a(29);w=a(3);v=a(7);x=a(21);y=a(24);z=a(11);B=a(61);A=a(17);C=a(32);E={tl:1,R2b:2,O7a:3};b.Bf=(function(){var J,H,M,O;function D(L){var P;try{P=L.url;A.nma(P)?0 === P.indexOf("https")?O.ssl++:0 === P.indexOf("http")?O["non-ssl"]++:O.invalid++:O.invalid++;}catch(R){}}function G(){H.tc(b.sVa);H.tc(b.nla);}function I(){H.tc(b.O3);H.tc(b.nla);}J=v.ii("Http");H=new m.Wj();M=0;O={ssl:0,"non-ssl":0,invalid:0};v.ha.get(C.Zg).register(w.L.Nza,function(L){n.config.jXb && (pb.addEventListener("online",G),pb.addEventListener("offline",I),b.N3=d);L(r.Ee);});return {addEventListener:H.addListener,removeEventListener:H.removeListener,download:function(L,P){var X,ta,za,V,T,ja,Ia,wa,Sa,Ua,$a;function R(){var Za;R=t.kj;$a && (clearTimeout($a),$a=null);H.removeListener(b.O3,da);Sa && (Sa.onloadstart=null,Sa.onreadystatechange=null,Sa.onprogress=null,Sa.onerror=null,Sa.onload=null,Sa=Sa.onabort=null);wa.X?!1:wa.oa != w.M.$z?X.warn("Download failed",ta,w.Lr(wa)):X.trace("Download aborted",ta);Za=za;za=void 0;for(var mb=Za.length;mb--;){(function(){var db;db=Za[mb];B.fg(function(){db(wa);});})();}H.tc(b.rVa,wa,!0);}function K(){$a && (clearTimeout($a),$a=null);$a=setTimeout(na,Ua?Ia:ja);}function Q(Za,mb,db,Ta){var Ca,La;wa.X=!1;wa.oa=Za;Ca=u.Hi();La=wa.Rl;La.Oh=La.Oh || Ca;La.fo=La.fo || Ca;0 < mb && (wa.lk=wa.Ve=mb);db && (wa.sb=db);Ta && (wa.EC=Ta);Za !== w.M.$O && Za !== w.M.jD && Za !== w.M.cP || !Sa || (Sa.onabort=null,va());R();}function N(Za){var mb,db;try{db=Za.getResponseHeader("X-Netflix.Retry.Server.Policy");db && (mb=JSON.parse(db));}catch(Ta){!1;}return mb;}function da(){b.N3() || Q(w.M.$O);}function na(){Q(Ua?w.M.jD:w.M.cP);}function va(){try{Sa && Sa.abort();}catch(Za){}}function ra(){Q(w.M.$z);}x.gb(P);X=L.j && L.j.log && v.Ih(L.j,"Http") || J;ta={Num:M++};za=[P];V={};ja=L.s1 || n.config.s1;Ia=L.roa || n.config.roa;D(L);!1;wa=(function(){var Za,mb,db;Za=t.kj;mb=t.kj;db=t.kj;return {request:L,type:L.responseType,Rl:V,abort:va,timeout:na,lea:function(Ta){R !== t.kj && (x.gb(za,"Callback should be added before download starts."),za && za.unshift(Ta));},d6:function(Ta){db(Ta);},f6:function(Ta){Za(Ta);},Rm:function(Ta){mb(Ta);},aSb:function(Ta){db=Ta;},iSb:function(Ta){Za=Ta;},SRb:function(Ta){mb=Ta;}};})();B.fg(function(){var Za,mb;if(A.nma(L.url))try{if((k(L,wa),T=wa.url,x.oK(T),ta.Url=T,b.N3())){!1;Sa=new XMLHttpRequest();Za=n.config.qXb && "undefined" != typeof Sa.onloadstart;Za && (Sa.onloadstart=function(){var db;db=u.Hi();V.Np=db;wa.d6({mediaRequest:L,timestamp:db});});Sa.onreadystatechange=function(){if(2 == Sa.readyState){Ua=!0;V.Oh=u.Hi();Sa.onreadystatechange=null;K();!1;for(var db=wa,Ta=Sa.getAllResponseHeaders().split("\n"),Ca=Ta.length,La,Ma,Va={};Ca--;){if(La=Ta[Ca])(Ma=La.indexOf(": "),1 <= Ma && Ma < La.length - 1 && (Va[La.substr(0,Ma)]=La.substr(Ma + 2)));}db.headers=Va;wa.f6({timestamp:V.Oh,connect:!0,mediaRequest:L,start:V.Np,rt:[V.Oh - V.Np]});}};Sa.onprogress=function(db){Ua=!0;V.Fga=db.loaded;K();db={mediaRequest:L,bytes:db.loaded,timestamp:u.Hi(),bytesLoaded:db.loaded};wa.f6(db);};Sa.onload=function(){var db;if(R !== t.kj){x.gb(void 0 === V.fo);V.fo=u.Hi();V.Oh=V.Oh || V.fo;if(200 <= Sa.status && 299 >= Sa.status){db=h(Sa,wa);wa.parsed=!1;wa.content=db;wa.X=!0;}else Sa.status == F?Q(w.M.bP,Sa.status):Q(w.M.aP,Sa.status,Sa.response,N(Sa));R();}};Sa.onabort=ra;Sa.onerror=function(){var db,Ta;db=Sa.status;"undefined" !== typeof n.config.bSa && (db=n.config.bSa);if(0 < db){if(db == F)Q(w.M.bP,db);else {try{Ta=Sa.responseText;}catch(Ca){}Q(w.M.aP,db,Ta,N(Sa));}}else Q(w.M.dP);};mb=u.Hi();g(Sa,T,!1,L);H.tc(b.M3,wa,!0);Za || (V.Np=mb,wa.d6({mediaRequest:L,timestamp:mb}));K();H.addListener(b.O3,da);}else B.fg(Q.bind(void 0,w.M.$O));}catch(db){X.error("Exception starting download",db,ta);Q(w.M.w$,void 0,t.vd(db));}else Q(w.M.eza);});return wa;},yd:O,E6b:function(L){var P;P=new XMLHttpRequest();L=f(L);P.open("HEAD",L);P.onreadystatechange=function(){2 == P.readyState && !1;};P.send();},dTb:function(L){var P;P=new XMLHttpRequest();L=c(L);P.open("HEAD",L);P.onreadystatechange=function(){2 == P.readyState && !1;};P.send();},YNb:function(L){var P,R,K;P=new XMLHttpRequest();R=L.url;K=L.VNb;P.open("HEAD",R);P.timeout=Math.max(2 * K.WGb,n.config.Wpa);P.onreadystatechange=function(){2 == P.readyState && (!1,K && K.jM({url:R}));};P.ontimeout=P.onerror=function(){!1;K && K.yoa({url:R});};P.send();},xdb:E};})();b.jDb=c;b.gDb=f;b.iDb=k;b.hDb=l;b.N3=r.qFa;b.kDb=d;b.Beb=g;b.Aeb=h;b.M3=1;b.rVa=2;b.sVa=3;b.O3=4;b.nla=5;b.lla=1;b.mla=2;b.RT=3;F=420;pb._cad_global.http=b.Bf;},function(q,b,a){var f,k;function c(){var l,d;l=this;this.Rr={};this.on=function(g,h,m){l.addListener(g,h,m);};this.addListener=function(g,h,m){l.Rr && (l.Rr[g]=l.Rr[g] || new k.$aa(!0)).add(h,m);};this.removeListener=function(g,h){l.Rr && l.Rr[g] && l.Rr[g].removeAll(h);};this.Jja=function(g){return l.Rr && l.Rr[g]?l.Rr[g].flatten():[];};d=this;this.tc=function(g,h,m){var n;if(d.Rr){n=d.Jja(g);for(g={CH:0};g.CH < n.length;(g={CH:g.CH},g.CH++)){m?(function(r){return function(){var p;p=n[r.CH];f.fg(function(){p(h);});};})(g)():n[g.CH].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Wj=void 0;f=a(61);k=a(320);c.prototype.kh=function(){this.Rr=void 0;};b.Wj=c;},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});q=a(1);q.__exportStar(a(767),b);q.__exportStar(a(221),b);q.__exportStar(a(768),b);q.__exportStar(a(769),b);q.__exportStar(a(770),b);},function(q,b,a){var f,k,l,d,g;function c(h,m,n,r,p,u){this.context=h;this.errorCode=m;this.DQb=n;this.Vqa=p;this.U_=u;this.name=r;}Object.defineProperty(b,"__esModule",{value:!0});b.Sh=void 0;q=a(1);f=a(0);k=a(481);l=a(5);d=a(42);g=a(38);c.prototype.send=function(h,m,n,r,p,u,t){var w;w=this;t=void 0 === t?g.hu.EP:t;return this.jzb(h,m,n,t,r,p,u).then(function(v){return w.context.hub.send(v.context,v.request);});};c.prototype.jzb=function(h,m,n,r,p,u,t){var w,v;try{w=this.context.cQb.create(this.context.HF.lB(),m,n,p,r);v=this.bnb(h,r,u,t);return Promise.resolve({context:v,request:w});}catch(x){return Promise.reject(x);}};c.prototype.bnb=function(h,m,n,r){return {Bf:this.context.Bf,log:h,Vk:this.name,url:this.context.aXb(k.rNa(this.context.hh,this.context.ki,this.name,m)),lra:this.DQb,timeout:l.Wg(59),headers:k.qNa(this.context.ki,this.context.qB),Uqa:this.Uqa,Vqa:void 0 !== n?n:this.Vqa,Gmb:r};};c.prototype.Im=function(h){return h instanceof d.$c?h:k.Im(this.errorCode,h);};c.prototype.RNa=function(h){var m;m=this;h.forEach(function(n){if(m.Tla(n))throw n.error;});};c.prototype.Tla=function(h){return void 0 !== h.error;};Xa.Object.defineProperties(c.prototype,{Uqa:{configurable:!0,enumerable:!0,get:function(){return this.U_;}}});a=c;a=q.__decorate([f.R(),q.__param(0,f.cj()),q.__param(1,f.cj()),q.__param(2,f.cj()),q.__param(3,f.cj()),q.__param(4,f.cj()),q.__param(5,f.cj())],a);b.Sh=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hr={Request:"Request",rba:"Singleton",GZ:"Transient"};b.ej={Awa:"ConstantValue",Bwa:"Constructor",Lxa:"DynamicValue",l$:"Factory",Function:"Function",Instance:"Instance",bbb:"Invalid",mFa:"Provider"};b.Lw={twa:"ClassProperty",Cwa:"ConstructorArgument",Fba:"Variable"};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lw="Base16EncoderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ru="Utf8EncoderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.EGa="StorageValidatorSymbol";b.Rz="AppStorageFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gu="MediaKeySystemAccessServicesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wo={start:"start",stop:"stop",eU:"keepAlive",MS:"engage",splice:"splice"};b.h$="EventPboCommandFactorySymbol";b.zGa="StartEventPboCommandSymbol";b.DGa="StopEventPboCommandSymbol";b.jAa="KeepAliveEventPboCommandSymbol";b.uGa="SpliceEventPboCommandSymbol";b.hya="EngageEventPboCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uh={audio:"audio",video:"video",i8:"timedtext",rta:"trickplay"};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);b.qn=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.fQ=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.wfb=function(f,k){return Math.floor(1E3 * f / k);};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(l){f.prototype.parse.call(this,l);this.Sb=this.oi([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{cDb:"int32"},{JXb:"int32"},{offset:32,type:"offset"},{Cxb:"int16"},{lpb:{type:"int8",Oea:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.Ka=!0;return k;})(a(231).default);b.default=q;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="avc1";return k;})(q);b.g9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="avc2";return k;})(q);b.h9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="avc3";return k;})(q);b.i9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="avc4";return k;})(q);b.j9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="hvc1";return k;})(q);b.x$=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="hev1";return k;})(q);b.s$=a;q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="av01";return k;})(q);b.B7a=q;},function(q){q.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.rw="DeviceFactorySymbol";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Vh=b.gcb=b.yo=void 0;c=a(17);b.yo=b.yo || (function(f,k,l){return f >= k?f <= l?f:l:k;});b.gcb=function(f,k,l,d,g){return (f - k) * (g - d) / (l - k) + d;};b.Vh=function(f){if(c.xa(f))return (f / 1E3).toFixed(3);};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(156);b.qn=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.fQ=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.wfb=function(f,k){return Math.floor(1E3 * f / k);};},function(q,b,a){var k,l;function c(d,g,h,m,n){var r,p,t;r={};p="number" === typeof n;n=void 0 !== n && p?n.toString():h;if(p && void 0 !== h)throw Error(k.Nab);Reflect.Wka(d,g) && (r=Reflect.getMetadata(d,g));h=r[n];if(Array.isArray(h)){p=0;for(var u=h;p < u.length;p++){t=u[p];if(t.key === m.key)throw Error(k.a$a + " " + t.key.toString());}}else h=[];h.push(m);r[n]=h;Reflect.wha(d,r,g);}function f(d,g){return function(h,m){g(h,m,d);};}Object.defineProperty(b,"__esModule",{value:!0});k=a(55);l=a(41);b.fH=function(d,g,h,m){c(l.PGa,d,g,m,h);};b.OW=function(d,g,h){c(l.QGa,d.constructor,g,h);};b.Jq=function(d,g,h){"number" === typeof h?(d=[f(h,d)],Reflect.Jq(d,g)):"string" === typeof h?Reflect.Jq([d],g,h):Reflect.Jq([d],g);};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.$za="Injector";b.fA=145152E5;b.GP="ProfileSymbol";},function(q,b,a){var f,k;function c(l,d,g,h,m){l=void 0 === l?f.L.jm:l;return k.$c.call(this,l,d,g,void 0,void 0,h,k.$c.vd(m),m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pg=void 0;f=a(3);k=a(42);ka(c,k.$c);b.pg=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bxa="DebugConfigSymbol";b.Yt="DebugSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.cA="IdProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.sya="EventSourceSymbol";b.m$="GlobalEventSourceSymbol";b.lY="DebugEventSourceSymbol";b.nxa="DiagnosticsEventSourceSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iO=b.J7a=b.p9=b.q9=void 0;(function(a){a[a.uQa=0]="downloading";a[a.Eub=1]="downloaded";a[a.Je=2]="appended";a[a.buffered=3]="buffered";a[a.SM=4]="removed";a[a.a8b=5]="unused";})(b.q9 || (b.q9={}));(function(a){a[a.waiting=1]="waiting";a[a.L6b=2]="ondeck";a[a.uQa=4]="downloading";a[a.Eub=8]="downloaded";a[a.XT=6]="inprogress";})(b.p9 || (b.p9={}));b.J7a="AseBufferViewSymbol";b.iO="AseBufferAccountingSymbol";},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(2);q.__exportStar(a(755),b);q.__exportStar(a(756),b);q.__exportStar(a(757),b);q.__exportStar(a(758),b);q.__exportStar(a(759),b);q.__exportStar(a(760),b);q.__exportStar(a(761),b);q.__exportStar(a(762),b);q.__exportStar(a(375),b);q.__exportStar(a(763),b);q.__exportStar(a(764),b);q.__exportStar(a(765),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jw=void 0;q=(function(){function a(c){this.Ge=c;}a.prototype.Zra=function(c){this.Ge=c;};a.prototype.dOa=function(){this.Ge=void 0;};a.prototype.$S=function(c){return this.Ge && this.Ge.i6 && this.Ge.i6(c);};a.prototype.PK=function(c){this.Ge && this.Ge.Wy && this.Ge.Wy(c);};a.prototype.qF=function(c){this.Ge && this.Ge.qM && this.Ge.qM(c);};a.prototype.QK=function(c){this.Ge && this.Ge.rM && this.Ge.rM(c);};a.prototype.dSa=function(c){this.Ge && this.Ge.bpa && this.Ge.bpa(c);};a.prototype.gv=function(c){this.Ge && this.Ge.wk && this.Ge.wk(c);};a.prototype.G2=function(c){this.Ge && this.Ge.jV && this.Ge.jV(c);};a.prototype.OK=function(c,f,k){this.Ge && this.Ge.iV && this.Ge.iV(c,f,k);};return a;})();b.jw=q;q.prototype.i6=q.prototype.$S;q.prototype.Wy=q.prototype.PK;q.prototype.qM=q.prototype.qF;q.prototype.rM=q.prototype.QK;q.prototype.wk=q.prototype.gv;q.prototype.jV=q.prototype.G2;q.prototype.iV=q.prototype.OK;q.prototype.bpa=q.prototype.dSa;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zD="6674654e-696c-5078-6966-665374726d21";b.AD="6674654e-696c-4878-6165-6465722e7632";b.qP="6674654e-696c-5078-6966-66496e646578";b.Dw="6674654e-696c-4d78-6f6f-6653697a6573";b.Cw="6674654e-696c-5378-6565-6b506f696e74";b.vP="cedb7489-e77b-514c-84f9-7148f9882554";b.uP="524f39a2-9b5a-144f-a244-6c427c648df4";b.yD="6674654e-696c-4678-7261-6d6552617465";},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Gk=void 0;c=a(2);f=a(6);k=c.__importDefault(a(27));l=c.__importDefault(a(124));d=a(398);g=a(22);q=a(43);h=a(174);m=a(238);a=a(112);n=(function(r){function p(u,t){var w;w=r.call(this,u,t) || this;p.mb(w,u,t);return w;}c.__extends(p,r);p.mb=function(u,t,w,v){var x;h.Vt.mb(u,t,w);u.Kg=w.index;u.XI=w.Xa;u.tu=w.jb;u.Pjb=w.zb?w.zb:t.zb;u.PG=w.PG;u.bka=v;u.AJa=! !w.Ap;u.xKa=null !== (x=w.region) && void 0 !== x?x:0;u.XIa=! !w.Uia;u.zJa=! !w.ov;u.gd=void 0 === w.H2 || void 0 === w.eja || w.H2 === w.Xa && w.eja === w.jb?u:new m.Tz(u,{Xa:w.H2,jb:w.eja});u.ohb=w.foa;u.Leb=w.Eh;u.Dgb=t.KCb;u.Io=w.na?u.zZa(w.na):void 0;u.SKa=w.Ot;u.Je=!1;};p.mPa=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),v=0,x,y,z=0;z < u.length;++z){x=u[z];y=x.Fc;t[z]=x.tu - x.XI;w[z]=y;v+=y;}return new d.qba(t,w,u.length?u[0].U:1E3,v);};Object.defineProperties(p.prototype,{TB:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.Kg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zb:{get:function(){return this.Pjb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xa:{get:function(){return this.XI;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jb:{get:function(){return this.tu;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Lj:{get:function(){var u,t;return null !== (t=null === (u=this.bka) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ap:{get:function(){return this.AJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{region:{get:function(){return this.xKa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Uia:{get:function(){return this.XIa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ov:{get:function(){return this.zJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{foa:{get:function(){return this.ohb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Eh:{get:function(){return this.Leb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{na:{get:function(){return this.Io;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ot:{get:function(){return this.SKa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{H2:{get:function(){return this.gd.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eja:{get:function(){return this.gd.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bxb:{get:function(){return this.gd.Lq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{iSa:{get:function(){return this.gd.Gpa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{RK:{get:function(){return this.gd.Zc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{J2:{get:function(){return this.gd.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{I2:{get:function(){return this.gd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bT:{get:function(){return this.gd.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Axb:{get:function(){return this.gd.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wB:{get:function(){var u;u=this.Bxb;f.assert(u);return u / this.stream.pa.Wb;},enumerable:!1,configurable:!0}});p.prototype.cYa=function(){this.AJa=!0;};p.prototype.mSb=function(u){this.PG={Yd:u.RSa(),y4:u.Pt};};p.prototype.rN=function(u){this.SKa=u;};p.prototype.kSb=function(u,t,w){this.xKa=u;this.XIa=t;this.zJa=w;};p.prototype.th=function(u){var t,w;void 0 === u && (u={});t=this.stream.pa.Wb;w=this.Io || ({start:0,end:this.wB});u=this.zZa(u);this.gd && this.gd !== this || (this.gd=new m.Tz(this,this));u.start > w.start && (this.XI=this.gd.Xa + u.start * t);u.end < w.end && (this.tu=this.gd.Xa + u.end * t);this.Io=u;};p.prototype.AS=function(u){void 0 === u && (u=1);this.Io?this.th({start:this.Io.start + u,end:this.Io.end}):this.th({start:u});};p.prototype.a2=function(u){this.Io?this.th({start:this.Io.start,end:(this.Io.end || 0) - u}):this.th({start:0,end:-u});};p.prototype.Sha=function(){this.th({start:0,end:0});};p.prototype.nSb=function(u){this.Io || this.th();this.Io.J7=u;};p.prototype.NRa=function(u){var w;if(!(u < this.Z || u >= this.Aa) && this.Eh && this.Eh.length){u=new g.S(u + 1 - this.Z,1E3).Yk(this.stream.pa);for(var t=this.Eh.length - 1;0 <= t;--t){w=this.Eh[t];if(w.zk <= u)return w;}return {zk:0,od:this.bT};}};p.prototype.Zwb=function(u){var w;if(!(u < this.Z || u >= this.Aa) && this.Eh && this.Eh.length){u=new g.S(u + 1 - this.Z,1E3).Yk(this.stream.pa);for(var t=this.Eh.length - 1;0 <= t;--t){w=this.Eh[t];if(w.zk <= u)return w;}return {zk:0,od:this.bT};}};p.prototype.HRa=function(u,t){var w,v,x;if(!(u < this.Z || u >= this.Aa)){if(!t && this.Dgb)return {zk:0,od:this.Z};w=this.pa.Wb;v=this.pa.U;x=Math.floor(this.Lq / w);u=Math.min((t?Math.ceil:Math.floor)((g.S.F5(u,v) - this.Xa + (t?-1:1) * (v / 1E3 - 1)) / w),x);w=g.S.VW(this.Xa + u * w,v);return u === x?void 0:{zk:u,od:w};}};p.prototype.Mia=function(u){return this.mediaType === k.default.Za.Hb?this.NRa(u):this.HRa(u,!1);};p.prototype.Lia=function(u){return this.mediaType === k.default.Za.Hb?this.Zwb(u):this.HRa(u,!0);};p.prototype.LLa=function(u){this.Fc+=u.ca;this.tu=u.jb;this.Io && (this.gd=new m.Tz(this,{Xa:this.H2,jb:this.tu}),this.Io.end=this.wB);};p.prototype.toString=function(){return "[" + this.La + ", " + this.bitrate + "kbit/s, c:" + (this.Jc + "-" + this.pc + ",p:") + (this.Zc + "-" + this.Pd + ",d:" + this.duration + "]");};p.prototype.toJSON=function(){var u;u=h.Vt.prototype.toJSON.call(this);l.default({index:this.index,startPts:this.Z,endPts:this.Aa,"contentStartTicks:":this.Xa,contentEndTicks:this.jb,contentStartPts:this.Jc,contentEndPts:this.pc,fragmentStartPts:this.RK !== this.Z?this.RK:void 0,fragmentEndPts:this.J2 !== this.Aa?this.J2:void 0,edit:this.na},u);return u;};p.prototype.MRa=function(u){var w;if(this.Eh)for(var t=0;t < this.Eh.length;++t){if(this.Eh[t].zk === u)w=this.Eh[t].offset;}return w;};p.prototype.zZa=function(u){var t;t=u.start || 0;return {start:t,end:void 0 === u.end?this.wB:Math.min(this.wB,Math.max(t,0 > u.end?this.wB + u.end:u.end)),J7:u.J7,fTb:u.fTb};};return p;})(h.Vt);b.Gk=n;q.tf(a.Uz,n);q.tf(a.Sz,n);},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eA="LogMessageFactorySymbol";},function(q,b){var c;function a(f,k){var l;l=this;this.Bca=[];c.forEach(function(d){(d=d(f,k)) && l.Bca.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.vD=b.aCa=void 0;c=[];a.prototype.Mt=function(f){var d;for(var k=[],l=this.Bca.length;l--;){d=this.Bca[l];d.Mt(f) && k.push(d.KK);}if(k.length)return k;};b.aCa=a;b.vD=function(f){c.push(f);};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zD="6674654e-696c-5078-6966-665374726d21";b.AD="6674654e-696c-4878-6165-6465722e7632";b.qP="6674654e-696c-5078-6966-66496e646578";b.Dw="6674654e-696c-4d78-6f6f-6653697a6573";b.Cw="6674654e-696c-5378-6565-6b506f696e74";b.vP="cedb7489-e77b-514c-84f9-7148f9882554";b.uP="524f39a2-9b5a-144f-a244-6c427c648df4";b.yD="6674654e-696c-4678-7261-6d6552617465";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(l){f.prototype.parse.call(this,l);this.Sb=this.oi([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{cDb:"int32"},{JXb:"int32"},{offset:32,type:"offset"},{Cxb:"int16"},{lpb:{type:"int8",Oea:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.Ka=!0;return k;})(a(283).default);b.default=q;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="avc1";return k;})(q);b.g9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="avc2";return k;})(q);b.h9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="avc3";return k;})(q);b.i9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="avc4";return k;})(q);b.j9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="hvc1";return k;})(q);b.x$=a;q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="hev1";return k;})(q);b.s$=q;},function(q,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(q,b,a){var f,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.QH=b.Ob=void 0;f=a(133);k=a(42);l=a(3);c.Hja=function(d){if(d){if(d.includes(b.QH.zC))return f.jn.zC;if(d.includes("fps"))return f.jn.oF;if(d.includes(b.QH.S8))return f.jn.S8;}throw new k.$c(l.L.p$a,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.WSa=function(d){switch(d){case f.jn.zC:return b.QH.zC;case f.jn.oF:return b.QH.oF;default:return b.QH.S8;}};b.Ob=c;c.lu="com.microsoft.playready";c.df="com.microsoft.playready.hardware";c.pI="com.microsoft.playready.software";c.I$a="com.apple.fps.2_0";c.VHa="com.widevine.alpha";c.mdb="com.microsoft.playready.recommendation.3000";c.ndb="com.microsoft.playready.recommendation.2000";b.QH={oF:"fairplay",S8:"widevine",zC:"playready"};},function(q,b,a){var f,k,l;function c(d,g){this.yu=g?[g]:[];this.Mca="$op$" + l++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Ec=void 0;f=a(12);k=a(21);l=0;c.prototype.addListener=function(d,g){var h;h=this;k.eha(d);k.gb(0 > this.yu.indexOf(d));d[f.cZ + this.Mca]=g;this.yu=this.yu.slice();this.yu.push(d);this.yu.sort(function(m,n){return h.rTb(m,n);});};c.prototype.removeListener=function(d){var g;k.eha(d);this.yu=this.yu.slice();0 <= (g=this.yu.indexOf(d)) && this.yu.splice(g,1);};c.prototype.set=function(d,g){if(this.G !== d){g={oldValue:this.G,newValue:d,Wu:g};this.G=d;d=this.yu;for(var h=d.length,m=0;m < h;m++){d[m](g);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(h){function m(n){if(d(n.newValue))return (g.removeListener(m),h(n.newValue));}if(d(g.G))return h(g.G);g.addListener(m);});};c.prototype.rTb=function(d,g){return (d[f.cZ + this.Mca] || 0) - (g[f.cZ + this.Mca] || 0);};Xa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.Ec=c;},function(q,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nA=void 0;q=a(1);a=a(0);c.prototype.format=function(f,k){var d;for(var l=1;l < arguments.length;++l){;}d=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(g,h){return "undefined" != typeof d[h]?d[h]:g;});};c.prototype.o4a=function(f){for(var k=f.length,l=new Uint16Array(k),d=0;d < k;d++){l[d]=f.charCodeAt(d);}return l.buffer;};c.prototype.r4a=function(f){return JSON.stringify(f,null,"  ");};a=q.__decorate([a.R()],c);b.nA=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.yI="ThrottleFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eI="LoggerSinksSymbol";},function(q){var h,m,n,r;function b(){b.mb.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function c(p,u,t,w){var v,x;a(t);v=p.Bh;if(void 0 === v)(v=p.Bh=Object.create(null),p.$D=0);else {void 0 !== v.B6b && (p.emit("newListener",u,t.listener?t.listener:t),v=p.Bh);x=v[u];}void 0 === x?(v[u]=t,++p.$D):("function" === typeof x?x=v[u]=w?[t,x]:[x,t]:w?x.unshift(t):x.push(t),t=void 0 === p.DQ?b.mtb:p.DQ,0 < t && x.length > t && !x.fYb && (x.fYb=!0,t=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.As=p,t.type=u,t.count=x.length,console && console.warn && console.warn(t)));return p;}function f(){if(!this.RRa)return (this.target.removeListener(this.type,this.W6a),this.RRa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function k(p,u,t){p={RRa:!1,W6a:void 0,target:p,type:u,listener:t};u=f.bind(p);u.listener=t;return p.W6a=u;}function l(p){var u;u=this.Bh;if(void 0 !== u){p=u[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function d(p,u,t){"function" === typeof p.on && g(p,"error",u,t);}function g(p,u,t,w){if("function" === typeof p.on){if(w.once)p.once(u,t);else p.on(u,t);}else if("function" === typeof p.addEventListener)p.addEventListener(u,function y(x){w.once && p.removeEventListener(u,y);t(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}h="object" === typeof Reflect?Reflect:null;m=h && "function" === typeof h.apply?h.apply:function(p,u,t){return Function.prototype.apply.call(p,u,t);};n=Number.isNaN || (function(p){return p !== p;});q.exports=b;q.exports.once=function(p,u){return new Promise(function(t,w){function v(y){p.removeListener(u,x);w(y);}function x(){"function" === typeof p.removeListener && p.removeListener("error",v);t([].slice.call(arguments));}g(p,u,x,{once:!0});"error" !== u && d(p,v,{once:!0});});};b.EventEmitter=b;b.prototype.Bh=void 0;b.prototype.$D=0;b.prototype.DQ=void 0;r=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return r;},set:function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");r=p;}});b.mb=function(){if(void 0 === this.Bh || this.Bh === Object.getPrototypeOf(this).Bh)(this.Bh=Object.create(null),this.$D=0);this.DQ=this.DQ || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.DQ=p;return this;};b.prototype.emit=function(p){var w,v;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}w="error" === p;t=this.Bh;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}t=t[p];if(void 0 === t)return !1;if("function" === typeof t)m(t,this,u);else {v=t.length;w=Array(v);for(var x=0;x < v;++x){w[x]=t[x];}for(t=0;t < v;++t){m(w[t],this,u);}}return !0;};b.prototype.addListener=function(p,u){return c(this,p,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.A0a=function(p,u){return c(this,p,u,!0);};b.prototype.once=function(p,u){a(u);this.on(p,k(this,p,u));return this;};b.prototype.INb=function(p,u){a(u);this.A0a(p,k(this,p,u));return this;};b.prototype.removeListener=function(p,u){var t,w,v,x,y;a(u);w=this.Bh;if(void 0 === w)return this;v=w[p];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.$D?this.Bh=Object.create(null):(delete w[p],w.removeListener && this.emit("removeListener",p,v.listener || u));else if("function" !== typeof v){x=-1;for(t=v.length - 1;0 <= t;t--){if(v[t] === u || v[t].listener === u){y=v[t].listener;x=t;break;}}if(0 > x)return this;if(0 === x)v.shift();else {for(;x + 1 < v.length;x++){v[x]=v[x + 1];}v.pop();}1 === v.length && (w[p]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",p,y || u);}return this;};b.prototype.mM=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var u,t,w;u=this.Bh;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.Bh=Object.create(null),this.$D=0):void 0 !== u[p] && (0 === --this.$D?this.Bh=Object.create(null):delete u[p]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){w=t[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.Bh=Object.create(null);this.$D=0;return this;}t=u[p];if("function" === typeof t)this.removeListener(p,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(p,t[u]);}return this;};b.prototype.listeners=function(p){var u;u=this.Bh;if(void 0 === u)p=[];else if((p=u[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {u=Array(p.length);for(var t=0;t < u.length;++t){u[t]=p[t].listener || p[t];}p=u;}return p;};b.listenerCount=function(p,u){return "function" === typeof p.listenerCount?p.listenerCount(u):l.call(p,u);};b.prototype.listenerCount=l;},function(q,b,a){var n;function c(r,p){if(r.length == p.length && 1 < r.length){for(var u=r.length,t=0,w=d(r),v=d(p),x=0;x < u;x++){t+=r[x] * p[x];}return (t - w * v / u) / u;}return !1;}function f(r){if(!Array.isArray(r) || 2 > r.length)return !1;r=k(r);return Math.sqrt(r);}function k(r){var p;if(!Array.isArray(r) || 2 > r.length)return !1;p=l(r);return d(r.map(function(u){return (u - p) * (u - p);})) / (r.length - 1);}function l(r){return Array.isArray(r) && r.length?d(r) / r.length:!1;}function d(r){return Array.isArray(r)?r.reduce(function(p,u){return p + u;},0):!1;}function g(r,p,u){return Math.max(Math.min(r,u),p);}function h(r,p){return "number" === typeof r?r:p;}function m(r){return 1 / (1 + Math.exp(-r));}n=a(10);q.exports={Ta:function(r,p,u){try{r.emit(p,u);}catch(t){r.$j("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",t,"Event:",u);}},jB:function(){var r,p,u;r=Array.prototype.concat.apply([],arguments);p=r.reduce(function(t,w){return t + w.byteLength;},0);u=new Uint8Array(p);r.reduce(function(t,w){u.set(new Uint8Array(w),t);return t + w.byteLength;},0);return u.buffer;},f1:g,Hob:function(r,p,u,t){return {min:g(h(r.min,p),u,t),max:g(h(r.max,p),u,t),Gx:g(r.Gx || 6E4,0,6E5),LNa:g(r.LNa || 0,-3E5,3E5),scale:g(r.scale || 6E4,0,3E5),v2a:g(r.v2a || 0,-3E5,3E5),gamma:g(r.gamma || 1,.1,10)};},de:function(r,p){void 0 !== r && n.JLb(r).forEach(function(u){p(u[0],u[1]);});},lRa:function(r,p,u){return r.min + (r.max - r.min) * (1 - Math.pow(m(6 * (p - (r.Gx + (r.LNa || 0) * (1 - u))) / (r.scale + (r.v2a || 0) * (1 - u))),r.gamma));},Xvb:function(r,p){return r.min + (r.max - r.min) * Math.pow(m(6 * (p - r.Gx) / r.scale),r.gamma);},Z4b:d,ryb:l,UBb:k,X4b:f,O4b:c,N4b:function(r,p){var u;if(r.length == p.length){u=c(r,p);r=f(r);p=f(p);if(0 < r && 0 < p)return u / (r * p);}return !1;},Ys:function(r,p,u){return p.oPa?p.oPa(u):new r.Console("ASEJS","media|asejs",p.prefix?p.prefix + " " + u:u);},iRb:function(r){return r.length?"{" + r + "} ":"";},VQb:function(r,p,u){return {min:r.min * u + (1 - u) * p.min,max:r.max * u + (1 - u) * p.max,Gx:r.Gx * u + (1 - u) * p.Gx,scale:r.scale * u + (1 - u) * p.scale,gamma:r.gamma * u + (1 - u) * p.gamma};},tanh:Math.tanh || (function(r){var p;p=Math.exp(+r);r=Math.exp(-r);return Infinity == p?1:Infinity == r?-1:(p - r) / (p + r);}),isa:m,Bp:function(r){var p;p=r.Na.ub.P.id;return {Z:r.Z,duration:r.duration,offset:r.offset,ca:r.ca,bitrate:r.bitrate,profile:r.profile,Lc:r.Lc,va:p,La:r.La,Rc:r.Rc,location:r.location,Jh:r.Jh,Aj:r.Aj,Fv:{ub:{P:{id:p}}}};}};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(229);c=a(148);b.b$a=c;c=a(391);b.Aba=c;c=a(395);b.Xlb=c;b.zZ=q.Cp.Sa.sidx;q=a(830);b.Nr=q.Nr;q=a(237);b.lq=q.lq;q=a(834);b.mq=q.mq;b.Ky=q.Ky;q=a(835);b.bI=q.bI;q=a(82);b.qn=q.qn;a=a(836);b.hm=a.hm;},function(q,b,a){var d;function c(g,h){return void 0 === g?void 0:0 === g?d.S.hb:new d.S(g,h);}function f(g,h){return g && Math.floor(d.S.VW(g,h));}function k(g,h){return void 0 === g || void 0 === h?void 0:g + h;}function l(g,h){return void 0 === g || void 0 === h?void 0:g - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Sz=b.Uz=void 0;d=a(22);q=(function(){function g(){}Object.defineProperties(g.prototype,{Lq:{get:function(){return l(this.jb,this.Xa) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gpa:{get:function(){return k(this.Xa,this.Lj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{l0a:{get:function(){return k(this.jb,this.Lj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{BS:{get:function(){return c(this.Lq,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xc:{get:function(){return c(this.Xa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Md:{get:function(){return c(this.jb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ui:{get:function(){return c(this.Gpa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pf:{get:function(){return c(this.l0a,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{M6:{get:function(){return c(this.Lj,this.U);},enumerable:!1,configurable:!0}});return g;})();b.Uz=q;q=(function(){function g(){}Object.defineProperties(g.prototype,{duration:{get:function(){return l(this.Aa,this.Z) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return f(k(this.Xa,this.Lj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Aa:{get:function(){return f(k(this.jb,this.Lj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ct:{get:function(){return f(this.Lj,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Aj:{get:function(){return f(this.Xa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jc:{get:function(){return f(this.Xa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pc:{get:function(){return f(this.jb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zc:{get:function(){return f(k(this.Xa,this.Lj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pd:{get:function(){return f(k(this.jb,this.Lj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zx:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ez:{get:function(){return this.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mv:{get:function(){return this.Aa;},enumerable:!1,configurable:!0}});return g;})();b.Sz=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperties(b,{__esModule:{value:!0}});b.OX=b.dj=void 0;c=a(2);q=c.__importDefault(a(16));f=c.__importStar(a(10));k=q.default.zh;l=c.__importDefault(a(4));d=l.default.kq;g=a(172);h=c.__importDefault(a(146));m=a(9);q=a(43);n=a(240);r=a(174);(function(u){u[u.Tbb=0]="NOTHING_APPENDED";u[u.ocb=1]="PARTIAL";u[u.pw=2]="COMPLETE";u[u.uf=3]="ERROR";})(p=b.dj || (b.dj={}));a=(function(u){function t(w,v,x,y,z,B,A){v=u.call(this,v,x) || this;n.GH.mb(v,w,y,z,B,A);r.Vt.mb(v,w,y);v.Feb=w.url || y.url;v.Mba=y.responseType;v.Eeb=y.H7;void 0 === v.Mba && (v.Mba=d.Ub && !d.Ub.cW.LP?0:1);v.Yh=new k();v.Yh.on(v,d.ue.DCa,v.pda);v.Yh.on(v,d.ue.CCa,v.Yhb);v.Yh.on(v,d.ue.ECa,v.aib);v.Yh.on(v,d.ue.tP,v.oda);v.Yh.on(v,d.ue.DD,v.EQ);v.GI=!1;v.Fe=!1;v.Al=!1;v.wn=!1;v.pQ=!1;v.rda=y.ILb;v.er=0;return v;}c.__extends(t,u);Object.defineProperties(t.prototype,{active:{get:function(){return this.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xqa:{get:function(){return this.Al;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{complete:{get:function(){return !this.GI && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{aborted:{get:function(){return this.GI;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{dma:{get:function(){return this.wn && !this.pQ;},enumerable:!1,configurable:!0}});t.prototype.mb=function(w){n.GH.prototype.mb.call(this,w);this.Jf || !this.sd.pea && this.Lc || (this.Jf=h.default.instance(),this.active && (this.Jf.WM(l.default.time.aa(),{requestId:this.xA(),gg:this.Rc,type:this.mediaType}),this.Al && (l.default.time.aa(),this.connect && 0 < this.kr.length && this.Jf.qx(this.kr[0]))));};t.prototype.Ss=function(){return this.Je || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};t.prototype.JE=function(w,v,x,y,z,B,A){this.Je=w.appendBuffer(this.response,A || m.Bp(this));return {status:this.Je?p.pw:p.uf};};t.prototype.sM=function(){(this.wn=d.prototype.open.call(this,this.Feb,{start:this.offset,end:this.offset + this.ca - 1},this.Mba,{},void 0,void 0,this.Eeb)) && this.$S(this);return this.wn;};t.prototype.abort=function(){var w;if(this.aborted)return !0;w=this.Fe;this.Jf && w && this.Jf.$V(l.default.time.aa(),this.Al,{requestId:this.xA(),gg:this.Rc,type:this.mediaType});this.GI=!0;this.Al=this.Fe=!1;d.prototype.abort.call(this);this.OK(this,w,this.dma);return !0;};t.prototype.Ic=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.Yh && this.Yh.clear();u.prototype.Ic.call(this);};t.prototype.pda=function(){var w;w=this.Ye || this.loadTime;g.nw.instance().push(l.default.time.aa() - w);this.Fe || (this.Fe=!0,this.Us=this.track.Us(),this.stream.I.eYa || this.Jf && this.Jf.WM(w,{requestId:this.xA(),gg:this.Rc,type:this.mediaType}),this.PK(this),this.yt=this.Ye);};t.prototype.Yhb=function(){var w,v,x;w=this.Ye || this.Pia;v=this.connect;x=this.kr;g.nw.instance().push(l.default.time.aa() - w);this.Fe || (this.Fe=!0);this.Al || (this.Al=!0,this.stream.I.eYa && this.Jf && this.Jf.WM(w,{requestId:this.xA(),gg:this.Rc,type:this.mediaType}),v && 0 < x.length && this.Jf && this.Jf.qx(x[0]),this.qF(this),this.yt=w);};t.prototype.aib=function(){var w,v,x;w=this;v=this.Ye;x=this.bytesReceived - this.er;g.nw.instance().push(l.default.time.aa() - v);this.Al || (this.Al=!0);this.Jf && (void 0 === this.yt || this.Jf.SA(x,this.yt,v,{requestId:this.xA(),gg:this.Rc,type:this.mediaType},this.rda),this.kr && this.kr.length && this.kr.forEach(function(y){w.Jf.ox(y);}));this.QK(this);this.yt=v;this.er=this.bytesReceived;};t.prototype.oda=function(){var w,v,x;w=this;v=this.Ye;x=this.bytesReceived - this.er;g.nw.instance().push(l.default.time.aa() - v);this.Jf && (0 < x && this.Jf.SA(x,this.yt,v,{requestId:this.xA(),gg:this.Rc,type:this.mediaType},this.rda),this.kr && this.kr.length && this.kr.forEach(function(y){w.Jf.ox(y);}),this.Jf.$V(v,this.Al,{requestId:this.xA(),gg:this.Rc,type:this.mediaType}));this.Al=this.Fe=!1;this.pQ=!0;this.gv(this);this.yt=v;this.er=this.bytesReceived;this.Ic();};t.prototype.xA=function(){var w,v;w=(w=this.stream)?w.toString():this.url;v=this.W0;v && (w+=",range " + v.start + "-" + v.end);return w;};t.prototype.EQ=function(){var w,v,x,y;this.H.warn("AseMediaRequest._onError:",this.toString());w=this.Ye;v=this.status;x=this.Og;y=this.Ri;g.nw.instance().push(l.default.time.aa() - w);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):f.xa(x)?(this.Jf && this.sd && this.sd.Rqa && this.loadTime && void 0 === v && this.Jf.SA(this.er?this.bytesReceived - this.er:this.bytesReceived,this.yt?this.yt:this.loadTime,w,{requestId:this.xA(),gg:this.Rc,type:this.mediaType},this.rda),this.G2(this)):this.H.warn("ignoring undefined request error (nativecode: " + y + ")");};return t;})(d);b.OX=a;q.tf(n.GH,a,!1);q.tf(r.Vt,a,!1);},function(q,b,a){var f,k,l,d;function c(g,h,m){var n,r,t;h=f.__assign({},null === (r=null === g || void 0 === g?void 0:g.context) || void 0 === r?void 0:r.call(g,{SZa:h,cs:m}));if((null === g || void 0 === g?0:g.cs) && m)if(!0 === g.cs)h.args=m;else {r={};h.args=r;try{for(var p=f.__values(g.cs),u=p.next();!u.done;u=p.next()){t=u.value;r[t]=m[t];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (n=p.return) && n.call(p);}finally{if(w)throw w.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.qA=b.GUa=b.Xb=void 0;f=a(2);k=a(19);l=f.__importDefault(a(4));d=a(9);b.Xb=function(g){return function(h,m,n){var r;r=n.value;n.value=function(){var p,u,t,w,v,x;u=b.GUa(this);if(u)(t=c(g,this,arguments),w=null !== (p=null === g || void 0 === g?void 0:g.methodName) && void 0 !== p?p:String(m),v=u.lR(w,t,null === g || void 0 === g?void 0:g.Jl,null === g || void 0 === g?void 0:g.h5b));p=this.Nba;this.Nba=v;try{return x=null === r || void 0 === r?void 0:r.apply(this,arguments);}catch(z){var y;y=z;throw z;}finally{if((this.Nba=p,v))if((v.data || (v.data={}),y))v.data.error="" + y;else if(d.uWa(x))x.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);},function(z){v && (v.data.reject="" + z);});else if(null === g || void 0 === g?0:g.return)v.data.lRet=x;}};};};b.GUa=function(g){if(null === g || void 0 === g?0:g.Oba)return g.Oba;};q=(function(){function g(h){this.Sn=[];this.B_=!1;this.Lca={};this.I=f.__assign({hC:10},h);Object.defineProperties(h.jt,{Oba:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.I.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.B_;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{AFb:{get:function(){return f.__spread(this.Sn);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$Cb:{get:function(){return this.Lca;},enumerable:!1,configurable:!0}});g.prototype.Ju=function(h){var m;if(!this.B_){m=this.I.jt.Nba;m && (m.data=f.__assign(f.__assign({},m.data),h));}};g.prototype.lR=function(h,m,n,r){var p,u,t,w;if(!this.B_){t=!1;w=null === (u=(p=this.I).yea) || void 0 === u?void 0:u.call(p,this.I.jt);p=c({},this.I.jt);m=f.__assign(f.__assign(f.__assign({},w),p),m);w=0 < Object.keys(m).length;m={methodName:h,data:w?m:void 0,time:l.default.time.aa()};r && this.Lca[h]++;n && this.Sn.length && (n=this.Sn[this.Sn.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=m,t=!0));this.wpb(m);t || this.Sn.push(m);this.Sn.length > this.I.hC && this.Sn.shift();return m;}};g.prototype.wpb=function(h){var m;k.ka && (null === (m=this.I.console) || void 0 === m?void 0:m.trace(this.I.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.I,h);};g.prototype.wb=function(){Object.defineProperties(this.I.jt,{Oba:{enumerable:!1,value:null,configurable:!0}});this.B_=!0;this.clear();};g.prototype.clear=function(){this.Sn=[];this.Lca={};};return g;})();b.qA=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dA=b.Y$a=b.ResponseType=void 0;q=b.ResponseType || (b.ResponseType={});q[q.Text=0]="Text";q[q.S2b=1]="Xml";q[q.fZb=2]="Binary";b.Y$a="HttpClientSymbol";b.dA="LegacyHttpSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.SD="VideoPreparerSymbol";},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dl=b.K7a=void 0;b.K7a=a;b.Dl=new a();},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.sD="ManifestFetcherSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eaa=b.Xj=b.Gk=void 0;b.Gk=function(){};(function(a){a.GD="PRE_FETCH";a.nFa="QC";a.Co="STANDARD";a.xZ="SUPPLEMENTAL";a.Y9a="DOWNLOAD";})(b.Xj || (b.Xj={}));b.Eaa="PboManifestCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dxa="DrmServicesSymbol";b.oY="DrmServicesProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FH="ApiInfoSymbol";},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.mt=b.Sna=b.HYa=void 0;q=a(673);a=a(676);b.HYa=q;b.Sna=function(c,f){return b.HYa(function(k,l){return void 0 !== l?l:k;},c,f);};b.mt=a;},function(q,b,a){var c;c=a(170);q.exports=function(f){return function d(l){return 0 === arguments.length || c(l)?d:f.apply(this,arguments);};};},function(q,b){function a(c,f){var k;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(l){k=Object.getOwnPropertyDescriptor(c,l);void 0 !== k && Object.defineProperty(f,l,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(q,b,a){(function(c,f){function k(l,d,g,h){this.console=new l("ASEJS_PROGRESS","media|asejs");this.now=d;this.R2a=this.ATb=l=this.now();this.j2=l + g;this.rMb=g;this.CPa=l + h;this.debug=!1;this.counter=this.Ny=0;this.Tu=1E4;this.X4a=g / 100;this.Z4a=l;this.Y4a=1 * this.X4a / 4;this.f8=0;this.kS="";this.cg(l,"progress tracking start");}k.prototype.constructor=k;k.prototype.cg=function(l,d){var g,h;g=((l - this.R2a) / 1E3).toFixed(3);g=("     ").slice(g.length - 4) + g;h=c.zIb();this.console.info(g + (" " + ((this.CPa - l) / 1E3).toFixed(3)) + (" " + Math.round(this.Tu)) + (" M:(" + Math.floor(h.f5b / 1024 / 1024) + " MB/" + Math.floor(h.lVa / 1024 / 1024) + " MB) ") + this.kS + d);};k.prototype.hjb=function(l){var d;d=this.now();this.kS=l?l + ": ":l;this.Ny=0;this.R2a=d;this.cg(d,"starting");};k.prototype.Hjb=function(l){var d,g;this.counter++;if(!(this.counter < this.Tu)){this.counter=0;d=this.now();g=d - (this.Z4a + this.X4a);this.Z4a=d;this.f8=.9 * this.f8 + .1 * g;this.f8 > this.Y4a?(this.Tu*=.875,this.Tu=Math.max(1,this.Tu)):this.f8 < -this.Y4a && (this.Tu*=1.5,this.Tu=Math.min(this.Tu,1E5));if(d >= this.CPa)throw (this.cg("Execution deadline exceeded after " + (d - this.ATb) + " ms" + this.kS),Error("Execution deadline exceeded" + this.kS));g=c.zIb();this.Ny=Math.max(this.Ny,g.lVa);if(7516192768 < g.lVa)throw Error("Heap total limit exceeded" + this.kS);if(!(d <= this.j2)){for(;d > this.j2;){this.j2+=this.rMb;}this.cg(d,l);}}};k.mb=function(l,d,g,h){f.CC=new k(l,d,g || 5E3,h || 33E5);};k.Tra=function(l){f.CC && f.CC.hjb(l);};k.update=function(l){f.CC && f.CC.Hjb(l);};k.FTa=function(){if(f.CC)return f.CC.Ny;};k.now=function(){return f.CC?f.CC.now():Date.now();};q.exports=k;}).call(this,a(423),a(294));},function(q){var b;b={VT:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};q.exports=b;},function(q,b,a){var d,g;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function f(h){return d.ze(h);}function k(h){return d.xa(h);}function l(h){return !c(h) && !f(h) && !k(h) && !Array.isArray(h) && d.Sg(h);}d=a(10);g={dD:0,wZ:1,Ybb:2,$Y:3,jm:4};q.exports={Eka:function(h){return c(h)?g.dD:f(h)?g.wZ:k(h)?g.Ybb:l(h)?g.$Y:g.jm;},l4:c,ze:f,xa:k,Sg:l,jq:g};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yj=void 0;q=b.Yj || (b.Yj={});q.Hn="created";q.Yv="started";q.HN="succeeded";q.Cs="failed";q.Fn="cancelled";q.Snb="cancelled_on_start";q.Nfa="cancelled_not_encrypted";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.du=void 0;q=b.du || (b.du={});q[q.dZb=8]="Backspace";q[q.F2b=9]="Tab";q[q.o_b=13]="Enter";q[q.x2b=16]="Shift";q[q.CZb=17]="Ctrl";q[q.HYb=18]="Alt";q[q.M1b=19]="PauseBreak";q[q.vZb=20]="CapsLock";q[q.q_b=27]="Escape";q[q.z2b=32]="Space";q[q.L1b=33]="PageUp";q[q.K1b=34]="PageDown";q[q.n_b=35]="End";q[q.S_b=36]="Home";q[q.i0b=37]="LeftArrow";q[q.M2b=38]="UpArrow";q[q.T1b=39]="RightArrow";q[q.VZb=40]="DownArrow";q[q.f0b=45]="Insert";q[q.SZb=46]="Delete";q[q.V2b=48]="Zero";q[q.n1b=49]="One";q[q.I2b=50]="Two";q[q.G2b=51]="Three";q[q.K_b=52]="Four";q[q.I_b=53]="Five";q[q.y2b=54]="Six";q[q.w2b=55]="Seven";q[q.m_b=56]="Eight";q[q.Z0b=57]="Nine";q[q.xYb=65]="A";q[q.IYb=66]="B";q[q.lZb=67]="C";q[q.b9a=68]="D";q[q.E=69]="E";q[q.r_b=70]="F";q[q.L_b=71]="G";q[q.O_b=72]="H";q[q.Z$a=73]="I";q[q.g0b=74]="J";q[q.I$=75]="K";q[q.dbb=76]="L";q[q.l0b=77]="M";q[q.Obb=78]="N";q[q.l1b=79]="O";q[q.p1b=80]="P";q[q.Q=81]="Q";q[q.Q1b=82]="R";q[q.Cdb=83]="S";q[q.feb=84]="T";q[q.J2b=85]="U";q[q.N2b=86]="V";q[q.P2b=87]="W";q[q.Lba=88]="X";q[q.T2b=89]="Y";q[q.U2b=90]="Z";q[q.j0b=91]="LeftWindowKey";q[q.U1b=92]="RightWindowKey";q[q.u2b=93]="SelectKey";q[q.b1b=96]="Numpad0";q[q.c1b=97]="Numpad1";q[q.d1b=98]="Numpad2";q[q.e1b=99]="Numpad3";q[q.f1b=100]="Numpad4";q[q.g1b=101]="Numpad5";q[q.h1b=102]="Numpad6";q[q.i1b=103]="Numpad7";q[q.j1b=104]="Numpad8";q[q.k1b=105]="Numpad9";q[q.y0b=106]="Multiply";q[q.GYb=107]="Add";q[q.A2b=109]="Subtract";q[q.RZb=110]="DecimalPoint";q[q.UZb=111]="Divide";q[q.s_b=112]="F1";q[q.w_b=113]="F2";q[q.x_b=114]="F3";q[q.y_b=115]="F4";q[q.z_b=116]="F5";q[q.A_b=117]="F6";q[q.B_b=118]="F7";q[q.C_b=119]="F8";q[q.D_b=120]="F9";q[q.t_b=121]="F10";q[q.u_b=122]="F11";q[q.v_b=123]="F12";q[q.a1b=144]="NumLock";q[q.s2b=145]="ScrollLock";q[q.v2b=186]="SemiColon";q[q.p_b=187]="Equals";q[q.yZb=188]="Comma";q[q.QZb=189]="Dash";q[q.N1b=190]="Period";q[q.J_b=191]="ForwardSlash";q[q.H2b=192]="Tilde";q[q.o1b=219]="OpenBracket";q[q.cZb=220]="BackSlash";q[q.xZb=221]="CloseBracket";q[q.P1b=222]="Quote";},function(q,b,a){var g;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function f(h,m){return null === h.Yy?!1:h.Yy.ng === m?!0:f(h.Yy,m);}function k(h){function m(n,r){var p;void 0 === r && (r=[]);p=c(n.ng);r.push(p);return null !== n.Yy?m(n.Yy,r):r;}return m(h).reverse().join(" --\x3e ");}function l(h){h.cga.forEach(function(m){if(f(m,m.ng))throw (m=k(m),Error(g.E8a + " " + m));l(m);});}function d(h){var m;if(h.name)return h.name;h=h.toString();m=h.match(/^function\s*([^\s(]+)/);return m?m[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);b.hL=c;b.pXa=function(h,m,n){var r;r="";h=n(h,m);0 !== h.length && (r="\nRegistered bindings:",h.forEach(function(p){var u;u="Object";null !== p.Nl && (u=d(p.Nl));r=r + "\n " + u;p.YE.IYa && (r=r + " - " + p.YE.IYa);}));return r;};b.Dob=l;b.pGb=function(h,m){var n,r;if(m.jma() || m.ama()){n="";r=m.vAb();m=m.$yb();null !== r && (n+=r.toString() + "\n");null !== m && m.forEach(function(p){n+=p.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.BP="PlatformConfigDefaultsSymbol";},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.XK=b.WK=b.YK=b.IWa=b.aU=void 0;c=a(5);f=a(104);k=a(50);b.aU=function(l,d,g,h){var m,n;m=l.yLb;n=l.zLb;l=l.ALb;return m > d || m === d && n > g || m === d && n === g && (void 0 === h || l >= h);};b.IWa=function(l,d){return l.ks >= d;};b.YK=function(){return {version:"6.0031.809.911",G5:!0,SK:!0,Dha:"browser",NPa:["en-US"],ana:"",qS:"cadmium",$ta:!0,y0:!0,TV:!1};};b.WK=function(){return {YA:[k.je.hD,k.je.iD],hw:[k.O.XH,k.O.gD,k.O.IO,k.O.JO,k.O.BI,k.O.CI],Xe:f.Ob.VHa,My:c.uc(31E3)};};b.XK=function(l){return {sY:l.Kn};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gxa=b.jn=void 0;q=b.jn || (b.jn={});q[q.zC=0]="playready";q[q.S8=1]="widevine";q[q.oF=2]="fairplay";q[q.R3b=3]="clearkey";b.Gxa="DrmTypeSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lP="MediaKeysStorageFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.CZ=b.zo=void 0;b.zo=function(){};b.CZ="StringObjectReaderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.OGa="SystemRandomSymbol";b.sZ="RandomGeneratorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.DP="PlayerErrorFactorySymbol";},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.OH=b.c$a=void 0;c=a(25);b.c$a=function(){this.YA=[];this.hw=[];this.Yea=c.Wt.Zt;this.K8=c.Bi.Zt;};b.OH="DeviceCapabilitiesConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.MP="SourceBufferTypeProviderSymbol";},function(q,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sd=void 0;f=a(25);c.sPa=function(k){var l;l={};l[f.ce.KP]=c.WH;l[f.ce.xY]=c.WH;l[f.ce.AI]=c.KO;l[f.ce.xw]=c.xw;l[f.ce.Ir]=k || c.Ir;l[f.ce.YC]=c.WH;l[f.ce.QD]=c.TP;l[f.ce.Fk]=c.Fk;return l;};b.Sd=c;c.WH="avc1.640028";c.KO="hev1.1.6.L93.B0";c.$X="dvhe.05.01";c.R9="dvhe.05.04";c.S9="dvhe.05.05";c.T9="dvhe.05.06";c.U9="dvhe.05.07";c.V9="dvhe.05.09";c.Ir=c.$X;c.xw=c.KO;c.FX="mp4a.40.2";c.EI="mp4a.40.42";c.c9a="ec-3";c.TP="vp09.00.11.08.02";c.Fk="av01.0.04M.08";c.W8a=[c.V9,c.U9,c.T9,c.S9,c.R9,c.$X];},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.pP="MslProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FZ=void 0;b.rq={oI:"PRIMARY",rua:"ASSISTIVE",Vva:"COMMENTARY",NONE:"NONE"};b.FZ={assistive:b.rq.rua,closedcaptions:b.rq.rua,directorscommentary:b.rq.Vva,commentary:b.rq.Vva,subtitles:b.rq.oI,primary:b.rq.oI,none:b.rq.NONE};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kP="ManifestFactorySymbol";},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fm=void 0;c=a(2).__importDefault(a(4));f=a(110);q=(function(){function k(l){this.H=new c.default.Console("ASEJS","media|asejs","(" + l + ")");this.gda=[];}k.prototype.rp=function(l){this.gda[l] || (this.gda[l]=f.Ys(c.default,this.H,"[" + l + "]"));return this.gda[l];};return k;})();b.fm=new q(0);},function(q,b,a){function c(f,k){this.HJ=f;this.wj=Math.floor((f + k - 1) / k);this.qd=k;this.reset();}a(6);c.prototype.shift=function(){this.Ad.shift();this.Iu.shift();};c.prototype.Ev=function(f){return this.xNa(this.Ad[f],f);};c.prototype.update=function(f,k){this.Ad[f]=(this.Ad[f] || 0) + k;};c.prototype.push=function(){this.Ad.push(0);this.Iu.push(0);this.ib+=this.qd;};c.prototype.add=function(f,k,l){var d,g,h;if(null === this.ib){d=Math.max(Math.floor((l - k + this.qd - 1) / this.qd),1);for(this.ib=k;this.Ad.length < d;){this.push();}}for(;this.ib <= l;){this.push();this.Ad.length > this.wj && this.shift();}if(null === this.pn || k < this.pn)this.pn=k;if(k > this.ib - this.qd)this.update(this.Ad.length - 1,f);else if(k == l)(d=this.Ad.length - Math.max(Math.ceil((this.ib - l) / this.qd),1),0 <= d && this.update(d,f));else for(d=1;d <= this.Ad.length;++d){g=this.ib - d * this.qd;h=g + this.qd;if(!(g > l)){if(h < k)break;this.update(this.Ad.length - d,Math.round(f * (Math.min(h,l) - Math.max(g,k)) / (l - k)));}}for(;this.Ad.length > this.wj;){this.shift();}};c.prototype.start=function(f){null === this.pn && (this.pn=f);null === this.ib && (this.ib=f);};c.prototype.stop=function(f){var k,l;if(null !== this.ib)if(f - this.ib > 10 * this.HJ)this.reset();else {for(;this.ib <= f;){this.push();this.Ad.length > this.wj && this.shift();}k=this.Ad.length - Math.ceil((this.ib - this.pn) / this.qd);l=this.Ad.length - Math.ceil((this.ib - f) / this.qd);if(0 <= l)if((0 > k && (this.pn=this.ib - this.qd * this.Ad.length,k=0),k === l))this.Iu[k]+=f - this.pn;else if(l > k)for((this.Iu[k]+=(this.ib - this.pn) % this.qd,this.Iu[l]+=this.qd - (this.ib - f) % this.qd,f=k + 1);f < l;++f){this.Iu[f]=this.qd;}this.pn=null;}};c.prototype.xNa=function(f,k){k=this.nja(k);return 0 === k?null:8 * f / k;};c.prototype.nja=function(f){var k;k=this.Iu[f];null !== this.pn && (f=this.ib - (this.Ad.length - f - 1) * this.qd,f > this.pn && (k=f - this.pn <= this.qd?k + (f - this.pn):this.qd));return k;};c.prototype.get=function(f,k){var l,d;l=this.Ad.map(this.xNa,this);if("last" === f)for(f=0;f < l.length;++f){null === l[f] && (l[f]=0 < f?l[f - 1]:0);}else if("average" === f){k=1 - Math.pow(.5,1 / ((k || 2E3) / this.qd));for(f=0;f < l.length;++f){null === l[f]?l[f]=Math.floor(d || 0):d=void 0 !== d?k * l[f] + (1 - k) * d:l[f];}}return l;};c.prototype.reset=function(){this.Nca || (this.Ad=[],this.Iu=[],this.pn=this.ib=null);};c.prototype.setInterval=function(f){this.wj=Math.floor((f + this.qd - 1) / this.qd);};q.exports=c;},function(q,b,a){var k,l,d,g,h,m,n,r,p;function c(u){var t;if(!u.Xda){t=u.DUa();u.tn.HE(t.default.Ea,u.pj);u.tn.yH(t.Rs?t.Rs.q6:void 0,t.Rs?t.Rs.sampleSize:void 0);k.ob(u.Ac) || (u.Xda=!0);}}function f(u,t,w){var v;this.I=w;this.Qo={};this.bJ=w.bJ;this.RIa=new g(this.bJ);this.nQ=new m(!0);this.VP=new m(!1);w.UQa && (this.vJ=new n());this.reset();this.TJa=u;this.tn=t;this.uJa=l.Yn.name();this.tn.B7(this.uJa);this.UD=0;this.WP=[];l.events.on("networkchange",(function(x){this.uJa=x;this.tn.B7(x);}).bind(this));v=w.iha;v && (v={confidence:d.wf.YH,Oa:{Ea:parseInt(v,10),vi:0},Vi:{mmb:0,vi:0},Qs:{mmb:0,vi:0}},this.get=function(){return v;});p=this;}k=a(10);l=a(4).default;d=a(27).default;a(9);b=a(16).EventEmitter;g=a(380).Dya;h=new l.Console("ASEJS_NETWORK_MONITOR","media|asejs");m=a(793).fya;n=a(795).dDa;r=a(145);p=void 0;f.prototype.constructor=f;f.prototype=Object.create(b.prototype);f.instance=function(){return p;};f.reset=function(){p && p.reset();};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.gf;}},confidence:{get:function(){return this.pj;}},Uo:{get:function(){return this.UD;}},jLa:{get:function(){return this.WP;}}});f.prototype.Efb=function(){var u,t,w,v;u=this.I;t=u.Ufb.concat(u.cgb);w=u.Aca;v=this.RIa;return t.reduce(function(x,y){x[y]=v.create(y,w);return x;},{});};f.prototype.reset=function(){var u,t,w,v;u=this.I.Aca;t=this.RIa;w=this.I;this.location=null;this.Qo=this.Efb();if(this.I.XQa){v=this.I.R4a;this.Qo.$Ub=new r(v.numB * v.bSizeMs,v.bSizeMs);}this.nQ.reset();this.VP.reset();this.gx=t.create("respconn-ewma",u);this.Ww=t.create("respconn-ewma",u);this.vJ && this.vJ.reset();this.pj=d.wf.HAVE_NOTHING;this.Ijb=(function(){c(this);}).bind(this);this.r0=void 0;this.BA=this.Fc=this.Ac=this.gf=null;this.tA=this.m0=0;this.vib=!1;w.Y1a && (this.UD=0,this.WP=[]);};f.prototype.pN=function(u){var t;t=this.Qo;if(u !== this.location){k.ga(this.r0) || (clearInterval(this.r0),this.r0=void 0);k.ob(this.location) && (this.m0=0,this.gf=null);if(!k.ob(u)){this.pj=d.wf.HAVE_NOTHING;for(var w in t){t[w] && t[w].reset && t[w].reset();}this.gx.reset();this.Ww.reset();}k.ob(this.gf) || (this.m0+=(k.ob(this.Ac)?l.time.aa():this.Ac) - this.gf);this.Ac=this.gf=null;this.Fc=0;this.location=u;this.tn.pN(u);}};f.prototype.B7=function(u){this.tn.B7(u);};f.prototype.nkb=function(u){this.Qo.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Qo.QoEEvaluator=u;};f.prototype.DPb=function(){delete this.Qo.QoEEvaluator;};f.prototype.SA=function(u,t,w,v,x){var y,z;this.WWa=Math.max(this.WWa || 0,w);y=this.I;z=this.Qo;if(!0 === v.cO)(v=z["throughput-wssl"]) && v.add(u,t,w,!0);else if(k.ga(t))h.warn("addDataReceived called with undefined start time");else {this.vJ && this.vJ.SA(u,t,w,v,x);y.bgb && 10 > w - t?t=w - 10:0 === w - t && (t=w - 1);this.nQ.SA(u,t,w,v);this.VP.SA(u,t,w,v);for(var B in z){z[B] && z[B].add && z[B].add(u,t,w);}this.pj=Math.max(this.pj,d.wf.Zz);k.ob(this.gf) && (this.gf=t,this.Ac=null,this.Xda=!1,this.Fc=0);k.ob(this.Ac) || (t > this.Ac && (this.gf+=t - this.Ac),this.Ac=null,this.Xda=!1);this.Fc+=u;this.pj < d.wf.ww && (w - this.gf > y.mhb || this.Fc > y.lhb) && (this.pj=d.wf.ww);this.pj < d.wf.YH && (w - this.gf > y.yib || this.Fc > y.xib) && (!this.vib || this.tA > y.khb) && (this.pj=d.wf.YH,c(this),this.r0=setInterval(this.Ijb,y.Xgb));k.ob(this.BA) || (t - this.BA > y.UJa?this.TJa.bWa(this.BA,t):w - t > y.UJa && this.TJa.bWa(t,w));this.BA=Math.max(w,this.BA);}};f.prototype.qx=function(u){this.gx.add(u);this.tn.qx(u);};f.prototype.ox=function(u){this.Ww.add(u);this.tn.ox(u);};f.prototype.start=function(u){var t;k.ob(this.BA) && !k.ob(this.Ac) && (this.BA=u);t=this.Qo;if(this.I.xsa)for(var w in t){t[w] && t[w].start && t[w].start(u);}};f.prototype.stop=function(u){var t,w;t=this.Qo;for(w in t){t[w] && t[w].stop && t[w].stop(u);}this.Ac=k.ob(this.Ac)?u:Math.min(this.Ac,u);this.BA=null;};f.prototype.flush=function(){var u,t;u=this.Qo;for(t in u){u[t] && u[t].flush && u[t].flush();}};f.prototype.fail=function(){this.gf=null;};f.prototype.fTa=function(){var u,t;u=this.Qo.entropy;if(u){t=u.lnb();u.reset();}return t;};f.prototype.DUa=function(){var u,t,w,v,x,y,z;u=l.time.aa();t={};w=this.Qo;v=this.I;x=v.Jfb;y=v.djb;for(z in w){w[z] && w[z].get && (t[z]=w[z].get(u),"iqr" === w[z].type && (t.Rs=t[z]),"tdigest" === w[z].type && (t.Sj=t[z]),"wssl" === w[z].type && (t.cO=t[z]));}t.cdnavtp=this.nQ.Is();t.activecdnavtp=this.VP.Is();t.default=x && t[x]?t[x]:t["throughput-ewma"];"none" !== v.Ara && "none" !== y && (t.y2a=y && t[y]?t[y]:t["throughput-sw"]);return t;};f.prototype.j3=function(){return this.vJ?this.vJ.j3():void 0;};f.prototype.get=function(){var u,t,w,v,x,y;u=this.DUa();t=u.default;w=this.gx.get();v=this.Ww.get();x=this.I;if(u.y2a){y=u.y2a;t=k.xa(t.Ea) && k.xa(y.Ea) && t.Ea > y.Ea && 0 < y.Ea?y:t;}u.confidence=this.pj;u.Oa=t;!x.aia || !t || k.ob(t.Ea) || isNaN(t.Ea) || !u.cO || k.ob(u.cO.Ea) || isNaN(u.cO.Ea) || ("max" === x.Z6a?u.Oa.Ea=Math.max(u.cO.Ea,t.Ea):"sum" === x.Z6a && (u.Oa.Ea+=u.cO.Ea));u.Vi=w;u.Qs=v;this.I.XQa && (t=this.I.R4a,u.X7b=this.Qo.$Ub.get(t.fillS,t.fillHl));t=this.m0 + !k.ob(this.gf)?(k.ob(this.Ac)?l.time.aa():this.Ac) - this.gf:0;u.time=t;return u;};f.prototype.JBb=function(){var u,t,w;u={};t=this.get(!0);if(t.confidence && t.Oa){u.aseavtp=Number(t.Oa.Ea).toFixed(2);u.asevartp=Number(t.Oa.vi).toFixed(2);if(t.Rs){w=t.Rs.q6;!w || isNaN(w.il) || isNaN(w.gl) || isNaN(w.Jj) || (u.aseniqr=0 < w.Jj?Number((w.il - w.gl) / w.Jj).toFixed(2):-1,u.aseiqr=Number(w.il - w.gl).toFixed(2),u.asemedtp=Number(w.Jj).toFixed(2));u.iqrsamples=t.Rs.sampleSize;}t.Sj && t.Sj.my && (u.tdigest=t.Sj.my());}return u;};f.prototype.WM=function(u,t){var w;w=t.requestId;1 === ++this.UD && (this.emit("active",u),this.start(u));w && this.WP.push(w);this.nQ.WM(u,t);this.VP.WM(u,t);};f.prototype.$V=function(u,t,w){t=w.requestId;--this.UD;this.I.Y1a && (this.UD=Math.max(this.UD,0));0 === this.UD && (this.stop(u),this.emit("inactive",u));t && (t=this.WP.indexOf(t),0 <= t && this.WP.splice(t,1));this.nQ.$V(u,w);this.VP.$V(u,w);};q.exports=f;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new f(l || "Assertion failed");};},function(q){var c,f;function b(){var k,l;if(DataView.prototype && DataView.prototype.Js && !f){try{k=new ArrayBuffer(4);l=new DataView(k);l.wp(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);l=new DataView(k);l.wp(1,2,2);}catch(d){DataView.prototype.wp=a(DataView.prototype.wp,DataView.prototype.getUint8,Uint8Array);DataView.prototype.qy=a(DataView.prototype.qy,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Js=a(DataView.prototype.Js,DataView.prototype.getUint32,Uint32Array);DataView.prototype.xF=a(DataView.prototype.xF,DataView.prototype.getInt8,Int8Array);DataView.prototype.vF=a(DataView.prototype.vF,DataView.prototype.getInt16,Int16Array);DataView.prototype.wF=a(DataView.prototype.wF,DataView.prototype.getInt32,Int32Array);}c.Hka=function(d,g,h,m,n){return h?d.wp(g,h,m || 1,n):new Uint8Array(0);};c.Fka=function(d,g,h,m,n){return h?d.qy(g,h,m || 2,n):new Uint16Array(0);};c.Gka=function(d,g,h,m,n){return h?d.Js(g,h,m || 4,n):new Uint32Array(0);};c.Uzb=function(d,g,h,m,n){return h?d.xF(g,h,m || 1,n):new Int8Array(0);};c.Szb=function(d,g,h,m,n){return h?d.vF(g,h,m || 2,n):new Int16Array(0);};c.Tzb=function(d,g,h,m,n){return h?d.wF(g,h,m || 4,n):new Int32Array(0);};f=!0;}}function a(k,l,d){return function(g,h,m,n){var r;m=m || d.BYTES_PER_ELEMENT;if(g + h * m > this.byteLength){r=new d(h);r.set(k.call(this,g,h - 1,m,n));r[h - 1]=l.call(this,g + (h - 1 * m),n);return r;}return k.call(this,g,h,m,n);};}c={wp:function(k,l,d,g,h){var m;m=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint8(l,h);}return m;},qy:function(k,l,d,g,h){var m;m=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint16(l,h);}return m;},Js:function(k,l,d,g,h){var m;m=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint32(l,h);}return m;},xF:function(k,l,d,g,h){var m;m=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt8(l,h);}return m;},vF:function(k,l,d,g,h){var m;m=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt16(l,h);}return m;},wF:function(k,l,d,g,h){var m;m=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt32(l,h);}return m;},hwb:b};f=!1;c.Eja=function(){return f;};b();q.exports=c;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(232);q=(function(){function k(l,d,g){this.tag=l;this.view=d;this.u=g;this.startOffset=g.offset;}k.MV=function(l,d){var g,h;g=l.cb();h=l.qqa();l=new (f.fp[g] || k)(g,l.Cja(h),l);l.parse(d);return l;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Nm=0;return !0;};k.prototype.SS=function(l){var d;d=[];this.tag === l && d.push(this);if(this.fp)for(var g=0;g < this.fp.length;g++){d=c.__spreadArrays(d,this.fp[g].SS(l));}return d;};k.prototype.$k=function(l){for(l=this.SS(l);0 < l.length;){return l[0];}};k.prototype.NQ=function(){for(this.fp=[];this.u.offset < this.startOffset + this.length;){this.fp.push(k.MV(this.u,this));}};return k;})();b.eD=q;q.prototype.skip=q.prototype.parse;},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cq=void 0;c=a(2);f=c.__importDefault(a(27));k=c.__importDefault(a(4));l=a(841);q=(function(){function d(g){this.FI=g;this.Fg=[];this.console=new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var g;if(void 0 === d.jJ){g=a(4).default;d.jJ=new d(g.PH);}return d.jJ;},enumerable:!1,configurable:!0}});d.reset=function(){d.jJ=void 0;};d.prototype.nB=function(g,h,m,n,r,p){var u,t,w,v;u=!1;t=p.GSb?this.Uwb(m,h,g,p.HSb):-1;if(-1 === t){w={track:this.Irb(m,n,g,r,p),Hv:m,K:h,V0a:g,LM:[],Hn:!1,rK:!1};this.Fg.push(w);v=function(){w.Hn=!0;w.track.removeListener("created",v);};w.track.on("created",v);u=!1;}else (u=!0,w=this.Fg[t]);g=new l.JFa(this.console,w.track,w.Hn,u);w.LM.push(g);return g;};d.prototype.oS=function(g){var h,m;g.gp();h=this.x2(function(n){return n.track === g.track;});if(-1 !== h){if((h=this.Fg[h],1 === h.LM.length))(h.track.gp(),h.rK=!0);else {m=h.LM.indexOf(g);0 <= m && h.LM.splice(m,1);}}else g.track.gp();};d.prototype.Of=function(){this.FI.Of();};d.prototype.Irb=function(g,h,m,n,r){var p,u,t;p=this;u=!1;g?1 === m?(g=!1,h=1,r.Fp?(g=!0,h=r.QL):r.uv && 2 < r.uv && (g=!0,h=r.uv),g={type:this.FI.Hb,openRange:!g,pipeline:g,connections:h,socketBufferSize:r.WN,minRequestSize:r.ZL}):0 === m?(u=r.Fp && (r.lXb || h && r.mXb),g={type:this.FI.Tb,openRange:!u,pipeline:u,connections:1,socketBufferSize:r.J0,minRequestSize:r.ZL}):g={type:r.aub?this.FI.Hb:this.FI.O$a,openRange:!1,pipeline:!0,connections:1,socketBufferSize:r.ala,minRequestSize:r.ZL}:g={type:0 === m?f.default.Za.Tb:f.default.Za.Hb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === m?r.J0:r.WN,minRequestSize:r.ZL};t=new this.FI(g,n);t.on("transportreport",function(w){var v;v=p.x2(function(x){return x.track === t;});-1 !== v && (v=p.Fg[v],v.LM.length && v.LM[0].emit("transportreport",w));});t.on("destroyed",function(){var w;w=p.x2(function(v){return v.track === t;});-1 !== w && p.Fg.splice(w,1);t.removeAllListeners();});if(u && r.kXb || r.r6a)t.on("pipelinedisabled",function(){r.r6a && 1 === t.config.type?t.S6(c.__assign(c.__assign({},t.config),{socketBufferSize:r.$Ib,pipeline:!1,openRange:!0,connections:1})):t.S6(c.__assign(c.__assign({},t.config),{pipeline:!1,openRange:!0}));});return t;};d.prototype.Uwb=function(g,h,m,n){return this.x2(function(r){return !r.rK && (!n && r.track.config.O6b || !g?!r.Hv && r.V0a === m:r.Hv && r.K === h && r.V0a === m);});};d.prototype.x2=function(g){for(var h=0;h < this.Fg.length;++h){if(g(this.Fg[h]))return h;}return -1;};return d;})();b.cq=q;},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mj=b.oba=void 0;c=a(22);(function(d){d[d.absolute=0]="absolute";d[d.v1a=1]="relative";})(f=b.oba || (b.oba={}));l=(function(){function d(g,h){this.type=g;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + f[this.type];};Object.defineProperties(d,{hb:{get:function(){k || (k=new d(f.v1a,c.S.hb));return k;},enumerable:!1,configurable:!0}});return d;})();q=(function(){function d(){}d.YN=function(g){return new l(f.absolute,g);};Object.defineProperties(d,{dYb:{get:function(){return l.hb;},enumerable:!1,configurable:!0}});d.VC=function(g){return new l(f.v1a,g);};d.gua=new l(f.absolute,c.S.PB);return d;})();b.mj=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.uHb=b.K_a=b.TLb=b.SSa=b.bMb=b.WC=b.U8=b.Fr=b.eO=b.dO=b.Vj=void 0;c=a(24);f=a(21);b.Vj="$attributes";b.dO="$children";b.eO="$name";b.Fr="$text";b.U8="$parent";b.WC="$sibling";b.bMb=/^\s*<\?xml.*\?>/i;b.SSa=function(k,l,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(l=arguments[g++]) && (k=k[l]);){;}return k;};b.TLb=function(k,l){var d;k?d=c.pe(k[b.Fr]):void 0 !== l && (d=l);f.jS(d);return d;};b.K_a=function(k,l){var d;k?d=k[b.Fr]:void 0 !== l && (d=l);f.DPa(d);return d;};b.uHb=function(k,l){var d;d={};d[b.Vj]=k;d[b.Fr]=l;return d;};},function(q){function b(l,d){return l.some(function(g){return g.id === d;});}function a(l,d){return l.filter(c.bind(null,d)).map(f).reduce(k,0);}function c(l,d){return l.id === d.id && l.displayTime + l.duration === d.displayTime;}function f(l){return l.duration;}function k(l,d){return l + d;}q.exports={epb:function(l,d,g){for(var h=0;h < l.length;h++){if(l[h] !== d[h])return (g.error("indexId mismatch in sidx",{sIndexId:l,mIndexId:d}),!1);}return !0;},Tga:function(l,d,g){var h;h={};h.displayTime=l.displayTime;h.duration=l.duration;h.originX=l.qLb;h.originY=l.rLb;h.sizeX=l.lTb;h.sizeY=l.mTb;h.imageData=d;h.id=l.IF;h.rootContainerExtentX=g.FQb;h.rootContainerExtentY=g.GQb;return h;},Gja:function(l,d){return "o_" + l + "s_" + d;},CXb:function(l,d){d("P" === String.fromCharCode(l[1]));d("N" === String.fromCharCode(l[2]));d("G" === String.fromCharCode(l[3]));},Hc:function(l){return "undefined" !== typeof l;},t7b:b,q4b:a,pT:function(l,d){var g,h;g=Object.create({});for(h in l){g[h]=l[h];}l instanceof Error && (g.message=l.message,g.stack=l.stack);g.errorString=d;return g;},assert:function(l,d){if(!l)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},xVa:function(l){return l && 0 < l.entries.length && 0 === l.images.length;},oUb:function(l,d){for(var g=d.entries.length,h,m=0;m < g;m++){if((h=d.entries[m],h.displayTime <= l && h.displayTime + h.duration >= l))return !0;}return !1;},pUb:function(l,d,g){for(var h=g.entries.length,m,n,r=0;r < h;r++){m=g.entries[r];n=m.displayTime;m=n + m.duration;if(d < n)break;if(n <= l && m >= l || n > l && n <= d)return !0;}return !1;},IOa:function(l){return l.map(function(d,g){d.duration+=a(l.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},tka:function(l){return l.reduce(function(d,g){return d + g.entries.reduce(function(h,m){return m.rla + h;},0);},0);},qub:function(l,d){return l && l.Ov <= d && l.Jp >= d;},Bzb:function(l){if(l)return l.endTime;},cAb:function(l){try{return String.fromCharCode.apply(String,l);}catch(d){}return "";}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.sI="PlaygraphConfigSymbol";},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.ei=void 0;c=a(12);f=a(13);q=a(3);k=a(21);l=a(7);d=a(443);g=a(11);h=a(32);m=a(34);n=l.ha.get(h.Zg);n.register(q.L.B$,function(r){var p,u,t,w;p=l.ha.get(m.Kk);k.gb(f.config);k.gb(g.iA && g.iA.getDeviceId || g.UY || p.SK);u=l.ha.get(d.mxa);t=l.ii("Device");n.Od("devs");w=l.ha.get(m.kA);u.create({deviceId:f.config.deviceId,SK:p.SK,YPa:"deviceid",gi:f.config.gi,Kn:w.sY,qS:p.qS,userAgent:g.jA,Wma:f.config.Wma,Dja:f.config.Dja,Ttb:w.O9 || !1,dmb:f.config.LMa.e,w6b:f.config.Zu?"mslstoretest":"mslstore"}).then(function(v){b.ei=v;pb._cad_global.device=b.ei;t.info("Esn source: " + b.ei.nia);n.Od("devdone");r(c.Ee);}).catch(function(v){v.X=void 0;r(v);});});},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new f(l || "Assertion failed");};},function(q){var c,f;function b(){var k,l;if(DataView.prototype && DataView.prototype.Js && !f){try{k=new ArrayBuffer(4);l=new DataView(k);l.wp(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);l=new DataView(k);l.wp(1,2,2);}catch(d){DataView.prototype.wp=a(DataView.prototype.wp,DataView.prototype.getUint8,Uint8Array);DataView.prototype.qy=a(DataView.prototype.qy,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Js=a(DataView.prototype.Js,DataView.prototype.getUint32,Uint32Array);DataView.prototype.xF=a(DataView.prototype.xF,DataView.prototype.getInt8,Int8Array);DataView.prototype.vF=a(DataView.prototype.vF,DataView.prototype.getInt16,Int16Array);DataView.prototype.wF=a(DataView.prototype.wF,DataView.prototype.getInt32,Int32Array);}c.Hka=function(d,g,h,m,n){return h?d.wp(g,h,m || 1,n):new Uint8Array(0);};c.Fka=function(d,g,h,m,n){return h?d.qy(g,h,m || 2,n):new Uint16Array(0);};c.Gka=function(d,g,h,m,n){return h?d.Js(g,h,m || 4,n):new Uint32Array(0);};c.Uzb=function(d,g,h,m,n){return h?d.xF(g,h,m || 1,n):new Int8Array(0);};c.Szb=function(d,g,h,m,n){return h?d.vF(g,h,m || 2,n):new Int16Array(0);};c.Tzb=function(d,g,h,m,n){return h?d.wF(g,h,m || 4,n):new Int32Array(0);};f=!0;}}function a(k,l,d){return function(g,h,m,n){var r;m=m || d.BYTES_PER_ELEMENT;if(g + h * m > this.byteLength){r=new d(h);r.set(k.call(this,g,h - 1,m,n));r[h - 1]=l.call(this,g + (h - 1 * m),n);return r;}return k.call(this,g,h,m,n);};}c={wp:function(k,l,d,g,h){var m;m=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint8(l,h);}return m;},qy:function(k,l,d,g,h){var m;m=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint16(l,h);}return m;},Js:function(k,l,d,g,h){var m;m=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint32(l,h);}return m;},xF:function(k,l,d,g,h){var m;m=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt8(l,h);}return m;},vF:function(k,l,d,g,h){var m;m=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt16(l,h);}return m;},wF:function(k,l,d,g,h){var m;m=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt32(l,h);}return m;},hwb:b};f=!1;c.Eja=function(){return f;};b();q.exports=c;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(284);q=(function(){function k(l,d,g){this.tag=l;this.view=d;this.u=g;this.startOffset=g.offset;}k.MV=function(l,d){var g,h;g=l.cb();h=l.qqa();l=new (f.fp[g] || k)(g,l.Cja(h),l);l.parse(d);return l;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Nm=0;return !0;};k.prototype.SS=function(l){var d;d=[];this.tag === l && d.push(this);if(this.fp)for(var g=0;g < this.fp.length;g++){d=c.__spreadArrays(d,this.fp[g].SS(l));}return d;};k.prototype.$k=function(l){for(l=this.SS(l);0 < l.length;){return l[0];}};k.prototype.NQ=function(){for(this.fp=[];this.u.offset < this.startOffset + this.length;){this.fp.push(k.MV(this.u,this));}};return k;})();b.eD=q;q.prototype.skip=q.prototype.parse;},function(q,b,a){var f,k,l;function c(d,g,h,m,n){g=l.Sh.call(this,d,g,m,k.Ai.events,n,k.Ai.events + "/" + h) || this;g.context=d;g.Yvb=h;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.aq=void 0;q=a(1);f=a(0);k=a(48);l=a(74);a(180);ka(c,l.Sh);c.prototype.Of=function(d,g){var h,m;h=this;m=this.U0(g);!1;!1;return this.send(d,g.href,m).then(function(){return g;}).catch(function(n){throw h.Im(n);});};c.prototype.np=function(d,g,h){var m,n;m=this;n=this.U0(h);!1;!1;return this.send(d,g.rT("events").href,n).then(function(r){g.qea(r.result.links);return h;}).catch(function(r){throw m.Im(r);});};c.prototype.U0=function(d){return {event:this.Yvb,xid:d.ba,position:d.position || 0,clientTime:d.RR,sessionStartTime:d.mW,mediaId:d.TL,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.dnb(d.vV),sessionParams:d.jo,mdxControllerEsn:d.Ina};};c.prototype.Cfa=function(d){return {downloadableId:d.Dd,duration:d.duration};};c.prototype.dnb=function(d){var g;g={total:d.total,audio:d.audio.map(this.Cfa),video:d.video.map(this.Cfa),text:d.text.map(this.Cfa)};d.total !== d.nH && (g.totalContentTime=d.nH);return g;};a=c;a=q.__decorate([f.R(),q.__param(0,f.cj()),q.__param(1,f.cj()),q.__param(2,f.cj()),q.__param(3,f.cj()),q.__param(4,f.cj())],a);b.aq=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B;function c(A){var C,E;C=this;this.createPlaygraphPlayer=function(F,D,G){var I,J;I=d.ha.get(y.kP);G=G?I.create(G):void 0;I=d.ha.get(w.Xaa);J=aa(C.ZTa(x.odb.encode(F),D));D=J.next().value;F=J.next().value;J=J.next().value;I=I.lPa(D,F);I.addEpisode({movieId:F.$K().da,playbackParams:J,manifest:G});return I;};this.closeAllPlayers=function(F){l.Qaa(void 0 === F?function(){}:F);};this.init=function(F){F=void 0 === F?function(){}:F;C.PJ.pU(function(D){D.X?(k.config.u7?C.wRb().then(function(){f.dEa();}).catch(function(G){d.log.error("Unable to initialize the playdata services",G);}):Promise.resolve()).then(function(){Object.assign(C,c.rR);F(Object.assign({success:!0},c.rR));}):F({success:!1,error:d.AEa(D.errorCode || h.L.xza,D)});});};this.applyConfig=function(F){C.W5a(F);k.xga(F);};this.prepare=function(F,D){var G;F=C.w0a.Itb(F) || [];G=new Set();F=F.filter(function(I){var J;J=G.has(I.K);G.add(I.K);return !J;});if(k.config.Iv && C.pd)try{C.pd.EM(F,D);}catch(I){d.log.warn("Prepare call failed",I);}};this.ppmUpdate=function(F){pb._cad_global.playerPredictionModel?(F=C.w0a.Ktb(F)) && pb._cad_global.playerPredictionModel.update(F):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(F){d.aL().IW().then(function(D){return F(D.result);}).catch(function(){return F(!1);});};this.supportsUltraHd=function(F){d.aL().JW().then(F).catch(function(){return F(!1);});};this.supportsDolbyAtmos=function(F){d.aL().GW().then(F).catch(function(){return F(!1);});};this.supportsDolbyVision=function(F){d.aL().Y7().then(function(D){return F(D.result);}).catch(function(){return F(!1);});};this.close=function(){};this.deviceThroughput=function(){var F;F=d.ha.get(n.ZY).Nga();return F?Promise.resolve(F.Is()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var F;F=d.ha.get(n.ZY).Nga();return F?Promise.resolve(F.BAb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return k.config.yvb;};this.W5a(A);d.ha.get(B.Kua);this.w0a=d.ha.get(g.fEa);this.PJ=d.ha.get(t.Zg);E=d.ha.get(z.aEa).apply();k.FOa([A],E);this.pd=d.ha.get(u.SD);d.aL().JW();}Object.defineProperty(b,"__esModule",{value:!0});b.DI=void 0;f=a(275);k=a(13);l=a(62);d=a(7);g=a(472);h=a(3);m=a(37);n=a(262);r=a(183);p=a(519);u=a(116);t=a(32);w=a(290);v=a(20);x=a(73);y=a(143);z=a(302);B=a(451);c.prototype.W5a=function(A){d.ha.get(m.gP).AIb(A);};c.prototype.wRb=function(){return d.ha.get(r.hZ)().catch(function(A){d.log.error("Unable to initialize the playdata services",A);throw A;}).then(function(A){return A.send(Infinity);}).catch(function(A){d.log.error("Unable to send deferred playdata",A);});};c.prototype.ZTa=function(A,C){var E,F,D;C=void 0 === C?{}:C;F=d.ha.get(v.zd);A=d.ha.get(p.KEa).create(A);D=A.$K();F=F.Zb();C=Object.assign(Object.assign({startPts:C.playbackState && C.playbackState.currentTime || D.xc,uiPlayStartTime:Date.now()},C),{endPts:null !== (E=D.Yc) && void 0 !== E?E:void 0,isPlaygraph:!0});return [F,A,C];};b.DI=c;c.rR={};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vz="BrowserInfoSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.lka=function(){return this.buffer.length - this.position;};a.prototype.hz=function(){return this.buffer[this.position++];};a.prototype.ph=function(c){var f;f=this.position;this.position+=c;return this.pFb(this.buffer)?this.buffer.subarray(f,this.position):this.buffer.slice(f,this.position);};a.prototype.pFb=function(c){return void 0 !== c.subarray;};a.prototype.Kp=function(c){for(var f=0;c--;){f=256 * f + this.buffer[this.position++];}return f;};a.prototype.oqa=function(c){for(var f="";c--;){f+=String.fromCharCode(this.buffer[this.position++]);}return f;};a.prototype.Vg=function(){return this.Kp(2);};a.prototype.Lp=function(){return this.Kp(4);};a.prototype.OM=function(){return this.Kp(8);};a.prototype.Pv=function(c){for(var f,k="";c--;){f=this.hz();k+=("0123456789ABCDEF")[f >>> 4] + ("0123456789ABCDEF")[f & 15];}return k;};a.prototype.rqa=function(c){for(var f=0,k=0;k < c;k++){f+=this.hz() << (k << 3);}return f;};a.prototype.NM=function(){return this.rqa(4);};a.prototype.CX=function(c){this.bO(c,2);};a.prototype.Qz=function(c){this.bO(c,4);};a.prototype.T8=function(c){this.buffer[this.position++]=c;};a.prototype.bO=function(c,f){this.position+=f;for(var k=1;k <= f;k++){this.buffer[this.position - k]=c & 255;c=Math.floor(c / 256);}};a.prototype.Pz=function(c){for(var f=0;f < c.length;f++){this.buffer[this.position++]=c.charCodeAt(f);}};a.prototype.BX=function(c){for(var f=c.length,k=0;k < f;k++){this.buffer[this.position++]=c[k];}};a.prototype.aO=function(c,f){this.BX(c.ph(f));};a.prototype.Y6a=function(c){c=new a(c);for(var f,k;;){if((f=c.lka(),k=f >>> 14))(k=Math.min(4,k),this.T8(192 | k),this.aO(c,16384 * k));else {128 > f?this.T8(f):this.bO(f | 32768,2);this.aO(c,f);break;}}};a.prototype.Z0a=function(){var k;for(var c=[],f=new a(c);;){k=this.hz();if(k & 128){if(128 == (k & 192))(k&=63,k=(k << 8) + this.hz(),f.aO(this,k));else if((k&=63,0 < k && 4 >= k)){f.aO(this,16384 * k);continue;}else throw Error("bad asn1");}else f.aO(this,k);break;}return new Uint8Array(c);};return a;})();b.AO=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.VX="CannedChallengeProvider";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.BFa="ReportSyncSymbol";b.zFa="ReportApiErrorSyncSymbol";b.Hya="FtlProbeConfigSymbol";b.Jya="FtlProbeSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.QP="TimeoutMonitorFactorySymbol";},function(q,b,a){var f,k,l,d;function c(g,h,m,n){var r;r=l.uO.call(this,g,h,f.hm.LHa,n) || this;r.config=g;r.Oi=h;r.is=m;r.h5=n;r.type=f.Bi.Zt;r.tX=d.Sd.sPa();return r;}Object.defineProperty(b,"__esModule",{value:!0});b.bq=void 0;f=a(25);k=a(50);l=a(340);q=a(106);d=a(140);new q.nA();ka(c,l.uO);c.prototype.Zv=function(){return Promise.resolve(!1);};c.prototype.Pq=function(){return Promise.resolve("");};c.prototype.W2=function(){return Promise.resolve("");};c.prototype.IW=function(){return this.config().Yha?this.h5.Wla()?this.h5.LK(k.O.ZH).then(function(g){return {result:g,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.Y7=function(){return this.config().Yha?this.h5.Wla()?this.h5.LK(k.O.zO).then(function(g){return {result:g,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.JW=function(){return Promise.resolve(!1);};c.prototype.GW=function(){return Promise.resolve(!1);};c.prototype.VK=function(g){return this.tX[g];};c.prototype.nea=function(){};c.prototype.XXa=function(g){switch(g){case f.gj.oD:return "1.4";case f.gj.eu:return "2.2";}};c.prototype.cF=function(){var g;g={};g[k.O.XH]="avc1.4D401E";g[k.O.gD]="avc1.4D401F";g[k.O.p$]="avc1.4D4028";g[k.O.Q$a]="hev1.2.6.L90.B0";g[k.O.R$a]="hev1.2.6.L93.B0";g[k.O.S$a]="hev1.2.6.L120.B0";g[k.O.T$a]="hev1.2.6.L123.B0";g[k.O.zY]="hev1.2.6.L90.B0";g[k.O.BY]="hev1.2.6.L93.B0";g[k.O.DY]="hev1.2.6.L120.B0";g[k.O.FY]="hev1.2.6.L123.B0";g[k.O.WO]="hev1.2.6.L150.B0";g[k.O.YO]="hev1.2.6.L153.B0";g[k.O.AY]="hev1.2.6.L90.B0";g[k.O.CY]="hev1.2.6.L93.B0";g[k.O.EY]="hev1.2.6.L120.B0";g[k.O.GY]="hev1.2.6.L123.B0";g[k.O.XO]="hev1.2.6.L150.B0";g[k.O.ZO]="hev1.2.6.L153.B0";g[k.O.Tya]="hev1.2.6.L90.B0";g[k.O.Uya]="hev1.2.6.L93.B0";g[k.O.Vya]="hev1.2.6.L120.B0";g[k.O.Wya]="hev1.2.6.L123.B0";g[k.O.Xya]="hev1.2.6.L150.B0";g[k.O.Yya]="hev1.2.6.L153.B0";g[k.O.LO]="hev1.2.6.L90.B0";g[k.O.NO]="hev1.2.6.L93.B0";g[k.O.ZH]="hev1.2.6.L120.B0";g[k.O.QO]="hev1.2.6.L123.B0";g[k.O.SO]="hev1.2.6.L150.B0";g[k.O.UO]="hev1.2.6.L153.B0";g[k.O.MO]="hev1.2.6.L90.B0";g[k.O.OO]="hev1.2.6.L93.B0";g[k.O.PO]="hev1.2.6.L120.B0";g[k.O.RO]="hev1.2.6.L123.B0";g[k.O.TO]="hev1.2.6.L150.B0";g[k.O.VO]="hev1.2.6.L153.B0";g[k.O.aY]=d.Sd.$X;g[k.O.cY]=d.Sd.R9;g[k.O.zO]=d.Sd.S9;g[k.O.fY]=d.Sd.T9;g[k.O.hY]=d.Sd.U9;g[k.O.jY]=d.Sd.V9;g[k.O.bY]=d.Sd.$X;g[k.O.dY]=d.Sd.R9;g[k.O.eY]=d.Sd.S9;g[k.O.gY]=d.Sd.T9;g[k.O.iY]=d.Sd.U9;g[k.O.kY]=d.Sd.V9;g[k.O.Rya]="avc1.640016";g[k.O.IO]="avc1.64001E";g[k.O.JO]="avc1.64001F";g[k.O.o$]="avc1.640028";g[k.O.IZ]=d.Sd.TP;g[k.O.BI]=d.Sd.TP;g[k.O.CI]=d.Sd.TP;g[k.O.UP]=d.Sd.TP;g[k.O.vua]=d.Sd.Fk;g[k.O.wua]=d.Sd.Fk;g[k.O.xua]=d.Sd.Fk;g[k.O.yua]=d.Sd.Fk;g[k.O.zua]=d.Sd.Fk;g[k.O.Aua]=d.Sd.Fk;g[k.O.Bua]=d.Sd.Fk;g[k.O.Cua]=d.Sd.Fk;return g;};c.prototype.cUa=function(g){return g || this.config().hw;};c.prototype.dL=function(){return Promise.resolve(void 0);};c.prototype.k3=function(){return Promise.resolve(void 0);};c.prototype.cS=function(g){var h;h=[];this.is.eg(g) && h.push(this.XXa(g));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:h,isHdcpEngaged:! !h.length}];};b.bq=c;c.tH="video/mp4;codecs={0};";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zbb="NativeLocalStorageSymbol";b.rCa="NativeLocalStorageFactorySymbol";b.uza="IDBFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.tza="IDBDatabaseFactorySymbol";b.Xza="IndexedDBFactorySymbol";b.E$="IndexedDBStorageFactorySymbol";},function(q,b,a){var c,f,k;c=a(123);f=a(57);k=a(170);q.exports=function(l){return function n(g,h,m){switch(arguments.length){case 0:return n;case 1:return k(g)?n:f(function(r,p){return l(g,r,p);});case 2:return k(g) && k(h)?n:k(g)?f(function(r,p){return l(r,h,p);}):k(h)?f(function(r,p){return l(g,r,p);}):c(function(r){return l(g,h,r);});default:return k(g) && k(h) && k(m)?n:k(g) && k(h)?f(function(r,p){return l(r,p,m);}):k(g) && k(m)?f(function(r,p){return l(r,h,p);}):k(h) && k(m)?f(function(r,p){return l(g,r,p);}):k(g)?c(function(r){return l(r,h,m);}):k(h)?c(function(r){return l(g,r,m);}):k(m)?c(function(r){return l(g,h,r);}):l(g,h,m);}};};},function(q){q.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.rFa=b.vZ=b.Y2=void 0;c=a(53);f=a(3);b.Y2=function(k){return k === c.ic.Hk.Tb?f.M.jBa:f.M.kBa;};b.vZ=50;b.rFa=1E3;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nw=void 0;c=a(223);f=a(6);q=(function(){function k(l){this.config=l;this.reset();}k.instance=function(){f.assert(void 0 !== k.jJ);return k.jJ;};k.upb=function(l){k.jJ=new k(l);};k.prototype.push=function(l){this.Sj && this.Sj.push(l);};k.prototype.lb=function(){if(this.Sj)return (this.Sj.Kx(),this.Sj.Si([.25,.5,.75,.9,.95,.99]).map(function(l){return l?parseFloat(l.toFixed(1)):0;}));};k.prototype.reset=function(){this.config.WQa && this.config.H$ && (this.Sj=new c.B2b(this.config.H$.c,this.config.H$.maxc));};return k;})();b.nw=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);q=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){d=k.prototype.parse.call(this,d);this.u.offset+=8;this.Tfa=this.u.Dc();this.rra=this.u.Dc();this.u.offset+=4;this.samplerate=this.u.Dc();this.u.offset+=2;f.ka && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.Tfa + ", samplesize: " + this.rra + ", samplerate: " + this.samplerate);return d;};l.Ka=!1;return l;})(a(231).default);b.default=q;},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Vt=void 0;a(6);q=(function(){function c(f,k){c.mb(this,f,k);}c.mb=function(f,k,l){f.Uc=k;f.Fc=l.ca;f.ve=l.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.ve;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{N:{get:function(){return this.Uc.N;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.Uc.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Uc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{La:{get:function(){return this.Uc.La;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Uc.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Uc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.Uc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{cM:{get:function(){return this.Uc.cM;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{pa:{get:function(){return this.Uc.pa;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.La,offset:this.offset,bytes:this.ca};};return c;})();b.Vt=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xba=b.ul=void 0;c=a(151);(function(k){k[k.pending=0]="pending";k[k.eW=1]="running";k[k.complete=2]="complete";k[k.rK=3]="destroyed";})(f=b.ul || (b.ul={}));q=(function(){function k(l,d){void 0 === d && (d=0);this.name=l;this.priority=d;this.Gc=f.pending;}Object.defineProperties(k.prototype,{state:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pEb:{get:function(){return this.Gc === f.pending || this.Gc === f.eW;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Df:{get:function(){return this.Hu;},enumerable:!1,configurable:!0}});k.prototype.Hlb=function(l){var d;null === (d=this.Hu) || void 0 === d?void 0:d.Lqa(this);this.Hu=l;};k.prototype.Sv=function(){this.Gc=f.eW;this.Of();this.P5() === c.mj.gua && (this.Gc=f.complete);};k.prototype.wb=function(){var l;this.Gc=f.rK;null === (l=this.Hu) || void 0 === l?void 0:l.Lqa(this);};return k;})();b.xba=q;},function(q,b,a){var k,l,d,g,h,m,n,r;function c(p){return p && "function" === typeof p.kh?!0:!1;}function f(p){return c(p) && (p=typeof p.CEb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.a9a=b.jwb=b.BEb=b.I7a=b.AsyncIterator=void 0;k=a(2);l=a(19);d=k.__importDefault(a(4)).default.Promise;h=(function(){function p(u){var t;t=this;this.Cgb=u;this.vQ=!1;this.Bib=function(w){return t.bOb(w);};this.ZOa();}p.xFb=function(u,t){function w(){var v;v=u.next();v.then(function(x){f(u) && u.CEb || t(x);});v.then(function(x){return !x.done && w();});}w();};Object.defineProperties(p.prototype,{Ay:{get:function(){return this.vQ;},enumerable:!1,configurable:!0}});p.tzb=function(){return new m([]);};p.Aka=function(){g || (g=d.resolve({done:!0}));return g;};Object.defineProperties(p.prototype,{vL:{get:function(){return this.Pr || !1;},enumerable:!1,configurable:!0}});p.prototype.kh=function(){this.cancel();};p.prototype.cancel=function(){this.iKa();this.Pr=!0;return this.bca;};p.prototype.next=function(){return this.Pr?this.bca:d.race([this.bca,this.Cgb()]).then(this.Bib);};p.prototype.bOb=function(u){u.done && (this.vQ=!0,this.kh());this.vL || (this.iKa(),this.ZOa());return u;};p.prototype.ZOa=function(){var u;u=this;this.bca=new d(function(t){u.iKa=function(){t({done:!0});};});};return p;})();b.AsyncIterator=h;m=(function(p){function u(t){var w;w=p.call(this,function(){return w.xAb();}) || this;w.ux=t;w.index=0;return w;}k.__extends(u,p);u.prototype.kh=function(){c(this.ux) && this.ux.kh();p.prototype.kh.call(this);};u.prototype.xAb=function(){return this.ux.length > this.index?d.resolve({value:this.ux[this.index++],done:!1}):d.resolve({done:!0});};return u;})(h);b.I7a=m;b.BEb=c;b.jwb=f;n=(function(p){function u(t,w,v){var x;x=p.call(this,function(){return x.noa();}) || this;x.console=w;x.Mk=v;x.$pa=!1;Array.isArray(t)?x.FQ=new m(t):x.FQ=t;return x;}k.__extends(u,p);u.prototype.dOb=function(t){var w;this.$pa=!1;w=this.console;l.ka && w && w.trace("CompoundIterator: processNextOuterIterator");if(t.done)return t;t=t.value;if(this.lJ)return (c(t) && t.kh(),h.Aka());Array.isArray(t)?this.Mk=new m(t):this.Mk=t;return this.noa();};u.prototype.cOb=function(t){var w;w=this.console;l.ka && w && w.trace("CompoundIterator: processNextInnerResult",this.lJ,t.done);if(!t.done || this.lJ)return t;this.Mk=void 0;return this.noa();};u.prototype.kh=function(){var t;t=this.console;l.ka && t && t.trace("CompoundIterator: dispose");this.lJ=!0;p.prototype.kh.call(this);c(this.FQ) && this.FQ.kh();c(this.Mk) && this.Mk.kh();};u.prototype.toString=function(){return "CompoundIterator " + this.lJ + " " + this.FQ + " " + this.Mk;};u.prototype.noa=function(){var t,w;t=this;w=this.console;l.ka && w && w.trace("CompoundIterator: nextImpl");if(this.Mk)return (l.ka && w && w.trace("CompoundIterator: getNextInner"),this.Mk.next().then(function(v){return t.cOb(v);}));this.$pa=!0;l.ka && w && w.trace("CompoundIterator: getNextOuter");return this.FQ.next().then(function(v){return t.dOb(v);});};return u;})(h);b.a9a=n;b.map=function(p,u,t){return new r(p,u,t);};r=(function(p){function u(t,w,v){var x;x=p.call(this,function(){return x.pgb();}) || this;x.source=t;x.una=w;x.ppb=v;return x;}k.__extends(u,p);u.prototype.kh=function(){c(this.source) && this.source.kh();p.prototype.kh.call(this);};u.prototype.pgb=function(){var t,w,v;t=this.ppb;w=this.una;v=this.source;l.ka && t && t.trace("MappedIterator: Requesting next");return v.next().then(function(x){return x.done?x:w(x.value);});};return u;})(h);b.flatten=function(p,u,t){return new n(p,u,t);};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});q=a(874);c=a(412);a=a(876);b.default={STARTING:a.B2a,BUFFERING:q.r7,REBUFFERING:q.r7,PLAYING:c.Uv,PAUSED:c.Uv};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.fL=b.IH=void 0;c=a(891);f=a(892);k=a(249);Object.defineProperties(b,{IH:{enumerable:!0,get:function(){return k.IH;}}});b.fL=function(l,d){switch(l.vna){case "manifold":return new c.DBa(l,d);default:return new f.pGa(l,d);}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q.exports=function(a){return {minInitVideoBitrate:a.zv,minHCInitVideoBitrate:a.Xna,maxInitVideoBitrate:a.Oy,minInitAudioBitrate:a.KU,maxInitAudioBitrate:a.wU,minHCInitAudioBitrate:a.JU,minAcceptableVideoBitrate:a.r5,minRequiredBuffer:a.LU,minPrebufSize:a.Qi,minCheckBufferingCompleteInterval:a.Wna,rebufferingFactor:a.wqa,useMaxPrebufSize:a.Uta,maxPrebufSize:a.gC,maxRebufSize:a.Ena,maxBufferingTime:a.$q,minAudioMediaRequestSizeBytes:a.s5,minVideoMediaRequestSizeBytes:a.z5,initialBitrateSelectionCurve:a.X3,initSelectionLowerBound:a.MVa,initSelectionUpperBound:a.NVa,throughputPercentForAudio:a.e8,bandwidthMargin:a.ifa,bandwidthMarginContinuous:a.jfa,bandwidthMarginCurve:a.kfa,conservBandwidthMargin:a.Aga,switchConfigBasedOnInSessionTput:a.Tsa,conservBandwidthMarginTputThreshold:a.XR,conservBandwidthMarginCurve:a.Bga,switchAlgoBasedOnHistIQR:a.C4a,switchConfigBasedOnThroughputHistory:a.OC,maxPlayerStateToSwitchConfig:a.Dna,lowEndMarkingCriteria:a.ena,IQRThreshold:a.C$,histIQRCalcToUse:a.jla,maxTotalBufferLevelPerSession:a.$s,highWatermarkLevel:a.oVa,toStableThreshold:a.j5a,toUnstableThreshold:a.k8,skipBitrateInUpswitch:a.nsa,watermarkLevelForSkipStart:a.kua,highStreamRetentionWindow:a.dla,lowStreamTransitionWindow:a.fna,highStreamRetentionWindowUp:a.fla,lowStreamTransitionWindowUp:a.hna,highStreamRetentionWindowDown:a.ela,lowStreamTransitionWindowDown:a.gna,highStreamInfeasibleBitrateFactor:a.cla,lowestBufForUpswitch:a.Hy,lockPeriodAfterDownswitch:a.S4,lowWatermarkLevel:a.jna,lowestWaterMarkLevel:a.Iy,lowestWaterMarkLevelBufferRelaxed:a.kna,mediaRate:a.Ona,maxTrailingBufferLen:a.f5,audioBufferTargetAvailableSize:a.tR,videoBufferTargetAvailableSize:a.oX,maxVideoTrailingBufferSize:a.xYa,maxAudioTrailingBufferSize:a.hYa,fastUpswitchFactor:a.t2,fastDownswitchFactor:a.Aia,maxMediaBufferAllowed:a.Py,simulatePartialBlocks:a.lsa,simulateBufferFull:a.D3a,considerConnectTime:a.Cga,connectTimeMultiplier:a.zga,lowGradeModeEnterThreshold:a.HXa,lowGradeModeExitThreshold:a.IXa,maxDomainFailureWaitDuration:a.lYa,maxAttemptsOnFailure:a.gYa,exhaustAllLocationsForFailure:a.pRa,maxNetworkErrorsDuringBuffering:a.rYa,maxBufferingTimeAllowedWithNetworkError:a.Z4,fastDomainSelectionBwThreshold:a.xRa,throughputProbingEnterThreshold:a.P4a,throughputProbingExitThreshold:a.Q4a,locationProbingTimeout:a.vXa,finalLocationSelectionBwThreshold:a.ERa,throughputHighConfidenceLevel:a.N4a,throughputLowConfidenceLevel:a.O4a,locationStatisticsUpdateInterval:a.Tma,enablePerfBasedLocationSwitch:a.VQa,probeServerWhenError:a.At,probeRequestTimeoutMilliseconds:a.Wpa,allowSwitchback:a.sx,probeDetailDenominator:a.yG,maxDelayToReportFailure:a.a5,countGapInBuffer:a.VOa,bufferThresholdForAbort:a.hNa,allowCallToStreamSelector:a.PLa,pipelineScheduleTimeoutMs:a.vpa,maxPartialBuffersAtBufferingStart:a.Qy,minPendingBufferLen:a.Yna,maxPendingBufferLen:a.fC,maxPendingBufferLenSABCell100:a.d5,maxActiveRequestsSABCell100:a.X4,maxStreamingSkew:a.Fna,maxPendingBufferPercentage:a.Bna,maxRequestsInBuffer:a.SL,headerRequestSize:a.H3,estimateHeaderSize:a.oia,minBufferLenForHeaderDownloading:a.IU,reserveForSkipbackBufferMs:a.$M,numExtraFragmentsAllowed:a.Aoa,pipelineEnabled:a.Fp,maxParallelConnections:a.QL,socketReceiveBufferSize:a.M3a,audioSocketReceiveBufferSize:a.J0,videoSocketReceiveBufferSize:a.WN,headersSocketReceiveBufferSize:a.ala,updatePtsIntervalMs:a.B8,bufferTraceDenominator:a.vfa,bufferLevelNotifyIntervalMs:a.UJ,aseReportDenominator:a.WA,aseReportIntervalMs:a.E0,enableAbortTesting:a.cvb,abortRequestFrequency:a.Vjb,streamingStatusIntervalMs:a.Ksa,prebufferTimeLimit:a.$y,minBufferLevelForTrackSwitch:a.t5,penaltyFactorForLongConnectTime:a.mpa,longConnectTimeThreshold:a.cna,additionalBufferingLongConnectTime:a.wea,additionalBufferingPerFailure:a.xea,rebufferCheckDuration:a.PV,enableLookaheadHints:a.SQa,lookaheadFragments:a.EXa,enableOCSideChannel:a.ay,OCSCBufferQuantizationConfig:a.aZ,updateDrmRequestOnNetworkFailure:a.T5a,deferAseScheduling:a.QPa,maxDiffAudioVideoEndPtsMs:a.kYa,useHeaderCache:a.SN,useHeaderCacheData:a.e2,defaultHeaderCacheSize:a.N1,defaultHeaderCacheDataPrefetchMs:a.M1,headerCacheMaxPendingData:a.Zka,neverWipeHeaderCache:a.hG,headerCachePriorityLimit:a.hVa,enableUsingHeaderCount:a.$ha,networkFailureResetWaitMs:a.loa,networkFailureAbandonMs:a.koa,maxThrottledNetworkFailures:a.e5,throttledNetworkFailureThresholdMs:a.d8,lowThroughputThreshold:a.ina,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.tia,mp4ParsingInNative:a.cZa,sourceBufferInOrderAppend:a.O3a,requireAudioStreamToEncompassVideo:a.mz,allowAudioToStreamPastVideo:a.OLa,enableManagerDebugTraces:a.Gh,managerDebugMessageInterval:a.VXa,managerDebugMessageCount:a.UXa,bufferThresholdToSwitchToSingleConnMs:a.ufa,bufferThresholdToSwitchToParallelConnMs:a.tfa,netIntrStoreWindow:a.xJb,minNetIntrDuration:a.VIb,fastHistoricBandwidthExpirationTime:a.twb,bandwidthExpirationTime:a.qmb,failureExpirationTime:a.qwb,historyTimeOfDayGranularity:a.ZCb,expandDownloadTime:a.dwb,minimumMeasurementTime:a.eJb,minimumMeasurementBytes:a.dJb,throughputMeasurementTimeout:a.XUb,initThroughputMeasureDataSize:a.SDb,throughputMeasureWindow:a.WUb,throughputIQRMeasureWindow:a.VUb,IQRBucketizerWindow:a.$ab,connectTimeHalflife:a.vpb,responseTimeHalflife:a.xQb,historicBandwidthUpdateInterval:a.YCb,throughputWarmupTime:a.aVb,minimumBufferToStopProbing:a.cJb,throughputPredictor:a.YUb,ase_stream_selector:a.vlb,enableFilters:a.gvb,filterDefinitionOverrides:a.Kwb,defaultFilter:a.ktb,secondaryFilter:a.bRb,defaultFilterDefinitions:a.ltb,initBitrateSelectorAlgorithm:a.Fla,bufferingSelectorAlgorithm:a.zfa,ase_ls_failure_simulation:a.FPa,ase_dump_fragments:a.fha,ase_location_history:a.hha,ase_throughput:a.iha,ase_simulate_verbose:a.HPa,secondThroughputEstimator:a.Ara,secondThroughputMeasureWindowInMs:a.x2a,marginPredictor:a.vna,networkMeasurementGranularity:a.moa,HistoricalTDigestConfig:a.nza,maxIQRSamples:a.oYa,minIQRSamples:a.RYa,periodicHistoryPersistMs:a.r6,saveVideoBitrateMs:a.k7,needMinimumNetworkConfidence:a.QU,biasTowardHistoricalThroughput:a.nfa,maxFastPlayBufferInMs:a.zna,maxFastPlayBitThreshold:a.yna,headerCacheTruncateHeaderAfterParsing:a.iVa,minAudioMediaRequestDuration:a.XL,minVideoMediaRequestDuration:a.aM,minAudioMediaRequestDurationCache:a.XL,minVideoMediaRequestDurationCache:a.aM,addHeaderDataToNetworkMonitor:a.pea,hindsightDenominator:a.ila,hindsightDebugDenominator:a.hla,hindsightParam:a.L3,minimumTimeBeforeBranchDecision:a.jC,enableSessionHistoryReport:a.JS,earlyStageEstimatePeriod:a.Wha,lateStageEstimatePeriod:a.iXa,maxNumSessionHistoryStored:a.c5,minSessionHistoryDuration:a.y5,appendMediaRequestOnComplete:a.eMa,waitForDrmToAppendMedia:a.P8,forceAppendHeadersAfterDrm:a.C2,startMonitorOnLoadStart:a.xsa,reportFailedRequestsToNetworkMonitor:a.Rqa,reappendRequestsOnSkip:a.LOb,maxActiveRequestsPerSession:a.uv,limitAudioDiscountByMaxAudioBitrate:a.Nma,appendFirstHeaderOnComplete:a.Hea,maxAudioFragmentOverlapMs:0,editVideoFragments:a.Uub,declareBufferingCompleteAtSegmentEnd:a.kha,applyProfileTimestampOffset:a.VA,applyProfileStreamingOffset:a.ck,requireDownloadDataAtBuffering:a.a7,requireSetupConnectionDuringBuffering:a.b7,recordFirstFragmentOnSubBranchCreate:a.zqa,earlyAppendSingleChildBranch:a.b2,selectStartingVMAFMethod:a.fN,activateSelectStartingVMAF:a.hR,minStartingVideoVMAF:a.$L,minAcceptableVMAF:a.HU,minAllowedVmaf:a.bG,alwaysNotifyEOSForPlaygraph:a.Eea,enableNewAse:a.AK,useNewApi:a.kX,enableDiscontiguousBuffering:a.d2,forceImmediateTransitionTypeForTitles:a.bja,useBufferSizeLimiter:a.Sta,enableHudsonFieldTest:a.kvb,hudsonTitles:a.nDb,maxPartialBuffersAtHudson:a.WHb,numberOfChunksPerSegment:a.lKb,targetContentLatency:a.KUb,targetLongContentLatency:a.LUb,minimumTimeDelay:a.fJb,enableWsslEstimate:a.aia,maxAllowedOutstandingRequests:a.Y4,alwaysRunUnderflowTimer:a.KJ,minStreamableConcurrencyWindow:a.Zna,streamableConcurrencyFactor:a.Hsa,bufferingConcurrencyWindow:a.KR,singleStreamablePerBranch:a.kTb,enableResolutionVMAFStreamFilter:a.f2,resolutionVMAFCappingRuleList:a.g7,percentCapTitlesForResolutionVMAFStreamFilter:a.opa,useExitZones:a.Tta};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.W9=void 0;(b.W9 || (b.W9={})).fdb="PboDebugEvent";b.cxa={Ibb:"Manifest",Event:"Event",k0b:"Logblob"};},function(q,b,a){var f,k;function c(l){switch(l){case f.M.aP:return "http";case f.M.cP:return "connectiontimeout";case f.M.jD:return "readtimeout";case f.M.iza:return "corruptcontent";case f.M.$z:return "abort";case f.M.dP:case f.M.w$:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.oka=b.cka=b.aka=void 0;f=a(3);k=a(11);b.aka=c;b.cka=function(l,d){l={errorcode:l + (d.errorCode || f.L.jm)};d.oa && (l.errorsubcode=d.oa);d.Ve && (l.errorextcode=d.Ve);d.jia && (l.erroredgecode=d.jia);d.sb && (l.errordetails=d.sb);d.lk && (l.httperr=d.lk);d.I5 && (l.aseneterr=d.I5);d.EK && (l.errordata=d.EK);d.DU && (l.mediaerrormessage=d.DU);(d=c(Number(d.oa))) && (l.nwerr=d);return l;};b.oka=function(){return {screensize:k.ju.width + "x" + k.ju.height,screenavailsize:k.ju.availWidth + "x" + k.ju.availHeight,clientsize:pb.innerWidth + "x" + pb.innerHeight};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jP="LicenseProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ODa="PboPlaydataServicesSymbol";b.hZ="PboPlaydataServicesProviderSymbol";},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.VH=b.Iyb=void 0;c=a(13);f=a(117);k=a(474);b.Iyb=function(l,d,g,h){var m,n;n=l.Nz;n=null === (m=null === n || void 0 === n?void 0:n[0].streams) || void 0 === m?void 0:m[0].ZR;m=c.p1(g.Zd);n=c.yga(! !l.ym,!1,n);m=f.Dl.sd.Hq(Object.assign(Object.assign({},m),n));d=k.Jka(d,k.dQa);return {K:h,priority:0,R4b:function(){return {sa:l,yg:!1,KE:l.PPa[0].KE};},config:m,kJb:g.kJb,YMa:d};};b.VH=function(){return "";};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jZ="PlaygraphHelperSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z9=b.vxa=void 0;b.vxa=function(){this.Tb=0;this.Hb=1;this.O$a=2;this.Of=function(){};};b.Z9="DownloadTrackConstructorFactorySymbol";},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.bc=void 0;b.bc=a;a.ue={DCa:"mr1",CCa:"mr2",ECa:"mr3",tP:"mr4",hcb:"mr5",DD:"mr6"};a.zc={UNSENT:0,OPENED:1,Jw:2,Hw:3,DONE:5,UH:6,hO:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.rY={NO_ERROR:-1,I9a:0,Twa:1,U9a:2,M9a:3,L8a:4,$va:5,Yva:6,M8a:7,N8a:8,O8a:9,I8a:10,K8a:11,Zva:12,J8a:13,H8a:14,V$a:15,gza:16,fza:17,t$:18,v$:19,u$:20,jza:21,X$a:22,HY:23,hza:24,W$a:25,P9a:26,J9a:27,Odb:28,z9a:29,A9a:30,B9a:31,C9a:32,D9a:33,E9a:34,F9a:35,G9a:36,H9a:37,K9a:38,L9a:39,N9a:40,O9a:41,Q9a:42,R9a:43,S9a:44,T9a:45,V9a:46,W9a:47,Ndb:48,TIMEOUT:49,cza:50,dza:51,U$a:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Ub={cW:{m7a:!0,LP:!1,Ubb:!0}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iZ="PboPublisherSymbol";},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);q=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){d=k.prototype.parse.call(this,d);this.u.offset+=8;this.Tfa=this.u.Dc();this.rra=this.u.Dc();this.u.offset+=4;this.samplerate=this.u.Dc();this.u.offset+=2;f.ka && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.Tfa + ", samplesize: " + this.rra + ", samplerate: " + this.samplerate);return d;};l.Ka=!1;return l;})(a(283).default);b.default=q;},function(q,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.lD=void 0;c=/^\S+$/;a.prototype.gF=function(f){return void 0 !== f;};a.prototype.eg=function(f){return null !== f && void 0 !== f;};a.prototype.LJ=function(f){return a.ULa(f);};a.prototype.eea=function(f){return !(!f || !a.ULa(f));};a.prototype.tx=function(f){return Array.isArray(f);};a.prototype.VLa=function(f){return !(!f || f.constructor != Uint8Array);};a.prototype.$h=function(f,k,l){return a.fLa(f,k,l);};a.prototype.dea=function(f){return a.dea(f);};a.prototype.Fea=function(f,k,l){return a.z0(f,k,l) && 0 === f % 1;};a.prototype.mR=function(f,k,l){return a.z0(f,k || 0,l);};a.prototype.bR=function(f){return a.z0(f,1);};a.prototype.Tjb=function(f){return a.z0(f,0,255);};a.prototype.Ujb=function(f){return f === +f && (0 === f || f !== (f | 0)) && !0;};a.prototype.WLa=function(f){return !(!f || !c.test(f));};a.prototype.So=function(f){return a.gLa(f);};a.prototype.Bn=function(f){return !(!a.gLa(f) || !f);};a.prototype.aR=function(f){return !0 === f || !1 === f;};a.prototype.t0=function(f){return "function" == typeof f;};a.gLa=function(f){return "string" == typeof f;};a.fLa=function(f,k,l){return "number" == typeof f && !isNaN(f) && isFinite(f) && (void 0 === k || f >= k) && (void 0 === l || f <= l);};a.dea=function(f){return "number" == typeof f && isNaN(f);};a.z0=function(f,k,l){return a.fLa(f,k,l) && 0 === f % 1;};a.ULa=function(f){return "object" == typeof f;};b.lD=new a();},function(q,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.jd=void 0;q=a(0);c=a(89);f=a(558);k=a(197);l=a(574);d=a(581);g=a(592);a=a(1191);b.jd=new q.YX({YG:!0});g.rXa(b.jd);b.jd.load(f.platform);b.jd.load(l.config);k.wK.load(d.DQa);b.jd.load(a.aMa);b.jd.load(a.profile);b.jd.bind(c.$za).si(b.jd);},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(193);q=(function(){function f(k){this.mc=k;}f.prototype.Bv=function(k){this.mc.Bv=k;return new c.C9(this.mc);};return f;})();b.QX=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);a(300);q=(function(){function f(k){this.mc=k;}f.prototype.when=function(k){this.mc.YE=k;return new c.QX(this.mc);};f.prototype.xX=function(){this.mc.YE=function(k){return null !== k.target && !k.target.ama() && !k.target.jma();};return new c.QX(this.mc);};return f;})();b.C9=q;},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.kw=void 0;b.kw=a;a.edb="PSK";a.rbb="MGK";a.gAa="JWEJS_RSA";a.NY="JWK_RSA";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Laa="PlatformEmeSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uba="StringUtilsSymbol";},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperty(b,"__esModule",{value:!0});b.wK=b.eme=void 0;q=a(0);c=a(120);f=a(303);k=a(198);l=a(199);d=a(569);g=a(570);h=a(79);m=a(134);n=a(571);r=a(163);p=a(572);b.eme=new q.ad(function(u){u(f.zxa).to(k.yxa).$();u(l.I9).to(d.gwa).$();u(c.oY).WW(g.O0a);u(h.gu).RC(function(t){b.wK.parent=t.$a;return b.wK.get(h.gu);});u(m.lP).sf(function(){return function(){return new n.TBa();};});u(r.VX).to(p.iwa).$;});b.wK=new q.YX({YG:!0});},function(q,b,a){function c(){}function f(k){k?(this.active=!1,this.jja(k)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.yxa=b.nY=void 0;q=a(1);a=a(0);f.prototype.jja=function(k){this.ee=k.keySessionData?k.keySessionData.map(function(l){return {id:l.id,UF:l.licenseContextId,oU:l.licenseId};}):[];this.ba=k.xid;this.K=k.movieId;};f.prototype.aw=function(){return JSON.parse(JSON.stringify({keySessionData:this.ee?this.ee.map(function(k){return {id:k.id,licenseContextId:k.UF,licenseId:k.oU};}):[],xid:this.ba,movieId:this.K}));};b.nY=f;c.prototype.create=function(){return new f();};c.prototype.load=function(k){return new f(k);};a=q.__decorate([a.R()],c);b.yxa=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.I9="CachedDrmDataSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zw='video/mp4; codecs="avc1.640028"';b.gI='audio/mp4; codecs="mp4a.40.5"';b.j$a="DrmTraitsSymbol";},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u;function c(t,w,v,x,y,z){this.PU=t;this.is=w;this.Bc=v;this.Rd=x;this.hp=y;this.wh=z;l.Vn(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.pu=void 0;q=a(1);k=a(0);l=a(56);d=a(3);g=a(36);h=a(26);m=a(90);n=a(28);r=a(35);p=a(68);a=a(77);c.prototype.ky=function(){if(this.fb)return this.fb.sessionId;};c.prototype.bQb=function(t,w){return this.PU.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t,w){return w.createMediaKeys();};c.prototype.createSession=function(t,w){this.fb=t.createSession(w);};c.prototype.z1=function(){return Promise.reject(new m.pg(d.L.qY));};c.prototype.fFb=function(){return ! !this.fb;};c.prototype.setServerCertificate=function(t,w){return this.is.t0(t.setServerCertificate)?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.fb?this.fb.generateRequest(t,w[0]):Promise.reject(new m.pg(d.L.qY,d.M.SH,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.fb?this.fb.update(t[0]):Promise.reject(new m.pg(d.L.Uxa,d.M.SH,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.fb?this.fb.load(t):Promise.reject(new m.pg(d.L.r$a,d.M.SH,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.oga=void 0;if(!this.fb)return Promise.reject(new m.pg(d.L.Mxa,d.M.SH,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.ky() && (t=this.fb.close());this.fb=void 0;return t;};c.prototype.remove=function(){return this.fb?this.fb.remove():Promise.reject(new m.pg(d.L.s$a,d.M.SH,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.CG=function(){return Promise.reject(new m.pg(d.L.c$,void 0,"Unable to renew a key session, not supported"));};c.prototype.vLa=function(t){if(!this.fb)throw ReferenceError("Unable to add message handler, key session is not valid");this.fb.addEventListener(f.Yxa,t);};c.prototype.rLa=function(t){if(!this.fb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.fb.addEventListener(f.Xxa,t);};c.prototype.pLa=function(t){if(!this.fb)throw ReferenceError("Unable to add error handler, key session is not valid");this.fb.addEventListener(f.Wxa,t);};c.prototype.ikb=function(t){var w;w=this;if(!this.fb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.oga=t;this.fb.closed.then(function(){var v;return null === (v=w.oga) || void 0 === v?void 0:v.call(w);});};c.prototype.C1a=function(t){if(!this.fb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.fb.removeEventListener(f.Yxa,t);};c.prototype.A1a=function(t){if(!this.fb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.fb.removeEventListener(f.Xxa,t);};c.prototype.y1a=function(t){if(!this.fb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.fb.removeEventListener(f.Wxa,t);};u=f=c;u.Yxa="message";u.Xxa="keystatuseschange";u.Wxa="error";u=f=q.__decorate([k.R(),q.__param(0,k.l(g.lI)),q.__param(1,k.l(h.Gf)),q.__param(2,k.l(r.Rh)),q.__param(3,k.l(n.Hf)),q.__param(4,k.l(p.bu)),q.__param(5,k.l(a.ru))],u);b.pu=u;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rla=b.$t=void 0;(function(a){a.j6a="usable";a.nF="expired";a.released="released";a.o_a="output-restricted";a.CLb="output-downscaled";a.MTb="status-pending";a.eEb="internal-error";})(b.$t || (b.$t={}));b.Rla=function(a){return ! !a && ! !a.keyStatuses;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.TD="_ANY_";b.kya="EnricherSymbol";},function(q,b,a){var f,k,l;function c(d,g,h,m){this.Pa=d;this.V0=g;this.cn=h;this.Gn=void 0 === m?"General":m;this.qga={};}Object.defineProperty(b,"__esModule",{value:!0});b.dI=void 0;f=a(8);k=a(327);l=a(621);c.prototype.mLa=function(d,g){this.qga[d]=g;};c.prototype.fatal=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.RA(f.hj.C$a,d,this.UN(d,h));};c.prototype.error=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.RA(f.hj.uf,d,this.UN(d,h));};c.prototype.warn=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.RA(f.hj.Iba,d,this.UN(d,h));};c.prototype.info=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.RA(f.hj.A$,d,this.UN(d,h));};c.prototype.trace=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.RA(f.hj.SGa,d,this.UN(d,h));};c.prototype.debug=function(d,g){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.debug.apply(this,[d].concat(ca(h)));};c.prototype.write=function(d,g,h){for(var m=[],n=2;n < arguments.length;++n){m[n - 2]=arguments[n];}this.RA(d,g,this.UN(g,m));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Gn};};c.prototype.Pga=function(d){return new c(this.Pa,this.V0,this.cn,d);};c.prototype.RA=function(d,g,h){d=new k.Q$(d,this.Gn,this.Pa.Zb(),g,h);g=aa(this.cn.cn);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d);}};c.prototype.Ryb=function(d){return 0 < Object.keys(this.qga).length?[this.qga].concat(ca(d)):d;};c.prototype.UN=function(d,g){var h;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return l.pNa(this.V0,this.Ryb(g));};b.dI=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.pba="SegmentManagerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Faa="PboPlaydataFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eAa="IsTypeSupportedProviderFactorySymbol";b.bEa="PlatformIsTypeSupportedSymbol";},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r,p,u){var t;t=k.bq.call(this,m,n,r,u) || this;t.cast=p;t.type=l.Bi.J9;m=c.leb;t.tX[l.ce.AI]=d.Sd.KO + "; " + m;t.tX[l.ce.xw]=d.Sd.xw + "; " + m;m=d.Sd.W8a.find(function(w){return t.Ex(h(c.tH,w));});t.tX[l.ce.Ir]=m;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.lwa=b.WX=b.K9=void 0;f=a(50);k=a(166);l=a(25);q=a(106);d=a(140);g=a(209);h=new q.nA().format;ka(c,k.bq);c.Lga=function(m,n){return (n=c.f2a(n))?{isTypeSupported:n}:m;};c.f2a=function(m){var n;if("undefined" !== typeof m){if(m.framework && m.framework.CastReceiverContext && m.framework.CastReceiverContext.getInstance){n=m.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(m.framework && m.framework.platform && m.framework.platform.canDisplayType)return m.framework.platform.canDisplayType;if(m.receiver && m.receiver.platform && m.receiver.platform.canDisplayType)return m.receiver.platform.canDisplayType;if(m.__platform__ && m.__platform__.canDisplayType)return m.__platform__.canDisplayType;}};c.prototype.Zv=function(m){var n,r;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().n6a){r={};if(n)return (r[l.gj.oD]="1.4",r[l.gj.eu]="2.2",n().then(function(p){return p === r[m];}));n=this.XXa(m);n=h(c.tH,d.Sd.KO) + " hdcp=" + n;n=this.Ex.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.VK=function(m){return this.tX[m];};c.prototype.dL=function(){var m;m=this;return this.config().n6a?this.Zv(l.gj.eu).then(function(n){return n?Promise.resolve(l.gj.eu):m.Zv(l.gj.oD).then(function(r){return r?Promise.resolve(l.gj.oD):Promise.resolve(void 0);});}).then(function(n){return m.cS(n);}):Promise.resolve(void 0);};c.prototype.cF=function(){var m,n;m=k.bq.prototype.cF.call(this);n=c.PCb;m[f.O.p$]=["avc1.4D4028","width=1920; height=1080; "];m[f.O.WO]=["hev1.2.6.L150.B0","width=3840; height=2160; "];m[f.O.YO]=["hev1.2.6.L153.B0","width=3840; height=2160; "];m[f.O.XO]=["hev1.2.6.L150.B0","width=3840; height=2160; "];m[f.O.ZO]=["hev1.2.6.L153.B0","width=3840; height=2160; "];m[f.O.Tya]=["hev1.2.6.L90.B0",n];m[f.O.Uya]=["hev1.2.6.L93.B0",n];m[f.O.Vya]=["hev1.2.6.L120.B0",n];m[f.O.Wya]=["hev1.2.6.L123.B0",n];m[f.O.Xya]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];m[f.O.Yya]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];m[f.O.LO]=["hev1.2.6.L90.B0",n];m[f.O.NO]=["hev1.2.6.L93.B0",n];m[f.O.ZH]=["hev1.2.6.L120.B0",n];m[f.O.QO]=["hev1.2.6.L123.B0",n];m[f.O.SO]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];m[f.O.UO]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];m[f.O.MO]=["hev1.2.6.L90.B0",n];m[f.O.OO]=["hev1.2.6.L93.B0",n];m[f.O.PO]=["hev1.2.6.L120.B0",n];m[f.O.RO]=["hev1.2.6.L123.B0",n];m[f.O.TO]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];m[f.O.VO]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];return m;};c.prototype.QSa=function(){return [g.Ff.FX,g.Ff.aza,g.Ff.XH,g.Ff.gD];};c.prototype.Kla=function(){k.bq.prototype.Kla.call(this);!c.f2a(this.cast) && this.Ym.push(g.Ff.xw);};b.K9=c;c.PCb="eotf=smpte2084";c.leb="width=3840; height=2160; ";b.WX="CastSDKSymbol";b.lwa="CastEmeSymbol";},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ff=void 0;b.Ff=a;a.$ya=/^hevc-main/;a.Sya=/^hevc-hdr-|hevc-dv/;a.xw=/^hevc-hdr-/;a.Ir=/^hevc-dv/;a.WH=/-h264mpl/;a.XH=/-h264mpl30/;a.gD=/-h264mpl31/;a.YC=/-h264hpl/;a.QD=/^vp9-/;a.Fk=/^av1-/;a.AI=/-L5[0-1]-/;a.FX=/^heaac-2-/;a.aza=/^heaac-2hq-dash/;a.EI=/^xheaac-dash/;a.d9a=/ddplus-2/;a.e9a=/ddplus-5/;a.f9a=/ddplus-atmos/;},function(q,b,a){var f,k,l;function c(){this.type=f.Wt.Bw;}Object.defineProperty(b,"__esModule",{value:!0});b.gA=void 0;f=a(25);q=a(106);k=a(104);l=new q.nA();c.Lga=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return pb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?pb.MSMediaKeys.isTypeSupported(k.Ob.lu,d):"probably" === c.Rsa(g[0],g[1]);}catch(h){return !1;}}};};c.y1=function(d,g,h){g=l.format(c.tH,g);if(0 === h.length)return g;h=l.format('features="{0}"',h.join());return l.format("{0}|{1}{2}",d,g,h);};c.Rsa=function(d,g){var h;try{h=pb.MSMediaKeys.isTypeSupportedWithFeatures?pb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(m){h="exception";}return h;};b.gA=c;c.tH='video/mp4;codecs="{0},mp4a";';},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.i$=b.Yz=void 0;q=b.Yz || (b.Yz={});q.reb="unknown";q.Dua="absent";q.gFa="present";q.Error="error";b.i$="ExternalDisplayLogHelperSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.HZ="TransportConfigSymbol";},function(q){q.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(q,b,a){var k,l,d,g;function c(h,m,n){for(var r=n.next();!r.done;){if((m=h["@@transducer/step"](m,r.value)) && m["@@transducer/reduced"]){m=m["@@transducer/value"];break;}r=n.next();}return h["@@transducer/result"](m);}function f(h,m,n,r){return h["@@transducer/result"](n[r](d(h["@@transducer/step"],h),m));}k=a(679);l=a(681);d=a(682);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";q.exports=function(h,m,n){"function" === typeof h && (h=l(h));if(k(n)){for(var r=0,p=n.length;r < p;){if((m=h["@@transducer/step"](m,n[r])) && m["@@transducer/reduced"]){m=m["@@transducer/value"];break;}r+=1;}return h["@@transducer/result"](m);}if("function" === typeof n["fantasy-land/reduce"])return f(h,m,n,"fantasy-land/reduce");if(null != n[g])return c(h,m,n[g]());if("function" === typeof n.next)return c(h,m,n);if("function" === typeof n.reduce)return f(h,m,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(q){q.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,f){return a.apply(this,arguments);};case 3:return function(c,f,k){return a.apply(this,arguments);};case 4:return function(c,f,k,l){return a.apply(this,arguments);};case 5:return function(c,f,k,l,d){return a.apply(this,arguments);};case 6:return function(c,f,k,l,d,g){return a.apply(this,arguments);};case 7:return function(c,f,k,l,d,g,h){return a.apply(this,arguments);};case 8:return function(c,f,k,l,d,g,h,m){return a.apply(this,arguments);};case 9:return function(c,f,k,l,d,g,h,m,n){return a.apply(this,arguments);};case 10:return function(c,f,k,l,d,g,h,m,n,r){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(q,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.DZ=void 0;f=a(11);c.hka=function(){var k;k=f.ju && f.ju.height;return k?1080 <= k?1080:720:720;};b.DZ=c;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v;function c(x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R){this.j=x;this.trackId=y;this.NF=z;this.Dd=B;this.Xx=A;this.Kha=C;this.wm=E;this.displayName=F;this.po=D;this.FN=G;this.variant=I;this.MM=J;this.profile=H;this.et=M;this.hM=O;this.xxb=L;this.v4=P;this.Os=R;this.type=d.Uh.i8;this.St=void 0;this.Rn=!(!H || H != h.Or.iI);this.Kh={bcp47:E,trackId:y,downloadableId:B,isImageBased:this.Rn};this.log=g.Ih(x,"TimedTextTrack");this.state=v.YY;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.MD=void 0;f=a(1);k=a(71);l=a(13);d=a(81);g=a(7);h=a(50);m=a(21);n=a(17);r=a(987);p=a(18);u=a(3);t=a(988);w=a(991);(function(x){x[x.YY=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.nD=2]="LOADED";x[x.iP=3]="LOAD_FAILED";})(v || (v={}));c.prototype.W3=function(){var x;x=this;if(this.j.state.value === p.Gb.CLOSED || this.j.state.value === p.Gb.CLOSING)return Promise.reject({X:!1});if(this.Rn)return this.YDb();this.rQa || (this.rQa=this.tQa());return this.rQa.then(function(y){return x.ZDb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.AL=function(){return this.hM;};c.prototype.s4=function(){return this.xxb;};c.prototype.Rq=function(x,y){var z;try{return null === (z=this.Lsa) || void 0 === z?void 0:z.Rq(x,y);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:y,isImageBased:this.Rn});}};c.prototype.yBb=function(){var x,y,z;if(!n.Hc(this.Z))try{z=null === (y=null === (x=this.Lsa) || void 0 === x?void 0:x.tF(0)) || void 0 === y?void 0:y[0];this.Z=null === z || void 0 === z?void 0:z.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.Z;};c.prototype.E7=function(x){return this.j.state.value === p.Gb.CLOSING || this.j.state.value === p.Gb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Nc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.pPa=function(x){var y,z,B;y=this;z=g.Ih(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=r.qPa(this.j,z,this.request,this);B=new (l.config.hXb && !this.Rn?t.uAa:w.default)(z,x);B.on("ready",function(){y.Lsa=B;});return B;};c.prototype.YDb=function(){var x,y,z,B,A,C,E;x=this;if(!this.UVa){this.state=v.LOADING;y={profile:"nflx-cmisc",url:"",OMa:!1,Una:this.et.offset,MYa:this.et.length,od:this.j.mediaTime.value || 0,bufferSize:l.config.xDb,o7:{Ca:this.j.jT()}};z=(this.Kha || []).filter(function(F){return (F.id in x.Xx);}).sort(function(F,D){return F.Eg - D.Eg;}).map(function(F){return F.id;});B=0;A={};C=!0;E=function(F,D){var G;if(n.Hc(F)){if(C || x.E7(x.Hs(x.ys,"","image"))){C=!1;x.et.url=x.Xx[x.ys];y.url=x.et.url;A[F]=(A[F] || 0) + 1;G=x.pPa(y);G.on("ready",function(){D({X:!0,track:x});});G.on("error",function(I){var J;I=Object.assign({X:!1},I);J=x.Hs(x.ys,x.et.url,"image");J.details={midxoffset:x.et.offset,midxsize:x.et.length};J.errorstring=I.errorString;A[F] <= l.config.b5a?(x.y2(J,!0,"retry with current cdn"),x.gfa(A[F]).then(function(H){x.log.trace("retry timed text download after " + H,x.Hs(x.ys,"","image"));E(x.ys,D);})):(x.ys=z[B++],x.ys?(x.y2(J,!0,"retry with next cdn"),x.gfa(A[F]).then(function(H){x.log.trace("retry timed text download after " + H,x.Hs(x.ys,"","image"));E(x.ys,D);})):(x.y2(J,!1,"all cdns tried"),D({X:!1,oJb:"all cdns failed for image subs",track:x})));});G.start();}else D({X:!1,aborted:!0});}else (D({X:!1,oJb:"cdnId is not defined for image subs downloadUrl"}),x.y2(x.Hs(0,"","image"),!1,"cdnId is undefined"));};this.ys=z[B++];this.UVa=new Promise(function(F,D){E(x.ys,function(G){G.X?(x.log.info("Loaded image subtitle manager"),x.state=v.nD,F(G)):(x.log.error("Unable to load image subtitles manager",G),x.state=v.iP,D(G));});});}return this.UVa;};c.prototype.ZDb=function(x){var y,z;y=this;z=this.j.Lz;m.gb(z);return new Promise(function(B,A){var C;C=y.pPa({profile:y.profile,xml:x,jk:l.config.cta,preferences:l.config.h8,od:y.j.mediaTime.value || 0,OMa:!1,videoSize:z});C.on("ready",function(){B(C);}).on("error",function(E){A({X:!1,error:E});}).start();}).then(function(){y.state=v.nD;return {X:!0,track:y};}).catch(function(B){y.log.error("Unable to parse timed text track",u.Lr(B),y.Kh,{url:B.url});y.state=v.iP;B.reason="parseerror";B.track=y;throw B;});};c.prototype.y2=function(x,y,z){x=Object.assign({},x,{l8b:y,status:z});this.j.fireEvent(p.W.GN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z;z=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,St:this.St,responseType:k.RT,headers:{},Pc:this.wja(this.ys)};this.j.P3.download(x,function(B){z.log.trace("imgsub: request status " + B.X);B.X?y(null,new Uint8Array(B.content)):y({oa:B.oa,Ve:B.Ve});});};c.prototype.Hs=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Dd,subtitletype:z,bcp47:this.wm,trackId:this.trackId,cdnCount:Object.keys(this.Xx).length,isImageBased:this.Rn};};c.prototype.wja=function(x){return (this.Kha || []).find(function(y){return y.id === x;});};c.prototype.tQa=function(){var B,A;function x(C){return f.__awaiter(B,void 0,void 0,function F(){var D,G,I;G=this;return Ha(F,function(J){D=z();I=G.Hs(C.Pc.id,C.url,"text");I.errorstring=C.reason;return D && G.E7(I)?J.return(G.gfa(A[D.id]).then(y)):J.return(Promise.reject({X:!1,aborted:!0}));});});}function y(){return f.__awaiter(B,void 0,void 0,function E(){var F,D,G;D=this;return Ha(E,function(I){G=(F=z()) && D.Xx[F.id];return F && G?(A[F.id]=(A[F.id] || 0) + 1,I.return(D.uub(G,F).catch(x))):I.return(Promise.reject({}));});});}function z(){return (B.Kha || []).find(function(C){return ! !((A[C.id] || 0) < l.config.b5a && B.Xx[C.id]);});}B=this;this.state=v.LOADING;A={};return y();};c.prototype.gfa=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.uub=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({Pc:y.id}),this.Hs(y.id,x,"text"));return new Promise(function(B,A){var C;C={responseType:k.lla,url:x,track:z,Pc:y,hF:"tt-" + z.wm};z.j.P3.download(C,function(E){E.X?B(E.content):(E.reason="downloadfailed",E.url=C.url,E.track=z,E.Pc=y,A(E));});});};b.MD=c;c.lA=v;},function(q,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.aUb=b.f1a=b.uqa=void 0;b.uqa=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.f1a=a;b.aUb=function(c){var f,k,l;return "IStreamable: " + c.P + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.oh) + " sp:" + c.Tv + " pssp:") + (c.HM + " state:") + (c.hf + " path-complete:" + (null === (f=c.Zy) || void 0 === f?void 0:f.V) + " streaming:") + ((null === (k=c.Ck) || void 0 === k?void 0:k.V) + " current:" + (null === (l=c.Cd) || void 0 === l?void 0:l.V));};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tIb=b.o5=b.cf=void 0;b.cf=[0,1];b.o5=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.tIb=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OD=void 0;q=(function(){function a(c){this.DKa=c;}Object.defineProperties(a.prototype,{vL:{get:function(){return this.Jgb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.DKa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jra:{get:function(){var c;c=this;return this.DKa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Jgb=!0;};a.prototype.Roa=function(c,f){var k;k=this;this.result.then(function(l){k.vL?f && f(l):c(l);});return this;};return a;})();b.OD=q;},function(q,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(f,k){f[k]=a(c[k]);return f;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function c(f){f && (this.rW(f.hg),this.fsa(f.Yd),this.i3a(f.Ca));}c.prototype.rW=function(f){this.hg=f;return this;};c.prototype.fsa=function(f){this.Yd=f;return this;};c.prototype.e3a=function(f){this.Fd=f;return this;};c.prototype.zq=function(f,k){this.Ca || (this.Ca={});this.Ca[f]=a(k);return this;};c.prototype.i3a=function(f){var k;k=this;this.Ca={};Object.keys(f).forEach(function(l){return k.zq(l,f[l]);});};c.prototype.ek=function(){var f;if(!this.Ca)throw Error("Invalid playgraph - `segments` is not defined");if(!this.hg)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Ca[this.hg])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={hg:this.hg,Ca:this.Ca};this.Yd && (f.Yd=this.Yd);this.Fd && (f.Fd=this.Fd);return f;};return c;})();b.rI=q;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.MH=void 0;q=a(2);c=a(172);f=q.__importDefault(a(224));k=q.__importDefault(a(792));l=q.__importDefault(a(146));d=a(6);b.MH=(function(){function h(m,n){var r;r=this;this.mh=new f.default(m,n);this.Om=new k.default(m);this.Jb=new l.default(this.Om,this.mh,m);c.nw.upb(m);m.r6 && setInterval(function(){r.mh.save();r.Om.save();},m.r6);}h.UTa=function(m,n){void 0 === g?(h.config=m,h.QC=n,g=new h(m,n)):(d.assert(h.config === m),d.assert(h.QC === n));return g;};h.reset=function(){h.config=void 0;g=h.QC=void 0;};return h;})();},function(q,b,a){var d;function c(g,h,m){this.sK=!1 === g;this.pK=g || .01;this.I$=void 0 === h?25:h;this.ewa=void 0 === m?1.1:m;this.ci=new d(f);this.reset();}function f(g,h){return g.Rf > h.Rf?1:g.Rf < h.Rf?-1:0;}function k(g,h){return g.wv - h.wv;}function l(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.pK:!1);this.Vtb=this.config.ratio || .9;this.Wtb=this.config.Q7b || 1E3;this.H5=0;}d=a(773).udb;c.prototype.reset=function(){this.ci.clear();this.Jma=this.n=0;};c.prototype.size=function(){return this.ci.size;};c.prototype.no=function(g){var h;h=[];g?(this.e_(!0),this.ci.Te(function(m){h.push(m);})):this.ci.Te(function(m){h.push({Rf:m.Rf,n:m.n});});return h;};c.prototype.summary=function(){return [(this.sK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Si(0),"Q1  = " + this.Si(.25),"Q2  = " + this.Si(.5),"Q3  = " + this.Si(.75),"max = " + this.Si(1)].join("\n");};c.prototype.push=function(g,h){h=h || 1;g=Array.isArray(g)?g:[g];for(var m=0;m < g.length;m++){this.IIa(g[m],h);}};c.prototype.gqa=function(g){g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.IIa(g[h].Rf,g[h].n);}};c.prototype.e_=function(g){var h;if(!(this.n === this.Jma || !g && this.ewa && this.ewa > this.n / this.Jma)){h=0;this.ci.Te(function(m){m.wv=h + m.n / 2;h=m.hK=h + m.n;});this.n=this.Jma=h;}};c.prototype.$wb=function(g){var h,m;if(0 === this.size())return null;h=this.ci.lowerBound({Rf:g});m=null === h.data()?h.xG():h.data();return m.Rf === g || this.sK?m:(h=h.xG()) && Math.abs(h.Rf - g) < Math.abs(m.Rf - g)?h:m;};c.prototype.tJ=function(g,h,m){this.ci.yp({Rf:g,n:h,hK:m});this.n+=h;};c.prototype.NZ=function(g,h,m){h !== g.Rf && (g.Rf+=m * (h - g.Rf) / (g.n + m));g.hK+=m;g.wv+=m / 2;g.n+=m;this.n+=m;};c.prototype.IIa=function(g,h){var m,n,r;m=this.ci.min();n=this.ci.max();r=this.$wb(g);r && r.Rf === g?this.NZ(r,g,h):r === m?this.tJ(g,h,0):r === n?this.tJ(g,h,this.n):this.sK?this.tJ(g,h,r.hK):(m=r.wv / this.n,Math.floor(4 * this.n * this.pK * m * (1 - m)) - r.n >= h?this.NZ(r,g,h):this.tJ(g,h,r.hK));this.e_(!1);!this.sK && this.I$ && this.size() > this.I$ / this.pK && this.Kx();};c.prototype.Pmb=function(g){var h,m;this.ci.mm=k;h=this.ci.upperBound({wv:g});this.ci.mm=f;m=h.xG();g=m && m.wv === g?m:h.next();return [m,g];};c.prototype.Si=function(g){var h;h=(Array.isArray(g)?g:[g]).map(this.pib,this);return Array.isArray(g)?h:h[0];};c.prototype.pib=function(g){var h,m;if(0 !== this.size()){this.e_(!0);this.ci.min();this.ci.max();g*=this.n;h=this.Pmb(g);m=h[0];h=h[1];return h === m || null === m || null === h?(m || h).Rf:this.sK?g <= m.hK?m.Rf:h.Rf:m.Rf + (g - m.wv) * (h.Rf - m.Rf) / (h.wv - m.wv);}};c.prototype.Kx=function(){var g;if(!this.COa){g=this.no();this.reset();for(this.COa=!0;0 < g.length;){this.gqa(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.e_(!0);this.COa=!1;}};l.prototype=Object.create(c.prototype);l.prototype.constructor=l;l.prototype.push=function(g){c.prototype.push.call(this,g);this.xob();};l.prototype.tJ=function(g,h,m){this.H5+=1;c.prototype.tJ.call(this,g,h,m);};l.prototype.NZ=function(g,h,m){1 === g.n && --this.H5;c.prototype.NZ.call(this,g,h,m);};l.prototype.xob=function(){!("auto" !== this.mode || this.size() < this.Wtb) && this.H5 / this.size() > this.Vtb && (this.mode="cont",this.sK=!1,this.pK=this.config.pK || .01,this.Kx());};q.exports={TDigest:c,Digest:l};},function(q,b,a){var d,g,h,m,n,r;function c(p){var u;u=p.Aca;this.I=p;this.pj=g.wf.HAVE_NOTHING;this.bJ=p.bJ;p=new n(this.bJ);this.WQ=p.create("throughput-location-history",u);this.gx=p.create("respconn-location-history",u);this.Ww=p.create("respconn-location-history",u);this.k0=p.create("throughput-tdigest-history",u);this.z_=p.create("throughput-iqr-history",u);this.ib=null;}function f(p,u,t,w,v){this.yA=new c(v);this.Xr=[];this.ihb=h.time.aa() - Date.now() % 864E5;this.Uw=null;this.I=v;for(p=0;p < w;++p){this.Xr.push(new c(v));}}function k(p,u,t){return d.has(p,u)?p[u]:p[u]=t;}function l(p,u){var t;this.I=p;this.TKa=u;this.Vvb();this.qQ=new c(this.I);this.zQ();t=p.hha;t && (t={confidence:g.wf.YH,Oa:{Ea:parseInt(t,10),vi:0},Vi:{Ea:0,vi:0},Qs:{Ea:0,vi:0}},this.get=function(){return t;});}d=a(10);g=a(27).default;b=a(9);h=a(4).default;m=b.Mya;n=a(380).Dya;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");r={confidence:g.wf.HAVE_NOTHING};c.prototype.HE=function(p,u){this.pj=u;this.WQ.add(p);this.k0.add(p);this.ib=h.time.aa();};c.prototype.yH=function(p,u){this.z_.set(p,u);};c.prototype.qx=function(p){this.gx.add(p);};c.prototype.ox=function(p){this.Ww.add(p);};c.prototype.getState=function(){var p,u,t,w,v,x;p=this.WQ.getState();u=this.gx.getState();t=this.Ww.getState();w=this.z_.getState();v=this.k0.getState();if(d.ob(p) && d.ob(u) && d.ob(t))return null;x={c:this.pj,t:h.time.eoa(this.ib)};d.ob(p) || (x.tp=p);d.ob(u) || (x.rt=u);d.ob(t) || (x.hrt=t);d.ob(w) || (x.iqr=w);d.ob(v) || (x.td=v);return x;};c.prototype.Ce=function(p){var u;u=h.time.now();if(!(p && d.has(p,"c") && d.has(p,"t") && d.has(p,"tp") && d.isFinite(p.c) && d.isFinite(p.t)) || 0 > p.c || p.c > g.wf.YH || p.t > u || !this.WQ.Ce(p.tp))return (this.pj=g.wf.HAVE_NOTHING,this.Uw=this.ib=null,this.WQ.Ce(null),this.gx.Ce(null),this.Ww.Ce(null),!1);this.pj=p.c;this.ib=h.time.zoa(p.t);this.gx.Ce(d.has(p,"rt")?p.rt:null);this.Ww.Ce(d.has(p,"hrt")?p.hrt:null);d.has(p,"iqr") && this.z_.Ce(p.iqr);d.has(p,"td") && this.k0.Ce(p.td);return !0;};c.prototype.get=function(){var p,u,t,w,v,x;p=this.I;if(d.ob(this.ib))return r;u=(h.time.aa() - this.ib) / 1E3;u > p.Egb?this.pj=g.wf.HAVE_NOTHING:u > p.fgb && (this.pj=Math.min(this.pj,g.wf.Zz));p=this.WQ.get();t=this.gx.get();w=this.Ww.get();v=this.z_.get();x=this.k0.get();u={Cl:u,confidence:this.pj,Oa:p,Vi:t,Qs:w,Rs:v,Sj:x};p && (u.S7b=m.prototype.Mpa.bind(p));t && (u.l7b=m.prototype.Mpa.bind(t));w && (u.j5b=m.prototype.Mpa.bind(w));return u;};c.prototype.time=function(){return this.ib;};f.prototype.Kg=function(){return ((h.time.aa() - this.ihb) / 1E3 / 3600 / (24 / this.Xr.length) | 0) % this.Xr.length;};f.prototype.getState=function(){var p;p={g:this.yA.getState(),h:this.Xr.map(function(u){return u.getState();})};d.ob(this.Uw) || (p.f=h.time.eoa(this.Uw));return p;};f.prototype.Ce=function(p){var u,t;if(!this.yA.Ce(p.g))return !1;u=this.Xr.length;t=!1;this.Xr.forEach(function(w,v){t=!w.Ce(p.h[v * p.h.length / u | 0]) || t;});this.Uw=d.has(p,"f")?h.time.zoa(p.f):null;return t;};f.prototype.HE=function(p,u){this.yA.HE(p,u);this.Xr[this.Kg()].HE(p,u);this.Uw=null;};f.prototype.yH=function(p,u){this.yA.yH(p,u);this.Xr[this.Kg()].yH(p,u);};f.prototype.qx=function(p){this.yA.qx(p);this.Xr[this.Kg()].qx(p);};f.prototype.ox=function(p){this.yA.ox(p);this.Xr[this.Kg()].ox(p);};f.prototype.fail=function(p){this.Uw=p;};f.prototype.get=function(){var p,u;if(!d.ob(this.Uw)){if((h.time.aa() - this.Uw) / 1E3 < this.I.egb)return {confidence:g.wf.HAVE_NOTHING,Cs:!0};this.Uw=null;}p=this.Xr[this.Kg()].get();u=this.yA.get();p=p.confidence >= u.confidence?p:u;p.Cs=!1;return p;};f.prototype.time=function(){return this.yA.time();};l.prototype.cJa=function(p,u){var t;t=this.I;p=k(this.uQ,p,{});return k(p,u,new f(t.qJa || 14400,t.pJa || 100,t.oJa || 100,t.jKa || 4,t));};l.prototype.zQ=function(){var p,u;p=h.storage.get("lh");u=h.storage.get("gh");p && this.Kda(p);u && this.ijb(u);};l.prototype.Ica=function(){var p;p={};d.Te(this.uQ,function(u,t){d.Te(u,function(w,v){k(p,t,{})[v]=w.getState();},this);},this);return p;};l.prototype.ijb=function(p){this.qQ.Ce(p);};l.prototype.Kda=function(p){var u,t;u=null;t=this.I;d.Te(p,function(w,v){d.Te(w,function(x,y){var z;z=new f(t.qJa || 14400,t.pJa || 100,t.oJa || 100,t.jKa || 4,t);z.Ce(x)?(k(this.uQ,v,{})[y]=z,u=!0):d.ob(u) && (u=!1);},this);},this);return d.ob(u)?!0:u;};l.prototype.save=function(){var p;p=this.Ica();h.storage.set("lh",p);h.storage.set("gh",this.qQ.getState());this.TKa && this.TKa.Vra(this.qQ.getState());};l.prototype.Vvb=function(){this.uQ={};this.ZI=this.EIa="";this.tn=null;};l.prototype.pN=function(p){this.EIa=p;this.tn=null;};l.prototype.B7=function(p){this.ZI=p;this.tn=null;};l.prototype.u_=function(){d.ob(this.tn) && (this.tn=this.cJa(this.EIa,this.ZI));return this.tn;};l.prototype.HE=function(p,u){this.u_().HE(p,u);this.qQ.HE(p,u);};l.prototype.yH=function(p,u){p && p.gl && p.Jj && p.il && (this.u_().yH(p,u),this.qQ.yH(p,u));};l.prototype.qx=function(p){this.u_().qx(p);};l.prototype.ox=function(p){this.u_().ox(p);};l.prototype.fail=function(p,u){this.cJa(p,this.ZI).fail(u);};l.prototype.get=function(p,u){var t,w,v,x;p=(p=this.uQ[p])?p[this.ZI]:null;t=null;if(p && (t=p.get(),t.confidence > g.wf.HAVE_NOTHING))return t;if(!1 === u)return r;w=t=null;v=!1;x=null;d.Te(this.uQ,function(y){d.Te(y,function(z,B){var A;if(!v || B == this.ZI){A=z.get();A && (!w || w <= A.confidence) && (!x || w < A.confidence || x < z.time()) && (w=A.confidence,v=B == this.ZI,x=z.time(),t=A);}},this);},this);return t?t:r;};q.exports=l;},function(q,b,a){var l;function c(d){this.GJ=d;this.reset();}function f(d){this.wj=new c(d);this.ve=0;this.Ac=null;}function k(d,g){this.GJ=d;this.MJa=g;this.reset();}l=a(10);c.prototype.rKa=function(d,g){this.ib+=d;this.qj+=d;this.Fc+=g;this.yn.push({d:d,b:g});};c.prototype.LQ=function(){var d;for(;this.qj > this.GJ;){d=this.yn.shift();this.Fc-=d.b;this.qj-=d.d;}};c.prototype.reset=function(){this.yn=[];this.ib=null;this.qj=this.Fc=0;};c.prototype.setInterval=function(d){this.GJ=d;this.LQ();};c.prototype.start=function(d){l.ob(this.ib) && (this.ib=d);};c.prototype.add=function(d,g,h){l.ob(this.ib) && (this.ib=g);g > this.ib && this.rKa(g - this.ib,0);this.rKa(h > this.ib?h - this.ib:0,d);this.LQ();};c.prototype.get=function(){return {Ea:Math.floor(8 * this.Fc / this.qj),vi:0};};f.prototype.reset=function(){this.wj.reset();this.ve=0;this.Ac=null;};f.prototype.add=function(d,g,h){!l.ob(this.Ac) && h > this.Ac && (g > this.Ac && (this.ve+=g - this.Ac),this.Ac=null);this.wj.add(d,g - this.ve,h - this.ve);};f.prototype.start=function(d){!l.ob(this.Ac) && d > this.Ac && (this.ve+=d - this.Ac,this.Ac=null);this.wj.start(d - this.ve);};f.prototype.stop=function(d){this.Ac=l.ob(this.Ac)?d:Math.min(d,this.Ac);};f.prototype.get=function(){return this.wj.get();};f.prototype.setInterval=function(d){this.wj.setInterval(d);};k.prototype.reset=function(){this.yn=[];this.Fc=this.qj=0;};k.prototype.add=function(d,g,h,m){void 0 !== m && !0 === m && (g=h - g,this.qj+=g,this.Fc+=d,this.yn.push({d:g,b:d}),this.LQ());};k.prototype.LQ=function(){var d;for(;this.qj > this.GJ || this.yn.length > this.MJa;){d=this.yn.shift();this.Fc-=d.b;this.qj-=d.d;}};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.get=function(){return {Ea:Math.floor(8 * this.Fc / this.qj),vi:0};};k.prototype.setInterval=function(d,g){this.GJ=d;this.MJa=g;this.LQ();};q.exports={AZb:c,e$a:f,yeb:k};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hn=void 0;q=b.hn || (b.hn={});q[q.CLOSED=0]="CLOSED";q[q.OPEN=1]="OPEN";q[q.Zj=2]="STREAMING";},function(q,b){function a(c){var f;f={profile:c.spoofedProfile || c.profile,gja:c.max_framerate_value,fja:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,yMb:c.pixelAspectX,zMb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (f.P6b=c.profile);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.HTa=b.GTa=void 0;b.GTa=function(c,f,k){var l;l=[{},{}];(0 === k?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,g){c[d].some(function(h,m){return m === f[g]?(l[g]=a(h),!0):!1;});});return l;};b.HTa=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u;Object.defineProperties(b,{__esModule:{value:!0}});b.u9=void 0;c=a(2);f=a(16);k=a(810);q=a(96);l=a(811);d=a(837);g=a(840);h=a(241);m=a(14);n=c.__importDefault(a(4));r=a(6);p=a(9);a(227);u=(function(){return function(t){var w;w=t.yWa;t=t.Ula;this.AU=this.replace=w;this.yg=t;};})();a=(function(t){function w(v,x){var y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q,N,da;y=x.Db;z=x.sa;B=x.bo;A=x.Fd;C=x.AYa;E=x.Gi;F=x.config;D=x.jVa;G=x.ZM;I=x.N2;J=x.Jb;H=x.mh;M=x.ZU;O=x.iRa;x=x.ZG;L=t.call(this) || this;L.da=v;L.I3=!1;L.sJa=[];L.KJa=[];L.Ah=[];L.pB=[];L.pm=!1;L.Db=y;L.CQ=z;L.bo=B;L.Vb=function(na){return 0 <= A.indexOf(na);};L.config=F;L.console=new n.default.Console("ASEJS","media|asejs","<" + String(L.da) + ">");D && (v=D.AB,L.Af=new g.lza(L,L.console,L.config,D.Qm,D.BT,v,D.n4,D.mf,D.ol,D.Pg,D.LB),L.AB=v);L.KB=new f.EventEmitter();L.N2=I;L.Jb=J;L.ZU=M;L.Pl=new h.O$(L.sa,J,H,L.config,null === O || void 0 === O?void 0:O.Qm);O && (D=O.Sq,I=O.Lm,J=O.DL,L.Mo=O.qh,L.DL=J,L.Lm=I,L.Sq=D,L.wca=new d.mya(L.Pl,L.config,L.kCb.bind(L),L.jCb.bind(L)));L.ZM=G;L.ZG=x;L.Ze=new u(C);L.Gi=E;P=[[],[]];R=[{},{}];K=[0,0];Q=!1;N=L.Vb(0);da=L.Vb(1);["audio_tracks","video_tracks"].forEach(function(na,va){var ra;ra=0 === va;ra && !N || 1 === va && !da || L.sa[na].forEach(function(X,ta){X=new l.iva({N:L,cC:X,mediaType:va,yg:C.Ula,ON:ta,EE:ta + (ra?L.sa.video_tracks.length:0)},L.config,L.console);P[va].push(X);R[va]=c.__assign(c.__assign({},R[va]),X.BF());X.maxBitrate > K[X.mediaType] && (K[X.mediaType]=X.maxBitrate);Q=Q || X.LT;});});L.KI=P;L.WTb=R;L.vv=K;L.LT=Q;return L;}c.__extends(w,t);Object.defineProperties(w.prototype,{sa:{get:function(){return this.CQ;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{zU:{get:function(){var v;return !(null === (v=this.KI[1][0]) || void 0 === v || !v.zU);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Rg:{get:function(){return this.sJa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{RHb:{get:function(){return this.KJa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{K:{get:function(){return this.sa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ym:{get:function(){return this.sa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{duration:{get:function(){return this.sa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ej:{get:function(){return this.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{jp:{get:function(){r.assert(this.wca,"ErrorDirector is not available on old architecture prefetch viewables.");return this.wca;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{FK:{get:function(){return this.jp.events;},enumerable:!1,configurable:!0}});w.prototype.wb=function(){this.close();this.Ic();};w.prototype.close=function(){var v;this.pB=[];null === (v=this.wca) || void 0 === v?void 0:v.wb();this.Pl.wb();this.pm=!0;};w.prototype.Ic=function(){this.Af && this.Af.Ic();};w.prototype.SWb=function(v){var x,y,z,B,A,C;x=this;y=v.sa;z=v.Fd;B=void 0 === z?m.cf:z;r.assert(v.Gi === this.Gi,"Updating Viewable clearplay not supported");m.cf.forEach(function(E){r.assert(x.Vb(E) === 0 <= B.indexOf(E),"Updating Viewable media types not supported");});r.assert(y.movieId === this.sa.movieId,"Changing Viewable manifest movieId unsupported");A=this.Vb(0);C=this.Vb(1);["audio_tracks","video_tracks"].forEach(function(E,F){var D;if((0 !== F || A) && (1 !== F || C)){E=x.sa[E];D=x.KI[F];r.assert(E.length === D.length,"Changing Viewable tracks unsupported");E.forEach(function(G,I){var J;I=D[I];r.assert(G.track_id === I.trackId);G=G.streams;J=Object.keys(I.BF());r.assert(G.length === J.length);G.forEach(function(H){r.assert(-1 !== J.indexOf(H.downloadable_id),"Changing Viewable track streams unsupported");});});}});this.CQ=y;this.Pl.FE(this.sa);};w.prototype.GC=function(v){var x,y,z;x=v.Dv;y=v.ba;z=v.Kq;v=v.Pm;x && y?(this.G7=new k.mGa(x,{ba:String(y),Kq:! !z,fIb:this.config.aZ.mx,Vmb:this.config.aZ.lv},v),this.jp.GC(this.G7)):v("SideChannel: pbcid/xid is missing.");};w.prototype.zy=function(){return void 0 !== this.ym;};w.prototype.getTracks=function(v){return this.KI[v];};w.prototype.getTrackById=function(v){var x;this.KI.some(function(y){return y.some(function(z){if(z.trackId === v)return (x=z,!0);});});x || this.console.warn("getTrackById not found:",v,"length:",this.KI.length);return x;};w.prototype.HUa=function(v,x){var y;y=this.KI[v];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",v);else return y[x];};w.prototype.jv=function(v,x){return (v=this.BF(v)) && v[x];};w.prototype.BF=function(v){return this.WTb[v];};w.prototype.uWb=function(v,x){this.sJa[v]=x;x.stream.Y && this.Y5a(v,x.stream.Y);};w.prototype.qFb=function(v){var x,y;if(void 0 === v.I6 || void 0 === v.Upa){x=this.Pl.Tja().filter(function(z){return void 0 !== z.streams[v.La];})[0];y=x.children.filter(function(z){return z.urls.some(function(B){return B.stream.id === v.La;});})[0];v.I6=x.id;v.Upa=y.id;}return {oma:v.location === v.I6,rFb:v.cd === v.Upa};};w.prototype.$ra=function(v,x,y){void 0 !== x && void 0 !== y && (this.K1a(v.mediaType,x),v.$ra(x,y));};w.prototype.K1a=function(v,x){var y,z;z=this.config.moa;("location" === z || "video_location" === z && 1 === v) && this.Jb.pN(x);null === (y=this.N2) || void 0 === y?void 0:y.call(this).NKb(v,x);};w.prototype.qh=function(v,x,y,z,B){r.assert(this.Mo,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Mo(v,x,y,z,B);};w.prototype.qo=function(){var v,x,y;v=this;x=[];if(this.Ej)return (this.console.error("updateRequestUrls, closed Viewable:",this.da),!1);m.cf.forEach(function(z){v.Vb(z) && v.LWb(z) && (z=v.zWb(z),0 < z.length && x.push.apply(x,z));});y=this.vWb();0 < y.length && x.push.apply(x,y);return this.nQb(x);};w.prototype.Fm=function(v,x){var y;y=this.getTracks(1)[0];r.assert(y);if(y.rL)return y.Fm(v,x);};w.prototype.LWb=function(v){var x,y,A,C;if(this.Ej)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1);if(!this.Vb(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),!1);y=!0;try{for(var z=c.__values(this.Ah),B=z.next();!B.done;B=z.next()){A=B.value.Ra(v);r.assert(A);C=this.Pl.hX(this.da,A.track.Qd);C || A.Eb("location selector failed to update streamList");y=y && C;}}catch(F){var E;E={error:F};}finally{try{B && !B.done && (x=z.return) && x.call(z);}finally{if(E)throw E.error;}}return y;};w.prototype.vWb=function(){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");return this.Af.qo();};w.prototype.zWb=function(v){var x,y,A;y=[];if(this.Ej)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.Vb(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),y);try{for(var z=c.__values(this.Ah),B=z.next();!B.done;B=z.next()){A=B.value.qo(v);A.length && y.push.apply(y,A);}}catch(E){var C;C={error:E};}finally{try{B && !B.done && (x=z.return) && x.call(z);}finally{if(C)throw C.error;}}return y;};w.prototype.nQb=function(v){var x,y,z;x=this;if(0 === v.length)return !0;y=0;z=[];v.forEach(function(B){var A;if(B.Lc){A=B.N;A.Db > x.Db && (z.push({N:A,track:B.stream.track}),++y);}});z.forEach(function(B){var A;A=B.track;B.N.YM([0 === A.mediaType?A:void 0,1 === A.mediaType?A:void 0],void 0,A.mediaType);});return y === v.length;};w.prototype.Ij=function(){var v;v=this;this.Pl.Ij();this.jp.Ij();this.G7 && (r.assert(this.AB),m.cf.forEach(function(x){x=v.AB(x);v.G7.Ira("rebuffer",x.Ima);}));};w.prototype.Poa=function(){this.jp.Poa();};w.prototype.Ota=function(v,x){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");this.Af.Ota(v,x);};w.prototype.C3=function(){r.assert(this.Af,"Headers not available on old architecture prefetch viewables..");return this.Af.C3();};w.prototype.jga=function(){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");this.Af.jga();};w.prototype.oN=function(v){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");this.Af.oN(v);};w.prototype.uta=function(){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");return this.Af.uta();};w.prototype.pk=function(v,x){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");return this.Af.pk(v,x);};w.prototype.cPa=function(v,x,y){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");this.Af.u8(v,x,y,!0);};w.prototype.u0=function(v,x,y){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");return this.Af.u0(v,x,! !y);};w.prototype.QRb=function(v,x){this.pB.push({stream:v,BBb:x});};w.prototype.wPb=function(){this.pB=[];};w.prototype.CPb=function(v){this.pB=this.pB.filter(function(x){return x.stream !== v;});};w.prototype.BPb=function(v){this.pB=this.pB.filter(function(x){return x !== v;});};w.prototype.iL=function(){var v;v=this;r.assert(this.Lm,"Streamables not available on old architecture prefetch viewables.");return this.Lm()?[]:this.pB.map(function(x){var y,z;y=x.stream;z=x.BBb;z=z();return {P:"" + y.da,mediaType:y.mediaType,oh:z.oh,hf:z.hf,Zy:z.Zy,Ck:z.Ck,Cd:z.Cd,H6:p.S.hb,HM:1,Tv:1,groupId:"" + v.da,VB:!0,Ts:!1,JWa:function(){return {result:!0};},NWa:function(){if(y.sH())return (v.CPb(y),{zp:!0,reason:"success"});v.BPb(x);return {zp:!1,reason:"viewableTryIssueHeaderRequest"};}};});};w.prototype.sH=function(v,x){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");return this.Af.sH(v,x);};w.prototype.cR=function(v,x){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");return this.Af.cR(v,x);};w.prototype.ira=function(v){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");return this.Af.ira(v);};w.prototype.YM=function(v,x,y){r.assert(this.Af,"Headers not available on old architecture prefetch viewables.");return this.Af.YM(v,x,y);};w.prototype.mCb=function(v){var x,y,z;x=v.La;y=v.mediaType;this.Y5a(y,v.stream.Y);x=this.jv(y,x);z=this.zy()?this.config.nYa:0;x.R5a(n.default.Mn()[y],z);this.KB.emit("onHeaderFragments",v);};w.prototype.Dqa=function(v){this.Ah.push(v);};w.prototype.Dta=function(v){v=this.Ah.indexOf(v);r.assert(-1 !== v,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ah.splice(v,1);};w.prototype.i6=function(v){var x;null === (x=this.ZM) || void 0 === x?void 0:x.px(v);};w.prototype.Wy=function(v){this.Ej?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",v):void 0 !== v.location && this.K1a(v.mediaType,v.location);};w.prototype.rM=function(v){this.Ej?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",v):this.jp.y8({timestamp:v.Ye,url:v.url});};w.prototype.wk=function(v){var x;null === (x=this.ZM) || void 0 === x?void 0:x.BG(v);r.assert(this.Lm && this.ZU,"Requests cannot be handled on old architecture prefetch viewables.");this.Ej?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",v):this.Lm() || (this.jp.y8({timestamp:v.Ye,mediaRequest:v}),this.ZU(v));};w.prototype.iV=function(v,x,y){var z;y && (null === (z=this.ZM) || void 0 === z?void 0:z.BG(v));};w.prototype.jV=function(v){this.Ej?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",v):(this.jp.hr({url:v.url},v.status,v.Og,v.Ri),this.qo() || this.qh(v.JK || "unknown","NFErr_MC_StreamingFailure",v.Og,v.status,v.Ri));};w.prototype.Y5a=function(v,x){this.KJa[v]=x.Ana;};w.prototype.kCb=function(v){var x,y,z;r.assert(this.DL,"Error handling not available on old architecture prefetch viewables.");if(!this.pm){x=v.XEb;y=v.uLb;z=v.vLb;v=v.wLb;this.console.warn("Streaming failure, isBuffering " + this.DL() + " is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + v);x?(this.console.warn(" > Permanent failure, done"),this.qh("Permanent failure","NFErr_MC_StreamingFailure",y,z,v)):this.DL()?(this.console.warn(" > We are buffering, calling it!"),this.qh("Temporary failure while buffering","NFErr_MC_StreamingFailure",v,z,v)):(this.console.warn(" > Resetting failures"),this.jp.c7());}};w.prototype.jCb=function(){r.assert(this.Sq,"Error handling not available on old architecture prefetch viewables.");this.pm || (this.qo(),this.Sq());};return w;})(q.jw);b.u9=a;},function(q,b,a){var D,G,I,J,H,M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za,V,T,ja,Ia,wa,Sa,Ua,$a,Za,mb,db,Ta;function c(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function f(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function k(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function l(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);this.WG=Ca.config.WG;this.fd=this.sizes=void 0;}function d(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function g(){for(var Ca=new DataView(this),La="",Ma,Va=0;Va < this.byteLength;Va++){Ma=Ca.getUint8(Va);La+=("00" + Ma.toString(16)).slice(-2);}return La;}function h(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function m(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function n(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function r(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function p(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function u(Ca){function La(Ma,Va,ib,yb,Eb){J.call(this,Ma,Va,ib,yb,Eb);this.SU=Ca;}La.Ka=!1;La.prototype=new J();La.prototype.constructor=La;Object.defineProperties(La.prototype,{yO:{get:function(){return this.SU;}}});La.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.SU + "'");this.u.offset=this.startOffset + 4;this.ia.AX(this.yO);this.type=this.yO;return !0;};return La;}function t(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function w(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function v(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function x(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function y(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function z(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function B(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function A(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function C(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function E(Ca,La,Ma,Va,ib){J.call(this,Ca,La,Ma,Va,ib);}function F(Ca,La){Ca.forEach(function(Ma){La[Ma.Lb]=Ma;});}D=a(147).assert;b=a(97);G=a(230).S;I=a(391);a(148);a(82);a(82);a(82);J=a(31).kc;H=a(813).default;M=a(814).default;O=a(815).default;L=a(816).default;P=a(817).default;R=a(818).default;K=a(819).default;Q=a(820).default;N=a(821).default;a(231);a(173);da=a(392).Y8;na=a(392).b$;va=a(822).default;ra=a(823).default;X=a(83).default;ta=a(83).g9;za=a(83).h9;V=a(83).i9;T=a(83).j9;ja=a(824).default;Ia=a(825).default;wa=a(83).x$;Sa=a(83).s$;Ua=a(83).B7a;$a=a(826).default;Za=a(827).default;mb=a(828).default;db=a(393).default;Ta=a(394).default;a(149);a(234);a(235);a(233);a=a(829).default;c.Ka=!0;c.prototype=new J();c.prototype.constructor=c;f.Ka=!0;f.prototype=new J();f.prototype.constructor=f;k.Ka=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.parse=function(){var Ca;this.ec();1 === this.version?(this.u.Hd(),this.u.Hd(),this.U=this.u.ta(),this.duration=this.u.Hd()):(this.u.ta(),this.u.ta(),this.U=this.u.ta(),this.duration=this.u.ta());Ca=this.u.Dc() & 32767;this.language=String.fromCharCode(96 + (Ca >>> 10),96 + (Ca >>> 5 & 31),96 + (Ca & 31));return !0;};l.Ka=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.sda=function(){this.ec();this.u.ta();this.U=this.u.ta();0 === this.version?(this.CS=this.u.ta(),this.VS=this.u.ta()):(this.CS=this.u.Hd(),this.VS=this.u.Hd());this.X1a=this.u.Dc();this.QV=this.u.Dc();};l.prototype.kca=function(Ca,La){var Ma,Va,ib;Ma=this.U;Ca=Ca && Ca.U || Ma;Va=Ca / Ma;Ma=this.u.fz(La,12,!1);ib=1 === Va?this.u.fz(La,12,!1):I.from(Uint32Array,{length:La},function(){var yb;yb=Math.round(this.u.ta() * Va);this.u.offset+=8;return yb;},this);this.Wda(La,ib,Ma,Ca);};l.prototype.Wda=function(Ca,La,Ma,Va){if(this.WG){Va=this.WG * Va / 1E3;for(var ib=0,yb=1;yb < Ca;yb++){Math.abs(La[ib] - Va) > Math.abs(La[ib] + La[yb] - Va)?(La[ib]+=La[yb],Ma[ib]+=Ma[yb]):(++ib,ib !== yb && (La[ib]=La[yb],Ma[ib]=Ma[yb]));}++ib;La=new Uint32Array(La.buffer.slice(0,4 * ib));Ma=new Uint32Array(Ma.buffer.slice(0,4 * ib));}this.sizes=Ma;this.fd=La;};l.prototype.parse=function(Ca){var La,Ma,Va,ib;this.sda();this.pa=Ca.pa;La=this.U;Ma=this.pa && this.pa.U || La;Va=this.QV;ib=this.startOffset + this.length + this.VS;La=new G(this.CS,La).Vf(Ma).Wb;this.Y={U:Ma,Bk:La,offset:ib};this.kca(this.pa,Va);this.Y.fd=this.fd;this.Y.sizes=this.sizes;Ca.Wv=this;return !0;};d.Ka=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Ca;this.Er=[];this.tpa=[];Ca=(this.length - 11) / 2;this.u.cb();this.u.cb();this.u.cb();for(var La=0;La < Ca;La++){this.Er.push(this.u.cb());this.tpa.push(this.u.cb());}return !0;};h.Ka=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.ec();this.u.offset+=4;this.PF=this.u.offset;this.Li=this.u.pqa(16);this.Li.toString=g;return !0;};m.Ka=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(){this.ec();this.Nf=this.u.Dc();this.Hna=this.u.fz(this.Nf,void 0,!0);return !0;};n.Ka=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Ca){var La,Ma,Va,ib,yb,Eb;La=Ca.Wv;D(La);Ca=Ca.pa;Ma=La.U;La=La.QV;D(Ca);D(Ma);D(La);this.ec();D(2 > this.version);this.Nf=this.u.Dc();this.tt=new Uint16Array(La + 1);Va=Ca.s3(Ma);ib=Va / Ma;yb=Ca.Vf(Va).Wb;if(0 === this.version)for((this.Gt=new Uint16Array(),this.Gd=new Uint32Array(),Ca=Ma=0);Ca <= La;++Ca){if((this.tt[Ca]=Ma,Ca < this.Nf)){Eb=this.u.cb();if(0 !== Eb)for(Va=0;Va < Eb;(++Va,++Ma)){this.Gt[Ma]=Math.floor((this.u.ta() + 1) * ib) / yb;this.Gd[Ma]=this.u.ta();}}}else if(1 === this.version)for((Va=this.u.lqa(this.Nf,10,!1),this.u.offset+=4,this.Gd=this.u.fz(this.Nf,10,!1),this.u.offset-=8,this.Gt=I.from(Uint16Array,{length:this.Nf},function(){var Hb;Hb=Math.floor((this.u.ta() + 1) * ib) / yb;this.u.offset+=6;return Hb;},this),Ma=Ca=0);Ca <= La;++Ca){for(;Ma < Va.length && Va[Ma] < Ca;){++Ma;}this.tt[Ca]=Ma;}this.Eh={tt:this.tt,Gt:this.Gt,Gd:this.Gd};return !0;};r.Ka=!0;r.prototype=Object.create(c.prototype);r.prototype.constructor=r;p.Ka=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.Ds=function(){var Ca;Ca=this.vh("tfhd");Ca && (this.xj=Ca.DR?Ca.xj:this.parent.startOffset);return !0;};t.Ka=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Ca,Cb;Ca=this.u.offset;this.ec();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var La=this.u.offset,Ma=this.u.cb(),Va=this.u.cb(),ib=this.u.cb(),yb=this.u.cb(),Eb=this.u.Dc(),Hb=[],Ob=0;Ob < Eb;++Ob){Hb=this.u.cb();}Ob=(Ma & 240) >>> 4;Cb=(Ma & 14) >>> 1;Ma&=1;ib=16 === ib?1:0;Va != yb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Va + " and matrixCoefficients " + yb + " should be the same value!");yb=2;switch(Va){case 1:yb=2;break;case 6:yb=1;break;case 9:yb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Va + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.ia.Oz(this.version,Ca);this.ia.Oz(Ob << 4 | yb,La++);this.ia.Oz(Cb << 4 | ib << 1 | Ma,La++);Eb+=2;Hb.push(0,0);this.ia.mua(Eb,!1);La+=2;Hb.forEach(function(Kb){this.ia.Oz(Kb,La++);});}return !0;};w.Ka=!1;w.prototype=new J();w.prototype.constructor=w;w.Lb="tfhd";Object.defineProperties(w.prototype,{DR:{get:function(){return this.flags & 1;}},qra:{get:function(){return this.flags & 2;}},rha:{get:function(){return this.flags & 8;}},uha:{get:function(){return this.flags & 16;}},sha:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.ec();this.qH=this.u.ta();this.xj=this.DR?this.u.Hd():void 0;this.qra && this.u.ta();this.Qx=this.rha?this.u.ta():void 0;this.Sx=this.uha?this.u.ta():void 0;this.Rx=this.sha?this.u.ta():void 0;return !0;};v.Ka=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(){this.ec();this.yx=1 === this.version?this.u.Hd():this.u.ta();return !0;};v.prototype.na=function(Ca){var La;La=this.startOffset + 12;this.yx+=Ca;1 === this.version?this.ia.nua(this.yx,La):this.ia.Gg(this.yx,La);};x.Ka=!1;x.prototype=new J();x.prototype.constructor=x;Object.defineProperties(x.prototype,{hS:{get:function(){return this.flags & 1;}},pF:{get:function(){return this.flags & 4;}},pz:{get:function(){return this.flags & 256;}},qz:{get:function(){return this.flags & 512;}},fW:{get:function(){return this.flags & 1024;}},KG:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.ec();this.HR=this.u.offset;this.yb=this.u.ta();this.Cj=this.hS?this.u.AG():0;this.pF && this.u.ta();this.Ft=(this.pz?4:0) + (this.qz?4:0) + (this.fW?4:0) + (this.KG?4:0);this.fy=this.u.offset;D(this.hS,"Expected data offset to be present in Track Run");D(this.length - (this.u.offset - this.startOffset) === this.yb * this.Ft,"Expected remaining data in box to be sample information");return !0;};x.prototype.Wr=function(Ca,La,Ma){var Va,ib,yb;Va=this.pz?this.u.ta():Ca.Qx;ib=this.qz?this.u.ta():Ca.Sx;Ca=this.fW?this.u.ta():Ca.Rx;yb=0 === this.version?this.KG?this.u.ta():0:this.KG?this.u.AG():0;return {pra:yb,QQb:Ca,NNb:Ma + yb - (void 0 !== La?La:yb),Nj:ib,Ht:Va};};x.prototype.na=function(Ca,La,Ma,Va,ib,yb,Eb){var Hb,Ob,Cb,Kb;Hb=0;Ob=0;this.ia.offset=this.fy;for(Va=0;Va < ib;++Va){Cb=this.Wr(La,Kb,Ob);if(0 == Va)Kb=Cb.pra;Hb+=Cb.Nj;Ob+=Cb.Ht;}Va=ib;ib=this.u.offset;Cb=this.Wr(La,Kb,Ob);this.Tp=Va;this.qsa=Ob;if(Eb){if((this.Mp=this.Cj + Hb,this.ri=0,Va === this.yb))return !0;}else if((this.Mp=this.Cj,this.ri=Hb,0 === Va))return !0;if(0 === Va || Va === this.yb)return !1;this.$x=!0;if(Eb){this.ri+=Cb.Nj;for(Eb=Va + 1;Eb < this.yb;++Eb){Cb=this.Wr(La,Kb,Ob);this.ri+=Cb.Nj;}this.ia.offset=this.HR;this.yb=Va;this.ia.Gg(this.yb);this.ia.BH(yb);this.pF && (this.u.offset+=4);this.re(this.length - (ib - this.startOffset),ib);}else (La=ib - this.fy,this.ia.offset=this.HR,this.yb-=Va,this.ia.Gg(this.yb),this.Cj+=Hb,this.ia.BH(yb,this.Cj),this.pF && (this.u.offset+=4),this.re(La,this.ia.offset));Ma.re(this.ri,Ca.xj + this.Mp);return !0;};x.prototype.Oqa=function(Ca,La,Ma,Va,ib,yb){var Hb;if(Va){Va=this.Mp;for(var Eb=this.yb - 1;0 <= Eb && this.yb - Eb <= ib;--Eb){this.ia.offset=this.fy + Eb * this.Ft;Hb=this.Wr(La);if(Hb.Ht != yb.duration){this.u.console.warn("Could not replace sample of duration " + Hb.Ht + " with silence of duration " + yb.duration);break;}if(this.qz)(this.ia.offset-=this.Ft - (this.pz?4:0),this.ia.Gg(yb.Qj.byteLength));else if(yb.Qj.byteLength !== Hb.Nj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Va-=Hb.Nj;Ma.Et(Hb.Nj,yb.Qj,Ca.xj + Va);}}else for((Va=this.Mp + this.ri,Eb=0);Eb < this.yb && Eb < ib;++Eb){this.ia.offset=this.fy + (Eb + this.Tp) * this.Ft;Hb=this.Wr(La);if(Hb.Ht != yb.duration){this.u.console.warn("Could not replace sample of duration " + Hb.Ht + " with silence of duration " + yb.duration);break;}if(this.qz)(this.ia.offset-=this.Ft - (this.pz?4:0),this.ia.Gg(yb.Qj.byteLength));else if(yb.Qj.byteLength !== Hb.Nj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ma.Et(Hb.Nj,yb.Qj,Ca.xj + Va);Va+=Hb.Nj;}};y.Ka=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{vm:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.ec();this.vm && this.u.ll();this.vm && this.u.ta();this.tha=this.u.cb();this.yb=this.u.ta();this.u.gz(this.yb);return !0;};y.prototype.na=function(Ca,La){if(Ca && 0 === this.tha){Ca=La?this.yb - Ca:Ca;this.ia.offset=this.startOffset + 13 + (this.vm?8:0);this.yb-=Ca;this.ia.Gg(this.yb);this.IG=0;if(La)this.ia.offset+=this.yb;else {for(La=0;La < Ca;++La){this.IG+=this.ia.cb();}this.ia.offset-=Ca;}this.re(Ca,this.u.offset);}return !0;};z.Ka=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{vm:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.ec();this.vm && this.u.ll();this.vm && this.u.ta();this.Nf=this.u.ta();D(1 === this.Nf,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Cj=0 === this.version?this.u.AG():this.u.sqa();return !0;};z.prototype.na=function(Ca,La){this.Cj+=Ca;this.ia.offset=this.startOffset + 16 + (this.vm?8:0) + (0 === this.version?0:4);this.ia.BH(La,this.Cj);return !0;};B.Ka=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;Object.defineProperties(B.prototype,{mV:{get:function(){return this.flags & 1;}},Zta:{get:function(){return this.flags & 2;}}});B.prototype.parse=function(){this.ec();this.mV && (this.u.ta(),this.u.gz(16));this.yb=this.u.ta();return !0;};B.prototype.na=function(Ca,La){var Ma,Va;Ma=La?this.yb - Ca:Ca;this.ia.offset=this.startOffset + 28 + (this.mV?20:0);this.yb-=Ma;this.ia.Gg(this.yb);Ca=this.ia.offset;if(this.Zta)for(Ma=La?this.yb:Ma;0 < Ma;--Ma){this.ia.offset+=8;Va=this.ia.Dc();this.ia.offset+=6 * Va;}else this.ia.offset+=8 * (La?this.yb:Ma);La?this.re(this.length - (this.u.offset - this.startOffset),this.u.offset):this.re(this.u.offset - Ca,Ca);};A.Ka=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.ec();return !0;};A.prototype.na=function(Ca,La,Ma){Ma?this.re(La - Ca,this.startOffset + 12 + Ca):this.re(Ca,this.startOffset + 12);return !0;};C.Ka=!1;C.prototype=Object.create(J.prototype);C.prototype.constructor=C;C.prototype.parse=function(){this.ec();this.u.ll();1 === this.version && this.u.ta();this.Nf=this.u.ta();this.It=[];for(var Ca=0;Ca < this.Nf;++Ca){for(var La=this.u.ta(),Ma=this.u.ta(),Va=0;Va < La;++Va){this.It.push(Ma);}}return !0;};C.prototype.na=function(Ca,La){this.It=La?this.It.slice(0,Ca):this.It.slice(Ca);Ca=this.It.reduce(function(Ma,Va){0 !== Ma.length && Ma[Ma.length - 1].group === Va || Ma.push({group:Va,count:0});++Ma[Ma.length - 1].count;return Ma;},[]);this.ia.offset=this.startOffset + 16 + (1 === this.version?4:0);this.ia.Gg(Ca.length);Ca.forEach((function(Ma){this.ia.Gg(Ma.count);this.ia.Gg(Ma.group);}).bind(this));this.Nf > Ca.length && this.re(8 * (this.Nf - Ca.length));this.Nf=Ca.length;return !0;};E.Ka=!1;E.prototype=Object.create(J.prototype);E.prototype.constructor=E;X={Sa:{moov:f,trak:c,mdia:c,mdhd:k,minf:c,encv:X,schi:c,sidx:l,sinf:c,stbl:c,tenc:h,mvex:c,moof:r,traf:p,tfhd:w,trun:x,sbgp:C,sdtp:A,saiz:y,saio:z,tfdt:v,mdat:E,vmaf:d},ota:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},aX:{schm:ja},JG:{}};F([Ia,R,K,Q,wa,Sa,Ua,H,L,db,Ta,P,N,M,O,a],X.Sa);F([da,va,ta,za,V,T,na,ra,Za,$a],X.JG);F([Ia,ja],X.aX);X.Sa[b.vP]=h;X.Sa[b.Dw]=m;X.Sa[b.Cw]=n;X.Sa[b.uP]=B;X.JG[b.yD]=mb;X.kc=J;q.exports={Cp:X};},function(q,b){function a(c,f){var k,l,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){k=Math;l=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=l.call(k,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function c(f,k){"object" === typeof f?(this.cc=f.Wb,this.eb=f.U):(this.cc=f,this.eb=k);}c.rb=function(f){return new c(f,1E3);};c.VW=function(f,k){return Math.floor(1E3 * f / k);};c.F5=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{Wb:{get:function(){return this.cc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return 1E3 * this.cc / this.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wg:{get:function(){return this.cc / this.eb;},enumerable:!0,configurable:!0}});c.prototype.Vf=function(f){f/=this.U;return new c(Math.floor(this.Wb * f),Math.floor(this.U * f));};c.prototype.add=function(f){var k;if(this.U === f.U)return new c(this.Wb + f.Wb,this.U);k=a(this.U,f.U);return this.Vf(k).add(f.Vf(k));};c.prototype.Ba=function(f){return this.add(new c(-f.Wb,f.U));};c.prototype.mC=function(f){return new c(this.Wb * f,this.U);};c.prototype.Yk=function(f){var k;if(this.U === f.U)return this.Wb / f.Wb;k=a(this.U,f.U);return this.Vf(k).Yk(f.Vf(k));};c.prototype.s3=function(f){return a(this.U,f);};c.prototype.yqa=function(){return new c(this.U,this.Wb);};c.prototype.compare=function(f,k){var l;if(this.U === k.U)return f(this.Wb,k.Wb);l=a(this.U,k.U);return f(this.Vf(l).Wb,k.Vf(l).Wb);};c.prototype.equal=function(f){return this.compare(function(k,l){return k === l;},f);};c.prototype.T5=function(f){return this.compare(function(k,l){return k !== l;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,l){return k < l;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,l){return k > l;},f);};c.prototype.Fy=function(f){return this.compare(function(k,l){return k <= l;},f);};c.prototype.xp=function(f){return this.compare(function(k,l){return k >= l;},f);};c.prototype.toJSON=function(){return {ticks:this.Wb,timescale:this.U};};c.prototype.toString=function(){return this.Wb + "/" + this.U;};c.hb=new c(0,1);c.Cv=new c(1,1E3);return c;})();b.S=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.offset+=6;this.u.Dc();return !0;};return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(2);q.__exportStar(a(149),b);q.__exportStar(a(233),b);q.__exportStar(a(234),b);q.__exportStar(a(235),b);q=a(234);c=a(235);a=a(233);b.fp={3:a.GO,4:q.BO,5:c.X9};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.u.Dc();l=this.u.cb();this.Fsa=! !(l & 128);this.Dba=! !(l & 64);this.naa=! !(l & 32);this.Fsa && this.u.Dc();this.Dba && this.u.gz(this.u.cb());this.naa && this.u.Dc();this.NQ();return !0;};k.tag=3;return k;})(a(149).eD);b.GO=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Foa=this.u.cb();this.u.cb();this.u.Dc();this.u.cb();this.maxBitrate=this.u.ta();this.ffa=this.u.ta();this.NQ();return !0;};k.tag=4;return k;})(a(149).eD);b.BO=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=a(149);f=a(232);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.NV=function(){15 !== this.u.dc(4) || this.u.dc(24);};l.prototype.parse=function(d){if(this.Qla(d) && 64 === d.Foa)switch((this.um=this.LV(),this.NV(),this.u.dc(4),this.uia=5 === this.um || 29 === this.um?5:-1,0 < this.uia && (this.NV(),this.um=this.LV(),22 === this.um && this.u.dc(4)),this.um)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.cT=this.u.dc(1),(this.Aha=this.u.dc(1)) && this.u.dc(14),this.u.dc(1),this.hy=3 === this.um?256:23 === this.um?this.cT?480:512:this.cT?960:1024);}this.skip();return !0;};l.prototype.LV=function(){var d;d=this.u.dc(5);31 === d && (d=32 + this.u.dc(6));return d;};l.prototype.Qla=function(d){return d.tag === f.BO.tag;};l.tag=5;return l;})(q.eD);b.X9=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);f=new Uint8Array(c);a.reduce(function(k,l){f.set(new Uint8Array(l),k);return k + l.byteLength;},0);return f.buffer;};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(396);f=a(229);k=a(397);q=(function(){function l(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}l.prototype.parse=function(d){var g;g=new k.CO(this.view.byteLength);this.$b=new c.bD(f.Cp.Sa,g,this.view,this.console,{pG:!0});d=this.$b.parse(d);this.Sa=this.$b.Sa;return d;};return l;})();b.lq=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Tz=void 0;q=a(43);a=a(112);c=(function(){function f(k,l){this.L_=k;this.XI=l.Xa;this.tu=l.jb;}Object.defineProperties(f.prototype,{Xa:{get:function(){return void 0 !== this.XI?this.XI:this.L_.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jb:{get:function(){return void 0 !== this.tu?this.tu:this.L_.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.L_.U;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Lj:{get:function(){return this.L_.Lj;},enumerable:!1,configurable:!0}});f.prototype.pW=function(k){this.tu=k;};f.prototype.iga=function(){this.tu=void 0;};return f;})();b.Tz=c;q.tf(a.Uz,c);q.tf(a.Sz,c);},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jO=void 0;c=a(2);q=c.__importDefault(a(124));f=a(113);k=a(174);a=(function(l){function d(g,h,m,n,r,p,u){h=l.call(this,g,h,m,n,r,p,u) || this;k.Vt.mb(h,g,n);return h;}c.__extends(d,l);return d;})(f.OX);b.jO=a;q.default(k.Vt.prototype,a.prototype);},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GH=void 0;c=a(2);f=c.__importDefault(a(27));k=c.__importDefault(a(4));q=(function(l){function d(g,h,m,n,r){var p;p=l.call(this,m) || this;p.Bea=!1;d.mb(p,g,h,m,n,r);return p;}c.__extends(d,l);d.mb=function(g,h,m,n,r,p){g.Ge=n;g.hQb=h;g.sd=r;g.EJa=h.location || m.location;g.SQ=h.cd || m.Rc;g.Qra=h.Qra || m.Qra;g.g8=k.default.time.aa();g.H=p;};Object.defineProperties(d.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.EJa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rc:{get:function(){return this.SQ;},enumerable:!1,configurable:!0}});d.prototype.mb=function(g){this.Na=g;};d.prototype.$ra=function(g,h){this.EJa=g;this.SQ=h;};d.prototype.Bda=function(g){var h,m,n;h={type:"logdata",target:"endplay",fields:{}};m=this.mediaType === f.default.Za.Tb?"audioedit":"videoedit";n=[this.RK === this.Z?this.pc:this.Jc,this.RK === this.Z?-this.duration:this.duration];g && g.Sp && n.push(g.Sp);h.fields[m]={type:"array",value:n};return h;};d.prototype.Pta=function(){var g,h;if(this.complete)return 0;g=this.hQb;h=g.N;return g.url?this.url === g.url || (h.$ra(this,g.location,g.cd),this.a8(g.url))?0:(this.H.warn("swapUrl failed: ",this.JK),2):(this.H.warn("updateurl, missing url for streamId:",g.La,"mediaRequest:",this,"stream:",g),1);};return d;})(a(96).jw);b.GH=q;},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(842),b);},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p){return p.Ba(d.S.rb(p.HG));}Object.defineProperties(b,{__esModule:{value:!0}});b.E9=b.ft=void 0;f=a(2);q=a(16);k=f.__importDefault(a(27));l=f.__importDefault(a(4));d=a(22);g=a(6);h=a(843);m=a(403);n=a(113);r=a(67);b.ft=c;a=(function(p){function u(t,w,v,x,y,z,B,A){var C,E;E=p.call(this) || this;E.H=t;E.tg=w;E.xf=v;E.Tc=x;E.I=y;E.T=z;E.Hu=B;E.Pg=A;E.$j=E.H.error.bind(E.H);E.Eb=E.H.warn.bind(E.H);E.sm=E.H.trace.bind(E.H);null === (C=x.events) || void 0 === C?void 0:C.addListener("ready",function(){E.su();});E.Pna=new h.$Ba(E.I,E.tg,E.xf.Ub,E.H);E.reset();return E;}f.__extends(u,p);Object.defineProperties(u.prototype,{endOfStream:{get:function(){return this.lQ;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{S0:{get:function(){return this.Tc?this.Tc.S0:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eYb:{get:function(){return this.Pk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{PFb:{get:function(){return this.Ci;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{w4a:{get:function(){return ! !this.Tc.Kvb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zz:{get:function(){return ! !this.Tc.reset;},enumerable:!1,configurable:!0}});u.prototype.reset=function(t){var w,v,x,y;null === (w=this.YJa) || void 0 === w?void 0:w.wb();this.Nk=!1;t || (this.Pk=[]);this.Ci=this.Eca=this.oJ=void 0;this.qca=!1;this.ada=void 0;this.Q_=d.S.hb;this.Yw=void 0;this.lQ=!1;this.Mda(d.S.hb);null === (x=(v=this.Tc).reset) || void 0 === x?void 0:x.call(v);null === (y=this.Pna) || void 0 === y?void 0:y.reset();};u.prototype.YRa=function(){this.Eca=!0;};u.prototype.pause=function(){this.Nk=!0;};u.prototype.resume=function(){this.Nk=!1;this.su();};u.prototype.Yx=function(){this.Nk || this.su();};u.prototype.Sja=function(){var t;return null === (t=this.Ci) || void 0 === t?void 0:t.Pd;};u.prototype.Mlb=function(t){var w;if(this.I.OQa){g.assert(t.Na);w=t.Na.ub;g.assert(void 0 !== t.Jc);g.assert(void 0 !== w.pc);if(t.Jc >= w.pc)return;}this.Pk.push(t);this.su();};u.prototype.Br=function(){this.su();};u.prototype.Y6=function(t){t=this.Pk.indexOf(t);-1 !== t && this.Pk.splice(t,1);};u.prototype.DZa=function(t,w){this.I.Hea && w && void 0 === this.Ci && this.kIa(t,0);this.su();};u.prototype.W5=function(t){var w,v,x;w=this;if(!this.lQ && (this.lQ=!0,this.su(),!this.w4a))if(t && this.Hu && this.I.utb){x=d.S.rb(this.I.V4a);t=t.Ba(x);x=r.hua(this.Hu,t,!0);t=x.vr;x=x.promise;null === (v=this.YJa) || void 0 === v?void 0:v.wb();this.YJa=t;x.then(function(){w.lQ && w.Tc.endOfStream();});}else this.Tc.endOfStream();};u.prototype.w7=function(){return JSON.stringify(this.Pk);};u.prototype.Mda=function(t){var w;null !== (w=this.Sda) && void 0 !== w && w.equal(t) || (this.Sda=t,this.Tc.tSb(t.Wb,t.U));};u.prototype.su=function(){var t,w,v,x,y,z,B,A,C;w=this.I;if(this.Pk.length || this.Ci && !this.Ci.Je)if(!this.Tc || !1 === this.Tc.ready)this.xJ("@" + l.default.time.aa() + ", append: not appending, sourceBuffer not ready");else if(!this.Ci || this.Ci.Je || this.Ci.Ss())if(this.Ci && !this.Ci.Je || this.Pk.length)if(this.Nk){v=this.Ci && !this.Ci.Je?this.Ci:this.Pk[0];this.xJ("@" + l.default.time.aa() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(v));}else if((!this.Ci || this.Ci.Je || (this.JIa(this.Ci),this.Ci.Je)) && this.Pk.length)if((v=this.Pk[0],v.aborted))(this.Eb("aborted MediaRequest should not appear in the toAppend list:",v.toString(),"complete:",v.complete),this.xJ("@" + l.default.time.aa() + ", append: removing aborted request from toAppend: " + v.toString()),this.Pk.shift());else {x=v.stream;y=x.N;if(x.zg)if(this.LSb(x,v.index))(this.Eca=!1,this.kIa(x,v.index));else {z=this.T.Qn(y);B=this.zDb(x);if(z || B || !(this.qca && x.track.zU || w.P8))if((x=this.fUa(v),this.tg !== k.default.Za.Tb || !v.Ap && !v.ov || !v.na || w.mz || this.lQ || 1 !== this.Pk.length || !(x > w.MU) || null !== (t=v.PG) && void 0 !== t && t.y4)){if(w.OQa || w.mvb)if((t=v.Na.ub,z=this.Qtb())){A=t.ik;C=v.pc >= z;x=x > w.MU;if(z < t.pc && C && x && !A)return;}if(w.dMb && this.Pg && (w=this.Pg(y.Db)) && !w.nR)this.pause();else {this.qca || (this.qca=B);this.Pk.shift();try{this.Reb(v);}catch(E){throw (this.H.error(E),E);}}}else this.YQb();}}};u.prototype.YQb=function(){var t;t=this;this.Hu && (this.qma?this.qma.pEb || this.qma.nl():this.qma=this.Hu.mB(function(){return t.EFb();},"JIT Appender"));};u.prototype.EFb=function(){var t,w,v,x;return f.__generator(this,function(y){switch(y.label){case 0:if(1 !== this.Pk.length)return [3,3];t=this.Pk[0];if(!t.Ap && !t.ov || (null === (x=t.PG) || void 0 === x?0:x.y4))return [2];w=this.fUa(t);v=this.I.MU;return w > v?[4,r.mj.VC(d.S.rb(w - v))]:[3,2];case 1:(y.Oe(),y.label=2);case 2:return (this.su(),[3,0]);case 3:return [2];}});};u.prototype.fUa=function(t){return t.Zc - this.T.xe();};u.prototype.LSb=function(t,w){var v;if(this.Eca || void 0 === this.oJ || t.La !== this.oJ.La)return !0;t=t.zg;g.assert(t);v=this.oJ.lWa;return v === t.length - 1?!1:w >= t[v + 1].kf;};u.prototype.zDb=function(t){if(0 === t.mediaType || !t.By)return !0;if(void 0 === this.oJ)return !1;t=t.zg;g.assert(t);return !1 === t[this.oJ.lWa].kk;};u.prototype.Qtb=function(){throw Error("not supported");};u.prototype.Meb=function(t){this.Q_=m.kZ.$0(this.I,t.he,this.xf.Ub,this.H);};u.prototype.kIa=function(t,w){var v;v=t.zg.reduce(function(x,y,z){return y.kf <= w?z:x;},0);if(this.Tc.appendBuffer(t.zg[v].data,{Lc:!0,profile:t.profile,bitrate:t.bitrate,La:t.id}))(this.xJ("@" + l.default.time.aa() + ", header appended, streamId: " + t.La),this.oJ={La:t.La,lWa:v},this.Sib(t.N.Db || 0,t.La,v),this.Meb(t),this.su());else throw (this.Eb("appendHeader error: " + this.Tc.error),this.xJ("@" + l.default.time.aa() + ", appendHeader error: " + this.Tc.error),Error("appendHeaderError"));};u.prototype.Reb=function(t){var w,v,x,y,z,B,A;x=t.M6 || d.S.hb;y=t.Na.ub.P;y.Aa && Infinity !== y.Aa && (x=new d.S(y.Aa,1E3).add(x).Wg,Infinity === this.xf.duration || this.xf.duration < x) && (this.xf.duration=x);if(this.Pna){x=!0;y=!1;z=d.S.hb;B=void 0 !== t.Ot?d.S.rb(t.Ot).add(t.M6):void 0;A=null === (w=this.Pk[0]) || void 0 === w?void 0:w.Ui;w={endOfStream:this.endOfStream || !(null === (v=t.PG) || void 0 === v || !v.y4),n5:B,TU:A};v=this.Pna.append(t,w);this.Mda(v);}else (y=x=!1,z=d.S.hb,this.Tgb(t));this.Yw && z && (this.Yw=this.Yw.add(z));this.JIa(t,x,y);};u.prototype.JIa=function(t,w,v){var x,y,z;v=t.JE(this.Tc,this.xf.Ub,this.Ci,this.Pk[0],w,v);w=v.status;(v=v.Gj) && this.emit(v.type,v);w !== n.dj.uf?(this.Ci=t,w === n.dj.pw && (void 0 === this.Yw || this.tg !== k.default.Za.Tb || t.Ui.equal(this.Yw) || (this.Nib(t,this.Yw),this.Yw=void 0),this.xJ("@" + l.default.time.aa() + ", request appended, type: " + t.mediaType + ", streamId: " + t.La + ", pts: " + t.Zc + "-" + t.Pd),t.Ap || t.ov?(this.Yw=t.pf,this.kfb(t,this.Sda || d.S.hb),null === (y=(x=this.Tc).Kvb) || void 0 === y?void 0:y.call(x,t.PG),this.I.kX && this.I.AK && (null === (z=t.PG) || void 0 === z?0:z.y4) && this.W5(t.pf)):this.Yw=void 0,this.Tib(t),this.su())):this.Qeb(t);};u.prototype.Qeb=function(t){if(void 0 !== this.Tc.error){if("done" === this.Tc.error)return;this.$j("failure to append queued mediaRequest:",null === t || void 0 === t?void 0:t.toString(),"err:",JSON.stringify(this.Tc.error));throw this.Tc.error;}t=Error("failure to append queued mediaRequest: " + (null === t || void 0 === t?void 0:t.toString()) + " err: " + this.Tc.error);this.$j(t.message);throw t;};u.prototype.Tgb=function(t){var w,v,x;v=t.M6 || d.S.hb;if(void 0 === this.ada || v && !v.equal(this.ada)){x=this.Q_.add(v);this.Mda(x);this.ada=v;}void 0 === this.Ci && !this.I.m5 && t.stream.he && this.I.ck && (v=null === (w=t.Xc) || void 0 === w?void 0:w.Ba(t.stream.he).add(this.Sda),v.lessThan(d.S.hb) && (w=Math.ceil(v.mC(-1).Yk(t.stream.pa)),t.AS(w)));};u.prototype.kfb=function(t,w){var v,x;v=t.stream.pa;x=t.Md;this.I.ck && t.stream.he && (x=x.Ba(t.stream.he));c(x.Ba(v)).add(c(v)).add(c(w));};u.prototype.Sib=function(t,w,v){t={type:"headerAppended",mediaType:this.tg,manifestIndex:t,streamId:w,isIndex:v};this.emit(t.type,t);};u.prototype.Tib=function(t){t={type:"requestAppended",mediaType:this.tg,request:t};this.emit(t.type,t);};u.prototype.xJ=function(t){t={type:"managerdebugevent",message:t};this.emit(t.type,t);};u.prototype.Nib=function(t,w){var v;v=t.Jc;t=t.Ui.Ba(w).V;v={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[v,t]}}};this.emit(v.type,v);};return u;})(q.EventEmitter);b.E9=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.g3=b.clb=void 0;b.clb=function(a){return a.m7;};b.g3=function(a,c){return void 0 !== a.YL?a.YL:c && void 0 !== c.YL?c.YL:100;};},function(q,b,a){var f;function c(k,l){return k < l?-1:k > l?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.RY=void 0;f=a(2);q=(function(){function k(l,d){this.data=null !== l && void 0 !== l?l:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(l=(this.length >> 1) - 1;0 <= l;l--){this.sca(l);}}Object.defineProperties(k.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});k.prototype.push=function(l){this.data.push(l);this.Vda(this.length - 1);};k.prototype.pop=function(){var l,d;if(!this.empty){l=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.sca(0));return l;}};k.prototype.Ev=function(){return this.data[0];};k.prototype.SNb=function(l){l=this.data.indexOf(l);-1 !== l && this.Vda(l);};k.prototype.map=function(l){return this.data.map(l);};k.prototype.find=function(l){return f.__read(this.data.filter(l),1)[0];};k.prototype.clear=function(){this.data=[];};k.prototype.remove=function(l){var d,g,h;d=this.data;l=d.indexOf(l);if(-1 !== l){g=d.pop();if(l < d.length){d[l]=g;h=l - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(g,d)?this.Vda(l):this.sca(l);}}};k.prototype.bmb=function(){for(var l=this.data,d=1;d < l.length;d++){if(0 > this.compare(l[d],l[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + l);}};k.prototype.contains=function(l){return 0 <= this.data.indexOf(l);};k.prototype.Vda=function(l){for(var d=this.data,g=this.compare,h=d[l],m,n;0 < l;){m=l - 1 >> 1;n=d[m];if(0 <= g(h,n))break;d[l]=n;l=m;}d[l]=h;};k.prototype.sca=function(l){for(var d=this.data,g=this.compare,h=this.length >> 1,m=d[l],n,r,p;l < h;){n=(l << 1) + 1;p=d[n];r=n + 1;r < this.length && 0 > g(d[r],p) && (n=r,p=d[r]);if(0 <= g(p,m))break;d[l]=p;l=n;}d[l]=m;};return k;})();b.RY=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.MX=void 0;c=a(2);a(6);q=a(43);f=c.__importDefault(a(27));k=c.__importDefault(a(124));l=c.__importDefault(a(4));d=a(246);g=a(98);h=a(113);m=l.default.kq;n=a(863);a=c.__importDefault(a(864));l=(function(r){function p(u,t,w,v,x,y,z,B){var a00,A;a00=2;for(;a00 !== 6;){switch(a00){case 9:A=r.call(this,u,t,A,w,v,y,z) || this;g.Gk.mb(A,u,w,B);return A;break;case 2:var j9b="ed";j9b+="i";j9b+="t";var A9b="ca";A9b+="c";A9b+="h";A9b+="e";var e9b="1SIYbZ";e9b+="rN";e9b+="JCp9";A=this;e9b;A=[A9b,j9b].filter(function(C,E){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:return [x,w.na][E];break;}}});A=A.length?"(" + A.join(",") + ")":"";void 0 === w.responseType && (w.responseType=w.na || m.Ub && !m.Ub.cW.LP?0:1);a00=9;break;}}}var R8;R8=2;for(;R8 !== 9;){switch(R8){case 3:return p;break;case 2:c.__extends(p,r);p.create=function(u,t,w,v,x,y,z,B){var c00,A,C;c00=2;for(;c00 !== 11;){switch(c00){case 1:return new n.Pua(u,w,v,x,y,t,z,B);break;case 5:c00=v.RL && v.ca > v.RL?4:12;break;case 4:A=Math.ceil(v.ca / v.RL);y=v.offset;C=v.ca;x=new d.ZC(u,v,x,t,z,B);c00=7;break;case 2:c00=!t.Uf && v.na && u.mediaType === f.default.Za.Hb && m.Ub && m.Ub.cW.LP?1:5;break;case 7:B=Math.ceil(v.ca / A);c00=6;break;case 13:return x;break;case 6:c00=0 < C?14:13;break;case 12:return new p(u,w,v,x,y,t,z,B);break;case 14:var l9b="sub";l9b+="re";l9b+="q";l9b+="uest";(A={offset:y,ca:Math.min(C,B),responseType:v.responseType},y+=A.ca,C-=A.ca,x.push(new h.OX(u,w,l9b,A,x,t,z)));c00=6;break;}}};p.prototype.toString=function(){var d00;d00=2;for(;d00 !== 1;){switch(d00){case 2:var q9b="I";q9b+="D:";q9b+=" ";return q9b + this.Jh() + ":" + g.Gk.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {ID:this.Jh(),request:g.Gk.prototype.toJSON.call(this)};break;}}};R8=3;break;}}})(h.OX);b.MX=l;k.default(a.default,l.prototype);q.tf(g.Gk,l,!1);},function(q,b,a){var c,f,k,l,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ZC=void 0;c=a(2);f=a(6);q=a(43);k=a(9);l=a(30);d=a(401);g=a(98);h=a(113);a=(function(m){function n(r,p,u,t,w,v){u=m.call(this,r,p,u,t,w) || this;g.Gk.mb(u,r,p,v);u.Fc=0;u.na || u.th();u.Je=!1;return u;}c.__extends(n,m);Object.defineProperties(n.prototype,{Lc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(r){this.Fc+=r.ca;m.prototype.push.call(this,r);};n.prototype.Ss=function(){var r;return !this.Je && ! !this.za.length && !(null === (r=l.wg(this.za,function(p){return !p.Je;})) || void 0 === r || !r.Ss());};n.prototype.JE=function(r,p){var u,t;f.assert(!this.Je);u=h.dj.Tbb;t=k.Bp(this);this.Je=this.za.every(function(w){if(w.Je)return !0;if(!w.Ss())return !1;u=w.JE(r,p,void 0,void 0,void 0,void 0,t).status;return u === h.dj.pw;});u !== h.dj.pw || this.Je || (u=h.dj.ocb);return {status:u};};n.prototype.uPb=function(){this.za.forEach(function(r){r.SV();});};n.prototype.Jh=function(){return this.za?this.za[0].Jh() + "-" + this.za[this.za.length - 1].Jh():"empty";};n.prototype.toString=function(){return "ID: " + this.Jh() + ":" + g.Gk.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Jh(),request:m.prototype.toJSON.call(this)};};return n;})(d.o9);b.ZC=a;q.tf(g.Gk,a);},function(q,b,a){var k,l,d,g,h,m,n,r,p;function c(u,t){return u.done?u:{value:{value:u.value,iLa:t}};}function f(u){u.iLa();return {done:!1,value:u.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.fmb=b.tdb=b.PX=void 0;k=a(2);q=a(16);l=a(176);d=a(19);g=k.__importDefault(a(4));h=a(9);m=a(6);a=a(43);n=g.default.Promise;r=(function(){function u(t,w){this.console=t;this.Ef=w;this.shb=this.iQ=0;this.Zf=[];this.console=h.Ys(g.default,this.console,"QueueIterator:");}Object.defineProperties(u.prototype,{Ctb:{get:function(){return this.iQ;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{yOa:{get:function(){var t,w,v;for(w=0;w < this.Zf.length;w++){v=this.Zf[w];if(!v.$T || (null === (t=v.item) || void 0 === t?0:t.done))break;}return w;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{count:{get:function(){return this.Ef;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ay:{get:function(){return 0 === this.Ef;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Zqa:{get:function(){var t;for(t=0;t < this.Zf.length && this.Zf[t].hma;t++){;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{head:{get:function(){var t;t=k.__read(this.Zf,1)[0];return (t=t && t.item) && !t.done && t.value;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ooa:{get:function(){var t;for(t=0;t < this.Zf.length && this.Zf[t].$T;t++){;}return t;},enumerable:!1,configurable:!0}});u.prototype.i2=function(){var t;if(void 0 === this.Ef){t=this.console;d.ka && t && t.trace("QueueIterator: enqueueEnd");this.Ita(this.ooa - (this.Ef || 0));}};u.prototype.no=function(){return this.Zf.map(function(t){return t.item;});};u.prototype.hta=function(){this.Ro || (this.Ro=this.Zf.filter(function(t){return (null === t || void 0 === t?void 0:t.item) && !t.item.done;}).map(function(t){return t.item.value;}));return this.Ro;};u.prototype.Ita=function(t){var w;d.ka && this.console.trace("updateCount",{K6b:this.Ef,pK:t});if(void 0 !== this.Ef){w=this.Zf[this.Ef];w && this.Lla(w);}this.Ef=void 0 === this.Ef?t:void 0 === t?t:this.Ef + t;void 0 !== this.Ef && (this.Ef=Math.max(0,this.Ef),(w=this.Zf[this.Ef]) && w.OF.resolve({done:!0}));};u.prototype.enqueue=function(t){var w;d.ka && this.console.trace("Enqueue called");w=this.ooa;this.g1();return this.nOb(w,{value:t,done:!1}).VPa.promise;};u.prototype.a2a=function(){d.ka && this.console.trace("resetEnd");this.Ita(void 0);};u.prototype.clear=function(t){var w,v,x;d.ka && this.console.trace("clear");this.Q0a();w=this.Zqa;v=this.Zf.length - w;if(0 < v){x={index:w,Boa:v};d.ka && this.console.trace("Removing items",x);this.Zf.splice(w,v);this.g1();this.emit("onRemoved",x);}for(v=1;v < w;v++){this.Lla(this.Zf[v]);}this.Ef=void 0;this.Ita(t?t + w:t);this.iQ && (this.iQ=0);};u.prototype.getIterator=function(){var t,w;t=this;w=h.Ys(g.default,this.console,"QueueIteratorInstance::");return new p(this,function(v){return t.LTa(v);},w);};u.prototype.qK=function(){var t;if(0 < this.Zqa){t=k.__read(this.Zf,1)[0];if(t.$T)return (d.ka && this.console.trace("dequeue",t.id),this.Q0a(1),this.emit("onDequeue",t.OF.promise));}};u.prototype.remove=function(t){var w,v,x;for(w=0;w < this.Zf.length;w++){v=this.Zf[w];x=v.item;if(x && !x.done && x.value === t){this.Zf.splice(w,1);this.Ef && this.Ef > w && this.Ef--;this.g1();d.ka && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:w,Boa:1});break;}}};u.prototype.Q0a=function(t){var w;t=t || Math.min(this.Zqa,this.ooa);if(0 < t){w=this.Zf.splice(0,t);this.g1();this.Ef && (this.Ef-=t);d.ka && this.console.trace("pruned",t);n.resolve().then(function(){w.forEach(function(v){v.VPa.resolve();});});this.emit("onRemoved",{index:0,Boa:t});this.iQ+=t;}};u.prototype.LTa=function(t){var w;d.ka && this.console.trace("getNextItemCalled",{offset:t});if(void 0 === this.count || 0 < this.count){this.KVa(t);w=this.Zf[t];w.jQb.resolve();t=w.OF.promise;d.ka && this.console.trace("getNextItem:return",{id:w.id});}else (d.ka && this.console.trace("getNextItem:returnDone"),t=n.resolve({done:!0}));return t;};u.prototype.nOb=function(t,w){var v;v=!w.done && w.value;v=v && v.toJSON?v.toJSON():v;d.ka && this.console.trace("Providing result",{rlb:t,item:v});this.KVa(t);t=this.Zf[t];v=t.OF.resolve;v(w);return t;};u.prototype.KVa=function(t){var w;if(void 0 === this.Zf[t]){w={};this.Lla(w);this.Zf[t]=w;t === this.Ef && w.OF.resolve({done:!0});d.ka && this.console.trace("Item initialized",{rlb:t});}};u.prototype.Rga=function(t){var w;w={};w.promise=new n(function(v,x){w.resolve=function(y){v(y);t && t(y);};w.reject=x;});return w;};u.prototype.Lla=function(t){var w;w=this;t.OF=this.Rga(function(v){t.item=v;t.$T=!0;d.ka && w.console.trace("Item resolved",{id:t.id});});t.id && t.hma && !t.$T && (t.OF.resolve({done:!0}),d.ka && this.console.warn("Overwriting requested queue item",t.id));t.VPa=this.Rga();t.jQb=this.Rga(function(){t.hma=!0;d.ka && w.console.trace("Item requested",{id:t.id});});t.id=this.shb++;t.hma=!1;t.$T=!1;t.item=void 0;};u.prototype.g1=function(){this.Ro=void 0;};u.prototype.qyb=function(){var t,w,v;t=this;w=h.Ys(g.default,this.console,"QueueIteratorInstance::");v=new p(this,function(x){var y,z;if(0 === t.count)return l.AsyncIterator.Aka();y=t.LTa(x);z=t.Zf[0];return y.then(function(B){return c(B,function(){v.vL || (z === t.Zf[0]?t.qK():m.assert(!t.Zf.filter(function(A){return A.OF.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},w);return v;};return u;})();b.PX=r;a.tf(q.EventEmitter,r);p=(function(u){function t(w,v,x){var y;y=u.call(this,function(){d.ka && y.console.trace("Next item requested",{index:y.index});return y.HQb(y.index++);}) || this;y.parent=w;y.HQb=v;y.console=x;y.lJ=!1;y.index=0;y.Oca=!1;y.b_a=function(z){var B;B=z.index;z=z.Boa;y.index >= B && (y.index=Math.max(B,y.index - z));B=y.console;d.ka && B && B.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}k.__extends(t,u);t.prototype.kh=function(){this.console.trace("disposed");this.lJ=!0;this.Ic();u.prototype.kh.call(this);};t.prototype.next=function(){this.vL || this.tL();return u.prototype.next.call(this);};t.prototype.cancel=function(){this.Ic();return u.prototype.cancel.call(this);};t.prototype.Ic=function(){this.parent.mM("onRemoved",this.b_a);this.Oca=!1;};t.prototype.tL=function(){this.Oca || (this.Oca=!0,this.parent.on("onRemoved",this.b_a));};return t;})(l.AsyncIterator);b.tdb=p;b.fmb=function(u){return l.map(u,f);};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.x6=void 0;c=a(14);b.x6=function(f){switch(f){case c.ja.Sc:f=c.wc.Sc;break;case c.ja.ef:f=c.wc.ef;break;case c.ja.Ig:case c.ja.zi:case c.ja.pq:f=c.wc.zi;break;default:f=c.wc.Zj;}return f;};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.IH=void 0;c=a(250);q=(function(){function f(k,l){var g00;g00=2;for(;g00 !== 3;){switch(g00){case 6:this.afa=1;"";g00=2;break;g00=3;break;case 2:this.config=k;this.PL=l;g00=5;break;case 5:var G9b="1";G9b+="SI";G9b+="YbZrNJCp9";this.afa=null;G9b;g00=3;break;}}}var f00;f00=2;for(;f00 !== 3;){switch(f00){case 2:f.prototype.eQa=function(k,l){var h00,d;h00=2;for(;h00 !== 3;){switch(h00){case 14:return k;break;h00=3;break;case 4:return k;break;case 2:d=null === this.afa?k * (100 - this.config.e8) / 100:c.Jea(k,this.afa);l=null !== l && void 0 !== l?l:this.PL;this.config.Nma && l?(k=c.Jea(k,l),k=Math.max(k,d)):k=d;h00=4;break;}}};f.prototype.nN=function(k){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 4:this.afa=k;i00=2;break;i00=1;break;case 2:this.afa=k;i00=1;break;}}};f.prototype.Gta=function(k){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:this.config=k;j00=1;break;case 4:this.config=k;j00=2;break;j00=1;break;}}};return f;break;}}})();b.IH=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Jea=b.AC=b.kRa=void 0;c=a(2).__importDefault(a(110)).default.lRa;b.kRa=function(f,k,l){var d,g,h;d=0;if(l){f.some(function(m){var n;n=m.b;m=m.m;if(k <= n)return (d=h && n !== g?h + (m - h) / (n - g) * (k - g):m,!0);g=n;d=h=m;return !1;});}else f.some(function(m){d=m.m;return k <= m.b;});return d;};b.AC=function(f,k,l){var d;k=(null === (d=k.Oa) || void 0 === d?void 0:d.Ea) || 0;return f.tmb?(f=c(f.smb,l.Hl - l.qc,1),k * (1 - f)):k * f.e8 / 100;};b.Jea=function(f,k){return f < 2 * k?f / 2:f - k;};},function(q,b,a){var l;function c(){}function f(d,g){this.Fq=d;void 0 !== g?(l(g <= d.$l,"require remain_sec <= chunk.sec but has " + g + " and " + d.$l),this.yk=g):this.yk=d.$l;}function k(d){void 0 === d && (d=[]);this.eo=[];this.Yg=this.ql=0;for(var g in d){this.add(d[g],void 0);}}l=a(6).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Hq=function(){return new f(this.Fq,this.yk);};k.prototype.constructor=k;k.prototype.add=function(d,g){d=new f(d,g);this.eo.push(d);this.Yg+=d.yk;this.ql+=d.Fq.ry() * d.yk;};k.prototype.Hq=function(){var d,g;d=new k(void 0);for(g in this.eo){d.add(this.eo[g].Fq,this.eo[g].yk);}return d;};k.prototype.Ms=function(){try{return this.eo[0];}catch(d){}};k.prototype.e0a=function(d){var g;for(l(0 <= d,"unexpected play_for_x_sec: x=" + d);0 < d;){if(void 0 === this.Ms())throw new c();if(d < this.Ms().yk){g=this.Ms().Fq.ry() * d;this.Ms().yk-=d;this.Yg-=d;this.ql-=g;d=0;}else (g=this.eo.shift(),this.Yg-=g.yk,this.ql-=g.Fq.ry() * g.yk,d-=g.yk);}};k.prototype.JMb=function(d){var h;l(0 <= d,"unexpected play_y_kb: y=" + d);for(var g=0;0 < d;){if(void 0 === this.Ms())throw new c();if(d < this.Ms().yk * this.Ms().Fq.ry()){h=d / this.Ms().Fq.ry();this.Ms().yk-=h;this.Yg-=h;this.ql-=d;g+=h;d=0;}else (h=this.eo.shift(),this.Yg-=h.yk,this.ql-=h.Fq.ry() * h.yk,g+=h.yk,d-=h.Fq.ry() * h.yk);}return g;};q.exports={Nva:k,A8a:c};},function(q){q.exports={eBa:{code:-1,description:"MediaCache is not supported."},S1b:{code:100,description:"Resource was not found"},qbb:{code:101,description:"Resource Metadata was not found"},vI:{code:102,description:"Read failed",$p:function(b,a){return {code:this.code,description:b,cause:a};}},LZ:{code:200,description:"Daily write limit exceeded"},JH:{code:201,description:"Capacity has been exceeded"},KZ:{code:202,description:"Write failed, cause unknown",$p:function(b,a){return {code:this.code,description:b,cause:a};}},Q2b:{code:203,description:"Write failed, cause unknown"},w9a:{code:300,description:"Failed to delete resource",$p:function(b,a){return {code:this.code,description:b,cause:a};}},bA:{code:900,description:"Invalid partition name"},Rab:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Swa:{code:701,description:"Failed to initialize underlying disk cache."},pbb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(q){q.exports={NUa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var f;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(k){c.error && c.error.code == k.error.code && c.error.description === k.error.description && (f=k);});f?f.resources.push(c.Pp):a.push({error:c.error,resources:[c.Pp]});});return a;}},JSa:function(b){var a;a={freeSize:b.Hm,dailyBytesRemaining:b.mK,bytesWritten:b.fk,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.xk,itemBytes:c.D4,error:c.error};}));return a;},Lv:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zF=void 0;c=a(2).__importDefault(a(4));f=a(927);b.zF=function(){var l;if(!k){l=new c.default.Console("ASEJS","media|asejs");k=new f.Eua(l);}return k;};},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.AZ=void 0;q=a(16);c=a(43);f=a(22);a=(function(){function k(l){void 0 === l && (l={tk:!1,currentTime:f.S.hb,speed:1});this.Gc={tk:function(){return "function" === typeof l.tk?l.tk():l.tk;},currentTime:function(){return "function" === typeof l.currentTime?l.currentTime():l.currentTime;},speed:function(){return "function" === typeof l.speed?l.speed():l.speed;}};}Object.defineProperties(k.prototype,{tk:{get:function(){return this.Gc.tk();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.Gc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){return this.Gc.speed();},enumerable:!1,configurable:!0}});return k;})();b.AZ=a;c.tf(q.EventEmitter,a);},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pA=void 0;c=a(2);f=a(19);k=a(9);l=a(54);q=(function(){function d(g,h){this.Ph=g;this.options=c.__assign({Pob:!0},h);}Object.defineProperties(d.prototype,{nC:{get:function(){return "trace-" + this.Ph.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ii:{get:function(){return this.nC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ka;},enumerable:!1,configurable:!0}});d.prototype.Ln=function(g){var h,m;if(g.ji === l.ae.ip || g.ji === l.ae.zr){h=k.KPa(this.Ph.AFb);m=this.Ph.$Cb;g.ji === l.ae.ip && this.options.Pob && this.Ph.clear();g=h;Object.keys(m).length && (g=c.__spread(h,[m]));return g;}};d.prototype.wb=function(){this.Ph.wb();};return d;})();b.pA=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.o3=b.Ls=b.isEqual=b.cU=void 0;c=a(9);b.cU=function(f){return ! !f.da;};b.isEqual=function(f,k){var l,d;l=b.cU(f);d=b.cU(k);return l === d?l?f.da === k.da:f.Fa === k.Fa:!1;};b.Ls=function(f){if(b.cU(f))return f.da;f=f.Fa;return f.Ca[f.hg].da;};b.o3=function(f,k){return f.M0?f.M0 instanceof c.S?{offset:f.M0,va:k.hg}:f.M0:{offset:c.S.hb,va:k.hg};};},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.pua=void 0;c=a(7);f=a(3);k=a(435);l=a(436);d=a(61);b.pua=function(g,h){var m,n;try{n=k.$6a(g);}catch(r){c.log.error("xml2xmlDoc exception",r);}d.fg(function(){if(n && n.documentElement)try{m=l.a7a(n);}catch(r){c.log.error("xmlDoc2js exception",r);}d.fg(function(){m?h({X:!0,object:m}):h({X:!1,oa:f.M.yya});});});};},function(q){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},lka:function(){return this.buffer.length - this.position;},hz:function(){return this.buffer[this.position++];},ph:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Kp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},oqa:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Vg:function(){return this.Kp(2);},Lp:function(){return this.Kp(4);},OM:function(){return this.Kp(8);},Pv:function(a){for(var c,f="";a--;){c=this.hz();f+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return f;},rqa:function(a){for(var c=0,f=0;f < a;f++){c+=this.hz() << (f << 3);}return c;},NM:function(){return this.rqa(4);},CX:function(a){this.bO(a,2);},Qz:function(a){this.bO(a,4);},T8:function(a){this.buffer[this.position++]=a;},bO:function(a,c){this.position+=c;for(var f=1;f <= c;f++){this.buffer[this.position - f]=a & 255;a=Math.floor(a / 256);}},Pz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},BX:function(a){for(var c=a.length,f=0;f < c;f++){this.buffer[this.position++]=a[f];}},aO:function(a,c){this.BX(a.ph(c));}};q.exports=b;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.OAa="LogMessageRulerConfigSymbol";b.QAa="LogMessageRulerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gaa="MilestonesEventBuilderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZY="NetworkMonitorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Daa="PboLicenseResponseTransformerSymbol";},function(q,b,a){var d,g,h,m,n,r;function c(p,u,t,w){this.wa=p;this.w3=u;this.Pa=t;this.profile=w;}function f(){}function k(){}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=b.gZ=void 0;q=a(1);d=a(0);g=a(40);h=a(5);m=a(15);n=a(20);a=a(89);l.prototype.encode=function(p){return {downloadableId:p.Dd,duration:p.duration};};l.prototype.decode=function(p){return {Dd:p.downloadableId,duration:p.duration};};k.prototype.encode=function(p){return {total:p.total,totalContentTime:p.nH,audio:p.audio.map(new l().encode),video:p.video.map(new l().encode),text:p.text.map(new l().encode)};};k.prototype.decode=function(p){var u;return {total:p.total,nH:null !== (u=p.totalContentTime) && void 0 !== u?u:p.total,audio:p.audio.map(new l().decode),video:p.video.map(new l().decode),text:p.text.map(new l().decode)};};f.prototype.encode=function(p){return {type:p.type,href:p.href,xid:p.ba,movieId:p.K,position:p.position,clientTime:p.RR,sessionStartTime:p.mW,mediaId:p.TL,playTimes:new k().encode(p.vV),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,sessionParams:p.jo,mdxControllerEsn:p.Ina,profileId:p.profileId};};f.prototype.decode=function(p){return {type:p.type,href:p.href,ba:p.xid,K:p.movieId,position:p.position,RR:p.clientTime,mW:p.sessionStartTime,TL:p.mediaId,vV:new k().decode(p.playTimes),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,jo:p.sessionParams,Ina:p.mdxControllerEsn,profileId:p.profileId};};b.gZ=f;c.prototype.create=function(p){return {href:p.sa && p.sa.Fj?p.sa.Fj.rT("events").href:"",type:"online",ba:p.ba.toString(),K:p.K,position:Math.floor(p.$ga || 0),RR:this.wa.x7.ea(h.ma),mW:p.sL?p.sL.ea(h.ma):-1,TL:this.Yyb(p),vV:this.PAb(p),trackId:void 0 !== p.Ek?p.Ek.toString():"",sessionId:this.w3().sessionId || this.Pa.id,appId:this.w3().appId || this.Pa.id,jo:p.kb.jo || ({}),profileId:this.profile};};c.prototype.Mrb=function(p,u){return Object.assign({},this.create(p),{Ina:u && u.u1});};c.prototype.load=function(p){return new f().decode(p);};c.prototype.Yyb=function(p){var u,t,w;u=p.Bd.value;t=p.Qh.value;w=p.Nc.value;return u && t && w?(p=p.sa.Wc.media.find(function(v){return v.Fg.Tb === u.trackId && v.Fg.Hb === t.trackId && v.Fg.tl === w.trackId;}))?p.id:"":"";};c.prototype.fka=function(p){return p.map(function(u){return {Dd:u.downloadableId,duration:u.duration};});};c.prototype.PAb=function(p){return (p=p.ao)?(p=p.OAb(),{total:p.total,nH:p.totalContentTime,audio:this.fka(p.audio),video:this.fka(p.video),text:this.fka(p.timedtext)}):{total:0,nH:0,video:[],audio:[],text:[]};};r=c;r=q.__decorate([d.R(),q.__param(0,d.l(g.wi)),q.__param(1,d.l(m.dd)),q.__param(2,d.l(n.zd)),q.__param(3,d.l(a.GP))],r);b.MDa=r;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.QDa="PboPlaydataValidatorSymbol";b.JDa="PboPlaydataArrayValidatorSymbol";b.LDa="PboPlaydataCollectionValidatorSymbol";},function(q,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XX=void 0;f=a(11);c.Jga=function(k){var l;if(f.De.queryCommandSupported && f.De.queryCommandSupported("copy")){l=f.De.createElement("textarea");l.textContent=k;l.style.position="fixed";f.De.body.appendChild(l);l.select();try{f.De.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.De.body.removeChild(l);}}};b.XX=c;},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.S$=void 0;b.S$=a;a.y9a="display";a.P8a="console";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jU=void 0;b.jU=function(a,c,f){var k;if(f.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");k=f.get;f.get=function(){var l,d;l=k.apply(this,arguments);d={enumerable:f.enumerable,value:l};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return l;};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yaa=b.uI=void 0;q=b.uI || (b.uI={});q.PUb="taskstart";q.NUb="taskabort";q.OUb="taskfail";q.QUb="tasksuccess";b.Yaa="PreparerTaskSchedulerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.H9="CacheManagerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ava="AsePrefetcherAdapterSymbol";b.bva="AsePrefetcherProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.s9=b.ae=void 0;q=b.ae || (b.ae={});q[q.JC=0]="startPlayback";q[q.ip=1]="endPlayback";q[q.zr=2]="underflow";b.s9="AseIntegrationFactorySymbol";},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperty(b,"__esModule",{value:!0});b.cH=void 0;c=a(12);f=a(13);k=a(63);l=a(51);d=a(3);g=a(21);h=a(7);m=a(24);n=a(11);r=a(274);p=a(17);q=a(32);h.ha.get(q.Zg).register(d.L.Hza,function(u){var v,x,y;function t(){var z;t=c.kj;z=setInterval(w,f.config.YGb);k.lf.addListener(k.Jm,function(B){B && B.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):(m.de(x,function(A,C){localStorage.removeItem(C.Xq);}),clearInterval(z));},c.ED);}function w(){var z;z=l.i1();m.de(x,function(B,A){!1;B=localStorage.getItem(A.Xq);(B=JSON.parse(B))?B.updated=z:B={updated:z,sessionId:y,count:1};localStorage.setItem(A.Xq,JSON.stringify(B));});}g.gb(r.storage);v=h.ii("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.cH={nx:function(z,B,A){var E,F,D,G,I,J,H,M,O,L;function C(P){localStorage.setItem(D,JSON.stringify(P));P={Xq:D};x[D]=P;v.trace("Lock acquired",{Name:P.Xq});t();B({X:!0,T4:P});}E=this;A=void 0 === A?!1:A;if(localStorage){F=l.i1();D="lock-" + z;G={updated:F,sessionId:y,count:1};try{if((D in localStorage)){I=localStorage.getItem(D);J=0;H=JSON.parse(I);p.Cy(H.updated) && (J=H.updated);M=n.tD(F - J) * c.Ik;O=y === H.sessionId;if(M < f.config.wXa){if(O)(H.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:y,count:H.count}),H.updated=F,C(H));else if(A){L=f.config.wXa - M + c.Ik;v.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:H.count,Epoch:F,LockEpoch:J,waitTimeoutMs:L});pb.setTimeout(function(){return E.nx(z,B,!1);},L);}else B({X:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:J}),C(G));}else C(G);}catch(P){v.error("Error acquiring Lock",{errorSubCode:d.M.fj,errorDetails:m.vd(P)});B({X:!0});}}else (n.Rma?v.error("Local storage access exception",{errorSubCode:d.M.Tdb,errorDetails:m.vd(n.Rma)}):v.error("No localstorage",{errorSubCode:d.M.Udb}),B({X:!0}));},release:function(z,B){var A,C;g.gb(x[z.Xq] == z);if(localStorage){try{A=localStorage.getItem(z.Xq);C=JSON.parse(A);1 < C.count?(--C.count,localStorage.setItem(z.Xq,JSON.stringify(C)),v.trace("Lock count decremented",{Name:z.Xq,count:C.count})):(localStorage.removeItem(z.Xq),delete x[z.Xq],v.trace("Lock released",{Name:z.Xq}));}catch(E){v.error("Unable to release Lock",{Name:z.Xq},E);}B && B(c.Ee);}}};f.config.g2?b.cH.nx("session",function(z){b.cH.Q2a=z;u(c.Ee);}):u(c.Ee);});},function(q,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(13);f=a(12);k=a(490);q=a(3);l=a(491);d=a(493);g=a(7);a=a(32);b.storage=b.storage || void 0;g.ha.get(a.Zg).register(q.L.Gza,function(h){var m;switch(c.config.STb){case "idb":m=l.f4a;break;case "none":m=k.h4a;break;case "ls":m=d.g4a;}m(function(n){n.X?(b.storage=n.storage,h(f.Ee)):h(n);});});},function(q,b,a){var k,l,d,g,h,m,n,r,p,u,t,w;function c(v,x){var z;function y(){function B(A,C){return C.ee && 0 !== C.ee.length && C.ee[0].UF?k.jz(v,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return A?A.VV(C):Promise.resolve();}).catch(function(E){z.error("Unable to send stop command for session",JSON.stringify({Nb:C,error:E}));throw E;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),A?A.VV(C):Promise.resolve());}f(z).then(function(A){var C;C=A.Z1.filter(function(E){return !1 === E.active;}).map(function(E){return B(A,E);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");x(l.Ee);}).catch(function(E){E=E || ({});E.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",E);x(l.Ee);});}).catch(function(A){z.error("Unable to load DRM session data",A);x(l.Ee);});}z=m.ii("PlayDataManager");x=x || l.kj;d.config.Cr?x(l.Ee):y();}function f(v){var x;if(!b.Pha){x=m.ha.get(n.I9);b.Pha=new Promise(function(y,z){x.a1a().then(function(){y(x);}).catch(function(B){v.error("Unable to load DRM data for license release",B);z(B);});});}return b.Pha;}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=b.cEa=b.Pha=void 0;k=a(276);l=a(12);d=a(13);g=a(63);h=a(34);m=a(7);q=a(3);n=a(199);r=a(183);p=a(18);u=a(58);t=a(32);w=a(195);b.cEa=function(v){var z,B,A,C,E,F;function x(){B || (v.Od("pdsb"),B=m.ha.get(r.hZ)().then(function(D){C=D;v.Od("pdsc");return D;}).catch(function(D){z.error("Unable to initialize the playdata services",D);v.Od("pdse");throw D;}));return B;}function y(){A=!0;C && C.close();g.lf.removeListener(g.Jm,y);}z=m.Ih(v,"PlayDataManager");A=!1;E=m.ha.get(h.kA);if(!E.TH || !E.RH){F=m.ha.get(w.Laa)();E.TH=F.Nb;E.RH=F.request;}v.Od("pdctor");v.addEventListener(p.W.dg,function(){g.lf.removeListener(g.Jm,y);});v.addEventListener(p.W.LL,function(){var D;if(!d.config.Cr && v.we){D=v.$R.aPa();f(z).then(function(G){return G.oLa(D);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(p.W.dg,function(){var D;if(!A){v.cYb();D=[(function(){return d.config.Cr || !v.we?Promise.resolve():new Promise(function(G){var I;z.info("Sending the expedited playdata");I=v.$R.aPa();v.we.qRa(I).then(function(){z.info("Sent the expedited playdata");return f(z);}).then(function(J){return J?J.VV(I):Promise.resolve();}).then(function(){G(void 0);}).catch(function(J){z.error("Unable to send the expedited playdata",J);G();});});})(),(function(){return x().then(function(G){return G.e4a(v.fa);}).then(function(){z.info("Sent the playdata");}).catch(function(G){z.error("Unable to send the playdata",G);});})(),(function(){return new Promise(function(G){m.ha.get(u.iq).flush(!1).catch(function(){z.error("Unable to send logblob");G(void 0);}).then(function(){G(void 0);});});})()];Promise.all(D).then(function(){v.V5();}).catch(function(){v.V5();});}});g.lf.addListener(g.Jm,y);return {vRb:function(D){v.Od("pdpb");d.config.u7 || x().then(function(G){return G.send(v.K);}).then(function(){d.config.Cr?(v.Od("pdpc"),D(l.Ee)):c(v,function(){v.Od("pdpc");D(l.Ee);});}).catch(function(){v.Od("pdpe");D(l.Ee);});}};};b.dEa=function(){return new Promise(function(v){c({},function(x){v(x);});});};m.ha.get(t.Zg).register(q.L.aA,function(v){v(l.Ee);});},function(q,b,a){var k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z;function c(B){var A;A=this;this.j=B;this.NMa=this.oXa=!1;this.log=g.Ih(this.j,"Playback");this.KL=g.ha.get(u.jP);this.ki=g.ha.get(v.ku);this.gMb=g.ha.get(x.Aaa);this.el=g.ha.get(z.sD);this.j.addEventListener(w.W.LL,function(){return A.WWb();});h.gb(l.config);l.config.Cr || (this.Gub=g.ha.get(m.zxa));}function f(B,A){var E;function C(F){return F && 0 < F.length && F[0].UF;}E=g.ha.get(u.jP);return B.ba && C(B.ee)?E.release({ba:B.ba,ee:B.ee}).then(function(){}):A.ba && C(A.ee)?E.release(A).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.jz=b.Fwa=void 0;k=a(12);l=a(13);d=a(51);g=a(7);h=a(21);m=a(303);n=a(3);r=a(65);p=a(17);u=a(182);t=a(183);w=a(18);v=a(70);x=a(277);y=a(34);z=a(118);c.prototype.AR=function(B){var A;A=this;h.nK(this.j.K);h.nK(this.j.Ek);Promise.all([this.j.sa,l.config.Iv && this.el.A3(this.j.K)?this.el.T2(this.j.K):void 0]).then(function(C){var E,F;E=aa(C);C=E.next().value;E=E.next().value;C && E?F=l.config.oNb || E.Wc.expiration > C.Wc.expiration?E:C:C?F=C:E && (F=E);F && 18E5 > F.Wc.expiration - d.mga() && (F=void 0);return F?(A.j.RE=F === C?"ui":"videopreparer",F):A.j.G2a();}).then(function(C){try{A.j.I0a(C);B(k.Ee);A.axb();}catch(E){A.log.error("Exception processing authorization response",E);B({X:!1,oa:n.M.ddb});}}).catch(B);};c.prototype.yF=function(B){var A;A=this;return new Promise(function(C,E){var F,D,G;F=r.gq.SOa(B.Qf);D=B.zj.map(function(I){return {sessionId:I.sessionId,dataBase64:g.ZA(I.data)};});G=A.j.RAb(B.zj[0].sessionId);F={Ti:G.Ti,Qf:p.is.Bn(B.Qf)?B.Qf:F,Y1:[G.Kl],zj:D,ba:G.ba,Jn:B.Jn,Fj:G.sa.Fj};A.j.aS && A.j.aS.u1 && (F.BU=A.j.aS.u1);A.KL.nx(F).then(function(I){A.j.ee=I.ee;C(I);A.bxb(G);}).catch(E);});};c.prototype.release=function(B){return f(this.j,B);};c.prototype.aPa=function(){var B;B=this.Gub.create();this.j.we && (B.Xe=this.j.we.Pq());B.ee=this.j.ee;B.ba=this.j.ba;B.K=this.j.K;return B;};c.prototype.bxb=function(B){this.oXa || (this.oXa=!0,this.j.fireEvent(w.W.LL,{K:B.K}));};c.prototype.axb=function(){var B;B=this;this.NMa || (this.NMa=!0,this.j.fireEvent(w.W.emb),g.ha.get(t.hZ)().then(function(A){A.JC(B.j);}));};c.prototype.WWb=function(){var B,A;B=this;A=g.ha.get(y.Kk);this.ki.cma || c.i6a || (c.i6a=!0,A.$ta && l.config.VWb && this.gMb.Of(this.log,{}).then(function(){return B.log.trace("Updated NetflixId");}).catch(function(C){return B.log.error("NetflixId upgrade failed",n.Lr(C));}));};b.Fwa=c;c.i6a=!1;b.jz=f;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aaa="PboBindCommandSymbol";},function(q,b,a){var k,l,d,g,h,m,n,r,p,u,t,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function f(v,x,y,z,B){var A,C;A=this;this.j=v;this.type=x;this.lIa=z;this.log=B;this.A_=new g.Ec(!1);this.XD={data:[],state:"",operation:""};this.mimeType=this.tRa((this.type === k.ic.Za.Hb?this.j.Qh.value:this.j.Bd.value).streams);this.Sr=new h.Wj();this.dda={Type:this.type};if(d.config.$B){C=!0;this.Ria=new g.Ec(!1);}this.log.trace("Adding source buffer",this.dda,{TypeId:this.mimeType});this.Tc=y.addSourceBuffer(this.mimeType);this.Tc.addEventListener("updatestart",function(){!1;A.XD.state="updatestart";});this.Tc.addEventListener("update",function(){!1;A.XD.state="update";});this.Tc.addEventListener("updateend",function(){var E;!1;A.A_.set(!1);A.tIa && A.tIa();A.XD.state="updateend";E=0;try{E=A.Tc.buffered.length;}catch(F){}C && E && (C=!1,A.Ria.set(!0),!1);});this.Tc.addEventListener("error",function(E){var F;!1;try{F=E.target.error && E.target.error.message;(E.message || F) && B.error("error event received on sourcebuffer",{mediaErrorMessage:E.message});}catch(D){}v.Ld(n.L.Ycb,l.Y2(A.type));});this.Tc.addEventListener("abort",function(){!1;});v.addEventListener(u.W.closed,function(){A.Tc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.$8a=b.caa=void 0;k=a(53);l=a(171);d=a(13);g=a(105);h=a(72);m=a(7);a(94);n=a(3);a(5);r=a(21);p=a(17);u=a(18);t=a(139);w=a(187);f.prototype.hi=function(){return this.A_.value;};f.prototype.updating=function(){return this.Tc?this.Tc.updating:!1;};f.prototype.A7=function(v){this.tIa=v;};f.prototype.$K=function(){return this.XD;};f.prototype.buffered=function(){return this.Tc.buffered;};f.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};f.prototype.toJSON=function(){return {type:this.type};};f.prototype.S2=function(){var v,x,y,z,B,A,C;try{v=this.Tc.buffered;x=0;if(v){y=[];z=0;B=v.length;for(z=0;z < B;z++){A=v.start(z);C=v.end(z);x+=C - A;r.gb(C > A);y.push(A + "-" + C);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(E){}};f.prototype.dMa=function(v,x){!1;try{r.gb(this.Tc.buffered && 1 >= this.Tc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.S2()));}catch(y){}r.gb(!this.hi());this.v3a("append",v);x=x && x.Ct / 1E3;p.xa(x) && this.Tc.timestampOffset !== x && (!1,this.Tc.timestampOffset=x);this.Tc.appendBuffer(v);!1;this.A_.set(!0);};f.prototype.remove=function(v,x){r.gb(!this.hi());try{this.v3a("remove");!1;this.Tc.remove(v,x);this.A_.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.dda);}};f.prototype.v3a=function(v,x){this.XD.data=x || [];this.XD.state="init";this.XD.operation=v;};f.prototype.tSb=function(v,x){this.dGb=Math.floor(1E3 * v / x);};f.prototype.dob=function(v){var x;if(this.Tc){if((v=this.tRa([{type:this.Epb,Mg:v}]),v !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Tc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Tc.changeType(v);this.mimeType=v;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.dda,{From:x,To:v}),new c(y.message));}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(v,x){!x || x.Lc?this.Iea(v,x):this.B0(v,x);return !0;};f.prototype.Iea=function(v,x){this.j.Cg.Iea(this,v,x || ({}));};f.prototype.B0=function(v,x){v=this.ypb(v,x);!1;this.j.Cg.B0(v);};f.prototype.ypb=function(v,x){var y;y=this.dGb || 0;return {$Na:function(){this.response=void 0;},Jh:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:w.bc.zc.DONE,ez:x.Z,Mv:x.Z + x.duration,Zx:x.duration,Ct:y,Aj:x.Aj,va:x.va,La:x.La,Rc:+x.Rc,location:x.location,WJ:x.offset,VJ:x.offset + x.ca - 1,bitrate:x.bitrate,response:v,WUa:v && 0 < v.byteLength,TB:!0,get Lc() {return !this.TB;},A2a:this.qj - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.va,isHeader:this.Lc,ptsStart:this.ez,ptsOffset:this.Ct,responseType:this.h3b,duration:this.Zx,readystate:this.fh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};f.prototype.endOfStream=function(){var v;this.j.TA("EndOfStream");null === (v=this.j.Cg) || void 0 === v?void 0:v.W5(this.mediaType);};f.prototype.addEventListener=function(v,x,y){this.Sr.addListener(v,x,y);};f.prototype.removeEventListener=function(v,x){this.Sr.removeListener(v,x);};f.prototype.tRa=function(v){var x;x=m.ha.get(t.MP);return this.type === k.ic.Za.Hb?x.A1(v):x.x1(v);};Xa.Object.defineProperties(f.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},S0:{configurable:!0,enumerable:!0,get:function(){return this.lIa.S0;}},zW:{configurable:!0,enumerable:!0,get:function(){return this.lIa.zW;}},Epb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.caa=f;ka(c,Error);b.$8a=c;},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.vPa=b.nna=void 0;c=a(21);f=a(24);k=a(17);(function(){var d,g,h;function l(m){c.gb(void 0 !== d[m]);return d[m];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;h=/[", ]/;b.vPa=function(m){return k.Hc(m)?k.xa(m)?m:k.ze(m)?m.replace(g,l):k.Pla(m)?m:isNaN(m)?"NaN":"":"";};b.nna=function(m){var n,r;n=b.vPa;r="";f.de(m,function(p,u){p=n(p) + "=" + n(u);h.test(p) && (p='"' + p + '"');r=r?r + ("," + p):p;});return r;};})();},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jj=void 0;q=b.jj || (b.jj={});q[q.Q3a=1]="sourceopen";q[q.Iq=2]="currentTimeChanged";q[q.iW=3]="seeked";q[q.nXa=5]="licenseadded";q[q.P3a=6]="sourceBuffersAdded";q[q.e6=7]="onNeedKey";},function(q,b,a){var D,G,I,J,H,M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za,V,T,ja,Ia,wa,Sa,Ua,$a,Za,mb,db;function c(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function f(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function k(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function l(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);this.WG=Ta.config.WG;this.fd=this.sizes=void 0;}function d(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function g(){for(var Ta=new DataView(this),Ca="",La,Ma=0;Ma < this.byteLength;Ma++){La=Ta.getUint8(Ma);Ca+=("00" + La.toString(16)).slice(-2);}return Ca;}function h(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function m(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function n(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function r(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function p(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function u(Ta){function Ca(La,Ma,Va,ib,yb){J.call(this,La,Ma,Va,ib,yb);this.SU=Ta;}Ca.Ka=!1;Ca.prototype=new J();Ca.prototype.constructor=Ca;Object.defineProperties(Ca.prototype,{yO:{get:function(){return this.SU;}}});Ca.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.SU + "'");this.u.offset=this.startOffset + 4;this.ia.AX(this.yO);this.type=this.yO;return !0;};return Ca;}function t(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function w(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function v(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function x(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function y(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function z(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function B(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function A(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function C(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function E(Ta,Ca,La,Ma,Va){J.call(this,Ta,Ca,La,Ma,Va);}function F(Ta,Ca){Ta.forEach(function(La){Ca[La.Lb]=La;});}D=a(156).assert;b=a(101);G=a(282).S;I=a(507);a(157);a(87);a(87);a(87);J=a(33).kc;H=a(1103).default;M=a(1104).default;O=a(1105).default;L=a(1106).default;P=a(1107).default;R=a(1108).default;K=a(1109).default;Q=a(1110).default;N=a(1111).default;a(283);a(189);da=a(508).Y8;na=a(508).b$;va=a(1112).default;ra=a(1113).default;X=a(102).default;ta=a(102).g9;za=a(102).h9;V=a(102).i9;T=a(102).j9;ja=a(1114).default;Ia=a(1115).default;wa=a(102).x$;Sa=a(102).s$;Ua=a(1116).default;$a=a(1117).default;Za=a(1118).default;mb=a(509).default;db=a(510).default;a(158);a(286);a(287);a(285);a=a(1119).default;c.Ka=!0;c.prototype=new J();c.prototype.constructor=c;f.Ka=!0;f.prototype=new J();f.prototype.constructor=f;k.Ka=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.parse=function(){var Ta;this.ec();1 === this.version?(this.u.Hd(),this.u.Hd(),this.U=this.u.ta(),this.duration=this.u.Hd()):(this.u.ta(),this.u.ta(),this.U=this.u.ta(),this.duration=this.u.ta());Ta=this.u.Dc() & 32767;this.language=String.fromCharCode(96 + (Ta >>> 10),96 + (Ta >>> 5 & 31),96 + (Ta & 31));return !0;};l.Ka=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.sda=function(){this.ec();this.u.ta();this.U=this.u.ta();0 === this.version?(this.CS=this.u.ta(),this.VS=this.u.ta()):(this.CS=this.u.Hd(),this.VS=this.u.Hd());this.X1a=this.u.Dc();this.QV=this.u.Dc();};l.prototype.kca=function(Ta,Ca){var La,Ma,Va;La=this.U;Ta=Ta && Ta.U || La;Ma=Ta / La;La=this.u.fz(Ca,12,!1);Va=1 === Ma?this.u.fz(Ca,12,!1):I.from(Uint32Array,{length:Ca},function(){var ib;ib=Math.round(this.u.ta() * Ma);this.u.offset+=8;return ib;},this);this.Wda(Ca,Va,La,Ta);};l.prototype.Wda=function(Ta,Ca,La,Ma){if(this.WG){Ma=this.WG * Ma / 1E3;for(var Va=0,ib=1;ib < Ta;ib++){Math.abs(Ca[Va] - Ma) > Math.abs(Ca[Va] + Ca[ib] - Ma)?(Ca[Va]+=Ca[ib],La[Va]+=La[ib]):(++Va,Va !== ib && (Ca[Va]=Ca[ib],La[Va]=La[ib]));}++Va;Ca=new Uint32Array(Ca.buffer.slice(0,4 * Va));La=new Uint32Array(La.buffer.slice(0,4 * Va));}this.sizes=La;this.fd=Ca;};l.prototype.parse=function(Ta){var Ca,La,Ma,Va;this.sda();this.pa=Ta.pa;Ca=this.U;La=this.pa && this.pa.U || Ca;Ma=this.QV;Va=this.startOffset + this.length + this.VS;Ca=new G(this.CS,Ca).Vf(La).Wb;this.Y={U:La,Bk:Ca,offset:Va};this.kca(this.pa,Ma);this.Y.fd=this.fd;this.Y.sizes=this.sizes;Ta.Wv=this;return !0;};d.Ka=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Ta;this.Er=[];this.tpa=[];Ta=(this.length - 11) / 2;this.u.cb();this.u.cb();this.u.cb();for(var Ca=0;Ca < Ta;Ca++){this.Er.push(this.u.cb());this.tpa.push(this.u.cb());}return !0;};h.Ka=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.ec();this.u.offset+=4;this.PF=this.u.offset;this.Li=this.u.pqa(16);this.Li.toString=g;return !0;};m.Ka=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(){this.ec();this.Nf=this.u.Dc();this.Hna=this.u.fz(this.Nf,void 0,!0);return !0;};n.Ka=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Ta){var Ca,La,Ma,Va,ib,yb;Ca=Ta.Wv;D(Ca);Ta=Ta.pa;La=Ca.U;Ca=Ca.QV;D(Ta);D(La);D(Ca);this.ec();D(2 > this.version);this.Nf=this.u.Dc();this.tt=new Uint16Array(Ca + 1);Ma=Ta.s3(La);Va=Ma / La;ib=Ta.Vf(Ma).Wb;if(0 === this.version)for((this.Gt=new Uint16Array(),this.Gd=new Uint32Array(),Ta=La=0);Ta <= Ca;++Ta){if((this.tt[Ta]=La,Ta < this.Nf)){yb=this.u.cb();if(0 !== yb)for(Ma=0;Ma < yb;(++Ma,++La)){this.Gt[La]=Math.floor((this.u.ta() + 1) * Va) / ib;this.Gd[La]=this.u.ta();}}}else if(1 === this.version)for((Ma=this.u.lqa(this.Nf,10,!1),this.u.offset+=4,this.Gd=this.u.fz(this.Nf,10,!1),this.u.offset-=8,this.Gt=I.from(Uint16Array,{length:this.Nf},function(){var Eb;Eb=Math.floor((this.u.ta() + 1) * Va) / ib;this.u.offset+=6;return Eb;},this),La=Ta=0);Ta <= Ca;++Ta){for(;La < Ma.length && Ma[La] < Ta;){++La;}this.tt[Ta]=La;}this.Eh={tt:this.tt,Gt:this.Gt,Gd:this.Gd};return !0;};r.Ka=!0;r.prototype=Object.create(c.prototype);r.prototype.constructor=r;p.Ka=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.Ds=function(){var Ta;Ta=this.vh("tfhd");Ta && (this.xj=Ta.DR?Ta.xj:this.parent.startOffset);return !0;};t.Ka=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Ta,Ob;Ta=this.u.offset;this.ec();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ca=this.u.offset,La=this.u.cb(),Ma=this.u.cb(),Va=this.u.cb(),ib=this.u.cb(),yb=this.u.Dc(),Eb=[],Hb=0;Hb < yb;++Hb){Eb=this.u.cb();}Hb=(La & 240) >>> 4;Ob=(La & 14) >>> 1;La&=1;Va=16 === Va?1:0;Ma != ib && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Ma + " and matrixCoefficients " + ib + " should be the same value!");ib=2;switch(Ma){case 1:ib=2;break;case 6:ib=1;break;case 9:ib=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Ma + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.ia.Oz(this.version,Ta);this.ia.Oz(Hb << 4 | ib,Ca++);this.ia.Oz(Ob << 4 | Va << 1 | La,Ca++);yb+=2;Eb.push(0,0);this.ia.mua(yb,!1);Ca+=2;Eb.forEach(function(Cb){this.ia.Oz(Cb,Ca++);});}return !0;};w.Ka=!1;w.prototype=new J();w.prototype.constructor=w;w.Lb="tfhd";Object.defineProperties(w.prototype,{DR:{get:function(){return this.flags & 1;}},qra:{get:function(){return this.flags & 2;}},rha:{get:function(){return this.flags & 8;}},uha:{get:function(){return this.flags & 16;}},sha:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.ec();this.qH=this.u.ta();this.xj=this.DR?this.u.Hd():void 0;this.qra && this.u.ta();this.Qx=this.rha?this.u.ta():void 0;this.Sx=this.uha?this.u.ta():void 0;this.Rx=this.sha?this.u.ta():void 0;return !0;};v.Ka=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(){this.ec();this.yx=1 === this.version?this.u.Hd():this.u.ta();return !0;};v.prototype.na=function(Ta){var Ca;Ca=this.startOffset + 12;this.yx+=Ta;1 === this.version?this.ia.nua(this.yx,Ca):this.ia.Gg(this.yx,Ca);};x.Ka=!1;x.prototype=new J();x.prototype.constructor=x;Object.defineProperties(x.prototype,{hS:{get:function(){return this.flags & 1;}},pF:{get:function(){return this.flags & 4;}},pz:{get:function(){return this.flags & 256;}},qz:{get:function(){return this.flags & 512;}},fW:{get:function(){return this.flags & 1024;}},KG:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.ec();this.HR=this.u.offset;this.yb=this.u.ta();this.Cj=this.hS?this.u.AG():0;this.pF && this.u.ta();this.Ft=(this.pz?4:0) + (this.qz?4:0) + (this.fW?4:0) + (this.KG?4:0);this.fy=this.u.offset;D(this.hS,"Expected data offset to be present in Track Run");D(this.length - (this.u.offset - this.startOffset) === this.yb * this.Ft,"Expected remaining data in box to be sample information");return !0;};x.prototype.Wr=function(Ta,Ca,La){var Ma,Va,ib;Ma=this.pz?this.u.ta():Ta.Qx;Va=this.qz?this.u.ta():Ta.Sx;Ta=this.fW?this.u.ta():Ta.Rx;ib=0 === this.version?this.KG?this.u.ta():0:this.KG?this.u.AG():0;return {pra:ib,QQb:Ta,NNb:La + ib - (void 0 !== Ca?Ca:ib),Nj:Va,Ht:Ma};};x.prototype.na=function(Ta,Ca,La,Ma,Va,ib,yb){var Eb,Hb,Ob,Cb;Eb=0;Hb=0;this.ia.offset=this.fy;for(Ma=0;Ma < Va;++Ma){Ob=this.Wr(Ca,Cb,Hb);if(0 == Ma)Cb=Ob.pra;Eb+=Ob.Nj;Hb+=Ob.Ht;}Ma=Va;Va=this.u.offset;Ob=this.Wr(Ca,Cb,Hb);this.Tp=Ma;this.qsa=Hb;if(yb){if((this.Mp=this.Cj + Eb,this.ri=0,Ma === this.yb))return !0;}else if((this.Mp=this.Cj,this.ri=Eb,0 === Ma))return !0;if(0 === Ma || Ma === this.yb)return !1;this.$x=!0;if(yb){this.ri+=Ob.Nj;for(yb=Ma + 1;yb < this.yb;++yb){Ob=this.Wr(Ca,Cb,Hb);this.ri+=Ob.Nj;}this.ia.offset=this.HR;this.yb=Ma;this.ia.Gg(this.yb);this.ia.BH(ib);this.pF && (this.u.offset+=4);this.re(this.length - (Va - this.startOffset),Va);}else (Ca=Va - this.fy,this.ia.offset=this.HR,this.yb-=Ma,this.ia.Gg(this.yb),this.Cj+=Eb,this.ia.BH(ib,this.Cj),this.pF && (this.u.offset+=4),this.re(Ca,this.ia.offset));La.re(this.ri,Ta.xj + this.Mp);return !0;};x.prototype.Oqa=function(Ta,Ca,La,Ma,Va,ib){var Eb;if(Ma){Ma=this.Mp;for(var yb=this.yb - 1;0 <= yb && this.yb - yb <= Va;--yb){this.ia.offset=this.fy + yb * this.Ft;Eb=this.Wr(Ca);if(Eb.Ht != ib.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Ht + " with silence of duration " + ib.duration);break;}if(this.qz)(this.ia.offset-=this.Ft - (this.pz?4:0),this.ia.Gg(ib.Qj.byteLength));else if(ib.Qj.byteLength !== Eb.Nj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ma-=Eb.Nj;La.Et(Eb.Nj,ib.Qj,Ta.xj + Ma);}}else for((Ma=this.Mp + this.ri,yb=0);yb < this.yb && yb < Va;++yb){this.ia.offset=this.fy + (yb + this.Tp) * this.Ft;Eb=this.Wr(Ca);if(Eb.Ht != ib.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Ht + " with silence of duration " + ib.duration);break;}if(this.qz)(this.ia.offset-=this.Ft - (this.pz?4:0),this.ia.Gg(ib.Qj.byteLength));else if(ib.Qj.byteLength !== Eb.Nj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}La.Et(Eb.Nj,ib.Qj,Ta.xj + Ma);Ma+=Eb.Nj;}};y.Ka=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{vm:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.ec();this.vm && this.u.ll();this.vm && this.u.ta();this.tha=this.u.cb();this.yb=this.u.ta();this.u.gz(this.yb);return !0;};y.prototype.na=function(Ta,Ca){if(Ta && 0 === this.tha){Ta=Ca?this.yb - Ta:Ta;this.ia.offset=this.startOffset + 13 + (this.vm?8:0);this.yb-=Ta;this.ia.Gg(this.yb);this.IG=0;if(Ca)this.ia.offset+=this.yb;else {for(Ca=0;Ca < Ta;++Ca){this.IG+=this.ia.cb();}this.ia.offset-=Ta;}this.re(Ta,this.u.offset);}return !0;};z.Ka=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{vm:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.ec();this.vm && this.u.ll();this.vm && this.u.ta();this.Nf=this.u.ta();D(1 === this.Nf,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Cj=0 === this.version?this.u.AG():this.u.sqa();return !0;};z.prototype.na=function(Ta,Ca){this.Cj+=Ta;this.ia.offset=this.startOffset + 16 + (this.vm?8:0) + (0 === this.version?0:4);this.ia.BH(Ca,this.Cj);return !0;};B.Ka=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;Object.defineProperties(B.prototype,{mV:{get:function(){return this.flags & 1;}},Zta:{get:function(){return this.flags & 2;}}});B.prototype.parse=function(){this.ec();this.mV && (this.u.ta(),this.u.gz(16));this.yb=this.u.ta();return !0;};B.prototype.na=function(Ta,Ca){var La,Ma;La=Ca?this.yb - Ta:Ta;this.ia.offset=this.startOffset + 28 + (this.mV?20:0);this.yb-=La;this.ia.Gg(this.yb);Ta=this.ia.offset;if(this.Zta)for(La=Ca?this.yb:La;0 < La;--La){this.ia.offset+=8;Ma=this.ia.Dc();this.ia.offset+=6 * Ma;}else this.ia.offset+=8 * (Ca?this.yb:La);Ca?this.re(this.length - (this.u.offset - this.startOffset),this.u.offset):this.re(this.u.offset - Ta,Ta);};A.Ka=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.ec();return !0;};A.prototype.na=function(Ta,Ca,La){La?this.re(Ca - Ta,this.startOffset + 12 + Ta):this.re(Ta,this.startOffset + 12);return !0;};C.Ka=!1;C.prototype=Object.create(J.prototype);C.prototype.constructor=C;C.prototype.parse=function(){this.ec();this.u.ll();1 === this.version && this.u.ta();this.Nf=this.u.ta();this.It=[];for(var Ta=0;Ta < this.Nf;++Ta){for(var Ca=this.u.ta(),La=this.u.ta(),Ma=0;Ma < Ca;++Ma){this.It.push(La);}}return !0;};C.prototype.na=function(Ta,Ca){this.It=Ca?this.It.slice(0,Ta):this.It.slice(Ta);Ta=this.It.reduce(function(La,Ma){0 !== La.length && La[La.length - 1].group === Ma || La.push({group:Ma,count:0});++La[La.length - 1].count;return La;},[]);this.ia.offset=this.startOffset + 16 + (1 === this.version?4:0);this.ia.Gg(Ta.length);Ta.forEach((function(La){this.ia.Gg(La.count);this.ia.Gg(La.group);}).bind(this));this.Nf > Ta.length && this.re(8 * (this.Nf - Ta.length));this.Nf=Ta.length;return !0;};E.Ka=!1;E.prototype=Object.create(J.prototype);E.prototype.constructor=E;X={Sa:{moov:f,trak:c,mdia:c,mdhd:k,minf:c,encv:X,schi:c,sidx:l,sinf:c,stbl:c,tenc:h,mvex:c,moof:r,traf:p,tfhd:w,trun:x,sbgp:C,sdtp:A,saiz:y,saio:z,tfdt:v,mdat:E,vmaf:d},ota:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},aX:{schm:ja},JG:{}};F([Ia,R,K,Q,wa,Sa,H,L,mb,db,P,N,M,O,a],X.Sa);F([da,va,ta,za,V,T,na,ra,$a,Ua],X.JG);F([Ia,ja],X.aX);X.Sa[b.vP]=h;X.Sa[b.Dw]=m;X.Sa[b.Cw]=n;X.Sa[b.uP]=B;X.JG[b.yD]=Za;X.kc=J;q.exports={Cp:X};},function(q,b){function a(c,f){var k,l,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){k=Math;l=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=l.call(k,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function c(f,k){"object" === typeof f?(this.cc=f.Wb,this.eb=f.U):(this.cc=f,this.eb=k);}c.rb=function(f){return new c(f,1E3);};c.VW=function(f,k){return Math.floor(1E3 * f / k);};c.F5=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{Wb:{get:function(){return this.cc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return 1E3 * this.cc / this.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wg:{get:function(){return this.cc / this.eb;},enumerable:!0,configurable:!0}});c.prototype.Vf=function(f){f/=this.U;return new c(Math.floor(this.Wb * f),Math.floor(this.U * f));};c.prototype.add=function(f){var k;if(this.U === f.U)return new c(this.Wb + f.Wb,this.U);k=a(this.U,f.U);return this.Vf(k).add(f.Vf(k));};c.prototype.Ba=function(f){return this.add(new c(-f.Wb,f.U));};c.prototype.mC=function(f){return new c(this.Wb * f,this.U);};c.prototype.Yk=function(f){var k;if(this.U === f.U)return this.Wb / f.Wb;k=a(this.U,f.U);return this.Vf(k).Yk(f.Vf(k));};c.prototype.s3=function(f){return a(this.U,f);};c.prototype.yqa=function(){return new c(this.U,this.Wb);};c.prototype.compare=function(f,k){var l;if(this.U === k.U)return f(this.Wb,k.Wb);l=a(this.U,k.U);return f(this.Vf(l).Wb,k.Vf(l).Wb);};c.prototype.equal=function(f){return this.compare(function(k,l){return k === l;},f);};c.prototype.T5=function(f){return this.compare(function(k,l){return k !== l;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,l){return k < l;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,l){return k > l;},f);};c.prototype.Fy=function(f){return this.compare(function(k,l){return k <= l;},f);};c.prototype.xp=function(f){return this.compare(function(k,l){return k >= l;},f);};c.prototype.toJSON=function(){return {ticks:this.Wb,timescale:this.U};};c.prototype.toString=function(){return this.Wb + "/" + this.U;};c.hb=new c(0,1);c.Cv=new c(1,1E3);return c;})();b.S=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.offset+=6;this.u.Dc();return !0;};return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(23);q.__exportStar(a(158),b);q.__exportStar(a(285),b);q.__exportStar(a(286),b);q.__exportStar(a(287),b);q=a(286);c=a(287);a=a(285);b.fp={3:a.GO,4:q.BO,5:c.X9};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.u.Dc();l=this.u.cb();this.Fsa=! !(l & 128);this.Dba=! !(l & 64);this.naa=! !(l & 32);this.Fsa && this.u.Dc();this.Dba && this.u.gz(this.u.cb());this.naa && this.u.Dc();this.NQ();return !0;};k.tag=3;return k;})(a(158).eD);b.GO=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Foa=this.u.cb();this.u.cb();this.u.Dc();this.u.cb();this.maxBitrate=this.u.ta();this.ffa=this.u.ta();this.NQ();return !0;};k.tag=4;return k;})(a(158).eD);b.BO=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=a(158);f=a(284);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.NV=function(){15 !== this.u.dc(4) || this.u.dc(24);};l.prototype.parse=function(d){if(this.Qla(d) && 64 === d.Foa)switch((this.um=this.LV(),this.NV(),this.u.dc(4),this.uia=5 === this.um || 29 === this.um?5:-1,0 < this.uia && (this.NV(),this.um=this.LV(),22 === this.um && this.u.dc(4)),this.um)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.cT=this.u.dc(1),(this.Aha=this.u.dc(1)) && this.u.dc(14),this.u.dc(1),this.hy=3 === this.um?256:23 === this.um?this.cT?480:512:this.cT?960:1024);}this.skip();return !0;};l.prototype.LV=function(){var d;d=this.u.dc(5);31 === d && (d=32 + this.u.dc(6));return d;};l.prototype.Qla=function(d){return d.tag === f.BO.tag;};l.tag=5;return l;})(q.eD);b.X9=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);f=new Uint8Array(c);a.reduce(function(k,l){f.set(new Uint8Array(l),k);return k + l.byteLength;},0);return f.buffer;};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(512);f=a(281);k=a(513);q=(function(){function l(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}l.prototype.parse=function(d){var g;g=new k.CO(this.view.byteLength);this.$b=new c.bD(f.Cp.Sa,g,this.view,this.console,{pG:!0});d=this.$b.parse(d);this.Sa=this.$b.Sa;return d;};return l;})();b.lq=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xaa="PlaygraphVideoPlayerFactorySymbol";},function(q,b,a){var f;function c(k,l){var d;d=this;this.Wl=k;this.Lh=l;this.addEventListener=function(g,h,m){return d.Lh.addListener(g,d.JPa(g,h),m);};this.removeEventListener=function(g,h){return d.Lh.removeListener(g,d.JPa(g,h));};this.getReady=function(){return d.Lh.isReady();};this.getXid=function(){return d.Mb().CB();};this.getMovieId=function(){return d.Mb().sAb();};this.getPlaygraphId=function(){return d.Lh.TAb();};this.getElement=function(){return d.Lh.qp();};this.isPlaying=function(){return d.Mb().UB();};this.isPaused=function(){return d.Mb().WEb();};this.isMuted=function(){return d.Mb().REb();};this.isReady=function(){return d.Mb().isReady();};this.isBackground=function(){return d.Mb().uEb();};this.setBackground=function(g){return d.Mb().T2a(g);};this.startInactivityMonitor=function(){return d.Mb().BW();};this.setTransitionTime=function(g){return d.Mb().n3a(g);};this.getDiagnostics=function(){return d.Mb().fzb();};this.getTextTrackList=function(g){return d.Mb().CUa(g);};this.getTextTrack=function(){return d.Mb().BUa();};this.setTextTrack=function(g){return d.Mb().m3a(g);};this.getVolume=function(){return d.Mb().aCb();};this.isEnded=function(){return d.Mb().DEb();};this.getBusy=function(){return d.Mb().hi();};this.getError=function(){return d.Mb().getError();};this.getCurrentTime=function(){return d.Mb().j.mediaTime.value;};this.getBufferedTime=function(){return d.Mb().Eyb();};this.getSegmentTime=function(){return d.Mb().MSa();};this.getDuration=function(){return d.Mb().LSa();};this.getVideoSize=function(){return d.Mb().XBb();};this.getAudioTrackList=function(){return d.Mb().myb();};this.getAudioTrack=function(){return d.Mb().lyb();};this.getTimedTextTrackList=function(g){return d.Mb().CUa(g);};this.getTimedTextTrack=function(){return d.Mb().BUa();};this.getAdditionalLogInfo=function(){return d.Mb().eyb();};this.getTrickPlayFrame=function(g){return d.Mb().NBb(g);};this.getSessionSummary=function(){return d.Mb().oUa();};this.getTimedTextSettings=function(){return d.Mb().r3();};this.setMuted=function(g){return d.Mb().bSb(g);};this.setVolume=function(g){return d.Mb().xSb(g);};this.getPlaybackRate=function(){return d.Mb().up();};this.setPlaybackRate=function(g){return d.Mb().hSb(g);};this.setAudioTrack=function(g){return d.Mb().IRb(g);};this.setTimedTextTrack=function(g){return d.Mb().m3a(g);};this.setTimedTextSettings=function(g){return d.Mb().uW(g);};this.prepare=function(){return d.Mb().EM();};this.load=function(){return d.Mb().load();};this.close=function(g){return d.fMa(d.Lh.close(),g);};this.play=function(){return d.Mb().play();};this.pause=function(){return d.Mb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(g,h){return d.fMa(d.Mb().MS(g),h);};this.induceError=function(g){return d.Mb().NDb(g);};this.loadCustomTimedTextTrack=function(g,h,m,n){return d.Mb().KGb(g,h,m,n);};this.tryRecoverFromStall=function(){return d.Mb().dX();};this.getCropAspectRatio=function(){return d.Mb().Aja();};this.getCropAspectRatioXandY=function(){return d.Mb().Wyb();};this.generateScreenshots=function(g){return d.Mb().Zxb(g);};this.getCurrentSegmentId=function(){return d.Lh.PSa();};this.getPlaygraphMap=function(){return d.Lh.UAb();};this.updatePlaygraphMap=function(g){return d.Lh.gX(g);};this.qia=new Map();this.log=f.ii("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.JZ=void 0;f=a(7);a(94);c.prototype.Mb=function(){return this.Lh.cl();};c.prototype.JPa=function(k,l){var d;this.qia.has(k) || this.qia.set(k,new Map());d=this.qia.get(k);d.has(l) || d.set(l,this.gtb(k,l));return d.get(l);};c.prototype.gtb=function(k,l){var d;d=this;return function(g){return l(Object.assign({},g,{type:k,target:d}));};};c.prototype.fMa=function(k,l){return l?k.then(l,l):k;};c.prototype.ZXa=function(k){k=void 0 === k?{}:k;return {Ek:k.trackingId,K0:k.authParams,jo:k.sessionParams,Zd:k.uiLabel,G8:k.uxLabels,Iha:k.disableTrackStickiness,x8:k.uiPlayStartTime,D2:k.forceAudioTrackId,E2:k.forceTimedTextTrackId,Ol:k.isBranching,P6a:k.vuiCommand,playbackState:k.playbackState?{currentTime:k.playbackState.currentTime,volume:k.playbackState.volume,muted:k.playbackState.muted,playbackRate:k.playbackState.playbackRate}:void 0,BK:k.enableTrickPlay,bla:k.heartbeatCooldown,x4:k.isPlaygraph,Q4:k.loadImmediately || !1,X_a:k.pin,AV:k.preciseSeeking,Z:k.startPts,Aa:k.endPts,uk:k.logicalEnd,W6:k.renderTimedText,rRa:k.extraManifestParams,Tea:k.assetId,Tlb:k.audioLanguages,TUb:k.textLanguages,E6a:k.videoLanguage,Ep:k.packageId,XPa:k.desiredDownloadables,Xqa:k.requestReference};};b.JZ=c;},function(q,b,a){b=a(423);q.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.aa:Date.now;},function(q){q.exports={ow:{wba:0,NFa:1,Jk:2,name:["transient","semiTransient","permanent"]},iw:{xya:0,MFa:1,uZ:2,wP:3,Fw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},O2b:{D2b:0,p0b:1,uZb:2,Fw:100,name:["trailer","montage","content"]},fu:{mAa:0,sFa:1,qeb:2,X9a:3,Fw:100,name:["left","right","up","down"]},hP:{U8a:0,uZ:1,N_b:2,k_b:3,MYb:4,M_b:5,N7a:6,Fw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},aI:{wP:0,Pwa:1,Fw:100,name:["playFocused","detailsOpened"]}};},function(q){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof pb && (b=pb);}q.exports=b;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);q=(function(){function f(){}f.prototype.KSa=function(k){var l;l=Reflect.getMetadata(c.raa,k);k=Reflect.getMetadata(c.PGa,k);return {vOa:l,sXb:k || ({})};};f.prototype.YAb=function(k){return Reflect.getMetadata(c.QGa,k) || [];};return f;})();b.faa=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.zWa=function(f){return f instanceof RangeError || f.message === c.Pdb;};},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(41);k=a(64);l=a(88);q=(function(){function d(g){this.nfb=g;}d.prototype.qWb=function(){return this.nfb();};return d;})();b.M$=q;b.l=function(d){return function(g,h,m){var n;if(void 0 === d)throw Error(c.neb(g.name));n=new k.Metadata(f.fP,d);"number" === typeof m?l.fH(g,h,m,n):l.OW(g,h,n);};};},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(103);k=a(64);l=a(539);q=(function(){function d(g,h,m,n){this.id=f.id();this.type=g;this.ng=m;this.name=new l.sdb(h || "");this.xd=[];g=null;"string" === typeof n?g=new k.Metadata(c.hA,n):n instanceof k.Metadata && (g=n);null !== g && this.xd.push(g);}d.prototype.$Ua=function(g){for(var h=0,m=this.xd;h < m.length;h++){if(m[h].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.$Ua(c.rD);};d.prototype.KHb=function(g){return this.xna(c.rD)(g);};d.prototype.ama=function(){return this.$Ua(c.hA);};d.prototype.jma=function(){return this.xd.some(function(g){return g.key !== c.fP && g.key !== c.rD && g.key !== c.TY && g.key !== c.RP && g.key !== c.hA;});};d.prototype.sWa=function(){return this.xna(c.GCa)(!0);};d.prototype.vAb=function(){return this.ama()?this.xd.filter(function(g){return g.key === c.hA;})[0]:null;};d.prototype.$yb=function(){return this.jma()?this.xd.filter(function(g){return g.key !== c.fP && g.key !== c.rD && g.key !== c.TY && g.key !== c.RP && g.key !== c.hA;}):null;};d.prototype.xna=function(g){var h;h=this;return function(m){var p;for(var n=0,r=h.xd;n < r.length;n++){p=r[n];if(p.key === g && p.value === m)return !0;}return !1;};};return d;})();b.EZ=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);f=a(193);q=(function(){function k(l){this.mc=l;this.ZP=new f.C9(this.mc);this.Wba=new c.QX(this.mc);}k.prototype.when=function(l){return this.ZP.when(l);};k.prototype.xX=function(){return this.ZP.xX();};k.prototype.Bv=function(l){return this.Wba.Bv(l);};return k;})();b.$C=q;},function(q,b,a){var k;function c(l){return function(d){function g(h){return null !== h && null !== h.target && h.target.xna(l)(d);}g.IYa=new k.Metadata(l,d);return g;};}function f(l,d){l=l.Yy;return null !== l?d(l)?!0:f(l,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});q=a(41);k=a(64);b.x5a=f;b.G4a=c;a=c(q.hA);b.kZa=a;b.D5a=function(l){return function(d){var g;if(null !== d){g=d.ER[0];return "string" === typeof l?g.ng === l:l === d.ER[0].Nl;}return !1;};};},function(q,b,a){var k;function c(l,d){this.Wf=d;this.Jy=Math.floor(l);this.display=this.Jy + " " + this.Wf.name;}function f(l,d,g){this.Wf=l;this.name=d;this.Sk=g?g:this;k.Vn(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Mr=b.SP=void 0;k=a(56);f.prototype.NS=function(l){return this.Wf == l.Wf;};f.prototype.toJSON=function(){return this.name;};b.SP=f;c.prototype.ea=function(l){return this.Wf.NS(l)?this.Jy:Math.floor(this.Jy * this.Wf.Wf / l.Wf);};c.prototype.t0a=function(l){return this.Wf.NS(l)?this.Jy:this.Jy * this.Wf.Wf / l.Wf;};c.prototype.as=function(l){return new c(this.ea(l),l);};c.prototype.to=function(l){return new c(this.ea(l),l);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Jy,units:this.Wf.name};};c.prototype.add=function(l){return this.rOa(l);};c.prototype.Ba=function(l){return this.rOa(l,function(d){return -d;});};c.prototype.scale=function(l){return new c(this.ea(this.Wf.Sk) * l,this.Wf.Sk);};c.prototype.Wk=function(l){return this.ea(this.Wf.Sk) - l.ea(this.Wf.Sk);};c.prototype.NS=function(l){return 0 == this.Wk(l);};c.prototype.KWa=function(){return 0 == this.Jy;};c.prototype.bma=function(){return 0 > this.Jy;};c.prototype.$Eb=function(){return 0 < this.Jy;};c.prototype.rOa=function(l,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ea(this.Wf.Sk) + d(l.ea(this.Wf.Sk)),this.Wf.Sk);};b.Mr=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.aEa="PlatformConfigOverridesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zxa="DrmDataFactorySymbol";},function(q,b,a){var f,k;function c(l,d,g,h,m){this.version=l;this.xM=d;this.j4a=g;this.en=h;this.aw=m;this.Qu=[];}Object.defineProperty(b,"__esModule",{value:!0});b.D$=void 0;f=a(3);k=a(42);c.prototype.load=function(l){return this.IGb(l);};c.prototype.add=function(l){this.Qu.push(l);return this.ppa();};c.prototype.remove=function(l,d){l=this.BSa(this.UK(l,d));return 0 <= l?(this.Qu.splice(l,1),this.ppa()):Promise.resolve();};c.prototype.update=function(l,d){d=this.BSa(this.UK(l,d));return 0 <= d?(this.Qu[d]=l,this.ppa()):Promise.resolve();};c.prototype.IGb=function(l){var d;d=this;this.sXa || (this.sXa=new Promise(function(g,h){function m(n){d.vtb().then(function(){h(n);}).catch(function(){h(n);});}d.uka().then(function(n){d.storage=n;return d.storage.load(d.xM);}).then(function(n){var r;n=n.value;try{r=l(n);d.version=r.version;d.Qu=r.data;g();}catch(p){m(p);}}).catch(function(n){n.oa !== f.M.mA?h(n):g();});}));return this.sXa;};c.prototype.ppa=function(){var l,d,g,h,m;l=this;if(!this.j4a)return Promise.resolve();if(this.Q7){h=new Promise(function(n,r){d=n;g=r;});m=function(){l.Q7=h;l.i4a().then(function(){d();}).catch(function(n){g(n);});};this.Q7.then(m).catch(m);return h;}return this.Q7=this.i4a();};c.prototype.i4a=function(){var l,d;l=this;d=this.aw();return new Promise(function(g,h){l.uka().then(function(m){return m.save(l.xM,d,!1);}).then(function(){g();}).catch(function(m){h(c.qVb(f.L.Gcb,m));});});};c.prototype.vtb=function(){var l;l=this;return this.j4a?new Promise(function(d,g){l.uka().then(function(h){return h.remove(l.xM);}).then(function(){d();}).catch(function(h){g(h);});}):Promise.resolve();};c.prototype.uka=function(){return this.storage?Promise.resolve(this.storage):this.en.create();};c.prototype.UK=function(l,d){for(var g=0;g < this.Qu.length;++g){if(d(this.Qu[g],l))return this.Qu[g];}};c.prototype.BSa=function(l){return l?this.Qu.indexOf(l):-1;};c.qVb=function(l,d){var g;if(d.oa && d.cause)return new k.$c(l,d.oa,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.jc){g=d.message?d.message + " ":"";d.code=l;d.message="" === g?void 0:g;return d;}return d instanceof Error?new k.$c(l,f.M.fj,void 0,void 0,void 0,void 0,d.stack,d):new k.$c(l,f.M.jm,void 0,void 0,void 0,void 0,void 0,d);};b.D$=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bba="QueryStringDataProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uCa="NetworkMonitorConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bxa="DrmProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.cya="EmeSessionFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.$xa=b.PD=void 0;q=b.PD || (b.PD={});q[q.Request=0]="Request";q[q.xFa=1]="Renewal";b.$xa="EmeApiSymbol";},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yZ=void 0;a.LDb=function(c){return "ID" + (c + 1);};a.p4a=function(c){return Number(c.substr(2)) - 1;};b.yZ=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C;function c(E,F,D,G,I,J,H,M){var O;O=this;this.Pa=F;this.xx=D;this.config=G;this.hh=I;this.rl=J;this.Jn=H;this.co=M;this.keyStatuses=new z.Ec({});this.Uoa=function(L){var P,R,K,Q,N,da;try{R=O.rl.Iga(L);K=R.ZF;Q=R.messageType;N=R.sessionId;O.nv=O.nv || R.nv;O.nW(N);O.log.trace("Received " + L.type + " event",{sessionId:N,messageType:Q,keyIds:O.nv});Q === b.X$ && (O.log.trace("Received a renewal request"),O.Qf=n.Th.Co,O.xk=A.DG);O.xk === A.ig && O.Vo(r.Jr.m1a);O.xk === A.DG && O.Vo(r.Jr.n1a);da={zj:K,MNa:Q,Qf:O.Qf};null === (P=O.LKb) || void 0 === P?void 0:P.call(O,da);O.nU && (O.Vka(K)?O.YB(new y.$c(l.L.Rxa)):(O.nU.resolve(da),O.nU=void 0));}catch(na){O.YB(na);}};this.Soa=function(L){var P,R,K,Q,na,va,ra,X,ta,za,V,Ia,wa,Sa,Ua,$a,Za;R=L.target;K=R.keyStatuses;O.nW(R.sessionId);O.log.trace("Received event: " + L.type);try{Q=null === (P=O.context.zt) || void 0 === P?void 0:P.reduce(function(mb,db){mb[db.Li]=db.e7.height;return mb;},{});L=[];for(var N=aa(K),da=N.next();!da.done;da=N.next()){na=aa(da.value);va=na.next().value;ra=na.next().value;X=O.xx.encode(new Uint8Array(va));L.push({Li:X,status:ra,height:null === Q || void 0 === Q?void 0:Q[X]});}L.sort(function(mb,db){return (mb.height || 0) - (db.height || 0);});ta=L.map(function(mb){return mb.Li;});za=L.map(function(mb){return mb.height;});V=L.map(function(mb){return mb.status;});O.log.trace("KeyStatus: " + ta + ", " + za + ", " + V);Q={};for(var T=aa(K),ja=T.next();!ja.done;ja=T.next()){Ia=aa(ja.value);wa=Ia.next().value;Sa=Ia.next().value;Ua=O.xx.encode(new Uint8Array(wa));$a=C[Sa];Q[Ua]=$a.status;if(O.r4(Ua,$a.error)){Za=new v.pg($a.error);O.dU(Za);}}O.keyStatuses.set(Q);}catch(mb){Za=new v.pg(l.L.Rcb);Za.pS(mb);}Za?O.B4(Za):(O.rl.m1() || O.MWa(),O.Qf !== n.Th.kn || O.rl.cfa() || O.QPb());};this.Rm=function(L){var P;P=O.rl.Mx(L);O.log.error("Received event: " + L.type,P);O.YB(P);O.B4(P);O.op || O.Xs || O.dU(P);};this.EKb=function(){O.log.error("MediaKeySession closed unexpectedly.");O.dU(new y.$c(l.L.t$a));};this.YB=function(L){var P;O.op && O.close().then(function(){var R;O.log.trace("Issuing a generate challenge error");null === (R=O.op) || void 0 === R?void 0:R.reject(L);O.op=void 0;},function(R){var K;O.log.error("EmeSession closed with an error.",O.rl.Mx(R));null === (K=O.op) || void 0 === K?void 0:K.reject(L);O.op=void 0;});null === (P=O.nU) || void 0 === P?void 0:P.reject(L);};this.vFb=function(){var L;null === (L=O.op) || void 0 === L?void 0:L.resolve();O.op=void 0;};this.B4=function(L){O.log.error("Failed to add license",L);return O.close().then(function(){var P;O.log.trace("Issuing a license error");O.op=void 0;null === (P=O.Xs) || void 0 === P?void 0:P.reject(L);O.Xs=void 0;},function(P){var R;O.log.error("EmeSession closed with an error.",O.rl.Mx(P));O.xk === A.DG && O.Vo(r.Jr.BLa);O.op=void 0;null === (R=O.Xs) || void 0 === R?void 0:R.reject(L);O.Xs=void 0;}).then(function(){throw L;});};this.MWa=function(){O.Xs && (O.log.info("Successfully added license"),O.xk === A.ig?O.Vo(r.Jr.tLa):O.xk === A.DG && O.Vo(r.Jr.ALa),O.Xs.resolve(),O.Xs=void 0);};this.dU=function(L){O.close().then(function(){var P;O.log.trace("Issuing a CDM error");O.op=void 0;O.Xs=void 0;null === (P=O.WZa) || void 0 === P?void 0:P.call(O,L);},function(P){var R;O.log.error("EmeSession closed with an error.",O.rl.Mx(P));O.op=void 0;O.Xs=void 0;null === (R=O.WZa) || void 0 === R?void 0:R.call(O,L);});};this.Vo=function(L){O.bd.push({time:O.Pa.Zb(),GU:L});};this.H1a=!1;this.log=E.Cb("EmeSession");this.xk=A.jWb;this.bd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.dya=b.X$=b.Y$=void 0;q=a(1);f=a(0);k=a(5);l=a(3);d=a(20);g=a(8);h=a(35);m=a(68);n=a(59);r=a(312);p=a(202);u=a(133);t=a(200);w=a(309);v=a(90);x=a(60);y=a(42);z=a(105);B=a(590);(function(E){E[E.jWb=0]="unknown";E[E.create=1]="create";E[E.load=2]="load";E[E.ig=3]="license";E[E.DG=4]="renewal";E[E.stop=5]="stop";E[E.closed=6]="closed";})(A || (A={}));b.Y$="license-request";b.X$="license-renewal";C={usable:{status:p.$t.j6a},expired:{status:p.$t.nF,error:l.L.VCa},released:{status:p.$t.released},"output-not-allowed":{status:p.$t.o_a,error:l.L.WCa},"output-restricted":{status:p.$t.o_a,error:l.L.vaa},"output-downscaled":{status:p.$t.CLb},"status-pending":{status:p.$t.MTb},"internal-error":{status:p.$t.eEb,error:l.L.Qcb}};c.prototype.Pq=function(){var E;return (null === (E=this.pIb) || void 0 === E?void 0:E.keySystem) || "";};c.prototype.ky=function(){return this.sessionId;};c.prototype.close=function(){var E;E=this;this.xk=A.closed;this.bd=[];return this.hh.fFb()?(this.log.trace("Closing the session"),this.hh.C1a(this.Uoa),this.hh.A1a(this.Soa),this.hh.y1a(this.Rm),this.mediaKeys=void 0,this.co.Op(this.config.YLa,this.hh.close()).then(function(){E.log.info("Closed the session");}).catch(function(F){E.log.error("Close failed",F);E.rl.Mx(F).code=l.L.Tcb;throw F;})):Promise.resolve(void 0);};c.prototype.Gs=function(){return this.Jn;};c.prototype.E3=function(){return void 0 !== this.Ni;};c.prototype.createSession=function(E,F,D,G){var I;I=this;this.context=E;this.pIb=F;this.Qf=G;this.xk=A.create;this.Vo(r.Jr.mXa);return (D.XUa()?Promise.resolve():this.co.Op(this.config.ZLa,this.hh.createMediaKeys(E,F)).then(function(J){I.log.trace("Created media keys");D.setMediaKeys(J);return I.plb(J);})).then(function(){I.mediaKeys=D.mediaKeys;try{I.hh.createSession(I.mediaKeys,"temporary");I.hh.vLa(I.Uoa);I.hh.rLa(I.Soa);I.hh.pLa(I.Rm);I.hh.ikb(I.EKb);I.nW(I.hh.ky());}catch(J){return Promise.reject(new v.pg(l.L.m$a,l.M.fj,void 0,"Unable to create a persisted key session",J));}}).catch(function(J){return J.code && J.jc?Promise.reject(J):Promise.reject(new v.pg(l.L.EO,J instanceof x.qq?l.M.FO:l.M.fj,void 0,"Unable to create MediaKeys. " + J.message,J));});};c.prototype.gSb=function(E){this.li=E;this.log.mLa("xid",E.ba);};c.prototype.Wxb=function(E){var F;F=this;return this.generateRequest(E).then(function(){F.log.trace("Returning the challenge promise");return F.nU.promise;});};c.prototype.Xxb=function(E){this.generateRequest(E);return this.op.promise;};c.prototype.sLa=function(E){this.ee=E.ee;E=E.Ni.map(function(F){return F.data;});this.Vka(E)?(this.log.error("The license buffer is empty"),this.YB(new v.pg(l.L.Qxa,l.M.Oxa))):(this.xk === A.ig && (this.Vo(r.Jr.l1a),this.Ni=E,this.wQa=this.rl.bL(this.nv,E),this.vFb()),this.xk === A.DG && (this.Vo(r.Jr.o1a),this.Ni=E,this.wQa=this.rl.bL(this.nv,E),this.Lea()));};c.prototype.ukb=function(E){this.xk === A.DG?(this.Vo(r.Jr.p1a),this.dU(E)):this.YB(E);};c.prototype.Lea=function(){var E,F;E=this;if(!this.Ni)return this.B4(new v.pg(l.L.Qxa,l.M.Txa));this.Xs=new B.lZ();F=this.Ni;this.Ni=void 0;this.co.Op(this.config.cMa,this.hh.update(F,this.xk === A.ig?w.PD.Request:w.PD.xFa,this.nv)).then(function(){E.rl.m1() && E.MWa();}).catch(function(D){D=E.rl.Mx(D);D.code=l.L.fZ;D.message="Unable to update the EME";E.log.error(D.message,D);E.B4(D);});return this.Xs.promise;};c.prototype.ZRb=function(E){this.LKb=E;};c.prototype.TRb=function(E){this.WZa=E;};c.prototype.bL=function(){return this.wQa;};c.prototype.generateRequest=function(E){var F;F=this;this.xk=A.ig;this.log.trace("Generating a license challenge");this.op=new B.lZ();this.nU=new B.lZ();return E?this.Vka(E)?(E=new v.pg(l.L.Pxa,l.M.Oxa),this.YB(E),Promise.reject(E)):this.co.Op(this.config.$La,this.hh.generateRequest(this.rl.qT(),E)).then(function(){F.nW(F.hh.ky());}).catch(function(D){var G,I;G=new v.pg(l.L.qY,D instanceof x.qq?l.M.FO:l.M.fj);I=F.rl.Mx(D);G.wd=I.wd;G.message="Unable to generate request.";G.pS(D);F.log.error("Unable to generate a license request",G);F.YB(G);return Promise.reject(G);}):(E=new v.pg(l.L.Pxa,l.M.Txa),this.YB(E),Promise.reject(E));};c.prototype.plb=function(E){var F,D;F=this;D=this.rl.xja();return D?(D=this.xx.decode(D),this.co.Op(this.config.bMa,this.hh.setServerCertificate(E,D)).then(function(G){F.log.trace("Set the server certificate",{result:G});})):Promise.resolve();};c.prototype.nW=function(E){E && E !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + E),this.sessionId=E,this.log.mLa("sessionId",E));};c.prototype.QPb=function(){var E;E=this;this.H1a || (this.H1a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.$B}),setTimeout(function(){E.CG();},this.config.$B.ea(k.ma)));};c.prototype.oFb=function(E){var F;return !(null === (F=this.context.zt) || void 0 === F || !F.some(function(D){return D.Li === E && 1080 < D.e7.height;}));};c.prototype.r4=function(E,F){return F === l.L.vaa?this.oFb(E)?this.config.q_a:this.config.p_a:! !F;};c.prototype.CG=function(){this.log.trace("Initiating a renewal request");this.Qf=n.Th.Co;this.xk=A.DG;this.rl.Mfa()?this.rl.Mla(this.hh):this.z1();};c.prototype.z1=function(){var E;E=this;this.hh.z1(this.mediaKeys,"temporary",this.Uoa,this.Soa,this.Rm).then(function(){E.log.debug("Creating session to renew license");E.nW(E.hh.ky());}).catch(function(){E.dU(new v.pg(l.L.qY));});};c.prototype.Vka=function(E){return 0 === E.length || E.reduce(function(F,D){return F || 0 === D.length;},!1);};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(g.Kb)),q.__param(1,f.l(d.zd)),q.__param(2,f.l(h.Rh)),q.__param(3,f.l(m.bu)),q.__param(4,f.l(w.$xa)),q.__param(5,f.l(t.j$a)),q.__param(6,f.l(u.Gxa)),q.__param(7,f.l(x.Gw))],a);b.dya=a;},function(q,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.xQa=b.Jr=void 0;(function(c){c[c.mXa=0]="licenseStarted";c[c.m1a=1]="receivedLicenseChallenge";c[c.l1a=2]="receivedLicense";c[c.n1a=3]="receivedRenewalChallengeComplete";c[c.o1a=4]="receivedRenewalLicenseComplete";c[c.p1a=5]="receivedRenewalLicenseFailed";c[c.OOb=6]="receivedIndivChallengeComplete";c[c.POb=7]="receivedIndivLicenseComplete";c[c.tLa=8]="addLicenseComplete";c[c.ALa=9]="addRenewalLicenseComplete";c[c.BLa=10]="addRenewalLicenseFailed";})(a=b.Jr || (b.Jr={}));b.xQa=function(c){switch(c){case a.mXa:return "lg";case a.m1a:return "lc";case a.l1a:return "lr";case a.n1a:return "renew_lc";case a.o1a:return "renew_lr";case a.p1a:return "renew_lr_failed";case a.OOb:return "ilc";case a.POb:return "ilr";case a.tLa:return "ld";case a.ALa:return "renew_ld";case a.BLa:return "renew_ld_failed";default:return "unknown";}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.vwa="ClockConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ICa="OneWayCounterFactorySymbol";},function(q,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.A9=void 0;q=a(1);a=a(0);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(k){for(var l=new Uint8Array(k.length / 2),d=0;d < l.length;d++){l[d]=this.k5a(k.substr(2 * d,2));}return l;};c.prototype.encode=function(k){var h;for(var l="",d=k.length,g=0;g < d;g++){h=k[g];l+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return l;};c.prototype.rF=function(k,l){var d;d="";for(l<<=1;l--;){d=(("0123456789ABCDEF")[k & 15] || "0") + d;k>>>=4;}return d;};c.prototype.k5a=function(k){var l;l=k.length;if(7 < l)throw Error("hex to long");for(var d=0,g=0;g < l;g++){d=16 * d + f[k[g]];}return d;};a=q.__decorate([a.R()],c);b.A9=a;},function(q,b,a){var f,k;function c(){this.mp={};this.id="$es$" + f.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Wj=void 0;q=a(1);a=a(0);c.prototype.addListener=function(l,d,g){var h,m;h="$netflix$player$order" + this.id + "$" + l;if(this.mp){m=this.mp[l]?this.mp[l].slice():[];g && (d[h]=g);0 > m.indexOf(d) && (m.push(d),m.sort(function(n,r){return (n[h] || 0) - (r[h] || 0);}));this.mp[l]=m;}};c.prototype.removeListener=function(l,d){if(this.mp && this.mp[l]){for(var g=this.mp[l].slice(),h;0 <= (h=g.indexOf(d));){g.splice(h,1);}this.mp[l]=g;}};c.prototype.tc=function(l,d,g){var h;if(this.mp){h=this.Jja(l);for(l={DH:0};l.DH < h.length;(l={DH:l.DH},l.DH++)){g?(function(m){return function(){var n;n=h[m.DH];setTimeout(function(){n(d);},0);};})(l)():h[l.DH].call(this,d);}}};c.prototype.kh=function(){this.mp=void 0;};c.prototype.on=function(l,d,g){this.addListener(l,d,g);};c.prototype.Jja=function(l){var d;return null !== (d=this.mp && (this.mp[l] || (this.mp[l]=[]))) && void 0 !== d?d:[];};k=f=c;k.counter=0;k=f=q.__decorate([a.R()],k);b.Wj=k;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mwa="CsvEncoderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y9="DecoderTimeoutPathologistSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.iaa=b.Nbb=void 0;b.Nbb=function(){};b.iaa="MseConfigSymbol";},function(q,b,a){function c(f){this.Ogb=void 0 === f?!1:f;this.He={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.$aa=void 0;q=a(1);a=a(0);c.prototype.add=function(f,k){var l;k=void 0 === k?0:k;l=this.He[k];l?this.Ogb && -1 !== l.indexOf(f) || l.push(f):this.He[k]=[f];};c.prototype.remove=function(f,k){this.ex(f,void 0 === k?0:k);};c.prototype.removeAll=function(f){this.ex(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.He).sort().reduce(function(k,l){return k.concat(f.He[l]);},[]);};c.prototype.ex=function(f,k){Object.entries(this.He).forEach(function(l){var d,g;d=aa(l);l=d.next().value;d=d.next().value;if(void 0 === k || k === parseInt(l)){-1 < (g=d.indexOf(f)) && d.splice(g,1);}});};a=q.__decorate([a.R()],c);b.$aa=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.BHa="UrlFactorySymbol";},function(q,b,a){var f,k,l,d;function c(g,h,m,n,r,p,u){this.debug=g;this.config=h;this.platform=m;this.k5=n;this.debug.assert(r && r != k.L.jm,"There should always be a specific error code");this.errorCode=r || k.L.jm;p && l.Sg(p)?(this.oa=p.oa || p.jc,this.Ve=p.Ve || p.wd,this.jia=p.jia || p.Bm,this.sb=p.sb || p.details,this.tS=p.Dj,this.GK=p.GK || p.fZa || p.Av,this.EK=p.EK || p.data,p.DU && (this.DU=p.DU),this.lk=p.lk,this.method=p.method,this.I5=p.I5,this.alert=p.alert,this.Cea=p.Cea,this.debug.assert(!this.lk || this.lk == this.Ve)):(this.oa=p,this.Ve=u);this.stack=[this.errorCode];this.oa?this.stack.push(this.oa):this.Ve && this.stack.push(k.M.jm);this.Ve && this.stack.push(this.Ve);this.S1=this.platform.kp + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;f=a(12);k=a(3);l=a(29);d=a(17);a(24);c.prototype.toString=function(){var g;g="[PlayerError #" + this.S1 + "]";this.sb && (g+=" " + this.sb);this.tS && (g+=" (CustomMessage: " + this.tS + ")");return g;};c.prototype.gta=function(){var g,h;this.tS && (g=["streaming_error"]);g || this.k5.Gs() !== f.pY || ("80080017" == this.Ve && (g=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ve && (g=["pause_timeout"]));g || this.k5.Gs() !== f.a$ || this.errorCode !== k.L.Nxa && this.errorCode !== k.L.EO || (g=["no_cdm","platform_error","plugin_error"]);this.iFb() && (g=["received_soad"]);h=this.Myb();h && (g=[h],this.tS=void 0);if(!g)switch(this.errorCode){case k.L.eZ:case k.L.KY:case k.L.z7a:case k.L.VCa:g=["pause_timeout"];break;case k.L.Oza:case k.L.Pza:g=this.oa?["platform_error"]:["multiple_tabs"];break;case k.L.ibb:case k.L.Xdb:case k.L.Iab:case k.L.Hab:case k.L.Kab:g=["should_signout_and_signin"];break;case k.L.B$:case k.L.$Ca:case k.L.YCa:case k.L.waa:case k.L.TCa:g=["platform_error","plugin_error"];break;case k.L.yP:g=["no_cdm","platform_error","plugin_error"];break;case k.L.xP:g=this.oa?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case k.L.Uxa:case k.L.oq:case k.L.fZ:switch(this.Ve){case "FFFFD000":g=["device_needs_service","platform_error"];break;case "48444350":g=["unsupported_output","platform_error"];break;case "00000024":g=["private_mode"];}break;case k.L.WCa:case k.L.vaa:g=["unsupported_output"];}!g && k.oya(this.oa) && (g=this.oa == k.M.bP?["geo"]:["internet_connection_problem"]);g || this.errorCode !== k.L.EO || this.oa !== k.M.fj || "S" !== this.platform.kp || (g=["private_mode"]);if(!g)switch(this.s4a(this.oa)){case k.M.Jba:g=["should_upgrade"];break;case k.M.QCa:g=["should_reset_device"];break;case k.M.PCa:g=["should_reload_device"];break;case k.M.OCa:g=["should_exit_device"];break;case k.M.Pbb:case k.M.lBa:g=["should_signout_and_signin"];break;case k.M.Qbb:g=["internet_connection_problem"];break;case k.M.Rwa:g=["platform_error","plugin_error"];break;case k.M.Qwa:case k.M.vza:case k.M.wza:g=["private_mode"];}g=g || [];g.push(this.platform.kp + this.errorCode);if(this.oa)switch(this.s4a(this.oa)){case k.M.RCa:g.push("incorrect_pin");break;default:g.push("" + this.oa);}g={display:{code:this.S1,text:this.tS},messageIdList:g,alert:this.alert,alertTag:this.Cea};if(this.GK || this.fZa)g.mslErrorCode=this.GK || this.fZa || this.Av;return g;};c.prototype.s4a=function(g){var h;h=parseInt(g,10);return isNaN(h)?g:h;};c.prototype.iFb=function(){var g;g=d.xa(this.Ve)?this.Ve.toString():d.ze(this.Ve)?this.Ve:"";return this.GK === k.SY.Eba && (g.endsWith("2018") || g.endsWith("2020"));};c.prototype.Myb=function(){if(this.errorCode === k.L.cI && (this.oa === k.M.saa || this.oa === k.M.NCa))return this.Nyb(this.oa === k.M.saa);};c.prototype.Nyb=function(g){var h,m,n,r;n=this.config().browserInfo || ({});r=null === (h=n.os) || void 0 === h?void 0:h.name;h=((null === (m=n.os) || void 0 === m?void 0:m.version) || "").split(".");m=parseInt(h && h[0]);h=parseInt(h && h[1]);switch(r){case "windows":return 6 > m || 6 === m && 1 > h?g?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":g?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > m || 10 === m && 10 > h?g?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":g?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return g?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.BEa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.baa="MediaElementHelpersSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.HO="EventSourceFactorySymbol";},function(q,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.HO=b.rya=void 0;q=a(1);f=a(316);a=a(0);c.prototype.create=function(){return new f.Wj();};a=q.__decorate([a.R()],c);b.rya=a;b.HO="EventSourceFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zwa="DebouncerFactorySymbol";},function(q,b,a){var f;function c(k,l,d,g,h,m){this.level=k;this.Gn=l;this.timestamp=d;this.message=g;this.Sb=h;this.index=void 0 === m?0:m;this.ebb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Q$=void 0;f=a(5);c.prototype.j8=function(k,l){var d;d="" + this.message;this.Sb.forEach(function(g){d+=g.mH(k,l);});return (this.timestamp.ea(f.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.ebb[this.level] || this.level) + "|" + this.Gn + "| " + d;};b.Q$=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kCa="MomentObserverFactory";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dGa="SegmentConfigFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.mEa="PlaybackFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.OHa="VideoPlayerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.nHa="TransitionLoggerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.oxa="DiagnosticsFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uDa="PboGenerateScreenshotsCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.aHa="ThroughputTrackerConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.dHa="ThroughputTrackerSymbol";b.bHa="ThroughputTrackerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wya="ExtraPlatformInfoProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kwa="CapabilityDetectorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.pva={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(q,b,a){var f,k,l;function c(d,g,h,m){this.config=d;this.Oi=g;this.mediaType=h;this.xv=m;this.Qna={};this.Qna[f.hm.Audio]="audio";this.Qna[f.hm.LHa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.uO=void 0;f=a(25);q=a(106);k=a(209);l=new q.nA().format;c.prototype.yUa=function(d){return this.Rtb(this.cUa(d));};c.prototype.Ex=function(d){return this.Oi.isTypeSupported(d);};c.prototype.QSa=function(){return [k.Ff.FX,k.Ff.aza,k.Ff.WH];};c.prototype.Kla=function(){this.Ym=[];this.Kv=[];this.config().u_a && this.Kv.push(k.Ff.$ya);this.config().t_a && this.Kv.push(k.Ff.Sya);this.config().s_a && this.Kv.push(k.Ff.Ir);this.config().rC && this.Kv.push(k.Ff.YC);this.config().v_a && this.Kv.push(k.Ff.QD);this.config().r_a && this.Kv.push(k.Ff.Fk);this.Kv=this.Kv.concat(this.QSa());!this.config().Evb && this.Ym.push(k.Ff.EI);!this.config().MQa && this.Ym.push(k.Ff.d9a);!this.config().LQa && this.Ym.push(k.Ff.e9a);!this.config().FS && this.Ym.push(k.Ff.f9a);!this.config().tvb && this.Ym.push(/prk$/);this.config().s_a || this.config().fvb || this.Ym.push(k.Ff.Ir);this.config().u_a || this.config().hvb || this.Ym.push(k.Ff.$ya);this.config().t_a || this.config().Yha || this.Ym.push(k.Ff.Sya);this.config().rC || this.config().yK || this.Ym.push(k.Ff.YC);this.config().v_a || this.config().Cvb || this.Ym.push(k.Ff.QD);this.config().r_a || this.config().bvb || this.Ym.push(k.Ff.Fk);!this.config().Bvb && this.Ym.push(k.Ff.AI);};c.prototype.DRa=function(d){var g,h;g=this;h=d.map(function(m){for(var n=aa(g.Kv),r=n.next();!r.done;r=n.next()){if(r.value.test(m))return Promise.resolve(!0);}n=aa(g.Ym);for(r=n.next();!r.done;r=n.next()){if(r.value.test(m))return Promise.resolve(!1);}return g.LK(m);});return Promise.all(h).then(function(m){return d.filter(function(n,r){return m[r];});});};c.prototype.LK=function(d){return this.config().qvb?this.xv.LK(d):this.Lwb(d);};c.prototype.Lwb=function(d){var g;d=this.bqa[d];g="";return d?(Array.isArray(d) && (g=1 < d.length?" " + d[1]:"",d=d[0]),d=l("{0}/mp4;codecs={1};{2}",this.Qna[this.mediaType],d,g),d=this.Ex(d),Promise.resolve(d)):Promise.resolve(!1);};c.prototype.Rtb=function(d){var g;g={};this.Kla();return this.DRa(d).then(function(h){return h.map(function(m){return g[m]=1;});}).then(function(){return Object.keys(g);});};Xa.Object.defineProperties(c.prototype,{bqa:{configurable:!0,enumerable:!0,get:function(){this.qKa || (this.qKa=this.cF());return this.qKa;}}});b.uO=c;},function(q,b,a){var f,k,l,d,g;function c(h,m,n){n=k.uO.call(this,h,m,f.hm.Audio,n) || this;n.config=h;n.Oi=m;n.type=f.Wt.Zt;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.mY=void 0;f=a(25);k=a(340);l=a(50);d=a(140);g=new (a(106).nA)().format;ka(c,k.uO);c.prototype.GW=function(){var h;h=g(c.tH,d.Sd.c9a);return Promise.resolve(this.config().FS && this.Oi.isTypeSupported(h));};c.prototype.cF=function(){var h;h={};h[l.je.hD]="mp4a.40.2";h[l.je.Zya]="mp4a.40.2";h[l.je.iD]="mp4a.40.2";h[l.je.EI]="mp4a.40.42";h[l.je.wO]="ec-3";h[l.je.M9]="ec-3";h[l.je.xO]="ec-3";return h;};c.prototype.cUa=function(h){return h || this.config().YA;};b.mY=c;c.tH="audio/mp4;codecs={0};";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.IBa="MediaCapabilitiesDetectorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.MBa="MediaCapabilitiesSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.LBa="MediaCapabilitiesLogHelperSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.hFa="PresentationAPISymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.MY="IndexedDBConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.tba="Storage";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iwa="CorruptedStorageValidatorConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.CAa="LocalStorageSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eCa="MemoryStorageSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dva="BookmarkSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bva="BookmarkConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ava="BookmarkConfigParserSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tva="CDMAttestedDescriptorProvider";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wBa="ManifestParserFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uBa="ManifestProviderConfigSymbol";},function(q){q.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(q,b,a){var c,f,k,l,d,g;b=a(57);c=a(359);f=a(678);k=a(357);l=a(214);d=a(683);g=a(362);a=b(c(["filter"],d,function(h,m){return k(m)?l(function(n,r){h(m[r]) && (n[r]=m[r]);return n;},{},g(m)):f(h,m);}));q.exports=a;},function(q,b,a){var c,f;c=a(360);f=a(677);q.exports=function(k,l,d){return function(){var g,h;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);h=g.pop();if(!c(h)){for(var m=0;m < k.length;){if("function" === typeof h[k[m]])return h[k[m]].apply(h,g);m+=1;}if(f(h))return l.apply(null,g)(h);}return d.apply(this,arguments);};};},function(q){q.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(q){q.exports={mb:function(){return this.DX["@@transducer/init"]();},result:function(b){return this.DX["@@transducer/result"](b);}};},function(q,b,a){var c,f,k,l,d;b=a(123);c=a(213);f=a(684);k=!({toString:null}).propertyIsEnumerable("toString");l=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var h,m,n,r;if(Object(g) !== g)return [];h=[];m=d && f(g);for(n in g){!c(n,g) || m && "length" === n || (h[h.length]=n);}if(k)for(m=l.length - 1;0 <= m;){n=l[m];if(r=c(n,g)){a:{for(r=0;r < h.length;){if(h[r] === n){r=!0;break a;}r+=1;}r=!1;}r=!r;}r && (h[h.length]=n);--m;}return h;}:function(g){return Object(g) !== g?[]:Object.keys(g);});q.exports=a;},function(q){q.exports=function(b,a){for(var c=0,f=a.length,k=Array(f);c < f;){k[c]=b(a[c]);c+=1;}return k;};},function(q,b,a){var c,f,k;c=a(215);f=a(123);b=a(57);k=a(687);a=b(function(l,d){return 1 === l?f(d):c(l,k(l,[],d));});q.exports=a;},function(q,b){function a(c,f){this.log=c;this.o8=f;}Object.defineProperty(b,"__esModule",{value:!0});b.mP=void 0;a.prototype.t5a=function(c,f){var k,l;k=this;if(!c)return (this.log.warn("There are no media streams for " + f.type + " track - " + f.trackId),[]);l=c.map(function(d){var g;g=k.o8(f,f.type,d.Mha,d.bitrate,d.zb,d.size,k.lzb(d.urls),d.ZR,d.Exb / d.Dxb,d.By);g.ySb(d.pQb,d.oQb,d.$_a,d.Z_a);g.MRb(d.Fsb,d.Gsb,d.Esb,d.Dsb,d.$_a,d.Z_a);f.Kl && (g.Kl=f.Kl);d.ZR && (g.Mg=d.ZR);return g;});l.sort(function(d,g){return d.bitrate - g.bitrate;});l.forEach(function(d,g){d.lower=l[g - 1];d.WCb=l[g + 1];});return l;};a.prototype.lzb=function(c){return c.reduce(function(f,k){f[k.JNa]=k.url;return f;},{});};b.mP=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.CEa="PlayerTextTrackFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lHa="TrackStreamFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.tHa="TrickPlayFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.BBa="ManifestVerifyErrorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ABa="ManifestTransformerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ADa="PboLinksManagerSymbol";b.yDa="PboLinksManagerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qBa="ManifestEnricherSymbol";},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(2);q.__exportStar(a(707),b);q.__exportStar(a(708),b);q.__exportStar(a(709),b);q.__exportStar(a(710),b);q.__exportStar(a(711),b);q.__exportStar(a(712),b);q.__exportStar(a(713),b);q.__exportStar(a(714),b);q.__exportStar(a(715),b);q.__exportStar(a(716),b);q.__exportStar(a(717),b);q.__exportStar(a(718),b);q.__exportStar(a(722),b);q.__exportStar(a(218),b);q.__exportStar(a(723),b);q.__exportStar(a(219),b);q.__exportStar(a(724),b);q.__exportStar(a(725),b);q.__exportStar(a(726),b);q.__exportStar(a(727),b);q.__exportStar(a(728),b);q.__exportStar(a(729),b);q.__exportStar(a(730),b);q.__exportStar(a(731),b);q.__exportStar(a(732),b);q.__exportStar(a(733),b);q.__exportStar(a(734),b);q.__exportStar(a(735),b);q.__exportStar(a(736),b);q.__exportStar(a(737),b);q.__exportStar(a(738),b);q.__exportStar(a(739),b);q.__exportStar(a(740),b);q.__exportStar(a(748),b);q.__exportStar(a(750),b);q.__exportStar(a(751),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kea=void 0;b.Kea=function(a,c,f){var k,l;k=!0;f.forEach(function(d){var g;if(k && a === d.profile){g=d.ranges;k=void 0 === g?c >= d.min && c <= d.max:g.some(function(h){return c >= h.min && c <= h.max;});!k && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (l=h.disallowedBy,!0);});}});return {inRange:k,R1:l};};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CD=void 0;b.CD={Dm:function(a){return a;}};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Hga=b.rwb=b.gB=b.XG=void 0;c=a(2);f=a(22);k=a(73);Object.defineProperties(b,{XG:{enumerable:!0,get:function(){return k.XG;}}});Object.defineProperties(b,{gB:{enumerable:!0,get:function(){return k.gB;}}});b.rwb=function(l,d){var g,p,u;l=Math.max(l.duration - 3E4,3E4);for(var h={},m,n=0,r=0;r < l;r+=3E4){p="s" + n++;u={da:d,xc:r,Yc:r + 3E4 < l?r + 3E4:null};void 0 !== m && (m.next=(g={},g[p]={weight:1},g),m.Ki=p);m=h[p]=u;}return {hg:"s0",Ca:h,Yd:"lazy"};};b.Hga=function(l,d,g){var h,r,p,u;try{for(var m=c.__values(Object.keys(l.Ca)),n=m.next();!n.done;n=m.next()){r=n.value;p=l.Ca[r];if(p.da === d){u=f.S.rb(p.xc);if(g.xp(u) && (null === p.Yc || void 0 === p.Yc || g.lessThan(f.S.rb(p.Yc))))return {va:r,offset:g.Ba(u)};}}}catch(w){var t;t={error:w};}finally{try{n && !n.done && (h=m.return) && h.call(m);}finally{if(t)throw t.error;}}};},function(q){function b(){}function a(c){this.WKa=c;this.Fo=[];this.bg=null;}b.prototype.clear=function(){this.He=null;this.size=0;};b.prototype.find=function(c){var k;for(var f=this.He;null !== f;){k=this.mm(c,f.data);if(0 === k)return f.data;f=f.Qg(0 < k);}return null;};b.prototype.lowerBound=function(c){var d;for(var f=this.He,k=this.iterator(),l=this.mm;null !== f;){d=l(c,f.data);if(0 === d)return (k.bg=f,k);k.Fo.push(f);f=f.Qg(0 < d);}for(d=k.Fo.length - 1;0 <= d;--d){if((f=k.Fo[d],0 > l(c,f.data)))return (k.bg=f,k.Fo.length=d,k);}k.Fo.length=0;return k;};b.prototype.upperBound=function(c){for(var f=this.lowerBound(c),k=this.mm;null !== f.data() && 0 === k(f.data(),c);){f.next();}return f;};b.prototype.min=function(){var c;c=this.He;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.He;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Te=function(c){for(var f=this.iterator(),k;null !== (k=f.next());){c(k);}};a.prototype.data=function(){return null !== this.bg?this.bg.data:null;};a.prototype.next=function(){var c;if(null === this.bg){c=this.WKa.He;null !== c && this.RJa(c);}else if(null === this.bg.right){do {if((c=this.bg,this.Fo.length))this.bg=this.Fo.pop();else {this.bg=null;break;}}while(this.bg.right === c);}else (this.Fo.push(this.bg),this.RJa(this.bg.right));return null !== this.bg?this.bg.data:null;};a.prototype.xG=function(){var c;if(null === this.bg){c=this.WKa.He;null !== c && this.NJa(c);}else if(null === this.bg.left){do {if((c=this.bg,this.Fo.length))this.bg=this.Fo.pop();else {this.bg=null;break;}}while(this.bg.left === c);}else (this.Fo.push(this.bg),this.NJa(this.bg.left));return null !== this.bg?this.bg.data:null;};a.prototype.RJa=function(c){for(;null !== c.left;){this.Fo.push(c);c=c.left;}this.bg=c;};a.prototype.NJa=function(c){for(;null !== c.right;){this.Fo.push(c);c=c.right;}this.bg=c;};q.exports=b;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.paa=void 0;q=(function(){function a(c,f,k,l){var d;d=this;this.properties=c;this.transform=f;this.MR=k;this.state=l;this.Voa=function(){var g,h;g=d.state;h=d.properties.map(function(m){return m.value;});d.state=d.transform(h);(d.gWa(d.state) && d.gWa(g)?d.state.equal(g):g === d.state) || d.MR(d.state);};c.forEach(function(g){return g.addListener(d.Voa);});this.Voa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(f){return f.removeListener(c.Voa);});};a.prototype.gWa=function(c){return void 0 !== c.equal;};return a;})();b.paa=q;},function(q){function b(a){this.fda=a;this.Kf=[];this.yq=!1;this.vE=void 0;this.tj={};}b.prototype.v0=function(a){this.Kf.length === this.fda && this.Kf.shift();Array.isArray(a)?this.Kf=this.Kf.concat(a):this.Kf.push(a);this.yq=!0;};b.prototype.gL=function(){return this.Kf.length;};b.prototype.Hfa=function(){var a;a=this.Kf;return 0 < a.length?a.reduce(function(c,f){return c + f;},0) / this.Kf.length:void 0;};b.prototype.b1=function(){var a,c;a=this.Kf;if(0 < a.length){c=this.Hfa();a=a.reduce(function(f,k){return f + k * k;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.ms=function(a){var c,f,k;if(this.yq || void 0 === this.vE)(this.vE=this.Kf.slice(0).sort(function(l,d){return l - d;}),this.tj={},this.yq=!1);if(void 0 === this.tj[a]){c=this.vE;f=Math.floor(a / 100 * (c.length - 1) + 1) - 1;k=(a / 100 * (c.length - 1) + 1) % 1;this.tj[a]=f === c.length - 1?c[f]:c[f] + k * (c[f + 1] - c[f]);}return this.tj[a];};q.exports=b;},function(q,b,a){q.exports={z4b:a(381),E7b:a(225),iZb:a(786),hZb:a(382),jZb:a(383),Dya:a(789)};},function(q,b,a){var l;function c(d){this.reset();this.fSb(d);}function f(d){this.setInterval(d);this.reset();}function k(d){this.vA=new f(d);this.ve=0;this.Ac=null;}l=a(10);c.prototype.fSb=function(d){this.JI=Math.pow(.5,1 / d);this.rQ=d;};c.prototype.reset=function(d){d && d.Ea && l.xa(d.Ea)?d.vi && l.xa(d.vi)?(this.uu=this.Fgb,this.Go=d.Ea,this.rA=d.vi + d.Ea * d.Ea):(this.uu=this.Fgb,this.Go=d.Ea,this.rA=d.Ea * d.Ea):this.rA=this.Go=this.uu=0;};c.prototype.add=function(d){var g;if(l.xa(d)){this.uu++;g=this.JI;this.Go=g * this.Go + (1 - g) * d;this.rA=g * this.rA + (1 - g) * d * d;}};c.prototype.get=function(){var d,g,h;if(0 === this.uu)return {Ea:0,vi:0};d=this.Go;g=this.rA;h=1 - Math.pow(this.JI,this.uu);d/=h;g/=h;h=d * d;return {Ea:Math.floor(d),vi:Math.floor(g > h?g - h:0)};};c.prototype.getState=function(){return 0 === this.uu?null:{a:Number(this.Go.toPrecision(6)),s:Number(this.rA.toPrecision(6)),n:this.uu};};c.prototype.Ce=function(d){if(l.ob(d) || !l.has(d,"a") || !l.has(d,"s") || !l.isFinite(d.a) || !l.isFinite(d.s))return (this.rA=this.Go=this.uu=0,!1);this.Go=d.a;this.rA=d.s;l.has(d,"n") && l.xa(d.n)?this.uu=d.n:this.uu=16 * this.rQ;return !0;};f.prototype.setInterval=function(d){this.rQ=d;this.JI=-Math.log(.5) / d;};f.prototype.reset=function(d){this.ib=this.gf=null;d && l.isFinite(d.Ea)?this.Go=d.Ea:this.Go=0;};f.prototype.start=function(d){l.ob(this.gf) && (this.ib=this.gf=d);};f.prototype.add=function(d,g,h){var m,n;l.ob(this.gf) && (this.ib=this.gf=g);this.gf=Math.min(this.gf,g);g=Math.max(h - g,1);m=this.JI;n=h > this.ib?h:this.ib;this.Go=this.Go * (n > this.ib?Math.exp(-m * (n - this.ib)):1) + 8 * d / g * (1 - Math.exp(-m * g)) * (h > n?Math.exp(-m * (n - h)):1);this.ib=n;};f.prototype.get=function(d){var g;d=Math.max(d,this.ib);g=this.Go * Math.exp(-this.JI * (d - this.ib));d=1 - Math.exp(-this.JI * (d - this.gf));0 < d && (g/=d);return {Ea:Math.floor(g)};};f.prototype.toString=function(){return "ewmav(" + this.rQ + ")";};k.prototype.setInterval=function(d){this.vA.setInterval(d);};k.prototype.reset=function(d){this.vA.reset(d);this.ve=0;this.Ac=null;};k.prototype.start=function(d){!l.ob(this.Ac) && d > this.Ac && (this.ve+=d - this.Ac,this.Ac=null);this.vA.start(d - this.ve);};k.prototype.add=function(d,g,h){!l.ob(this.Ac) && h > this.Ac && (this.ve+=g > this.Ac?g - this.Ac:0,this.Ac=null);this.vA.add(d,g - this.ve,h - this.ve);};k.prototype.stop=function(d){this.Ac=Math.max(l.ob(this.vA.ib)?0:this.vA.ib + this.ve,l.ob(this.Ac)?d:Math.min(this.Ac,d));};k.prototype.get=function(d){return this.vA.get((l.ob(this.Ac)?d:this.Ac) - this.ve);};k.prototype.toString=function(){return this.vA.toString();};q.exports={f$a:c,BZb:f,d$a:k};},function(q,b,a){var f,k;function c(l,d,g,h){f.call(this,g,h);this.Bu=new k(l);this.jhb=d;}f=a(145);k=a(379);c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var l;l=this.Ev(0);f.prototype.shift.call(this);null !== l && this.Bu.v0(l);return l;};c.prototype.flush=function(){var l;l=this.get();this.Bu.v0(l);f.prototype.reset.call(this);return l;};c.prototype.get=function(){var l;l=this.yT();return {sampleSize:this.gL(),q6:l,XU:l.Jj?(l.il - l.gl) / l.Jj:void 0};};c.prototype.gL=function(){return this.Bu.gL();};c.prototype.yT=function(){return this.Bu.gL() < this.jhb?{gl:void 0,Jj:void 0,il:void 0,sampleSize:void 0,Si:void 0}:{gl:this.Bu.ms(25),Jj:this.Bu.ms(50),il:this.Bu.ms(75),sampleSize:this.Bu.gL(),Si:this.Bu.ms.bind(this.Bu)};};c.prototype.toString=function(){return "biqr(" + this.HJ + "," + this.qd + "," + this.wj + ")";};q.exports=c;},function(q,b,a){var f,k;function c(l){this.I={yU:l.maxc || 25,wga:l.c || .5,kYb:l.w || 15E3,Ax:l.b || 5E3};f.call(this,this.I.kYb,this.I.Ax);this.QQ();}f=a(145);k=a(223).TDigest;c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var l;l=this.Ev(0);f.prototype.shift.call(this);null !== l && (this.Ie.push(l,1),this.yq=!0);return l;};c.prototype.flush=function(){var l;l=this.get();this.Ie.push(l,1);this.yq=!0;f.prototype.reset.call(this);return l;};c.prototype.get=function(){return this.AUa();};c.prototype.my=function(){var l;l=this.AUa();return {min:l.min,p10:l.j6,p25:l.gl,p50:l.Jj,p75:l.il,p90:l.k6,max:l.max,centroidSize:l.$nb,sampleSize:l.sampleSize,centroids:l.ci};};c.prototype.AUa=function(){var l;if(0 === this.Ie.size())return null;l=this.Ie.Si([0,.1,.25,.5,.75,.9,1]);if(l[2] === l[4])return null;if(this.yq || !this.If)(this.yq=!1,this.If={min:l[0],j6:l[1],gl:l[2],Jj:l[3],il:l[4],k6:l[5],max:l[6],Si:this.Ie.Si.bind(this.Ie),$nb:this.Ie.size(),sampleSize:this.Ie.n,ci:this.Oyb(),my:this.my.bind(this)});return this.If;};c.prototype.Oyb=function(){var l;if(0 === this.Ie.size())return null;if(!this.yq && this.If)return this.If.centroids;l=this.Ie.Si([.25,.75]);if(l[0] === l[1])return null;this.Ie.size() > this.I.yU && this.Ie.Kx();l=this.Ie.no(!1).map(function(d){return {mean:d.Rf,n:d.n};});return JSON.stringify(l);};c.prototype.wUa=function(){return this.Ie.summary();};c.prototype.size=function(){return this.Ie.size();};c.prototype.toString=function(){return "btdtput(" + this.HJ + "," + this.qd + "," + this.wj + "): " + this.Ie.summary();};c.prototype.QQ=function(){this.Ie=new k(this.I.wga,this.I.yU);};q.exports=c;},function(q,b,a){var f,k;function c(l){this.I={yU:l.maxc || 25,wga:l.c || .5,QOb:l.rc || "none",hCb:l.hl || 7200};this.QQ();this.Jib=this.I.QOb;this.rQ=this.I.hCb;this.Vba=Math.exp(Math.log(2) / this.rQ);this.Vba=Math.max(this.Vba,1);this.d_=1;}f=a(10);k=a(223).TDigest;new (a(4).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var l;if(0 === this.Ie.size())return null;l=this.Ie.Si([.25,.75]);if(l[0] === l[1])return null;this.Ie.size() > this.I.yU && this.Ie.Kx();l=this.Ie.no(!1).reduce((function(d,g){f.xa(g.Rf) && f.xa(g.n) && d.push({mean:g.Rf,n:g.n / this.d_});return d;}).bind(this),[]);return {tdigest:JSON.stringify(l)};};c.prototype.Ce=function(l){var d;if(f.ob(l) || !f.has(l,"tdigest") || !f.ze(l.tdigest))return !1;try{d=JSON.parse(l.tdigest);}catch(g){return !1;}d.forEach(function(g){f.isFinite(g.n) || (g.n=1);});l=d.map(function(g){return {Rf:g.mean,n:g.n};});this.d_=1;this.Ie.gqa(l);void 0 === this.Ie.Si(0) && this.QQ();};c.prototype.get=function(){var l,d;l=this.Ie;d=l.Si([0,.1,.25,.5,.75,.9,1]);return {min:d[0],j6:d[1],gl:d[2],Jj:d[3],il:d[4],k6:d[5],max:d[6],ci:l.no(!1)};};c.LAb=function(l){var d;d=new c({});f.ob(l) || f.ga(l) || !f.isArray(l.ci) || (d.Ie.gqa(l.ci),void 0 === d.Ie.Si(0) && d.QQ());l=d.Ie.Si([.25,.75]);return l[0] === l[1]?null:function(g){return d.Ie.Si(g);};};c.prototype.add=function(l){var d;d=1;"ewma" === this.Jib && (this.d_=d=this.d_ * this.Vba);this.Ie.push(l,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Ie.summary() + ")";};c.prototype.QQ=function(){this.Ie=new k(this.I.wga,this.I.yU);};q.exports={WGa:c};},function(q){(function(){var k00;k00=2;for(;k00 !== 8;){switch(k00){case 4:var Y9b="1";Y9b+="SIYb";Y9b+="ZrNJ";Y9b+="C";Y9b+="p9";b.prototype.get=function(){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return {Ea:this.HA?Math.floor(8 * this.Fc / this.HA):null,V1:this.HA?this.HA:0};break;}}};q.exports=b;Y9b;k00=8;break;case 2:b.prototype.start=function(a){var m00;m00=2;for(;m00 !== 1;){switch(m00){case 2:this.gf?a < this.gf?(this.HA+=this.gf - a,this.gf=a):a > this.ib && (this.ib=this.gf=a):this.ib=this.gf=a;m00=1;break;}}};b.prototype.stop=function(a){var n00;n00=2;for(;n00 !== 1;){switch(n00){case 2:this.ib && a > this.ib && (this.HA+=a - this.ib,this.ib=a);n00=1;break;}}};b.prototype.add=function(a,c,f){var o00;o00=2;for(;o00 !== 4;){switch(o00){case 2:this.start(c);this.stop(f);this.Fc+=a;o00=4;break;}}};k00=4;break;}}function b(){var l00;l00=2;for(;l00 !== 5;){switch(l00){case 2:this.HA=this.Fc=0;this.ib=this.gf=void 0;l00=5;break;}}}})();},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Gr=void 0;q=b.Gr || (b.Gr={});q[q.CLOSED=0]="CLOSED";q[q.OPEN=1]="OPEN";},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mza=b.z$=void 0;c=a(2);f=c.__importStar(a(10));k=c.__importDefault(a(4));l=a(806);d=a(807);g=(function(){return function(){this.L0=new d.AP(100);this.L5=new d.AP(100);};})();q=(function(){function h(m,n,r){var p,u,t;this.I=n;this.H=r;this.a0=m;p=this.zJ=this.NI=this.MI=0;u=0;t=0;this.a0.length >= this.I.w5 && (this.a0.forEach(function(w){!(w=w.get().pxb) || f.ga(w.avtp) || f.ga(w.neuhd) || (p+=w.avtp,u+=1 * w.neuhd,t++);}),this.zJ=t,this.MI=p / t,this.NI=u / t);}Object.defineProperties(h.prototype,{kmb:{get:function(){return this.MI;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lmb:{get:function(){return this.NI;},enumerable:!1,configurable:!0}});h.prototype.t4=function(){return this.zJ >= this.I.w5 && this.MI >= this.I.baselineHighAndStableThreshold.bwThreshold && this.NI < this.I.baselineHighAndStableThreshold.nethreshold;};return h;})();b.z$=q;q=(function(h){function m(n,r,p){n=h.call(this,n,r,p) || this;n.Lba=[];n.zwb={};n.M4a=[];n.Nx=new g();n.a0.length >= n.I.w5 && (n.aLa("avtp",n.Nx.L0),n.aLa("neuhd",n.Nx.L5));return n;}c.__extends(m,h);m.prototype.t4=function(){var n;this.KAb();n=new l.ZAa(this.H,this.M4a,this.Dmb);n.Ppa(this.Lba);n=n.Job(this.I.J3.Z6b);return this.fXb && 1 === n && this.zJ >= this.I.w5;};m.prototype.mT=function(){var n,r,p,u;n={};r=k.default.time.now();p=new Date(r);u=p.getHours();n.currentMonoTime=r;n.currentTime=p.getTime();n.currentHour=u;return n;};m.prototype.TSa=function(n,r,p){n="avtp" === n?this.MI:this.NI;for(var u=r.b1(),t=0,w="skew" === p?3:4,v=0;v < r.Kf.length;v++){f.ga(n) || f.ga(u) || (t+=Math.pow(r.Kf[v] - n,w));}t/=r.Kf.length;return !f.ga(u) && 0 < u?t / Math.pow(u,w) - 3 * ("skew" === p?0:1):NaN;};m.prototype.lTa=function(n,r,p){var u;u=0;"lte" === p?u=n.reduce(function(t,w){return w <= r?t + 1:t;},0) / (1 * n.length):"gte" === p && (u=n.reduce(function(t,w){return w >= r?t + 1:t;},0) / (1 * n.length));return u;};m.prototype.tAb=function(n){var r,p;r=n.ms(25);p=n.ms(50);n=n.ms(75);return f.ga(r) || f.ga(p) || f.ga(n)?NaN:0 < p?(n - r) / p:NaN;};m.prototype.Fyb=function(n,r){n="avtp" === n?this.MI:this.NI;r=r.b1();return !f.ga(r) && !f.ga(n) && (0 < r || 0 < n) && 0 < n?(n - r) / (n + r):NaN;};m.prototype.yT=function(n,r){n=n.ms(r);return f.ga(n)?NaN:n;};m.prototype.normalize=function(n,r,p){return !isNaN(n) && 0 < p?(n - r) / p:NaN;};m.prototype.KAb=function(){var n,r,p,u,t,w,v,x,y,z,B,A;n=this;r=this.I.J3.MXa.K5b;p=this.I.J3.MXa.I5b;u=this.I.J3.MXa.J5b;x=[];A=0;this.fXb=!Object.keys(r).some(function(C){var E;B=NaN;if(!(r.hasOwnProperty(C) && p.hasOwnProperty(C) && u.hasOwnProperty(C) && !f.ga(n.Nx) && n.Nx.L0 && n.Nx.L5) || 1 > n.zJ || "number" !== typeof r[C] || "number" !== typeof p[C] || "number" !== typeof u[C])return !0;t=r[C];w=p[C];v=u[C];x=C.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":E=n.Nx.L0;break;case "neuhd":E=n.Nx.L5;break;default:E=void 0;}if("avtp" === y || "neuhd" === y){if(E)switch(z){case "last":B=E.Kf[n.zJ - 1];break;case "mean":B="avtp" === y?n.MI:n.NI;break;case "niqr":B=n.tAb(E);break;case "skew":B=n.TSa(y,E,"skew");break;case "kurtosis":B=n.TSa(y,E,"kurtosis");break;case "std":B=E.b1();break;case "b":B=n.Fyb(y,E);break;default:-1 !== C.search("[p][1-9]?[1-9]") && (B=n.yT(E,Number(C.split("_p",2)[1])));}}else switch(C){case "fracAbove20Mbps":E=n.Nx.L0;B=f.ga(E)?NaN:n.lTa(E.Kf,2E4,"gte");break;case "fracBelow20p":E=n.Nx.L5;B=f.ga(E)?NaN:n.lTa(E.Kf,.15,"lte");break;case "hour_current":B=n.mT().currentHour;break;case "session_ct":B=n.zJ;break;case "intercept":(B=t,n.Dmb=B);}B=n.normalize(B,w,v);if(isNaN(B))return !0;"intercept" !== C && (n.Lba.push(B),n.M4a.push(t),n.zwb[C]=A,A+=1);});};m.prototype.aLa=function(n,r){this.a0.forEach(function(p){p=p.get().pxb;!p || "avtp" !== n && "neuhd" !== n || f.ga(p[n]) || r.v0(Number(p[n]));});};return m;})(q);b.mza=q;},function(q,b,a){var f,k,l,d;function c(g){return function(){for(var h=Array(this.length),m=0;m < this.length;++m){h[m]=g.call(this,m);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.slb=b.qv=b.zba=b.kHa=void 0;q=a(2);f=a(6);q=q.__importDefault(a(4));k=a(22);l=new q.default.Console("FRAGMENTS","media|asejs");d=(function(){function g(h,m){this.Oc=h;this.Kg=m;}Object.defineProperties(g.prototype,{index:{get:function(){return this.Kg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xc:{get:function(){return new k.S(this.Xa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Md:{get:function(){return new k.S(this.jb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xa:{get:function(){return this.Oc.e0 + this.Oc.OA[this.Kg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jb:{get:function(){return this.Xa + this.Oc.uq[this.Kg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Lq:{get:function(){return this.Oc.uq[this.Kg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pa:{get:function(){return this.Oc.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.Oc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return Math.floor(1E3 * this.Xa / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Aa:{get:function(){return Math.floor(1E3 * (this.Xa + this.Lq) / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{duration:{get:function(){return this.Aa - this.Z;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.Xa / this.pa.U,endPts:1E3 * this.jb / this.pa.U,duration:1E3 * this.Lq / this.pa.U,index:this.index};};return g;})();b.kHa=d;a=(function(){function g(h,m,n,r){this.mediaType=h;this.length=n.fd.length;this.eb=n.U;this.uq=n.fd;this.x0=r && r.tt;this.HLa=r && r.Gt;this.gJ=m;this.Bta=this.Cta=this.JJa=void 0;this.e0=n.Bk;this.OA=new Uint32Array(this.length + 1);if(this.length){for(m=h=0;m < this.length;++m){this.OA[m]=h;h+=this.uq[m];}this.OA[m]=h;this.Uba=Math.floor((this.Aa - this.Z) / this.length);}}Object.defineProperties(g.prototype,{Bk:{get:function(){return this.$3a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eia:{get:function(){return this.$3a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return this.Zi(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Aa:{get:function(){return this.Zi(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ll:{get:function(){return new k.S(this.eia,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ana:{get:function(){return this.JJa || this.jfb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pa:{get:function(){return this.gJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.eb;},enumerable:!1,configurable:!0}});g.prototype.$3a=function(h){return this.e0 + this.OA[h];};g.prototype.Zi=function(h){return Math.floor(1E3 * (this.e0 + this.OA[h]) / this.U);};g.prototype.LS=function(h){return this.Zi(h + 1);};g.prototype.fd=function(h){return this.LS(h) - this.Zi(h);};g.prototype.get=function(h){return new d(this,h);};g.prototype.Gm=function(h,m,n){if(0 === this.length || h < this.Zi(0))return -1;h=Math.max(h,m || 0);for(var r=0,p=this.length - 1,u,t;p >= r;){if((u=r + (p - r >> 1),t=this.Zi(u),h < t))p=u - 1;else if(h >= t + this.fd(u))r=u + 1;else {for(;m && u < this.length && this.Zi(u) < m;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.w2=function(h,m,n){h=this.Gm(h,m,n);return 0 <= h?this.get(h):void 0;};g.prototype.Kga=function(h,m){var n,r;n=Math.floor(m * this.U / 1E3);m=Math.min(h + Math.ceil(m / this.Uba),this.length);r=this.OA[m] - this.OA[h];if(r > n){for(;r >= n;){--m;r-=this.uq[m];}return m - h + 1;}for(;r < n && m <= this.length;){r+=this.uq[m];++m;}return m - h;};g.prototype.subarray=function(h,m){f.assert(void 0 === h || 0 <= h && h < this.length);f.assert(void 0 === m || m > h && m <= this.length);return new g(this.mediaType,this.pa,{U:this.U,Bk:this.e0 + this.OA[h],fd:this.uq.subarray(h,m)},this.x0 && ({tt:this.x0.subarray(h,m + 1),Gt:this.HLa}));};g.prototype.forEach=function(h){for(var m=0;m < this.length;++m){h(this.get(m),m,this);}};g.prototype.map=function(h){for(var m=[],n=0;n < this.length;++n){m.push(h(this.get(n),n,this));}return m;};g.prototype.reduce=function(h,m){for(var n=0;n < this.length;++n){m=h(m,this.get(n),n,this);}return m;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Uba};};g.prototype.dump=function(){var m;l.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Uba + "ms");for(var h=0;h < this.length;++h){m=this.get(h);l.trace("TrackFragments: " + h + ": [" + m.Z + "-" + m.Aa + "]");}};g.prototype.jfb=function(){for(var h=0,m=0;m < this.length;m++){h=Math.max(this.uq[m],h);}return this.JJa=h;};return g;})();b.zba=a;b.qv=c;a.prototype.Z3a=c(a.prototype.Zi);c(a.prototype.LS);c(a.prototype.fd);b.slb=function(g){return "[" + Array(g.length).map(function(h,m){return g[m].toString();}).join(",") + "]";};},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aRa=b.dy=b.Fm=b.mTa=void 0;c=a(6);f=a(144);b.mTa=function(k,l){return k.Gm(l,void 0,!0);};b.Fm=function(k,l,d,g,h,m){var n,r,p,u;f.fm.rp(k);c.assert(d.Y,"findFirstFragment called without stream fragments");n=d.Y;g=Math.max(d.Y.Zi(0),g);0 === k && !m && l.ck && !l.VA && d.he && (g=Math.max(d.Y.Zi(0),g + d.he.V));r=b.mTa(n,g);p=d.nk(r);if(p.Aa < g)return p;u=p.Mia(g);u?(0 < u.zk && p.th({start:u.zk}),0 !== k || l.m5 || (0 > u.od && p.th({start:u.zk}),u.od < (l.ck && !l.VA && d.he?Math.floor(d.he.V):0) && p.AS())):g >= p.Aa && r < n.length - 1 && (p=d.nk(r + 1));1 === k && h && p.Aa === h && r < n.length - 1 && (p=d.nk(r + 1));0 === k && !p.na && (l.d4 || l.Sub) && m && p.th({});p.rN(g);return p;};b.dy=function(k,l,d,g,h,m){var n,r;f.fm.rp(k);n=d.Y;void 0 === g && (g=n.Aa);if(h && (h=h.Swb(d,g,k,l,m)))return h;h=n.pa;m=g?g + b.aRa(k,h,l.mz,l.m7):n.LS(n.length - 1);n=n.Gm(m,void 0,!0);h=d.nk(n);0 === n || h.Z !== g || 1 !== k && l.mz || (--n,h=d.nk(n));m=1 === k?m:g;if(m < h.Aa){r=h.Lia(m);r && 0 !== r.zk?h.th({end:r.zk}):0 === k && (r || m < h.Z) && 0 !== n?h=d.nk(n - 1):1 === k && r && 0 !== n && (h=d.nk(n - 1));}0 === k && !h.na && l.d4 && h.th();h.rN(g);return h;};b.aRa=function(k,l,d,g){var h;return 1 === k || g?0:d?null !== (h=null === l || void 0 === l?void 0:l.V) && void 0 !== h?h:0:l?-l.V:0;};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gva=void 0;c=a(812);f=a(22);a(6);k=a(98);q=(function(){function l(d,g,h){var m;this.I=g;this.H=h;this.vj=d.track;this.sjb=d.og;this.Ly=d.Ly;this.Kgb=-1 === this.profile.indexOf("none");this.iJ=this.Ja=void 0;g=d.kv;this.kv=void 0 === g?!0:g;this.R1=d.R1;this.fJ=void 0;this.LJa=this.$f=0;this.url=this.QG=this.cd=this.qr=this.Uma=this.location=this.Oa=this.lb=void 0;this.JB=!1;this.oma=this.Le=void 0;g=(d=this.I) && "object" === typeof d.K0a && d.K0a[this.profile];"object" === typeof g && (g=g[this.bitrate]) && (this.Q_=new f.S(g.ticks,g.timescale));this.uhb=0 <= (null === (m=d.Vlb) || void 0 === m?void 0:m.indexOf(this.profile));}Object.defineProperties(l.prototype,{ye:{get:function(){return ! !this.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N:{get:function(){return this.vj.N;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{da:{get:function(){return this.N.da;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{K:{get:function(){return this.vj.K;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mediaType:{get:function(){return this.vj.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pa:{get:function(){return this.vj.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{U:{get:function(){return this.vj.U;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cM:{get:function(){return this.vj.cM;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{trackId:{get:function(){return this.vj.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.vj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{og:{get:function(){return this.sjb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{La:{get:function(){return this.Ly.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{id:{get:function(){return this.La;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{By:{get:function(){return this.Kgb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bitrate:{get:function(){return this.Ly.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zb:{get:function(){return this.Ly.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rQb:{get:function(){return this.Ly.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{f7:{get:function(){return this.Ly.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{profile:{get:function(){return this.Ly.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Mg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Wv:{get:function(){return this.Ly.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{he:{get:function(){return this.Q_;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{KCb:{get:function(){return this.uhb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Y:{get:function(){return this.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{XF:{get:function(){return this.Ja && this.Ja.XF;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gja:{get:function(){return this.vj.gja;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fja:{get:function(){return this.vj.fja;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Z:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ev:{get:function(){return void 0 !== this.fJ?this.fJ:this.kFb();},set:function(d){this.fJ=d;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Vs:{get:function(){return this.kv && !this.JB;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zg:{get:function(){return this.iJ;},enumerable:!1,configurable:!0}});l.prototype.pk=function(){return this.N.pk(this.mediaType,this.La);};l.prototype.b3=function(){var d;d=this.pk();return d && d.stream.Y;};l.prototype.sH=function(d){return this.N.sH(this,d);};l.prototype.c6=function(){this.track.c6();};l.prototype.b6=function(){this.track.b6();};l.prototype.a6=function(d,g,h,m,n,r,p){m && void 0 !== m.Bk && (this.track.ye || void 0 !== m.fd && m.fd.length) && void 0 !== m.offset && void 0 !== m.sizes && m.sizes.length?(this.I.ck && this.he && 0 === m.Bk && (m.Bk+=this.he.Vf(m.U).Wb),this.iJ=d,this.ye || (this.track.a6(this,g,h,m,r),this.Ja=new c.FGa(this.track.oo,m,n,r,p,this.K),this.track.JKb(this))):m?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== m.Bk) + "," + this.track.ye + "," + this.track.Rha + "," + (void 0 !== m.fd) + "," + !(!m.fd || !m.fd.length) + "," + (void 0 !== m.offset) + "," + (void 0 !== m.sizes) + "," + !(!m.sizes || !m.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};l.prototype.w1=function(d){this.ye || (this.track.Npb(d.track),this.Ja=d.Y,this.iJ=d.zg);};l.prototype.nk=function(d){return new k.Gk(this,this.Y.get(d));};l.prototype.gTa=function(d){var g;g=this.nk(d.index);d.na && (g.th(d.na),g.rN(d.Ot));return g;};l.prototype.R5a=function(d,g){this.$f=d;this.LJa=g;};l.prototype.Qob=function(){this.Oa=this.lb=this.cd=this.location=this.url=void 0;};l.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.La,bitrate:this.bitrate,streamIndex:this.og,isAvailable:this.kv,fittable:this.ev,vmaf:this.zb,resolutionWidth:this.rQb,resolutionHeight:this.f7};};l.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.La + ":" + this.bitrate;};l.prototype.kFb=function(){var d,g,h,m,n;if(!this.ye)return !0;if(this.track.gla >= this.bitrate)return this.fJ=!0;if(this.track.KXa <= this.bitrate)return this.fJ=!1;n=this.Ja.rnb(this.I.LU,this.$f,null !== (g=null === (d=this.N) || void 0 === d?void 0:d.ZG.V) && void 0 !== g?g:0,null !== (m=null === (h=this.N) || void 0 === h?void 0:h.ZG.ca) && void 0 !== m?m:0,this.LJa);if(n){if(!this.track.Rha || this.By)this.track.gla=this.bitrate;}else this.track.KXa=this.bitrate;return this.fJ=n;};return l;})();b.gva=q;},function(q){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};q.exports={from:function(a,c,f,k){a=new a(c.length);for(var l="function" === typeof f,d=0;d < c.length;++d){a[d]=l?f.call(k,c[d],d,c):c[d];}return a;},set:b};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){var l;l=null !== f && f.apply(this,arguments) || this;l.hy=1536;return l;}c.__extends(k,f);k.Ka=!0;return k;})(a(173).default);b.default=q;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="ac-3";return k;})(q);b.Y8=a;q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="ec-3";return k;})(q);b.b$=q;},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(97);q=a(31);k=f.zD;q=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.parse=function(){this.ec();this.fileSize=this.u.Hd();this.U=this.u.Hd();this.duration=this.u.Hd(!1,!0);this.Goa=this.u.Hd();this.u.Hd();this.Koa=this.u.Hd();this.poa=this.u.ta();this.Hoa=this.u.Hd();this.Xia=this.u.ta();this.u.iz();this.Ae={moof:{offset:this.Goa},sidx:{offset:this.Hoa,size:this.Xia}};this.Ae[f.qP]={offset:this.Koa,size:this.poa};this.u.offset - this.startOffset <= this.length - 24 && (this.Joa=this.u.Hd(),this.joa=this.u.ta(),this.Ioa=this.u.Hd(),this.hoa=this.u.ta(),this.Ae[f.Dw]={offset:this.Joa,size:this.joa},this.Ae[f.Cw]={offset:this.Ioa,size:this.hoa});return !0;};d.Lb=k;d.Ka=!1;return d;})(q.kc);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=a(97);a=a(31);f=q.AD;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){var d,m,n;this.ec();1 <= this.version && this.u.iz();d=this.u.ta();this.Ae={};for(var g=this.startOffset + this.length,h=0;h < d;++h){m=this.u.ll();"uuid" === m && (m=this.u.iz());n=this.u.Hd();this.Ae[m]={offset:g,size:n};g+=n;}return !0;};l.Lb=f;l.Ka=!1;return l;})(a.kc);b.default=a;},function(q){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Qj:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Qj:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Qj:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Qj:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};q.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);k=a(82);q=(function(l){function d(g,h,m,n,r){m=l.call(this,m,n,r) || this;m.ofa=g;m.Wp=h;m.Sa={};return m;}c.__extends(d,l);d.prototype.parse=function(g){var h,m,n,r,p,u;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){m=this.offset;n=this.ta();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};r=k.qn(this.ta());if(null === r)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === r){if(16 > this.view.byteLength - this.offset)break;r=this.iz();}if(0 === h.length && this.Wp.aT(r,m,n))break;if(m + n > this.view.byteLength)break;p=this.ofa[r];u=void 0;if(p){if((u=new p(this,r,m,n,h[0]),(h[0] || this).$r(u),u.parse(g)))this.config.pG && p.Ka?h.unshift(u):this.offset=m + n;else return {done:!1,offset:this.offset,error:"parse error in " + r + " box"};}else this.offset=m + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Vm - 8;){u=h.shift();if(!u.Ds(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.Vm;}if(0 === h.length && this.Wp.uS(r,m,n,u))break;}return !this.Wp.done && (g=this.Wp.endOffset?this.Wp.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,RU:g}:{done:!0,offset:Math.min(this.Wp.endOffset || Infinity,this.offset)};};d.prototype.$r=function(g){f.kc.$r(this,g);};return d;})(a(832).Gba);b.bD=q;},function(q,b,a){var f;function c(k,l){k=l.indexOf(k);-1 !== k && l.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(97);q=(function(){function k(l){this.endOffset=l;this.done=!1;}k.prototype.aT=function(){return this.done;};k.prototype.uS=function(l,d,g){return this.done=d + g >= this.endOffset;};return k;})();b.CO=q;q=(function(){function k(l,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.rh=l;this.Ux=d;this.QW=g;this.pV=h;this.done=!1;this.Ae={};}k.prototype.aT=function(l,d,g){-1 !== k.Yka.indexOf(l) && (this.Ae[l]={offset:d,size:g});if(-1 !== this.QW.indexOf(l)){if((this.Ae[l]={offset:d,size:g},this.pV))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.rh && -1 !== this.rh.indexOf(l)?(l=1 < this.rh.length?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0)):-1 !== this.Ux.indexOf(l) && (l=this.rh?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0));return this.done;};k.prototype.uS=function(l,d,g,h){var m;m=this;if(-1 !== this.QW.indexOf(l))return this.done=!0;l === f.zD && this.sW(h.Ae);l === f.AD && this.sW(h.Ae);this.rh && c(l,this.rh);c(l,this.Ux);return this.rh && 0 === this.rh.length && !this.Ux.some(function(n){return m.Ae[n];})?this.done=!0:this.done;};k.prototype.sW=function(l){var d;d=this;this.Ae=l;this.endOffset=(this.rh || []).concat(this.Ux).reduce(function(g,h){return d.Ae[h]?(h=d.Ae[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};k.Yka=["moov","sidx"];return k;})();b.y$=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qba=void 0;c=a(2);f=a(111);a(6);c.__importDefault(a(39));q=(function(){function k(l,d,g,h){this.U=g;this.fd=l;this.sizes=d;this.length=Math.min(l.length,d.length);this.Fc=h;}Object.defineProperties(k.prototype,{ca:{get:function(){return void 0 !== this.Fc?this.Fc:this.Fc=this.aca();},enumerable:!1,configurable:!0}});k.prototype.subarray=function(l,d){return new k(this.fd.subarray(l,d),this.sizes.subarray(l,d),this.U);};k.prototype.concat=function(){var g,h;for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}d=[this];l=d.concat.apply(d,c.__spread(l));d=l.reduce(function(m,n){return m + n.length;},0);g=new Uint32Array(d);h=new Uint32Array(d);d=l.reduce(function(m,n){return m || n.U;},void 0);l.reduce(function(m,n){f.Aba.set(g,n.fd,m);f.Aba.set(h,n.sizes,m);return m + n.length;},0);return new k(g,h,d);};k.prototype.aca=function(){for(var l=this.sizes,d=this.length,g=0,h=0;h < d;++h){g+=l[h];}return g;};return k;})();b.qba=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.r9=void 0;c=a(2);f=a(111);q=a(16);k=c.__importDefault(a(4));l=a(9);d=a(43);g=a(6);h=a(239);m=a(400);a=a(401);n=k.default.MediaSource;a=(function(r){function p(u,t,w,v,x,y,z){t=r.call(this,u,v,x,t,z) || this;m.NX.JVa(t,u,v,z);t.eo=w;t.track=w.track;t.cv=! !v.cv;t.dM=! !v.dM;t.rB=! !v.rB;t.sLb=v.ca;t.xN=! !v.xN;t.Xca=(y?"(cache)":"") + t.La + " header";w=v.offset;y=v.ca;t.om && (w+=t.om.byteLength,y-=t.om.byteLength);t.CJ(u.url || v.url,w,y);return t;}c.__extends(p,r);Object.defineProperties(p.prototype,{Lc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qV:{get:function(){return this.mib;},enumerable:!1,configurable:!0}});p.prototype.Ic=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}r.prototype.Ic.call(this);};p.prototype.$S=function(u){this.stream.c6();r.prototype.$S.call(this,u);};p.prototype.OK=function(u,t,w){this.stream.b6();r.prototype.OK.call(this,u,t,w);};p.prototype.wk=function(u){this.om=this.om?l.jB(this.om,u.response):u.response;u.SV();this.stream.b6();this.kib()?r.prototype.wk.call(this,u):this.iIa?(this.CJ(u.url,u.offset + u.ca,this.iIa),this.stream.c6(),r.prototype.wk.call(this,u)):this.G2(this);};p.prototype.CJ=function(u,t,w){u=new h.jO(this.stream,this.track,this.Xca + " (" + this.za.length + ")",{offset:t,ca:w,url:u,location:this.location,Rc:this.Rc,responseType:0},this,this.sd,this.H);this.push(u);this.Fc=this.za.reduce(function(v,x){return v + x.ca;},0);};p.prototype.kib=function(){var u,t,w;u=this.sd;t=new f.Nr(p.lJb,this.stream,this.om,["sidx"],!0,{B7b:this.stream.track.Rha,n6:void 0 === this.pa,q8:!n.Ub || !n.Ub.mOa,r8:u.r8,ck:u.ck,Iz:this.sd.Iz,j2a:!0,IC:!n.Ub || !n.Ub.hZa});w=t.parse({pa:this.pa});this.rXb=u.Iz && t.YUa;w.Wm?(g.assert(w.zg),this.iJ=w.zg,this.mib=w.qV,this.PIa=! !w.$Qa,void 0 === this.pa && void 0 === w.pa && this.H.error("No frame duration available for " + this.La),t=w.pa?new l.S(w.pa):this.pa,this.stream.a6(w.zg,w.U,t,w.Y,w.eG,w.Eh,u.uC && u.uC.enabled?w.Er:void 0),this.om=void 0):this.iIa=w.FLa || 0;return ! !w.Wm;};p.lJb=new k.default.Console("MP4","media|asejs");return p;})(a.o9);b.r9=a;d.tf(m.NX,a,!1,!1);d.tf(q.EventEmitter,a);},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NX=void 0;c=a(2);f=a(6);k=a(174);q=(function(l){function d(g,h,m){var n;n=l.call(this,g,h) || this;n.xN=!1;n.cv=!1;n.dM=!1;n.rB=!1;n.eo=void 0;d.JVa(n,g,h,m);return n;}c.__extends(d,l);d.JVa=function(g,h,m,n){k.Vt.mb(g,h,m);g.iJ=m.zg;g.om=m.fpa;g.PIa=m.kk;g.H=n;};Object.defineProperties(d.prototype,{Lc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zg:{get:function(){return this.iJ;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fpa:{get:function(){return this.om;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kk:{get:function(){return this.PIa;},enumerable:!1,configurable:!0}});d.prototype.Ic=function(){};d.prototype.Pta=function(){};d.prototype.Wkb=function(g){f.assert(this.Uc.La === g.La);!g.ye && this.Uc.ye && g.w1(this.Uc);!g.location && this.Uc.location && (g.location=this.Uc.location,g.cd=this.Uc.cd,g.QG=this.Uc.QG,g.url=this.Uc.url,g.lb=this.Uc.lb);this.Uc=g;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},l.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Y});};return d;})(k.Vt);b.NX=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.o9=void 0;c=a(2);c.__importDefault(a(4));a(6);q=(function(f){function k(l,d,g,h,m){l=f.call(this,l,d,g,h,m) || this;l.ZIa=!1;l.YIa=!1;l.pQ=!1;l.za=[];l.wn=!1;l.eKa=!1;l.tJa=!1;l.Fe=!1;l.Al=!1;l.Xh=!1;l.GI=!1;l.nJ=void 0;l.xu=void 0;return l;}c.__extends(k,f);Object.defineProperties(k.prototype,{dma:{get:function(){return this.wn && !this.pQ;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xqa:{get:function(){return this.Al;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Xh || (this.Xh=this.za.every(function(l){return l.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.GI;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Tj:{get:function(){return this.za.reduce(function(l,d){return l + d.Tj;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.za.reduce(function(l,d){return l + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ye:{get:function(){return this.nJ || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{url:{get:function(){return this.za[0] && this.za[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{readyState:{get:function(){return this.fh || this.za.reduce(function(l,d){return Math.min(l,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.xu && this.xu.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Og:{get:function(){return this.xu && this.xu.Og;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{JK:{get:function(){return this.xu && this.xu.JK;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ri:{get:function(){return this.xu && this.xu.Ri;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Us:{get:function(){return ! !this.za.length && this.za[0].Us;},enumerable:!1,configurable:!0}});k.prototype.push=function(l){this.tJa && l.mb(this.Na);this.za.push(l);this.wn && l.sM();};k.prototype.mb=function(l){f.prototype.mb.call(this,l);this.za.forEach(function(d){return d.mb(l);});this.tJa=!0;};k.prototype.sM=function(){this.eKa=!0;(this.wn=this.za.every(function(l){return l.sM();})) && this.$S(this);this.eKa=!1;return this.wn;};k.prototype.Ic=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.za.forEach(function(l){return l.Ic();});};k.prototype.a8=function(l){this.fh=this.xu=void 0;return this.za.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.a8(l):!0;});};k.prototype.abort=function(){var l,d,g;l=this.active;d=this.aborted;this.fh=7;this.GI=!0;this.Al=this.Fe=!1;g=this.za.map(function(h){return h.abort();}).every(function(h){return h;});d || this.OK(this,l,this.dma);return g;};k.prototype.getResponseHeader=function(l){var d;d=null;this.za.some(function(g){return ! !(d=g.getResponseHeader(l));});return d;};k.prototype.getAllResponseHeaders=function(){var l;l=null;this.za.some(function(d){return ! !(l=d.getAllResponseHeaders());});return l;};k.prototype.i6=function(){};k.prototype.Wy=function(l){this.Fe || (this.Fe=!0);this.ZIa || (this.ZIa=!0,this.er=0,this.nJ=this.yt=l.Ye,this.PK(this));};k.prototype.qM=function(l){this.Al || (this.Al=!0);this.YIa || (this.YIa=!0,this.nJ=l.Ye,this.qF(this));};k.prototype.rM=function(l){this.nJ=l.Ye;this.QK(this);this.er=this.bytesReceived;this.yt=l.Ye;};k.prototype.wk=function(l){this.nJ=l.Ye;this.complete?(this.Xh=!0,this.fh=5,this.Al=this.Fe=!1,this.pQ=!0,this.gv(this)):this.QK(this);this.er=this.bytesReceived;this.yt=l.Ye;};k.prototype.jV=function(l){this.nJ=l.Ye;this.xu=l;this.fh=6;this.G2(this);};k.prototype.iV=function(){};k.prototype.Jh=function(){return this.za[0].Jh() + "-" + this.za[this.za.length - 1].Jh();};k.prototype.toString=function(){return "Compound[" + this.za.map(function(l){return l.toString();}).join(",") + "]";};k.prototype.toJSON=function(){return {requests:this.za};};return k;})(a(240).GH);b.o9=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jia=void 0;b.Jia=function(a,c){for(var f,k,l=a.length - 1;0 <= l;--l){if((k=a[l],k.Vs)){if(k.bitrate <= c)return l;f=l;}}return f;};},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kZ=void 0;c=a(22);f=a(19);q=(function(){function k(l){this.he=l;}k.$0=function(l,d,g,h){var m;m=c.S.hb;d && (g=null === g || void 0 === g?void 0:g.d4b,l.dXb && void 0 !== g && 0 <= g?(l=new c.S(g,48E3),m=d.add(l),f.ka && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + l) + (" for ASE applied offset of " + m + "."))):l.VA && (m=d));return m;};k.prototype.append=function(l){var d;d=l.Be;return {gd:l.gd,offset:l.offset.add(this.he),Be:d};};return k;})();b.kZ=q;},function(q,b,a){var f;function c(k,l){this.oib=k.uC && k.uC.enabled;this.yE=void 0;this.ghb=l;this.Gda=[];this.cea=[];this.K_=[];this.If=[];}f=a(39).GL;c.prototype.reset=function(k){this.yE=void 0;this.Gda=[];this.cea=[];this.K_=[];k && (this.If=[]);};c.prototype.add=function(k,l){var d,g,h;d=l.filter(function(m,n){return f(m) || n === k.ie;});g=d.map(function(m){return m.bitrate;});l=l[k.ie];d=d.indexOf(l);if(this.yE && (this.yE.length !== g.length || this.yE.some(function(m,n){return m !== g[n];}))){h=this.OSa();h && (this.If.push(h),this.reset(!1));}void 0 === this.yE && (this.yE=g);this.Gda.push([d,k.wta,k.oc,k.Bfa,k.oNa,k.mNb,k.qKb,k.fe,k.Uo,k.Aj,k.RUb - k.wta,k.VMb]);void 0 !== k.kt && this.K_.push([k.wta,k.kt.K7,k.kt.r1,k.kt.T6]);this.oib && void 0 !== l.Y && (d=l.Y.Gm(k.Aj),-1 != d && (d=l.Y.get(d),h=d.duration,l=d.zb || l.zb,void 0 !== l && this.cea.push({Z:d.Z,duration:h,zb:l})));};c.prototype.YQa=function(k){for(var l=[],d=[],g=0;g < k.length;g++){for(var h=k[g],m=[],n=0;n < h.length;n++){m.push(h[n] - (d[n] || 0));}l.push(m);d=h;}return l;};c.prototype.OSa=function(){var k,l;k=this.YQa(this.Gda);if(0 !== k.length){l=0 < this.K_.length?this.YQa(this.K_):[];return {dltype:this.ghb,bitrates:this.yE,seltrace:k,vmaftrace:this.cea,paceratetrace:l};}};c.prototype.get=function(){var k,l;k=this.OSa();l=this.If;k && l.push(k);if(0 !== l.length)return l;};q.exports=c;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ewa=void 0;c=a(856);q=(function(){function f(k){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 2:var m9b="1SIYbZr";m9b+="NJCp";m9b+="9";this.H=k;m9b;r00=5;break;case 3:this.H=k;"";r00=8;break;r00=5;break;}}}var q00;q00=2;for(;q00 !== 3;){switch(q00){case 2:f.prototype.Teb=function(k,l){var s00,d;s00=2;for(;s00 !== 14;){switch(s00){case 4:var O9b="applying ma";O9b+="nif";O9b+="es";O9b+="t bas";O9b+="ed streamingClientConfig";return (k=d.streamingClientConfig,this.H.trace(O9b + JSON.stringify(k)),this.fKa(l,k));break;case 2:l=c.NOa(l,k);d=k.steeringAdditionalInfo;s00=5;break;case 5:s00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 3:k=k.cdnResponseData;s00=9;break;case 9:s00=!k?8:7;break;case 7:var t9b="using sab cell >=";t9b+=" ";t9b+="100, pipe";t9b+="lineEnabled: ";var h9b="using";h9b+=" ";h9b+="sab cell >= 200, pipe";h9b+="lineEnabled: ";var c9b=", al";c9b+="lowSwitchbac";c9b+="k";var n9b=",";n9b+=" probeDetailDenom";n9b+="inator: ";var I9b="usi";I9b+="ng sab cell ";I9b+=">= 300, probeSer";I9b+="verWhenError: ";var J9b=", all";J9b+="owSw";J9b+="itc";J9b+="hbac";J9b+="k";var W9b=", probeDetailDen";W9b+="o";W9b+="minato";W9b+="r: ";var E9b="u";E9b+="sing ";E9b+="sab cell >= 400";E9b+=", probe";E9b+="ServerWhenError: ";(k=k.sessionABTestCell) && (k=k.split(".")) && 1 < k.length && (k=parseInt(k[1].replace(/cell/i,""),10),400 <= k?(l.set?(l.set({probeServerWhenError:!0}),l.set({probeDetailDenominator:1}),l.set({allowSwitchback:!0})):(l.At=!0,l.yG=1,l.sx=!0),this.H.trace(E9b + l.At + W9b + l.yG + J9b + l.sx)):300 <= k?(l.set?(l.set({probeServerWhenError:!0}),l.set({probeDetailDenominator:1}),l.set({allowSwitchback:!1})):(l.At=!0,l.yG=1,l.sx=!1),this.H.trace(I9b + l.At + n9b + l.yG + c9b + l.sx)):200 <= k?(l.set?l.set({pipelineEnabled:!1}):l.Fp=!1,this.H.trace(h9b + l.Fp)):100 <= k && (l.set?(l.set({pipelineEnabled:!0}),l.set({maxParallelConnections:1}),l.set({maxActiveRequestsPerSession:l.X4}),l.set({maxPendingBufferLen:l.d5})):(l.Fp=!0,l.QL=1,l.uv=l.X4,l.fC=l.d5),this.H.trace(t9b + l.Fp)));return l;break;case 8:return l;break;}}};f.prototype.Veb=function(k,l){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 5:this.Pgb=k;for(var d in l.Gga){new RegExp(d).test(k) && (l=this.fKa(l,l.Gga[d]));}return l;break;case 1:return l;break;case 2:t00=!l.Gga || k === this.Pgb?1:5;break;}}};f.prototype.fKa=function(k,l){var u00,d,g,h;u00=2;for(;u00 !== 4;){switch(u00){case 2:for(g in l){if(l.hasOwnProperty(g)){var p9b="I";p9b+="n";p9b+="v";p9b+="alid k";p9b+="ey";h=l[g];k.set?0 === k.set((d={},d[g]=h,d)) && this.H.trace(p9b + g):k[g]=h;}}return k;break;}}};return f;break;}}})();b.Ewa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.nAa=b.wFa=void 0;c=a(2).__importDefault(a(4)).default.Promise;f=(function(){function l(){var d;d=this;this.S_=[];this.IPb=function(g){g=d.S_.indexOf(g);0 <= g && d.S_.splice(g,1);};}Object.defineProperties(l.prototype,{UA:{get:function(){return 0 !== this.S_.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var d;d=new k(this.IPb);this.S_.push(d);return d;};l.prototype.V6a=function(d){var g;g=this.add();try{return c.resolve(d()).then(function(h){g.release();return h;},function(h){g.release();return c.reject(h);});}catch(h){return (g.release(),c.reject(h));}};return l;})();b.wFa=f;k=(function(){function l(d){this.Kib=d;}l.prototype.release=function(){this.Kib(this);};return l;})();q=(function(){function l(d){this.aLb=d;this.counter=new f();}l.prototype.nx=function(){var d,g;d=this;g=this.counter.add();return {release:function(){g.release();d.aLb(function(){return !d.counter.UA;});}};};return l;})();b.nAa=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperties(b,{__esModule:{value:!0}});b.pAa=b.IP=void 0;c=a(2);f=a(16);k=c.__importStar(a(10));l=c.__importDefault(a(84));d=a(408);g=a(14);h=a(248);m=a(22);q=a(43);n=c.__importDefault(a(4));r=a(416);(function(u){u[u.eSa=0]="forwards";u[u.hfa=1]="backwards";u[u.hM=2]="none";})(p=b.IP || (b.IP={}));a=(function(u){function t(w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M){var O,L,P;L=u.call(this,void 0,v,y,E.N,w,E,void 0,F,I,m.S.rb(D),A.xe.bind(A),G,M,void 0,new f.EventEmitter(),void 0) || this;L.fb=w;L.Ch=x;L.Yb=z;L.l_=B;L.T=A;L.AJ=C;L.Tf=G;L.hT=J;L.rg=H;L.Lk=M;L.active=!1;L.lJa=[];L.vda=0;null === (O=L.N) || void 0 === O?void 0:O.Dqa(L);L.children=Object.create(null);L.dw=[];L.Wd=void 0;void 0 === I && (I=m.S.rb(E.Z));P=[L.I.DMa,L.I.Gsa];F.forEach(function(R){var K;K=R.mediaType;R=new r.OY(w,L.Ch,L.H,L,R,I.V,P[K],v,L.l_,L.rg,L.t_[K],null === G || void 0 === G?void 0:G.Ra(K));L.eh.V2a(K,R);});L.lE=L.eh.DV;return L;}c.__extends(t,u);Object.defineProperties(t.prototype,{K:{get:function(){return this.N.K;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zm:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.Ra(0)) || void 0 === w?void 0:w.Zm) && void 0 !== v?v:0,null !== (y=null === (x=this.Ra(1)) || void 0 === x?void 0:x.Zm) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cp:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.Ra(0)) || void 0 === w?void 0:w.cp) && void 0 !== v?v:{V:0,ca:0},null !== (y=null === (x=this.Ra(1)) || void 0 === x?void 0:x.cp) && void 0 !== y?y:{V:0,ca:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{p7:{get:function(){return this.P.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fpa:{get:function(){return this.p7 + this.Ke;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{pc:{get:function(){return this.P.Aa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Pd:{get:function(){return this.pc + this.Ke;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Vb:{get:function(){return this.N.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{weight:{get:function(){return this.P.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{P:{get:function(){return this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ne:{get:function(){return this.eh;},enumerable:!1,configurable:!0}});t.prototype.zf=function(){var w;this.Fn || (this.active=!1,this.Tf && (delete this.Tf.children[this.P.id],this.Tf=void 0),k.Te(this.children,function(v){v && v.Tf && (v.Tf=void 0);}),this.children=Object.create(null),this.TI=void 0,u.prototype.zf.call(this),null === (w=this.N) || void 0 === w?void 0:w.Dta(this),this.eh.clear());};t.prototype.bra=function(w,v){void 0 === v && (v=p.hfa);this.Ne.forEach(function(x){(k.ga(w) || x.mediaType === w) && x.reset();});switch(v){case p.hfa:this.Tf && this.Tf.bra(w,v);break;case p.eSa:this.children && k.Te(this.children,function(x){x && x.bra(w,v);});}};t.prototype.k4=function(w){var v,x,y;if(!this.active)return !1;v=this.Tf;if(v){x=v.Ra(w);y=x.Na.S_a;if(0 !== y && (v.QJ(w),y=x.Na.S_a,0 !== y))return !1;}return !0;};t.prototype.Ed=function(w){return this.Ne.Ra(w);};t.prototype.JCb=function(){return this.Ne.every(function(w){return 0 === w.lz;});};t.prototype.toJSON=function(){return c.__assign(c.__assign({},u.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Zc,playerEndPts:this.Pd,pipelines:this.Ne,previousBranch:this.Tf});};t.prototype.q3a=function(w,v){this.N.Dta(this);this.N=this.P.N=w;this.Zra(this.N);this.N.Dqa(this);this.Ne.forEach(function(x){var y;y=v[x.mediaType];y && x.vW(y);});};t.prototype.SAb=function(w){return this.Lk[w];};t.prototype.Ra=function(w){return this.Ne.Ra(w);};t.prototype.fBb=function(w){return this.Ra(w).lz;};t.prototype.Xra=function(w,v,x){var y,z,B,A;y=this;z=this.P;w=this.a1(z.Z,this.N,w,this.K === (w?w.K:this.Yb.Cc.K));B=w.JM;A=w.ey;void 0 === v && (v=[0,1]);0 === A.length || v.forEach(function(C){var E,F;E=y.Ra(C);x && (E.Vd=A[C]);F=y.TS(z.Aa);E.C7(F[C]);});return B;};t.prototype.s1a=function(w,v){var x,y,z;x=this.fb;y=this.Ra(0);void 0 === v && (v=y.XDb);this.Tf && (z=this.Tf.Ed(0));x=new r.OY(x,this.Ch,this.H,this,w,v,y.jN,this.I,this.l_,this.rg,this.t_[0],z);this.eh.replace(y,x);this.lE=this.eh.DV;this.Xra(this.Tf,[0],!0);x.UG(v,! !this.Tf);y.zf();k.Te(this.children,function(B){B && B.s1a(w);});};t.prototype.Es=function(w,v){if(v=this.Ra(v))return v.Na.Es(w);};t.prototype.QJ=function(w){void 0 === w?this.Ne.forEach(function(v){v.QJ();}):this.Ra(w).QJ();};t.prototype.GV=function(w,v,x){(w=this.Ra(w)) && w.Na.GV(v,x);};t.prototype.n3=function(w,v){(v=this.Ra(v)) && v.Na.n3(w);};t.prototype.DHb=function(w){this.lJa[w]=!0;};t.prototype.job=function(){var w;w=this;return [0,1].every(function(v){return !w.Vb(v) || w.lJa[v];});};t.prototype.hob=function(w,v,x,y){var z,B,A,C,E,F,D,G,I;z=this.I;B=this.fb;A=this.T.getState();C=A === g.ja.Sc || A === g.ja.ef;if(!C && void 0 === x)return {Se:!0};if(A === g.ja.ef && n.default.time.aa() < this.vda + z.aoa)return {Se:!1};E=this.Ra(0);F=this.Ra(1);D=this.Yb.Ru(this,0);G=this.Yb.Ru(this,1);I=h.x6(A);D=!E || E.QNa(I,this.T.xe(),v,D,this.T.up(),y);G=!F || F.QNa(I,this.T.xe(),w,G,this.T.up(),y);void 0 !== x && D && (x=x.trackId,w=this.N.getTrackById(x),this.$eb(x,w.ON),B.wx=void 0);if(D && G)return (this.AJ(),this.JR=n.default.time.aa(),A === g.ja.ef && (this.vda=n.default.time.aa()),{Se:!0,ls:F?F.OE:E.OE});D=this.Hh(0);G=this.Hh(1);if(C){B=!F || G > z.Qi;if((!E || D > z.Qi) && B && (E=this.hT(),E >= z.$y))return (this.Eb("buffering longer than limit: " + E + " >= " + z.$y + ", audio buffer: " + D + " ms, video buffer: " + G + " ms"),this.AJ(),this.JR=n.default.time.aa(),A === g.ja.ef && (this.vda=n.default.time.aa()),{Se:!0,ls:"prebufferTimeLimit"});this.Ch.yhb();}return {Se:!1};};t.prototype.Xfa=function(w,v){var x,y,z,B,A,C;x=this.I;y=this.Ra(0);z=this.Ra(1);v?(v=this.Hh(0,w),w=this.Hh(1,w)):(v=this.Yb.Ru(this,0,w),w=this.Yb.Ru(this,1,w));B=x.Qi;A=!this.Vb(0) || y.yh && 0 === y.Na.sC && 0 === y.Na.Ar;y=!this.Vb(1) || z.yh && 0 === z.Na.sC && 0 === z.Na.Ar;C=A && y;x=!A && v < x.Qi;if(!C && (x || !y && w < B))return !1;if(z && z.Se || !this.Vb(1))return !0;if(C)if(this.fb.N_ && 0 === v && 0 === w)this.Eb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};t.prototype.z7=function(w,v){var x,y;x=this;y=this.I;this.Ne.forEach(function(z){z.seeking=void 0;});w && y.Gh && this.Ne.forEach(function(z){var B;if(z){B=x.Yb.SE(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.cp.ca + ", completedMs: " + z.bK + ", completedBytes: " + B + ", partials: " + z.Na.sC + ", streamingPts: " + z.oc + ", completeStreamingPts: " + z.rs + ", fragments: " + JSON.stringify(z.Na.Y) + ", toAppend: " + v(z.mediaType);x.Ch.Ul(z);}});};t.prototype.KC=function(w,v,x){var y,z,B;y=this;z=n.default.time.aa();B={};k.Te(this.children,function(A){var C,E,F,D;if(A){if(A.Wd){A.Wd.Fub=z - A.Wd.Y3;A.Wd.Y3=void 0;C=A.Wd.weight;}else C=y.Yb.mUa(y.P.id,A.P.id);E=A.sF();F=y.Ra(0) && 0 === E.Zr;D=y.Ra(1) && 0 === E.ro;B[A.P.id]={weight:C,Eq:E,JT:!F && !D};}});x={Np:z,Be:w,vha:x,L7:this.P.id,Wd:B};w || (w=v.xe(),x.zN=w - (this.P.Z + this.Ke),x.zN=Math.max(0,x.zN),x.O1=0,x.startTime=z);this.dw.unshift(x);return x;};t.prototype.jpb=function(w){var v,x;v=this.dw[0];v.Be && (v.zN=this.pc - this.P.Z,v.zN=Math.max(0,v.zN));v.u5a={};x=w.sF();l.default(x,v.u5a);v.JT=w.cp.every(function(y){return 0 < y.V;});this.dw=[];return v;};t.prototype.dn=function(w){var v;v=this.P;w-=this.Ke;if(v.Z < w && w < v.Aa)this.dw.shift();else if(v=this.dw[0])v.dn=!0;};t.prototype.a1=function(w,v,x,y){var z,B,A,C;z=this;void 0 === v && (v=this.N);B=!1;if(x){B=!0;A=x.Ra(1).nf;x=x.Ra(0).nf;if(!A || !x)return {JM:[],ey:[]};A=A.Aa;y || (A=void 0);}C=this.IRa(w,A,B,v);v.Db === this.Yb.Isb && [1,0].forEach(function(E){var F;F=z.Ra(E);F && (F.Vd=C[E]);});return {JM:C.map(function(E){return E.Z;}),ey:C};};t.prototype.IRa=function(w,v,x,y){var z;z=this;void 0 === y && (y=this.N);return this.cLa(y)?[1,0].map(function(B){var A;if(!z.Vb(B))return {};A=y.Rg[B];B=z.Ra(B).Fm(A.stream,w,v,x);w=B.Z;return B;}).reverse():[];};t.prototype.TS=function(w,v){var x;x=this;void 0 === v && (v=this.N);return this.cLa(v)?[1,0].map(function(y){var z;if(!x.Vb(y))return {};z=v.Rg[y].stream;y=x.Ra(y).dy(z,w);w=x.I.Uf?new m.S(y.jb,z.pa.U).V:y.Aa;return y;}).reverse():[];};t.prototype.wWb=function(w,v){var x;x=this.P.Aa;x && x < v && (w=this.TS(x));v=this.Ed(1);x=this.Ed(0);v && v.C7(w[1]);x && x.C7(w[0]);};t.prototype.cLa=function(w){var v;v=w.Rg;if(!v)return !1;w=v[1];w=!this.Vb(1) || w && w.stream.ye;v=v[0];v=!this.Vb(0) || v && v.stream.ye;return w && v?!0:!1;};t.prototype.$eb=function(w,v){this.Ch.whb(w,v);};return t;})(d.maa);b.pAa=a;q.tf(f.EventEmitter,a);},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x;function c(y,z){return (1 === y.mediaType?0:1) - (1 === z.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.maa=b.Iaa=void 0;f=a(2);k=a(409);l=a(96);d=a(176);g=a(887);h=a(14);m=a(414);n=a(889);r=a(9);p=a(30);u=a(6);t=a(22);w=f.__importDefault(a(4));q=a(112);v=a(43);x=a(890);b.Iaa={QXb:c};a=(function(y){function z(B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K){var Q,N;N=y.call(this) || this;N.$Tb=B;N.I=A;N.N=E;N.upa=F;N.Gu=D;N.Pja=G;N.sA=H;N.Gca=M;N.parent=O;N.Lk=L;N.aQ=P;N.events=R;N.bx=K;N.eh=new x.XDa([]);N.Pr=!1;N.xJa=0;N.sIa=N.Qoa.bind(N);N.H=r.Ys(w.default,C,D.id && D.id.length?"{" + D.id + "}":"");N.$j=N.H.error.bind(N.H);N.Eb=N.H.warn.bind(N.H);N.sm=N.H.trace.bind(N.H);N.RB=null !== J && void 0 !== J?J:t.S.rb(N.P.Z);N.gKa=null === O || void 0 === O?void 0:O.pf;null === (Q=N.aQ) || void 0 === Q?void 0:Q.addListener(N.sIa);E && I && (N.OVa(E,I),N.parent=void 0);return N;}f.__extends(z,y);Object.defineProperties(z.prototype,{Fn:{get:function(){return this.Pr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{P:{get:function(){return this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ZB:{get:function(){return this.eh.every(function(B){return B.ZB;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wo:{get:function(){return this.eh.every(function(B){return B.Wo;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rx:{get:function(){return this.ny().reduce(function(B,A){return B + A.rx;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sk:{get:function(){return this.ny().every(function(B){return B.sk();});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Fg:{get:function(){return this.ny().map(function(B){return B.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{U:{get:function(){return this.lE.U;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Xa:{get:function(){return this.lE.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{jb:{get:function(){return this.lE.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Lj:{get:function(){return this.yj.Vf(this.U).Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yy:{get:function(){return this.RB.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{AM:{get:function(){return this.P.uh.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yV:{get:function(){return this.P.Ll.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Kma:{get:function(){return this.eh.reduce(function(B,A){return B && A.pf?t.S.max(B,A.pf):A.pf?A.pf:B;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{SVa:{get:function(){return this.yy.V;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ke:{get:function(){return this.yj.V;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Rt:{get:function(){return this.lE.Rt;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yj:{get:function(){return this.sA;},enumerable:!1,configurable:!0}});z.prototype.mb=function(){var B;B=this.OVa(this.N);this.LVa(B);};z.prototype.update=function(B){var A,C,E;E=B.Ll.T5(this.Gu.Ll);this.Gu=B;E && this.iE && (E=f.__read(this.iE.RPb(B,B.Ll),2),B=E[0],E=E[1],u.assert(B && E,"branch.update: lastFragment should be defined"),null === (A=this.Ra(0)) || void 0 === A?void 0:A.truncate(B),null === (C=this.Ra(1)) || void 0 === C?void 0:C.truncate(E),this.cKa(!0,!0),this.events.emit("branchEdited",{type:"branchEdited"}));};z.prototype.Hz=function(B){this.yj.equal(B) || (this.sA=B);};z.prototype.AF=function(B){return (B=this.Ra(B))?B.AF():d.AsyncIterator.tzb();};z.prototype.KS=function(){this.ny().forEach(function(B){return B.KS();});};z.prototype.dR=function(){this.eh.forEach(function(B){return B.dR();});};z.prototype.reset=function(){this.eh.forEach(function(B){B.reset();});};z.prototype.zf=function(){var B,A;this.Pr || (this.Pr=!0,null === (B=this.iE) || void 0 === B?void 0:B.Ic(),this.iE=void 0,this.eh.forEach(function(C){C.zf();}),null === (A=this.aQ) || void 0 === A?void 0:A.removeListener(this.sIa),this.events.removeAllListeners());};z.prototype.k4=function(){return !0;};z.prototype.Ra=function(B){return this.eh.Ra(B);};z.prototype.ny=function(B){void 0 === B && (B=c);return this.eh.Ne.slice().sort(B);};z.prototype.Xja=function(){return this.eh.Ne;};z.prototype.vT=function(B){return this.Ra(B);};z.prototype.Hh=function(B,A){B=this.Ra(B);if(!B)return 0;if(A)return B.Zm;A=B.rs;if(void 0 === A)return 0;B=this.Gca();return A - B;};z.prototype.sF=function(){var B,A,C,E,F,D,G;G=null === (B=this.Ra(0)) || void 0 === B?void 0:B.cp;B=null === (A=this.Ra(1)) || void 0 === A?void 0:A.cp;return {ro:null !== (C=null === B || void 0 === B?void 0:B.V) && void 0 !== C?C:0,Zr:null !== (E=null === G || void 0 === G?void 0:G.V) && void 0 !== E?E:0,Jz:null !== (F=null === B || void 0 === B?void 0:B.ca) && void 0 !== F?F:0,fR:null !== (D=null === G || void 0 === G?void 0:G.ca) && void 0 !== D?D:0};};z.prototype.q3=function(B){var A;return (B=this.Ra(B))?null !== (A=B.rs) && void 0 !== A?A:0:0;};z.prototype.Vv=function(B,A,C){var E;A=null !== (E=null !== A && void 0 !== A?A:this.Xc) && void 0 !== E?E:this.RB;this.fPa(B,A,C);this.LVa();this.dR();};z.prototype.qo=function(B){B=this.Ra(B);u.assert(B);return B.qo();};z.prototype.Qoa=function(B){h.Vq(B.newValue) && this.gE();};z.prototype.YR=function(B){return this.eh.every(function(A){return A.YR(B);});};z.prototype.Bja=function(B){var A,C;return null !== (C=null === (A=this.eh.Ra(B)) || void 0 === A?void 0:A.Jsb) && void 0 !== C?C:t.S.hb;};z.prototype.vta=function(B){var A,C,E;A=this.lE.QFb;if(!A)return !1;C=p.wg(B,function(F){return A.V <= F.Xc.V;});if(!C)return !1;B=!1;E=f.__read(m.Nqa(this.I,this.eh,C.Xc),2);C=E[0];if(E=E[1])(this.Ra(1).truncate(E),B=!0);C && (this.Ra(0).truncate(C),B=!0);B && (C={type:"branchEdited"},this.events.emit(C.type,C));return B;};z.prototype.wk=function(B){this.Pr || (B.Bea || u.assert(!B.Lc),this.gE(),this.Wo && this.eib());this.gv(B);};z.prototype.rM=function(B){this.I.TQa && this.gE(!0);this.QK(B);};z.prototype.qM=function(B){this.I.TQa && this.gE(!0);this.qF(B);};z.prototype.cKa=function(B,A){var C;null === (C=this.iE) || void 0 === C?void 0:C.Ic();B && (B={type:"branchNormalized",segmentContentStart:this.P.uh,branchContentStart:this.Xc,branchContentEnd:this.Md,didNormalizeSegment:A},this.events.emit(B.type,B),this.gKa && (this.sA=this.gKa.Ba(this.Xc)));};z.prototype.OSb=function(B){var A;return h.Vq((null === (A=this.aQ) || void 0 === A?void 0:A.value) || h.wc.Zj) && (!B || this.xJa + this.I.Wna < w.default.time.aa());};z.prototype.gE=function(B){void 0 === B && (B=!1);this.OSb(B) && (this.xJa=w.default.time.aa(),B={type:"checkBufferingProgress"},this.events.emit(B.type,B));};z.prototype.eib=function(){var B;B={type:"branchStreamingComplete"};this.events.emit(B.type,B);};z.prototype.csb=function(B,A,C){var E;E=B.mediaType;return new k.Haa(this,this.I,this.H,this.upa,this.$Tb,B,A,[this.I.DMa,this.I.Gsa][E],this.t_[E],!0,C,this.bx);};z.prototype.fPa=function(B,A,C,E){var F,D,G,I,J;F=this;void 0 === A && (A=this.RB);I=0;J=this.events;B.forEach(function(H,M){var O,L;O=H.mediaType;L=F.Ra(O);M=null === E || void 0 === E?void 0:E[M];(null === L || void 0 === L?void 0:L.track) !== H && (null === L || void 0 === L?void 0:L.zf(),H=F.csb(H,A,M),F.eh.V2a(O,H),++I,H.events.once("requestQueueCreated",function(){0 === --I && J.emit("requestQueuesCreated");}),H.events.on("lastRequestIssued",function(){return F.ZB && J.emit("lastRequestIssued",{type:"lastRequestIssued"});}));});this.eh=this.eh.filter(function(H){var M;M=B.some(function(O){return O.mediaType === H.mediaType;});return null !== M && void 0 !== M?M:H.zf();});null === (D=this.iE) || void 0 === D?void 0:D.Ic();this.iE=new n.YDa({console:this.H,config:this.I,N:this.N,P:this.P,Ne:this.eh,Xc:A,Md:null !== (G=this.P.Ll) && void 0 !== G?G:void 0 !== this.P.Aa?t.S.rb(this.P.Aa):void 0,splice:C});this.lE=this.eh.DV;};z.prototype.OVa=function(B,A){var C,E;C=this;this.Zra(B);u.assert(B.da === this.P.da || isNaN(B.da) && isNaN(this.P.da));this.t_=[];B=null !== A && void 0 !== A?A:null === (E=this.Pja) || void 0 === E?void 0:E.call(this,B);u.assert(B,"tracks need to exist upon initialization");B.forEach(function(F){var D;F=F.mediaType;D=new g.zCa(F,C.I,C.H);C.t_[F]=D;});return B;};z.prototype.LVa=function(B){var A,C,E;A=this;if(B){E=this.parent && B.map(function(F){var D;return null === (D=A.parent) || void 0 === D?void 0:D.Ra(F.mediaType);});u.assert(!E || E.every(function(F){return F;}),"parent must have a pipeline for every media type");E=E && E.map(function(F){return F.Cf;});this.fPa(B,this.RB,! !this.parent,E);this.parent=void 0;}null === (C=this.iE) || void 0 === C?void 0:C.mb(this.cKa.bind(this));};z.prototype.toJSON=function(){var B,A;return {segment:this.P.id,branchOffset:this.Ke,viewableId:this.Gu.da,contentStartPts:null === (B=this.Xc) || void 0 === B?void 0:B.V,contentEndPts:null === (A=this.Md) || void 0 === A?void 0:A.V};};return z;})(l.jw);b.maa=a;v.tf(q.Uz,a);v.tf(q.Sz,a);},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Haa=void 0;c=a(2);f=a(16);k=a(861);l=a(96);d=a(862);g=a(869);h=a(410);m=a(411);n=a(9);r=a(6);p=a(22);u=c.__importDefault(a(4));q=a(112);t=a(43);w=a(886);v=a(150);a=(function(x){function y(z,B,A,C,E,F,D,G,I,J,H,M){var O;O=x.call(this,z) || this;O.I=B;O.Kd=E;O.vj=F;O.rJa=D;O.kgb=I;O.bx=M;O.events=new f.EventEmitter();O.connected=!1;O.Uka=!1;O.Pr=!1;O.H=n.Ys(u.default,A,"[" + O.mediaType + "]");O.$j=O.H.error.bind(O.H);O.Eb=O.H.warn.bind(O.H);O.sm=O.H.trace.bind(O.H);O.VQ=D.V;O.Cf=new h.GGa(H);O.Cf.vW(F);O.NKa=new m.HGa(G,B,O.Cf,0 === O.mediaType && B.JQa || 1 === O.mediaType && B.KQa);O.qm=new k.ZDa(O,C,O.I,O.H,O.mediaType);O.zn=new d.HFa(O,B,O.H,O.qm,O.Kd,O.mediaType,O.bx,function(){return O.Lj;});B.Uf && (O.Uf=new g.xGa(B.Uf,O.H));J && (O.kg=w.nB(O.mediaType,O.track.N,O.I,O.H,O.qm.zxb.bind(O.qm),function(){}),O.kg.on("created",function(){return O.events.emit("requestQueueCreated");}));return O;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.vj.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.vj;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ub:{get:function(){return this.Kd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{va:{get:function(){return this.Kd.P.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Na:{get:function(){return this.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qd:{get:function(){return this.vj.Qd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cp:{get:function(){return this.zn.cp;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Zm:{get:function(){return this.zn.Zm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oc:{get:function(){return this.VQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{CTb:{get:function(){var z;return null !== (z=this.Ui) && void 0 !== z?z:this.yy;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{n1:{get:function(){var z;return null !== (z=this.Na.n1) && void 0 !== z?z:this.CTb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kea:{get:function(){return this.Na.n1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rs:{get:function(){return this.Na.rs;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uga:{get:function(){return this.Na.uga;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{QFb:{get:function(){var z;z=this.Na.RFb;return null === z || void 0 === z?void 0:z.Md;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZB:{get:function(){return ! !this.nf && (this.Zn > this.nf.index || this.VQ >= this.nf.pc);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wo:{get:function(){return this.ZB && 0 === this.zn.sC;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{rx:{get:function(){return this.Na.rx;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rt:{get:function(){return this.pf?p.S.max(this.pf.Ba(this.Ck),p.S.hb):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Jsb:{get:function(){return this.Na.Y.BS;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xz:{get:function(){return this.NKa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ws:{get:function(){return this.Cf.Ws;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U:{get:function(){var z,B;return null !== (B=null === (z=this.Vd) || void 0 === z?void 0:z.U) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Xa:{get:function(){var z;return null === (z=this.Vd) || void 0 === z?void 0:z.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jb:{get:function(){var z;return null === (z=this.nf) || void 0 === z?void 0:z.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Lj:{get:function(){return this.ub.yj.Vf(this.U).Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{D3:{get:function(){return this.Na.D3;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Yv:{get:function(){return this.Na.Yv;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ysa:{get:function(){return this.Na.ysa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yy:{get:function(){return this.rJa.add(this.ub.yj);},enumerable:!1,configurable:!0}});y.prototype.dR=function(){var z;z=this;this.zn.dR(void 0,function(B){var A;A=B[0];B=A.Jc;A=A.index;A < z.Zn && z.qN(B,A);});};y.prototype.reset=function(){this.Na.reset();this.Vd && this.qN(this.Vd.Jc,this.Vd.index);this.kg && this.ub.N.cR(this.mediaType,this.kg);};y.prototype.zf=function(){this.Pr=!0;this.zn.zf();this.Cf.wb();this.kg && (this.ub.N.cR(this.mediaType,this.kg),v.cq.instance.oS(this.kg),this.kg.removeAllListeners(),this.kg=void 0);};y.prototype.toJSON=function(){return {started:this.Yv,startOfSequence:this.ysa,segmentId:this.va,requestedBufferLevel:this.Zm,viewableId:this.Kd.N.da,hasFragments:this.D3};};y.prototype.qo=function(){return this.Na.qo();};y.prototype.qN=function(z,B){this.VQ=z;this.Zn=B;};y.prototype.AF=function(){return this.Na.AF();};y.prototype.KS=function(){this.Na.close();};y.prototype.YR=function(z){return (z=this.Na.Es(z.V))?z.complete:!1;};Object.defineProperties(y.prototype,{oh:{get:function(){return this.Kd.oh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ck:{get:function(){var z,B,A,C;return null !== (C=null !== (z=this.Na.Ck) && void 0 !== z?z:null === (A=null === (B=this.Vd) || void 0 === B?void 0:B.Xc) || void 0 === A?void 0:A.add(this.ub.yj)) && void 0 !== C?C:this.yy;},enumerable:!1,configurable:!0}});y.prototype.$Vb=function(z,B){var A;r.assert(this.kg);r.assert(!this.Pr,"pipeline.tryIssueRequest on disabled pipeline");A=z.b3();return A?this.A5a(z,A,this.kg,B):(z=z.sH(this.kg))?{zp:z,reason:"success"}:{zp:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.c4=function(z,B){z && (this.Vd=z);B && (this.nf=B);r.assert(this.Vd);r.assert(this.nf);r.assert(void 0 === this.Zn);this.qN(this.Vd.Jc,this.Vd.index);};y.prototype.truncate=function(z){var B;B=this;r.assert(this.Vd,"expected first fragment to exist on updateStreaming");this.nf=z;this.ZB && (z=c.__read(this.zn.Wjb(z),2),this.qN(z[0],z[1]),this.Ts() && (this.Na.S2a(),this.Na.Ufa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};y.prototype.VB=function(){return this.Ts()?!1:this.sk()?!0:this.track.goa;};y.prototype.sk=function(){return void 0 !== this.Vd && void 0 !== this.nf;};y.prototype.Ts=function(){return this.Pr || this.ZB;};Object.defineProperties(y.prototype,{JNb:{get:function(){var z;z=!0;this.I.b7 && (z=this.connected);this.I.a7 && (z=z && this.Uka);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ELb:{get:function(){return void 0 !== this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{FLb:{get:function(){var z;return (null === (z=this.Uf) || void 0 === z?0:z.Hx())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.wk=function(z){this.qm.YJb(z);"oncomplete" === this.I.HVa && (this.Uka=!0);this.gv(z);};y.prototype.Wy=function(z){z.Lc || this.qm.IZa(z.stream,z.Z,z.Jc);this.qm.UJb(this.va,z.stream,z.Lc);this.PK(z);};y.prototype.qM=function(z){z.Bea || (this.connected=!0);"onfirstbyte" === this.I.HVa && (this.Uka=!0);this.qF(z);};y.prototype.Fzb=function(z){var B,A;B=this.Na.Y;if(0 === B.length)return {Y:[],gpa:0,jl:0};A=B.MK(z.V);0 > A && (A=void 0 === B.Z || z.V <= B.Z?0:B.length);return {Y:B.nRb(A),gpa:Math.max(0,B.zOa - A),jl:B.jl};};y.prototype.A5a=function(z,B,A,C){var E,F,D,G,I,J;D=this.Kd;G=D.N;I=this.mediaType;J=this.Zn;if(J >= B.length)return (this.Eb("makeRequest nextFragmentIndex:",J,"past fragments length:",B.length),{zp:!1,reason:"insufficientFragments"});if(!this.Vd || !this.nf)return (this.Eb("makeRequest delayed, first or last fragment not set","first:",! !this.Vd,"last:",! !this.nf),{zp:!1,reason:"noFirstOrLastFragment"});B=this.kgb.Ezb(z,J,this,G.zy());this.vma=B.region;null === (E=this.Uf) || void 0 === E?void 0:E.KDb(B,z);B.Ap && 1 === I && this.qm.lda(D.P,B.Aa);this.I.RL && (B.RL=this.I.RL);void 0 !== z && (B.location=z.location,B.Rc=z.cd,B.Qra=z.qr);if(E=D.N.G7)(I=0 === I && this.I.JQa || 1 === I && this.I.KQa,J=this.I.xvb && 1 === this.mediaType && this.I.Fp,B.ILb=I && C && (0 < C.K7 || 0 < C.r1 || 0 < C.T6),B.H7=E.Uu({TJ:D.Hh(this.mediaType),Q5:this.I.svb?this.I.Q5:void 0,e5a:String(u.default.time.aa()),eK:I?C:void 0,pfa:J?{start:B.offset,size:B.ca}:void 0}));u.default.time.aa();A=this.Na.nsb(B,A,z);if(!A.sM()){this.Eb("MediaRequest.open error: " + A.Og + " native: " + A.Ri);if(7 === A.readyState)return {zp:!1,reason:"requestAborted"};this.Eb("makeRequest caught:",A.Og);G.qh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {zp:!1,reason:"openAseMediaRequest"};}null === (F=this.Uf) || void 0 === F?void 0:F.Ovb(A,B,z);this.qm.ZJb(A);this.qN(A.pc,B.fM);this.Ts() && (this.Na.S2a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {zp:!0,reason:"success"};};return y;})(l.jw);b.Haa=a;t.tf(q.Sz,a);t.tf(q.Uz,a);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GGa=void 0;q=(function(){function a(c){this.parent=c;this.ie=null;}Object.defineProperties(a.prototype,{ZWa:{get:function(){var c,f;return null !== (c=this.TCb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.ZWa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hU:{get:function(){var c,f;return null !== (c=this.OJb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.hU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ws:{get:function(){var c,f;return null !== (c=this.Yi) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.Ws;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cXa:{get:function(){return null === this.ie?void 0:this.ie;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fXa:{get:function(){var c,f;return null !== (c=this.TTb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.fXa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ema:{get:function(){var c,f;return null !== (c=this.UTb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.Ema;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.qRb;},enumerable:!1,configurable:!0}});a.prototype.wb=function(){this.parent=void 0;};a.prototype.$2a=function(c){this.TCb=c;};a.prototype.dSb=function(c){this.OJb=c;};a.prototype.j3a=function(c){this.Yi=c;};a.prototype.D7=function(c){this.ie=c;};a.prototype.pSb=function(c){this.TTb=c;};a.prototype.l3a=function(c){this.UTb=c;};a.prototype.vW=function(c){this.qRb=c;};return a;})();b.GGa=q;},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(870),b);},function(q,b,a){var c,f,k,l,d,g,h,m,n,r;Object.defineProperties(b,{__esModule:{value:!0}});b.Uv=void 0;q=a(2);c=q.__importStar(a(10));f=a(30);k=a(98);l=q.__importDefault(a(27));d=q.__importDefault(a(39));g=q.__importDefault(a(875));h=a(14);m=d.default.assert;n=d.default.Do;b.Uv=r;(function(){var v00;v00=2;function u(t,w,v,x,y){var x00,z;x00=2;for(;x00 !== 3;){switch(x00){case 4:return t[Math.max(w,v)];break;case 2:a000.u9b(3);z=a000.Q9b(x,v,y);v=f.fs(t,function(B){var y00;y00=2;for(;y00 !== 1;){switch(y00){case 2:return B.bitrate > z;break;}}});v=0 < v?v - 1:0 === v?0:t.length - 1;x00=4;break;case 14:return t[Math.max(w,v)];break;x00=3;break;}}}for(;v00 !== 5;){switch(v00){case 2:var H9b="1SIYb";H9b+="Zr";H9b+="N";H9b+="JCp9";b.Uv=r=function(t,w,v,x,y,z,B){var W6u=a000;var z00,ra,X,N,da,Q,E,F,D,G,I,J,H,M,O,L,P,R,K,na,va;function A(ta,za,V){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return ta.Y?ta.Y.Kga(za,V):0;break;}}}z00=2;for(;z00 !== 31;){switch(z00){case 32:y=O;z00=22;break;case 34:(ra=A(y,M,t.ela),X=A(y,M + ra,t.gna));z00=33;break;case 17:y.Y && y.Y.length || (y.R7=!0);(N=k.Gk.mPa(w.buffer.Y),da=w.buffer.Su - N.ca);O=v[0];z00=27;break;case 18:return p.call(this,w,t,v,y);break;case 33:z00=(y=f.wg(v.slice(0,x).reverse(),function(ta,za){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:return C(ta,v[Math.max(x - za - 2,0)],D,ra,X,!0,w.playbackRate);break;}}})) && y.og < O.og || !y?32:22;break;case 20:W6u.D9b(2);Q=A(y,W6u.Q9b(M,E),t.fna);z00=19;break;case 19:z00=O === l.default.yY.peb || !y.Oa?18:17;break;case 2:var z9b="n";z9b+="u";z9b+="mbe";z9b+="r";var S9b="i";S9b+="nvalid play";S9b+="er fragm";S9b+="entIndex";var k9b="Must have at least";k9b+=" one";k9b+=" selected stream";m(!c.ga(x),k9b);void 0 === w.kf && (w.kf=0);m(c.xa(w.kf),S9b);m(z9b === typeof w.buffer.Su);z00=9;break;case 9:var v9b="num";v9b+="be";v9b+="r";m(v9b === typeof w.Nha);F=new n();y=v[x];z00=6;break;case 13:(D=y,G=w.buffer.Z,I=w.buffer.qc,J=w.buffer.oc,H=w.buffer.Hl,M=w.kf);W6u.D9b(1);B=W6u.r9b(I,H);(O=this.Cf.ZWa || l.default.yY.Ig,L=w.state === h.ja.yc || w.state === h.ja.Wh?w.buffer.jl:0,P=t.f5,R=t.Iy?t.Iy:1E3);E=A(y,M,t.dla);z00=20;break;case 25:B=t.nsa && B >= t.kua?v.length:x + 2;(na=A(y,M,t.fla),va=A(y,M + na,t.hna));z00=23;break;case 22:F.Yi=y || D;return F;break;case 23:y=f.wg(v.slice(x + 1,B),function(ta,za){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:return C(ta,v[x + za],D,na,va,!1,w.playbackRate);break;}}});z00=22;break;case 26:z00=x + 1 < v.length && B > t.Hy && (void 0 === this.L4 || this.Hma && this.Hma > this.L4 || J - this.L4 > t.S4 && B > t.jna)?25:22;break;case 35:z00=y.Y && y.Y.length?34:22;break;case 6:z00=B?14:13;break;case 14:return (y=u(v,x,y.Oa || 0,t.zRa,w.playbackRate),null !== (E=y.Y) && void 0 !== E && E.length || (y.R7=!0),F.Yi=y,F);break;case 27:z00=C(y,v[Math.max(x - 1,0)],y,E,Q,!1,w.playbackRate)?26:35;break;}}function C(ta,za,V,T,ja,Ia,wa){var B00,Sa,Ua,$a,Za,mb,db,Ta,Ca,La,Ma,Va,ib,yb,Eb,Hb;B00=2;for(;B00 !== 41;){switch(B00){case 5:return !1;break;case 1:B00=K && !K.u2 && K.Oa >= Sa && K.bitrate <= ta.bitrate?5:4;break;case 27:m(V.length === mb);t.kna && (Ca=Math.min(Ca,yb));B00=25;break;case 23:za && za.result && (F.H5b=za.uU);K={u2:za && za.result,Oa:Sa,bitrate:ta.bitrate};return za && za.result;break;case 2:(Sa=ta.Oa || 0,Ua=ta.Y && ta.Y.length,$a=Ia?t.Aia:Ua?t.t2:t.zRa);B00=1;break;case 32:Va=T;B00=31;break;case 24:za=!1;B00=23;break;case 14:return !0;break;case 7:return !0;break;case 28:B00=0 < Va?44:43;break;case 13:Ia=!t.Cga || ta === V || ta.cd === V.cd && z?0:(V=ta.lb) && V.Vi && V.Vi.Ea?V.Vi.Ea + t.zga * (V.Vi.vi?Math.sqrt(V.Vi.vi):0):0;V=N;W6u.D9b(0);Ia=W6u.r9b(G,Ia,I);wa=P;B00=20;break;case 4:Ia || Ua || (ta.R7=!0);B00=3;break;case 25:B00=!ib || ib < ta.bitrate * Ma * t.cla || !Eb?24:35;break;case 35:Hb || (za=ta);yb=[];B00=33;break;case 33:B00=Va?32:42;break;case 8:B00=Sa >= Math.max(ta.XF * wa,ta.bitrate * wa * $a) && ta.ev?7:13;break;case 3:B00=!Ia || !Ua?9:13;break;case 44:(Eb=Math.min(Va,za.Y.length - Za),yb.push(za.Y.uN.subarray(Za,Za + Eb)),Va-=Eb,Za+=Eb,Za >= za.Y.length && (Za=0));B00=28;break;case 31:B00=0 < Va?30:29;break;case 42:(T=Math.max(0,Math.min(T,ta.Y.length - Za)),ja=Math.max(0,Math.min(ja,za.Y.length - Za - T)),0 < T && yb.push(ta.Y.uN.subarray(Za,Za + T)),0 < ja && yb.push(za.Y.uN.subarray(Za + T,Za + T + ja)));B00=43;break;case 29:Va=ja;B00=28;break;case 9:B00=Ua && !t.T7?8:6;break;case 6:B00=Sa >= ta.bitrate * wa * $a?14:13;break;case 30:(Eb=Math.min(Va,ta.Y.length - Za),yb.push(ta.Y.uN.subarray(Za,Za + Eb)),Va-=Eb,Za+=Eb,Za >= ta.Y.length && (Za=0));B00=31;break;case 43:za=0 < T || 0 < ja?g.default(V.concat(yb),mb + T + ja,Ia,Ua,wa,db,$a,mb,mb + T,La,Ta,ib / Ma,Ca,t.LU,t.T7):ib > ta.XF?{result:!0,uU:0,ev:!0}:{result:!1,uU:0,ev:!0};B00=23;break;case 20:var f9b="Second";f9b+=" stream und";f9b+="efined";var R9b="First";R9b+=" str";R9b+="eam undefined";W6u.D9b(1);Ua=W6u.Q9b(G,H);W6u.D9b(1);$a=W6u.Q9b(G,J);(Za=M,mb=N.length,db=L,Ta=da,Ca=R,La=w.Nha,Ma=w.playbackRate,Va=! !w.FXa);m(ta,R9b);m(za,f9b);(ib=ta.Oa,yb=Ua - Ia,Eb=ta.Y && ta.Y.length,Hb=za.Y && za.Y.length);B00=27;break;}}}};H9b;v00=5;break;}}function p(t,w,v){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:t=new n();t.Yi=v[0];return t;break;}}}})();},function(q,b,a){var k,l,d,g,h,m;function c(n,r,p,u){g(!k.ga(u),"Must have at least one selected stream");return new m(u);}function f(n,r,p,u){g(!k.ga(u),"Must have at least one selected stream");return new m(u);}k=a(10);b=a(39);l=b.console;d=b.debug;g=b.assert;h=b.GL;m=b.Do;q.exports={STARTING:function(n,r,p){var t,w,v,x;function u(y,z){var B,A,C,E;B=y.id;A=y.bitrate;C=y.Oa || 0;E=! !C;d && l.log("Checking feasibility of [" + z + "] " + B + " (" + A + " Kbps)");if(!y.Vs)return (d && !y.kv && l.log("  Not available"),d && y.JB && l.log("  Failed"),!1);if(A > n.wU)return (d && l.log("  Above maxInitAudioBitrate (" + n.wU + " Kbps)"),!1);if(!(A * n.x5 / 8 < r.buffer.Su))return (d && l.log("  audio buffer too small to handle this stream"),!1);if(E){d && l.log("  Have throughput history = " + E + " : available throughput = " + C + " Kbps");if(A * r.playbackRate < C / w)return (d && l.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && l.log(" bitrate requires more than available throughput");return !1;}y=n.KU;r.Xla && (y=Math.max(y,n.JU));if(A <= y)return (d && l.log("  Bitrate is less than max of minInitAudioBitrate (" + n.KU + " Kbps) " + (r.Xla?" and also minHCInitAudioBitrate (" + n.JU + " Kbps)":"")),d && l.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && l.log("  No throughput history");return !1;}t=new m();w=n.s3b || 1;for(v=p.length - 1;0 <= v;--v){x=p[v];if(u(x,v)){t.ie=v;break;}h(x) && (t.ie=v);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:f,PAUSED:f};},function(q,b,a){var k,l,d;function c(g,h,m,n,r){var p,u;m=null !== (p=h.Vd) && void 0 !== p?p:h.track.Fm(g,m.V,void 0,r);g=null !== (u=h.nf) && void 0 !== u?u:h.track.dy(g,null === n || void 0 === n?void 0:n.V,h.Uf);return [!h.sk(),m,g];}function f(g,h){var A,C;for(var m=[],n=0,r=g[n],p=null === r || void 0 === r?void 0:r[0],u=null === r || void 0 === r?void 0:r[1],t=h.nf.index,w=h.track.oo,v=0,x=h.Vd.Xc,y=h.Vd.Md.V > r[0],z=y,B=h.Vd.index;B <= t;++B){A=!1;if(r){C=w.get(B);y && (C.Xc.V >= u?(y=!1,++n >= g.length?u=p=r=void 0:(r=g[n],p=null === r || void 0 === r?void 0:r[0],u=null === r || void 0 === r?void 0:r[1])):z?z=!1:(m.push(new l.tZ(v,x,C.Xc)),x=C.Xc,A=!0));!y && r && C.Md.V > p && (y=!0,A=C.Xc,(C=h.track.rL.nk(B).NRa(p)) && 0 !== C.zk && (A=d.S.rb(C.od)),m.push(new l.tZ(v,x,A)),x=A,A=!0);}A && ++v;}m.push(new l.tZ(v,x,h.nf.Md));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.HHb=b.dYa=b.AZa=b.yZa=b.Nqa=void 0;k=a(2);l=a(415);d=a(9);b.Nqa=function(g,h,m){var n,r,p;p=h.Ra(0);h=h.Ra(1);h=null === h || void 0 === h?void 0:h.track.dy(g,null === m || void 0 === m?void 0:m.V,h.Uf);return [null === p || void 0 === p?void 0:p.track.dy(g,null !== (r=null === (n=null === h || void 0 === h?void 0:h.Md) || void 0 === n?void 0:n.V) && void 0 !== r?r:null === m || void 0 === m?void 0:m.V,p.Uf),h];};b.yZa=function(g,h,m,n,r){var p,u,t,w;p=h.Ra(0);h=h.Ra(1);u=k.__read(h?c(g,h,m,n,r):[!1],3);t=u[0];w=u[1];u=u[2];n=k.__read(p?c(g,p,t && void 0 !== (null === w || void 0 === w?void 0:w.Z)?d.S.rb(w.Z):m,void 0 !== (null === u || void 0 === u?void 0:u.Aa)?d.S.rb(null === u || void 0 === u?void 0:u.Aa):n,r):[!1],3);g=n[0];m=n[1];n=n[2];g && (null === p || void 0 === p?void 0:p.c4(m,n));t && (null === h || void 0 === h?void 0:h.c4(w,u));return [g,t];};b.AZa=function(g,h,m){return h.track.Fm(g,m.V,void 0,!0).Xc;};b.dYa=function(g,h,m){var n;n=h.P;if(!n.av || 0 === n.av.length)return [];g=n.av.map(function(r){return [n.xc + r[0],n.xc + r[1]];});return f(g,m.DV);};b.HHb=f;},function(q,b,a){var f,k;function c(l){return "immediate" === l;}Object.defineProperties(b,{__esModule:{value:!0}});b.TEa=b.tZ=b.kWa=void 0;f=a(9);k=a(6);b.kWa=c;q=(function(){function l(d,g,h){this.region=d;this.Xc=g;this.Md=h;}l.prototype.toJSON=function(){return {region:this.region,Z:this.Xc.vG,Aa:this.Md.vG};};return l;})();b.tZ=q;q=(function(){function l(d,g,h){var m,n;m=this;this.id=d;this.P=g;this.VJa=!1;this.jL=function(r){var p,u,t,w;return (null === (p=m.Qv) || void 0 === p?0:p.length)?"immediate":null !== (w=null === (t=null === (u=m.P.next) || void 0 === u?void 0:u[r]) || void 0 === t?void 0:t.Yd) && void 0 !== w?w:m.Yd;};this.UQ=new f.S(g.xc,1E3);this.mQ=void 0 !== g.Yc && null !== g.Yc?new f.S(g.Yc,1E3):f.S.PB;this.Bjb=null !== (n=g.Yd) && void 0 !== n?n:h;this.WVa();k.assert(this.UQ.lessThan(this.mQ),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(l.prototype,{da:{get:function(){return this.P.da;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{iM:{get:function(){return this.VJa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{uh:{get:function(){return this.UQ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ll:{get:function(){return this.mQ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{duration:{get:function(){return this.mQ.Ba(this.UQ);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Z:{get:function(){return this.UQ.V;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Aa:{get:function(){return this.mQ.V;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yC:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Pt:{get:function(){return this.Uy.length?!this.P.Ki && 0 === this.gM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{GJb:{get:function(){return this.EA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Uy:{get:function(){var d,g;return Object.keys(null !== (g=null === (d=this.P) || void 0 === d?void 0:d.next) && void 0 !== g?g:{});},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gM:{get:function(){var d;d=this;return this.Uy.filter(function(g){return ! !d.EA[g];});},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Nsa:{get:function(){var d;return null !== (d=this.QKa) && void 0 !== d?d:this.QKa=this.Hnb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{W7:{get:function(){var d;return null !== (d=this.RKa) && void 0 !== d?d:this.RKa=this.Inb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Tv:{get:function(){return this.P.weight?this.P.weight / (this.P.weight + this.W7):1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Yd:{get:function(){var d;return (null === (d=this.Qv) || void 0 === d?0:d.length)?"immediate":this.Bjb;},enumerable:!1,configurable:!0}});l.prototype.normalize=function(d,g,h){this.UQ=d;this.mQ=g;this.Qv=h;this.VJa=!0;this.S6a();};l.prototype.RSa=function(){var d;return this.gM.length?null !== (d=this.gM.map(this.jL).reduce(function(g,h){return g === h?h:void 0;})) && void 0 !== d?d:this.Yd:this.Yd;};l.prototype.ti=function(d){this.WVa(d);};l.prototype.wnb=function(d){var g,h;if(this.Nsa){g=(this.EA[d] || 0) / this.Nsa;if(void 0 === this.P.weight || 0 === this.W7)return {Be:g};h=this.Tv;return 1 !== h && c(this.jL(d)) && this.EA[d]?{Be:h * g,NB:this.EA[d] / this.W7 * (1 - h)}:{Be:h * g};}return {Be:(null === (g=this.P.next) || void 0 === g?0:g[d])?1 / this.Uy.length:0};};l.prototype.ICb=function(d){return -1 < this.Uy.indexOf(d);};l.prototype.WVa=function(d){var g;if(void 0 === this.P.next)this.EA={};else {g=this.P.next;this.EA=Object.keys(g).reduce(function(h,m){var n;n=d?d[m] || 0:g[m].weight;void 0 !== n && null !== n && 0 <= n && (h[m]=n);return h;},{});}this.S6a();};l.prototype.Hnb=function(){var d;d=this;return this.gM.reduce(function(g,h){return g + d.EA[h];},0);};l.prototype.Inb=function(){var d;d=this;return this.gM.filter(function(g){return c(d.jL(g));}).reduce(function(g,h){return g + d.EA[h];},0);};l.prototype.S6a=function(){this.RKa=this.QKa=void 0;};return l;})();b.TEa=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.OY=void 0;c=a(2);q=a(409);f=c.__importDefault(a(27)).default.Za;k=a(389);l=a(14);d=c.__importDefault(a(4));g=a(178);h=a(6);m=a(22);n=a(893);a=(function(r){function p(u,t,w,v,x,y,z,B,A,C,E,F){w=r.call(this,v,B,w,v,v,x,m.S.rb(y),z,E,!1,null === F || void 0 === F?void 0:F.Cf) || this;w.fb=u;w.Ch=t;w.Mf=A;w.rg=C;w.yfa=0;w.vB=[];w.Qw=!1;w.zn.k6a=!1;w.oQ=new n.qAa(v,w.rg,B,w.H,w.mediaType,w.Ch,w.Na,w.fb);w.aGb=d.default.time.aa();w.VFb=void 0;w.YF=B.Ila;w.C0a=d.default.time.aa();t=g.fL(B);u=t.AC;t=t.C6;w.nNb=0 === w.mediaType?u:t;w.vW(x);return w;}c.__extends(p,r);Object.defineProperties(p.prototype,{rx:{get:function(){return this.Na.rx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bK:{get:function(){return this.Na.bK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{iB:{get:function(){return this.Na.iB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lz:{get:function(){return this.Na.lz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yh:{get:function(){return this.oQ.yh;},set:function(u){this.oQ.yh=u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fq:{get:function(){return this.oQ.fq;},set:function(u){this.oQ.fq=u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{P4:{get:function(){return this.Kd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{XDb:{get:function(){return this.rJa.V;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jN:{get:function(){return this.NKa.jN;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sBb:{get:function(){return this.fb.zda;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Se:{get:function(){return this.Qw;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{OE:{get:function(){return this.rIa;},enumerable:!1,configurable:!0}});p.prototype.reset=function(){this.seeking=void 0;this.connected=this.yh=!1;this.zn.reset();};p.prototype.zf=function(){this.reset();r.prototype.zf.call(this);};p.prototype.dy=function(u,t){return k.dy(this.vj.mediaType,this.I,u,t,this.Uf,this.fb.sIb);};p.prototype.Fm=function(u,t,w,v){return k.Fm(this.vj.mediaType,this.I,u,t,w,v);};p.prototype.dn=function(){this.YF=this.I.Ila;};p.prototype.QJ=function(){this.Na.v8();};p.prototype.vW=function(u){var t,w;t=this.fb;w=this.mediaType;h.assert(u.mediaType === w);h.assert(u.N === this.ub.N);this.vj=u;this.ub.N.Ota(w,u.Qd);t.zgb(this,u.cC);this.snb(u.Qd);this.Cf.vW(u);this.ub.N.jga();this.yh=!1;};p.prototype.Gia=function(u){var t;t=this.ub.N.Rg[this.mediaType];if(t && t.stream.ye && (u=t.stream.Y.Gm(u),-1 !== u))return u;};p.prototype.UG=function(u,t){var w,v,x;if(this.Vd && this.Vd.Z === u){t=this.Vd.index;w=u;}else {v=this.ub.N;x=v.Rg[this.mediaType];if(!x || !x.stream.ye){this.qG=u;this.nMb=t;return;}w=x.stream.Y;this.Vd=this.Fm(x.stream,u,void 0,t);if(void 0 === this.Vd){if((t=w.length - 1,w=w.Zi(t),this.Eb("setStreamingPts out of range of fragments, pts:",u,"last startPts:",w,"fragment index:",t,"fastplay:",v.Ze.yg),v.Ze.yg)){this.qG=u;return;}}else (t=this.Vd.index,w=this.Vd.Z);}this.Zn=t;this.VQ=w;this.qG=void 0;};p.prototype.GXb=function(u){var t,w;t=this.vj.jv(u);w="verifying streamId: " + u + " stream's track: " + (t?t.La:"unknown") + " currentTrack: " + this.vj.trackId;return t?!0:(this.Ch.Ul(w),this.Ch.Ul("unknown streamId: " + u),!1);};p.prototype.snb=function(u){this.XCb=u.reduce(function(t,w){return w.Vs && w.bitrate > t.bitrate?w:t;},u[0]);};p.prototype.C7=function(u){this.nf=u;};p.prototype.vHb=function(u,t,w,v,x){this.A5a(u,t,v,x);w && ++this.yfa;this.fb.uj();};p.prototype.Wy=function(u){u.Aa && u.Z && (this.YF-=u.Aa - u.Z);r.prototype.Wy.call(this,u);};p.prototype.wk=function(u){this.QUa(u);this.gv(u);};p.prototype.yWb=function(u){var t;t=d.default.time.aa();this.YF+=u * (t - this.C0a);this.C0a=t;};p.prototype.qQb=function(){this.YF=this.I.Ila;};p.prototype.$J=function(u){this.Na.Ufa();this.Uf || this.oQ.$J(u,this.pc);};p.prototype.QUa=function(u){var t,w,v;w=this.P4;v=this.fb;this.Mf.PKa() || (this.Ch.Uhb(u.mediaType,u.N.Db,u.stream.track.EE,this.rs,this.va),null === (t=this.Uf) || void 0 === t?void 0:t.IDb(u),t=w.T.xe() || 0,v.nb.Rw() || (w=w.Ra(f.Hb)) && !w.Se && w.D3 && v.nb.vka(w),this.$J(t),this.fb.PUa(u),this.Mf.$Z(this) && this.Mf.uj());};p.prototype.bpa=function(u){this.fb.z3(u);};p.prototype.QNa=function(u,t,w,v,x,y){var z,B;z=this.I;B=z.Qi;if(w >= z.Qi && (z.a7 && (B=w + 1E3),z.b7 && !this.connected))return !1;if(this.Uf)return this.Uf.Hx();w=this.yh && 0 === this.Na.epa && 0 === this.Na.Ar;return !w && v < B?!1:w?y && 0 === v?(this.Eb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.sob(u,t,x);};p.prototype.cSb=function(u){this.VQ=u;};p.prototype.z7=function(u){this.Qw=!0;this.rIa=u;};p.prototype.hga=function(){this.Qw=!1;this.rIa=void 0;};p.prototype.sob=function(u,t,w){if(this.Se || 0 === this.mediaType)return !0;if(void 0 === this.Ws)return !1;t=this.mgb(t,u);this.track.N.Pl.hX(this.track.N.da,this.track.Qd);this.xz.Qpa([this.Ws],!1,t,this.nNb);u=this.xz.Hx(t,u,w,this.Ws,this.ub.N.jp);u.complete?this.z7(u.reason):(this.hga(),this.bC=u.bC,this.progress=u.progress);return this.Se;};p.prototype.mgb=function(u,t){var w,v,x,y,z;y=d.default.Mn()[this.mediaType];z=this.Na.n3();u={Su:y,Z:null !== (w=z.Zc) && void 0 !== w?w:0,qc:u,oc:null !== (v=z.BM || u) && void 0 !== v?v:0,Hl:null !== (x=z.VR || u) && void 0 !== x?x:0,Tj:z.Tj,jl:z.jl,hSa:z.Y.length,Y:z.Y};"number" !== typeof u.Z?(u.Z=0,u.oc=0):t === l.wc.Sc && u.qc !== u.Z && (u.qc=u.Z);return u;};return p;})(q.Haa);b.OY=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.t9=void 0;c=a(2);q=a(16);f=a(19);k=c.__importDefault(a(4));l=a(9);d=a(895);g=a(176);h=a(896);m=a(22);n=a(899);a=(function(r){function p(){var u;u=null !== r && r.apply(this,arguments) || this;u.AKa=0;u.Dda=0;u.a_=0;u.ica=0;return u;}c.__extends(p,r);p.prototype.Wqa=function(u){var t,w;r.prototype.Wqa.call(this,u);this.AKa++;this.Dda++;this.UKa=k.default.time.aa();this.eJ || (this.eJ={pc:u.pc,Jc:u.Jc,index:u.index},this.r_ || (this.r_=this.eJ));t=this.E_;w=!1;t && 100 > Math.abs(t.Pd - u.Zc) && (this.a_+=u.Pd - t.Pd,this.ica++,w=!0);w || (this.a_=u.Zx,this.ica=1);this.E_=u;};p.prototype.stop=function(){r.prototype.stop.call(this);this.Dda=0;this.eJ=void 0;};p.prototype.tTa=function(){var u,t,w,v;u=this.IA;t=u.E1;if(t){v=t.Ra(this.tg);v && v.Na && (w=v.Na.jka());return {RM:w,currentBranch:{sId:t.P && t.P.id,cancelled:t.Fn},currentReceivedCount:u && u.Hsb,totalReceivedCount:this.AKa,currentState:u && u.wPa || "Uninitialized",lastRequestPushed:this.E_ && ({contentEndPts:this.E_.pc,fragmentIndex:this.E_.index}),tslp:this.UKa && k.default.time.aa() - this.UKa,cpts:this.a_,crq:this.ica,rslp:this.Dda,firstRequestSSPushed:this.eJ && ({contentStartPts:this.eJ.Jc,fragmentIndex:this.eJ.index}),firstRequestPushed:this.r_ && ({contentStartPts:this.r_.Jc,fragmentIndex:this.r_.index})};}};return p;})((function(r){function p(u,t,w,v,x,y,z,B,A){var C;C=r.call(this) || this;C.qg=u;C.tg=t;C.I=v;C.H=x;C.DA=new l.nq(!1);C.CA=new l.nq(m.S.rb(-Infinity));C.H=l.Ys(k.default,C.H,"AsePlayerBuffer:");C.IA=new d.Iva(C.H,w,t);C.resume();y && z && B && (C.Spa=new h.iFa(t,x,y,C.qg,y.events,z,B,A),u=new n.uya(null === y || void 0 === y?void 0:y.st,m.S.rb(C.I.MU),x),C.IA.Fkb(u));C.qg.on("requestAppended",function(E){C.DA.set(!0);E.request.pf && C.CA.set(E.request.pf);C.emit("requestAppended");});return C;}c.__extends(p,r);Object.defineProperties(p.prototype,{Ry:{get:function(){return this.DA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fU:{get:function(){return this.CA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tEb:{get:function(){return this.IA.tk;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zz:{get:function(){return this.qg.zz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mediaType:{get:function(){return this.tg;},enumerable:!1,configurable:!0}});p.prototype.tTa=function(){};p.prototype.resume=function(){f.ka && this.H.trace("resume");this.usa();};p.prototype.eWa=function(u){return this.qg.Sja() > u;};Object.defineProperties(p.prototype,{Nlb:{get:function(){return this.LI;},enumerable:!1,configurable:!0}});p.prototype.reset=function(u){var t;void 0 === u && (u=!1);f.ka && this.H.trace("reset");this.stop();this.qg.reset(u);this.DA.set(!1);this.CA.set(m.S.rb(-Infinity));u || (this.LI=void 0);u || (null === (t=this.Spa) || void 0 === t?void 0:t.reset());};p.prototype.nl=function(u){void 0 === u && (u=!1);this.reset(u);this.usa(!0);};p.prototype.stop=function(){this.IA.d4a();};p.prototype.close=function(){var u;null === (u=this.Spa) || void 0 === u?void 0:u.close();};p.prototype.wb=function(){this.stop();this.close();};p.prototype.dV=function(){this.I.C2 && this.qg.YRa();this.qg.Yx();};p.prototype.hxb=function(u){this.qg.DZa(u,!0);};p.prototype.bi=function(u){var t;return !(null === (t=this.Spa) || void 0 === t || !t.bi(u));};p.prototype.usa=function(u){if(!this.IA.tk || u)(this.IA.zQb(),g.AsyncIterator.xFb(this.IA,this.F4.bind(this)));};p.prototype.F4=function(u){u.done || this.Wqa(u.value);};p.prototype.Wqa=function(u){this.qg.endOfStream?f.ka && this.H.error("Buffer manager has declared EOS, ignoring request",u.toString()):(this.LI?(this.LI.WFb=u.pc,this.LI.XFb=u.Pd,this.LI.bXa=u.pf):this.LI={D4b:u.Jc,E4b:u.Zc,WFb:u.pc,XFb:u.Pd,bXa:u.pf},this.qg.Mlb(u));};return p;})(q.EventEmitter));b.t9=a;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Zaa=void 0;c=a(2);f=a(16);k=a(9);l=a(19);d=a(67);g=k.S.rb(1E3);q=(function(){function h(m,n,r,p,u,t,w,v,x){var y,z,B;y=this;this.mediaType=m;this.console=n;this.Ha=r;this.events=u;this.Eu=t;this.Df=w;this.FVb=v;this.Xn=[];this.hpa=g.add(k.S.rb(null !== (B=null === (z=t.vN) || void 0 === z?void 0:z.V) && void 0 !== B?B:0));this.listeners=new f.zh();this.listeners.on(r.T,"skipped",function(){return y.fV();});this.listeners.on(p,"requestAppended",function(A){return y.Ry(A.request);});this.TQ=!0;this.ES=w.mB(function(){return y.$ub();},"Presentation Emit",x);this.L6=w.mB(function(){return y.qOb();},"Presentation Prune");}h.prototype.fV=function(){this.trace("skipped, scheduler clock " + this.Df.wa.currentTime.Nd());this.TQ=!0;this.ES.nl();};h.prototype.$ub=function(){var m,n;return c.__generator(this,function(r){switch(r.label){case 0:(this.wG=this.FJb(this.TQ),m=this.pZa(),r.label=1);case 1:if(!m)return [3,3];n=this.TQ?this.Ha.Cd:null === m || void 0 === m?void 0:m.timestamp;this.trace("queuing task for " + m.rH + (" at player time " + m.timestamp.Nd()) + (" scheduler clock is " + this.Df.wa.currentTime.Nd()));return [4,d.mj.YN(m.timestamp)];case 2:return (r.Oe(),this.trace("executing task for " + m.rH + (" at player time " + m.timestamp.Nd()) + (" scheduler clock is " + this.Df.wa.currentTime.Nd())),this.TQ=!1,this.GQa(m,n),this.wG++,m=this.pZa(),n=null === m || void 0 === m?void 0:m.timestamp,[3,1]);case 3:return [2];}});};h.prototype.pZa=function(){if(void 0 !== this.wG)return this.Xn[this.wG];};h.prototype.FJb=function(m){var n,r,u;void 0 === m && (m=!1);for(var p=m?0:null !== (n=this.wG) && void 0 !== n?n:0;p < this.Xn.length;p++){n=this.Xn[p];u=k.S.rb(null !== (r=this.Eu.Epa) && void 0 !== r?r:0);if(n.timestamp.greaterThan(this.Ha.Cd.add(u)))return m && 0 < p?p - 1:p;}return Math.max(this.Xn.length - 1,0);};h.prototype.qOb=function(){var m,n;return c.__generator(this,function(r){switch(r.label){case 0:if(!(1 < this.Xn.length))return [3,2];m=c.__read(this.Xn,2);n=m[1];this.trace("queuing pruning task for " + n.rH + (" at player time " + this.hpa.add(n.timestamp).Nd()) + (" scheduler clock is " + this.Df.wa.currentTime.Nd()));return [4,d.mj.YN(this.hpa.add(n.timestamp))];case 1:return (r.Oe(),this.trace("executing pruning task for " + n.rH + (" at player time " + this.hpa.add(n.timestamp).Nd()) + (" scheduler clock is " + this.Df.wa.currentTime.Nd())),this.Xn.shift(),this.wG && this.wG--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.Xn=[];l.ka && this.trace("reset");this.TQ=!0;this.K4=void 0;this.wG=0;this.L6.nl();this.ES.nl();};h.prototype.close=function(){this.ES.wb();this.L6.wb();this.listeners.clear();};h.prototype.bi=function(m){var n;l.ka && this.trace("canSkip() " + m);if(0 === this.Xn.length)return (l.ka && this.trace("canSkip false, no media sequence"),!1);n=this.Xn[0];return n.timestamp.greaterThan(m)?(l.ka && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.K4 || this.K4.lessThan(m)?(l.ka && this.trace("canSkip false, later than last appended at " + this.K4),!1):!0;};h.prototype.trace=function(m){l.ka && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.FVb + ": " + m);};h.prototype.uLa=function(m,n,r){r && (this.K4=r);r=this.Xn.length?this.Xn[this.Xn.length - 1]:void 0;return void 0 === r || r.rH !== m?(this.Xn.push({rH:m,timestamp:n}),this.ES.state === d.ul.complete && this.ES.nl(),this.L6.state === d.ul.complete && this.L6.nl(),!0):!1;};return h;})();b.Zaa=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperties(b,{__esModule:{value:!0}});b.D9=void 0;q=a(2);c=q.__importStar(a(10));f=q.__importDefault(a(84));k=q.__importDefault(a(4));l=a(900);d=a(14);g=a(247);h=a(9);m=a(6);n=a(22);r=a(374);p=a(407);a=(function(){function u(t,w,v,x,y,z,B,A,C,E){this.fb=t;this.Ch=w;this.H=v;this.AJ=x;this.I=B;this.l_=A;this.lKa=C;this.hT=E;this.Eb=this.H.warn.bind(this.H);this.sm=this.H.trace.bind(this.H);this.cg=this.H.log.bind(this.H);this.Ah=[];this.Lg={};y.ym?(m.assert(!y.bo),this.Yba=!0,this.lib(y,y.ym,z)):(this.sn=this.Sw(y.bo || "",y,0,void 0,void 0,{},!0),this.sn.iM=!0,this.sn.Aa=Infinity,this.l0=[this.sn]);this.Kd=this.c_(this.sn,void 0,z);this.Kd.active=!0;t=h.Ys(k.default,this.H,"BranchQueue::");this.oj=new g.PX(t);this.oj.enqueue(this.Kd);this.wda=this.xQ=void 0;}u.mja=function(t){return "m" + t;};Object.defineProperties(u.prototype,{zy:{get:function(){return ! !this.Yba;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ej:{get:function(){return this.Kd.Fn;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{hg:{get:function(){return this.sn;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Fh:{get:function(){return this.Kd.P.id;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Isb:{get:function(){return this.Kd.N.Db;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Cc:{get:function(){return this.Kd;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ab:{get:function(){return this.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ke:{get:function(){return this.Kd.Ke;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{rg:{get:function(){return this.fb.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Mh:{get:function(){return this.xQ?this.xQ:this.Ab[0];},enumerable:!1,configurable:!0}});u.prototype.wb=function(){this.Ah.forEach(function(t){t.zf();});this.Ah=[];this.oj.clear();};u.prototype.Me=function(t){return this.Lg[t];};u.prototype.nUa=function(){return this.oj.getIterator();};u.prototype.mUa=function(t,w){var v;v=this.Lg[t];if(v)return (t=v.Xk[w]) && t.weight;this.Eb("getSegmentWeight, unknown segment:",t);};u.prototype.nBb=function(t){var w;w=this.Lg[t];if(w)return w.Z;this.Eb("getSegmentStartPts, unknown segment:",t);};u.prototype.mBb=function(t){var w;w=this.Lg[t];if(!w)this.Eb("getSegmentDuration, unknown segment:",t);else if(c.xa(w.Aa) && isFinite(w.Aa) && c.xa(w.Z) && isFinite(w.Z))return w.Aa - w.Z;};u.prototype.Hqa=function(t){var w;w=-1;this.Ah.some(function(v,x){return v === t?(w=x,!0):!1;});-1 !== w?this.Ah.splice(w,1):this.Eb("Unable to find branch:",t,"in branches array");};u.prototype.SE=function(t,w){var v;v=0;this.lgb(t).forEach(function(x){(x=x.Ed(w)) && (v+=x.iB);});return v;};u.prototype.Ru=function(t,w,v){var x;if(!t.Vb(w))return 0;x=t.Ra(w);for(x=v?x.oc:x.rs;void 0 === x;){if(!t.Tf)return 0;t=t.Tf;x=t.Ra(w);x=v?x.oc:x.rs;}t=this.lKa.xe();return Math.max(x - t,0);};u.prototype.Eia=function(t){return this.Ah.filter(function(w){if(w.N.Db === t)return !0;});};u.prototype.Qwb=function(t,w){return this.SIa(t,!1,w);};u.prototype.Pwb=function(t,w){return this.SIa(t,!0,w);};u.prototype.SPb=function(t,w,v){c.Te(this.Ah,function(x){x.N === t && x.q3a(w,v);});c.Te(this.Lg,function(x){x.N === t && (x.N=w);});};u.prototype.b2a=function(){var t;t=this;c.Te(this.Ah,function(w){var v;v=t.fb.Pg(w.N.Db);w.Hz(n.S.rb(v.rv));});};u.prototype.Qp=function(t){var w;w=this;c.Te(this.Ah,function(v){v.Ra(1).track.Qd.forEach(function(x){var y;y=r.Kea(x.Mg,x.bitrate,t,w.H);f.default(y,x);});});};u.prototype.Es=function(t,w,v,x){var y;for(;w;){y=w.Es(t,v);if(y)return y;if(x)break;w=w.Tf;}};u.prototype.BPa=function(t){var w,v;w=this;void 0 === t && (t=!1);v=this.Ah;t && (v=v.filter(function(x){return x !== w.Kd;}));v.forEach(function(x){x.active=!1;w.oj.remove(x);});t || this.oj.clear();return v;};u.prototype.pOb=function(){var t;for(;0 < this.Ah.length;){t=this.Ah[0];t.Ra(0);t.Ra(1);if(!t.active)break;if(t === this.Kd)break;if(!t.JCb())break;t.zf();this.Ah.shift();}};u.prototype.GV=function(t,w,v,x,y){if(v > x){for(v-=x;t;){t.GV(w,v,y);t=t.Tf;}return v;}};u.prototype.SXa=function(t,w){for(var v={VR:null,BM:null,Zc:null,jl:0,Tj:0,Y:[]};t;){t.n3(v,w);t=t.Tf;}return v;};u.prototype.Xob=function(t){var w,v,x;w=this.Kd;if(w.GXa)v=w.GXa;else {x=this.Kd.Ke;v=this.c_(w.P,w);d.cf.forEach(function(y){var z;z=v.Ed(y);z && (z.UG(0),y=w.Ed(y),z.C7(y.nf));});v.Hz(n.S.rb(x + t));w.GXa=v;}this.HI(v,w);};u.prototype.Ekb=function(t,w,v){var x,y;m.assert(!t.zy());if(!this.Yba){this.Yba=!0;this.xQ=this.Mh;x=this.sn.id || u.mja(0);this.sn.id=x;this.Lg[x]=this.sn;this.sn.Aa=this.fb.Rzb().vTa();this.sn.yC=!0;}y=void 0 !== t.bo?t.bo:u.mja(t.Db);t=this.Sw(y,t,w,v,void 0,{},!0);t.yC=!0;this.l0.forEach(function(z){z.Xk={};z.Xk[y]={weight:100};z.mS=y;z.Pt=!1;});this.l0=[t];};u.prototype.ns=function(t,w){var v,x,y,z;v=this.Mh;x=v.KC(w,this.fb.T);y=v.P;z=v.children[t];if(w){if(!y.Xk[t])return (this.Kd.Eb("chooseNextSegment, invalid destination:",t,"for current segment:",y.id),!1);if(v.ik)return v.ik === t;v.ik=t;z && v.F2 && this.HI(z,v);return !0;}if(void 0 !== v.ik)return !1;if(!z)return (x.lZa=!0,!1);x.lZa=!z.Xfa();this.fb.Eda(void 0,p.IP.hM);v.F2=void 0;v.ik=t;this.HI(z,v);v.KS();this.fb.RQ();return !0;};u.prototype.aDb=function(t,w){var v,x,y,z;v=this;z=t.P;w && !t.ik && (t.ik=z.mS,t.KC(!0,this.fb.T,!0));t.children=Object.create(null);c.Te(z.Xk,function(B,A){t.ik && A !== t.ik || (x=v.Lg[A],y=v.Dfb(x,t),t.children[A]=y);});t.ik && (w=t.children[t.ik]) && this.HI(w,t);t.F2=!0;};u.prototype.yVb=function(){var t;t=0;c.Te(this.Ah,function(w){d.cf.forEach(function(v){w.Vb(v) && (v=w.Ed(v),t+=v.Na.Uo);});});return t;};u.prototype.DUb=function(t,w){var v,x,y;v=this;x=this.igb(t,w);if(x){if(x !== this.Kd.P){this.BPa();y=this.c_(x,this.Kd,t);y.Tf=void 0;y.Xra(void 0,void 0,!0);this.Heb(this.Kd);this.HI(y,this.Kd);}else this.BPa(!0).forEach(function(z){z.zf();v.Hqa(z);v.oj.remove(z);});x === this.Mh.P && (this.Mh.dw.shift(),y && (y.dw=this.Mh.dw,y.ik=this.Mh.ik));this.Ch.I_(x,this.Kd.Ke);this.Kd.F2=void 0;}else this.Eb("findSegment no segment for manifestIndex:",w);};u.prototype.QXa=function(t,w){var v;v=t.P;w || (w=v.mS);t.ik || (t.ik=w,t.KC(!0,this.fb.T,!0));(w=t.children[t.ik]) && this.HI(w,t);};u.prototype.X2a=function(t,w){if(this.Kd !== t){if(w)for(w=this.Kd;w && w !== t;){w.active=!1;this.oj.remove(w);w=w.Tf;}this.Kd=t;}};u.prototype.Br=function(t,w){var v,x,y,z,B;v=this;if(this.zy){x=this.I;y=this.Mh;z=y.P;B=h.iRb(z.id);!y.ik && !z.Pt && y.pc - w <= x.jC && (this.Eb(B + "updatePts making fork decision at playerPts:",t,"contentPts:",w),this.QXa(y));}d.cf.forEach(function(A){v.Kd.Vb(A) && v.rg[A].Br();});};u.prototype.$Jb=function(t,w){var v,x;if(this.zy){v=this.xQ;if(!(this.I.vDb && t && this.wda && t.Z === this.wda || (t=t.Na.ub,v && t.P.id === v.P.id))){x=null === v || void 0 === v?void 0:v.Ed(1);x=null === x || void 0 === x?void 0:x.nf;this.wda=null === x || void 0 === x?void 0:x.Z;this.xQ=t;this.dfb(v);v=v && v.jpb(t);this.Ch.Qhb(t.P,w,v);}}};u.prototype.R5=function(t,w,v){w.iM || (w.Z=this.OTa(t,w.Z,!0),v || (w.Aa=this.OTa(t,w.Aa,!1)),w.iM=!0,!1);};u.prototype.RN=function(t,w){var v;v=this.Lg[t];v?c.Te(v.Xk,function(x,y){x.weight=w[y] || 0;}):this.Eb("updateChoiceMapEntry, unknown segment:",t);};u.prototype.OTa=function(t,w,v){t=v?t.IRa(w):t.TS(w);if(!t.length)return w;w=t[1];return v?w.Z:w.Aa;};u.prototype.vJa=function(t,w,v){var x;x=w?v.pc:v.Pd;return (w?v.p7:v.Fpa) <= t && t < x;};u.prototype.SIa=function(t,w,v){var B;for(var x=this.fb,y=this.Kd;y;){if((!c.xa(v) || x.Sla(v,y.N.Db)) && this.vJa(t,w,y))return y;y=y.Tf;}if(w){y=Object.keys(this.Kd.children);for(var z=0;z < y.length;z++){B=this.Kd.children[y[z]];if((!c.xa(v) || x.Sla(v,B.N.Db)) && this.vJa(t,w,B))return B;}}};u.prototype.Dfb=function(t,w){var v,x;v=this.c_(t,w);x=v.Xra(w,void 0,this.I.zqa);d.cf.forEach(function(y){var z,B,A;if(v.Vb(y)){z=v.Ed(y);B=w.Ed(y);A=x[y];1 === y && v.Hz(n.S.rb(B.oc + w.Ke - A));z.UG(A);}});this.Ch.I_(t,v.Ke);return v;};u.prototype.Heb=function(t){for(var w=[t.P.id];t.Tf;){t=t.Tf;w.unshift(t.P.id);}this.Pba(t);};u.prototype.Pba=function(t){var w,v;w=this;v=t.P;c.Te(t.children,function(x){x && w.Pba(x);});this.oj.remove(t);t.zf();this.Hqa(t);this.Ch.mda(v);};u.prototype.HI=function(t,w){var v,x,y,z;v=this;x=w.P;w.N !== t.N && this.fb.HJa(t.N.Db);t.active=!0;this.oj.enqueue(t);t.QJ();y=k.default.time.aa();z={};c.Te(w.children,function(B){var A,C;if(B){if(B.Wd){A=B.Ed(0);C=B.Ed(1);B.Wd.TJ=[A?A.cp.V:0,C?C.cp.V:0];B.Wd.Fub=y - B.Wd.Y3;B.Wd.Y3=void 0;z[B.P.id]=B.Wd;}B.P.id !== t.P.id && v.Pba(B);}});w.children=Object.create(null);w.children[t.P.id]=t;w.TI=void 0;this.X2a(t);this.Ch.Ohb(t.P,z);1 < Object.keys(x.Xk).length && t.Xfa();};u.prototype.dfb=function(t){var w,v;if(t){w=k.default.time.aa();v=t.dw[0];v && void 0 === v.O1?v.O1=w - v.Np:v || (this.Eb("missing metrics for branch:",t.P.id),v={L7:t.P.id,Be:!0,O1:0,Wd:{}},t.dw.unshift(v));void 0 === v.startTime && (v.startTime=w);}};u.prototype.igb=function(t,w){var x,y,z,B;m.assert(0 <= t);for(var v in this.Lg){x=this.Lg[v];if(this.fb.Sla(x.N.Db,w)){if(x.Z <= t && (Infinity === x.Aa || void 0 === x.Aa || t < x.Aa))return x;y=Math.min(Math.abs(t - x.Z),Math.abs(t - x.Aa));if(c.ga(z) || y < z)(z=y,B=x);}}return B;};u.prototype.Sw=function(t,w,v,x,y,z,B,A,C){w=new l.bGa(t,w,v,x,y,z,B,A,void 0,C);return this.Lg[t]=w;};u.prototype.lib=function(t,w,v){var x,y,z;x=this;this.sn=void 0;this.l0=[];y=null;z=null;c.Te(w.segments,function(B,A){var C,E,F,D,G;C=B.startTimeMs;E=B.endTimeMs;F={};c.Te(B.next,function(I,J){F[J]={weight:I.weight || 0,LVb:I.transitionHint || B.transitionHint,r4b:"number" === typeof I.earliestSkipRequestOffset?I.earliestSkipRequestOffset:B.earliestSkipRequestOffset};});D=B.defaultNext;c.ga(D) && (D=Object.keys(F)[0]);G=c.ga(D);D=x.Sw(A,t,C,E,D,F,G,B.exitZones,B.transitionHint);C <= v && (v < E || c.ga(E))?x.sn=D:C > v && (!y || C < z) && (y=A,z=C);G && x.l0.push(D);});this.sn || (this.sn=y?this.Lg[y]:this.Lg[w.initialSegment]);};u.prototype.c_=function(t,w,v){var x,y,z,B;x=t.N;y=this.fb.Pg(x.Db);z=y.rv;B=[];[0,1].forEach(function(A){x.Vb(A) && B.push(y.pp(A));});t=new p.pAa(this.fb,this.I,this.Ch,this.H,this,this.l_,this.lKa,this.AJ,t,B,z,w,v?n.S.rb(v):void 0,this.hT,this.fb.rg,this.fb.Du);this.Ieb(t);this.Ah.push(t);return t;};u.prototype.Ieb=function(t){var v;function w(x){v.fb.emit(x.type,x);}v=this;t.addListener("locationSelected",w);t.addListener("logdata",w);t.addListener("serverSwitch",w);t.addListener("streamSelected",w);t.addListener("lastSegmentPts",w);t.addListener("managerdebugevent",w);t.addListener("requestCreated",function(x){x=x.request;v.fb.Ida(x.mediaType,x.Z);});};u.prototype.lgb=function(t){for(var w=[t];t.Tf;){t=t.Tf;w.push(t);}return w;};return u;})();b.D9=a;},function(q,b,a){var l,d,g;function c(h,m,n){this.xC=m;this.Tk=n;this.vz=this.WT=this.jpa=this.Q_a=this.P_a=this.kM=this.Qd=this.QMb=this.Tk=this.am=this.oc=this.Z=this.Jz=this.ro=this.Y=this.YVa=this.zR=void 0;}function f(h,m,n){this.Aa=m;this.wWa=n;this.jMa=this.L6a=this.Zr=this.ro=this.WF=this.Yu=void 0;}function k(h,m,n,r,p,u,t){var w;w=new c(n,m,h.Tk);h.forEach(function(v){var x,y;x=v.buffer;y=x.Y;v.mediaType === l.Za.Tb?w.zR=y.length?y[0].bitrate:void 0:v.mediaType === l.Za.Hb && (w.YVa=y.length?y[0].bitrate:void 0,w.Y=y,w.ro=x.Hl - x.qc,w.Jz=x.Tj,w.Z=x.qc,w.oc=x.oc,w.am=v.kf,w.Tk=v.Tk,w.QMb=m - v.Tk,w.Qd=v.Qd,w.kM=y.filter(function(z){return w.Z <= z.Mv;}).length);});this.$i=w;this.Bs=void 0;this.GPa=r;this.Rv=p;this.fNa=u;this.vqa=this.Q6=this.h_a=this.Bz=this.MJ=this.FRa=this.fw=this.Qd=this.Bs=void 0;this.$kb=t;this.Jpa={};}l=a(27).default;d=a(39).assert;g=a(14).ja;c.prototype.constructor=c;f.prototype.constructor=f;k.prototype.constructor=k;k.prototype.Ds=function(h,m){var n,r,p,u,t,w,v,x,y,z,B,A,C,G,I,J,H,M,O;n=this.$i;r=[];p=h[l.Za.Hb];u=h[l.Za.Tb];if(void 0 === p || void 0 === u)return !1;t=p.buffer;w=u.buffer;v=n.Qd.filter(function(L){return L.b3();});if(void 0 === t || void 0 === w || void 0 === v || 0 === v.length)return !1;x=new f(m?g[m]:"maxbitratechanged",p.qc,m === g.ef);y=0;z=0;B=0;A=0;C=n.Z;h=h[l.Za.Hb].qc;for(var E=n.Y,F=n.kM,D=0;D < F;D++){G=E[D];I=G.offset;J=G.offset + G.ca - 1;H=G.Zx;M=G.ez;O=M + H;G && M <= h && O > C && (H=G.Zx,M=Math.min(H,Math.min(h,O) - Math.max(M,C) + 1),A+=M,y+=M / H * (J - I + 1),z+=G.bitrate * M,B+=G.zb * M);}n.P_a=y;n.Q_a=A;n.jpa=0 < A?z / A:0;n.lMb=0 < A?B / A:0;n.WT || (n.WT=0,v.some(function(L,P){if(L.bitrate === n.YVa)return (n.WT=P,!0);}));v.forEach(function(L){var P,K;L=L.b3();P=[];n.vz || (n.vz=L.Gm(n.Z,void 0,!0));x.Yu || (x.Yu=L.Gm(x.Aa,void 0,!0),x.WF=L.length - 1);n.am !== n.vz + n.kM && (n.am=n.vz + n.kM);F=Math.min(x.WF,x.Yu + 1);for(var R=n.vz;R <= F;R++){K=L.get(R);P[R]=K;}r.push(P);});m === g.ef && (x.ro=t.Hl - t.qc,x.Zr=w.Hl - w.qc,x.L6a=p.i1a,x.jMa=u.i1a);this.Bs=x;this.Qd=v;this.fw=r;return this.FRa=!0;};k.prototype.my=function(){var h,m,n,r,p,u,t,w,v,B,A,C,E,F;if(this.Gj)return this.Gj;h=this.Bz;m=this.$i;n=this.Bs;r=this.Qd;p=this.h_a;u=this.$kb;d(void 0 !== h,"throughput object must be defined before retrieving the logdata from PlaySegment");if(h.trace && 0 === h.trace.length || void 0 === h.timestamp){if(n.wWa)(t=!1,w=!0);else n.Yu - m.vz + 1 <= m.kM?w=t=!0:(t=!0,w=!1);v=!0;}if(p)for(var x=p.j4,y=p.HK,z=0;z < u.length;z++){B=u[z];(h=p[B]) && h.qoa && (w=!0);}n={bst:m.Tk,pst:m.xC,s:m.vz,e:n.Yu,prebuf:m.kM,brsi:m.am,pbdlbytes:m.P_a,pbdur:m.Q_a,pbtwbr:m.jpa,pbvmaf:m.lMb};this.Rv && (n.fragmentsPrebuffered=m.Y);v && (n.nt=v);w && (n.nd=w);x && (n.invalid=x);y && (n.exception=y);this.vqa && (n.rr=this.vqa);this.Q6 && (n.ra=this.Q6);if(!w && !x && !y && (this.GPa || this.Rv)){n.bitrate=r.map(function(G){return G.bitrate;});h=this.Bz;B=h.trace;A=[];E=0;B.forEach(function(G){G=Number(G).toFixed(0);A.push(G - E);E=G;});n.tput={ts:h.timestamp,trace:A,bkms:h.Ax};}if(w || v || x || y)n.feasible=t;else for((n.sols={},n.elapsed=p.Vub,z=0);z < u.length;z++){B=u[z];h=p[B];w={};if(h && h.Up){w.algelapsed=h.Zkb;w.maxHeapTotal=h.Ny;w.f=h && h.SB || !1;w.dltwbr=h.hQa;w.dlvmaf=h.kQa;w.dlvdur=h.jQa;w.dlvbytes=h.iQa;w.dlabytes=h.gQa;if(this.GPa || this.Rv){C=h.Up.filter(function(G){return G;}).map(function(G){return G.ie;});E=0;F=[];C.forEach(function(G){F.push(G - E);E=G;});w.strmsel=F;}if(this.Rv){v=[];t=this.$i.am;for(var D in C){x=C[D];y=this.fw[x][t];y.og=x;v.push(y);t++;}w.fragsel=v;w.streamList=this.Qd;w.pause_dlnd_sec=h.Up.filter(function(G){return G;}).map(function(G){return G.ipa;});w.buffer_sec=h.Up.filter(function(G){return G;}).map(function(G){return G.xfa;});w.buffer_kb=h.Up.filter(function(G){return G;}).map(function(G){return G.wfa;});w.buffer_frags=h.Up.filter(function(G){return G;}).map(function(G){return G.jNa;});w.elapsed_secs=h.Up.filter(function(G){return G;}).map(function(G){return G.CQa;});w.throughput=h.Up.filter(function(G){return G;}).map(function(G){return G.Oa;});}}n.sols[B]=w;}return this.Gj=n;};k.prototype.Xwb=function(h){var r;if(void 0 !== this.Jpa[h])return this.Jpa[h];for(var m=this.fw[this.$i.WT],n=0;n < m.length;n++){r=m[n];if(r && r.Z <= h && r.Z + r.duration > h)return this.Jpa[h]=r;}throw Error("findPlayingFragment: missing");};q.exports=k;},function(q,b,a){var k;function c(l,d,g){this.ca=l;this.$l=d;this.quality=g;}function f(l,d){this.qna=d;void 0 === d && (this.qna=!0);this.gk=l;this.Web();}k=a(6).assert;c.prototype.constructor=c;c.prototype.ry=function(){return 8 * this.ca / 1E3 / this.$l;};f.prototype.constructor=f;f.prototype.Hq=function(l,d,g,h,m){void 0 === d && (d=0);void 0 === g && (g=l.lL());void 0 === h && (h=0);void 0 === m && (m=l.gk.length);for(var n=[],r,p=h;p < m;p++){h=[];for(var u=d;u < g;u++){r=l.gk[p][u];h.push(r);}n.push(h);}return new f(n,l.qna);};f.prototype.Web=function(){var l,d;l=this.gk[0].length;for(d in this.gk.slice(1)){k(this.gk[d].length === l,"expect this.chunkss[chunksIndex].length === n but got " + this.gk[d].length + " and " + l);}this.qna && this.Xeb();this.Yeb();};f.prototype.lL=function(){return this.gk[0].length;};f.prototype.Xeb=function(){for(var l=0;l < this.gk.length - 1;l++){for(var d=0;d < this.lL();d++){k(this.gk[l][d].ca <= this.gk[l + 1][d].ca,"Chunk size for epoch " + d + " is not monotonic");}}};f.prototype.Yeb=function(){for(var l=0;l < this.gk.length - 1;l++){for(var d=0;d < this.lL();d++){k(1E-8 > Math.abs(this.gk[l][d].$l - this.gk[l + 1][d].$l),"Chunk duration for epoch " + d + " is not consistent");}}};f.prototype.bCb=function(){var l;l=[];this.gk[0].forEach(function(d){l.push(d.$l);});return l;};q.exports={X8a:c,Y8a:f};},function(q,b,a){var l;function c(){}function f(d,g,h){void 0 === h && (h=!1);l(d.length === g.length,"bitrates_kbps and durations_sec must be of the same length.");l(1E-8 < k(d),"bitrate zero, won't be able to send anything.");this.aB=d;this.yQa=g;this.repeat=h;this.Il=this.In=0;}function k(d){return d.reduce(function(g,h){return g + h;},0);}l=a(6).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Hq=function(){var d;d=new f(this.aB,this.yQa,this.repeat);d.In=this.In;d.Il=this.Il;return d;};f.prototype.Lka=function(){return this.aB[this.In % this.aB.length];};f.prototype.EB=function(){return this.yQa[this.In % this.aB.length];};f.prototype.Aub=function(d){l(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.In && this.In < this.aB.length))throw new c();l(this.Il < this.EB(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g;;){g=this.EB() - this.Il;g=d < g?d:g;d-=g;this.Il+=g;if(this.Il < this.EB())break;this.Il-=this.EB();this.In+=1;if(!this.repeat && this.In >= this.aB.length){if(0 < d)throw new c();break;}}};f.prototype.N_a=function(d){this.Aub(d);};f.prototype.Bub=function(d){l(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.In && this.In < this.aB.length))throw new c();l(this.Il < this.EB(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g,h=0;;){g=this.EB() - this.Il;g=d < g * this.Lka()?d / this.Lka():g;d-=this.Lka() * g;h+=g;this.Il+=g;if(this.Il < this.EB())return h;this.Il-=this.EB();this.In+=1;if(!this.repeat && this.In >= this.aB.length){if(0 < d)throw new c();return h;}}};q.exports={jeb:f,keb:c};},function(q){var h,m,n,r,p,u;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(t){if(h === setTimeout)return setTimeout(t,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(t,0));try{return h(t,0);}catch(w){try{return h.call(null,t,0);}catch(v){return h.call(this,t,0);}}}function f(t){if(m === clearTimeout)return clearTimeout(t);if((m === a || !m) && clearTimeout)return (m=clearTimeout,clearTimeout(t));try{return m(t);}catch(w){try{return m.call(null,t);}catch(v){return m.call(this,t);}}}function k(){r && p && (r=!1,p.length?n=p.concat(n):u=-1,n.length && l());}function l(){var t;if(!r){t=c(k);r=!0;for(var w=n.length;w;){p=n;for(n=[];++u < w;){p && p[u].Sv();}u=-1;w=n.length;}p=null;r=!1;f(t);}}function d(t,w){this.Pxb=t;this.ux=w;}function g(){}q=q.exports={};h="function" === typeof setTimeout?setTimeout:b;m="function" === typeof clearTimeout?clearTimeout:a;n=[];r=!1;u=-1;q.D6b=function(t){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var v=1;v < arguments.length;v++){w[v - 1]=arguments[v];}n.push(new d(t,w));1 !== n.length || r || c(l);};d.prototype.Sv=function(){this.Pxb.apply(null,this.ux);};q.title="browser";q.C3b=!0;q.v4b={};q.r3b=[];q.version="";q.h8b={};q.on=g;q.addListener=g;q.once=g;q.mM=g;q.removeListener=g;q.removeAllListeners=g;q.emit=g;q.A0a=g;q.INb=g;q.listeners=function(){return [];};q.y3b=function(){throw Error("process.binding is not supported");};q.Y3b=function(){return "/";};q.M3b=function(){throw Error("process.chdir is not supported");};q.$7b=function(){return 0;};},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Zdb=b.eaa=b.aeb=b.BGa=void 0;q=a(2);c=q.__importStar(a(10));f=q.__importDefault(a(4));k=q.__importDefault(a(39)).default.GL;l=q.__importStar(a(9)).Ys;d=q.__importDefault(a(420));g=a(402);h=a(219);m=a(14);n=a(30);r=a(6);p=a(95);u=a(248);a=(function(){function x(y,z,B,A,C,E,F,D,G,I,J){var H;H=this;this.H=y;this.Yf=z;this.I=B;this.Vb=A;this.T=C;this.mN=E;this.Jb=F;this.qb=D;this.Mf=G;this.P0=I;this.oE=J;this.g0=[];this.Oda=[];this.QJa=[];this.mIa=void 0;[0,1].forEach(function(M){H.Vb(M) && (H.g0[M]=new v(H.H,M),H.Oda[M]=new t(M),H.QJa[M]=new w(M));});this.C6a=new p.RD(this.H);this.Mz=p.aF(this.I,this.C6a);this.bfa=p.$E();this.YD=void 0;}Object.defineProperties(x.prototype,{rf:{get:function(){return this.g0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{wz:{get:function(){return this.Oda;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{yv:{get:function(){return this.QJa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{wx:{get:function(){return this.mIa;},set:function(y){this.mIa=y;},enumerable:!1,configurable:!0}});x.prototype.Qp=function(y,z){this.C6a.Qp(y,z);};x.prototype.pna=function(y){var z,B,A,C,E,F;z=this.I;B=y.mediaType;A=f.default.Mn()[B];C=z.cXb?0 === B?z.tR:z.oX:1 === B?z.tR:z.oX;E=this.T.getState();F=this.T.xe();z=y.Na.ub;B=this.P0.SXa(z,B);A={Su:A,Z:B.Zc,qc:F,oc:B.BM || F,Hl:B.VR || F,Tj:B.Tj,jl:B.jl,hSa:B.Y.length,Y:[]};C={state:E,UB:this.T.UB(),kf:y.Zn,buffer:A,Nha:C,FXa:! !this.mN.tU,xK:! !this.mN.jr,Uo:this.Jb && this.Jb.Uo,R6:y.sBb,playbackRate:this.T.up()};void 0 === C.kf && (C.kf=y.Gia(A.oc));C.JR=z.JR;A.Y=B.Y;c.xa(A.Z)?y.seeking && A.qc != A.Z && (A.qc=A.Z):(A.Z=0,A.oc=0);this.Yf.nob(C);this.Yf.Dkb(C);return C;};x.prototype.mob=function(y,z,B){var D,G;y=this.g0[y];for(var A=y.maxBitrate,C="manifest",E=0,F=z.length - 1;0 <= F;F--){D=z[F];G=D.bitrate;if(k(D)){E=Math.max(E,G);break;}else this.I.T7 && !D.ev?C="bc":D.kv?D.JB && (C="hf"):C="av";}if(void 0 === A || E !== A)(y.maxBitrate=E,this.qb.VJb(A,E,C,B));};x.prototype.pBb=function(y){return this.vka(y).og;};x.prototype.vka=function(y){var z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q;z=this.I;B=y.mediaType;A=1 == B;C=0;E=this.g0[B];F=this.Oda[B];if(!E.kg)return {og:void 0};D=this.pna(y);G=y.Cf;I=G.Ws;J=y.P4.N;H=y.track.Qd;if(!J.Pl.hX(J.da,H))return (y.$j("location selector did not find any urls"),{og:void 0});M=u.x6(D.state);O=A?this.Mz:this.bfa;try{L=O.Dm(H,M);}catch(N){this.H.error("StreamFilters: filterStreams: " + N);L=[H[0]];}0 === L.length && (this.H.error("StreamFilters: empty list"),L=[H[0]]);if(this.oE.Nq && (y.vB.length !== L.length || 0 < n.ds(y.vB,L).length || 0 < n.ds(L,y.vB).length)){try{this.YD && this.Owb();}catch(N){this.qb.Pm("Hindsight: Error when handling maxbitrate chagned: " + N);}y.vB=L;}M=I?I.og:E.Wia;try{if(I && (C=I.bitrate,I && !I.track.equals(G.track))){P=g.Jia(L,C) || 0;R=L[P];if(I.bitrate !== R.bitrate || 1 === B)D.state=m.ja.Ig;I=R;M=H.indexOf(R);}}catch(N){this.H.error("StreamFilters: track change: " + N);}if(!A && (C=z.IN,!(C && 0 < C.length) && M && H[M] && I && I.location === H[M].location))return {og:M};try{K=this.Yf.fL(B);Q=y.xz.Hra(D,L,void 0,K,E.kg.config.Fv,J.jp);if(!Q)return (y.$j("stream selector did not find a stream"),{og:void 0});}catch(N){this.H.error("StreamFilters: stream selector: " + N);Q={ie:0};}Q.ie=H.indexOf(L[Q.ie]);this.mN.jr && this.mN.jr.Hkb(y.mediaType,Q,H);A && this.mob(B,L,y.oc);D=Q.ie;I=H[D];L=I.bitrate;D != M && (A && z.zK && this.Mf.eIa(y,L),A || this.Yf.nN(L));c.xa(E.Wia) || (E.Wia=D);y.Se || (Q.Se?(r.assert(void 0 !== Q.Q0),y.z7(Q.Q0),F.ls=Q.Q0):(y.bC=Q.bC,y.GG=Q.GG,y.progress=Q.progress));this.Rw();if(A)if(Q.Vx)J.oN(Q.Vx);else if(!J.C3() && !z.J3a)for(y=0;y < H.length;++y){if((z=H[y],z.Vs && !J.pk(B,z.La))){J.oN([z.La]);break;}}Q.JMa && this.qb.bKb(Q.JMa);return {La:I.La,og:D,kt:Q.kt};};x.prototype.Rw=function(){var y,z,B,A,C,E;B=this.rf[0];A=this.rf[1];C=this.wz[1];E=this.wz[0];B=this.P0.Cc.hob(null !== (y=null === A || void 0 === A?void 0:A.ut) && void 0 !== y?y:0,null !== (z=null === B || void 0 === B?void 0:B.ut) && void 0 !== z?z:0,this.wx,this.mN.DM);B.ls && (this.mN.em && C?C.ls=B.ls:E && (E.ls=B.ls));return B.Se;};x.prototype.Dia=function(y,z){var B,A,C,E;B=this;if(this.YD){A=this.YD;C=this.T.xe();E=[];z && (C=z.Aa);h.cf.forEach(function(F){var D,G;D=B.P0.Cc.Ed(F);if(D){G=B.pna(D);G.mediaType=F;G.qc=C;y === m.ja.ef && (G.i1a=D.Na.Gea(C));E[F]=G;}});A.FRa || A.Ds(E,y) || this.ara();return A;}};x.prototype.Owb=function(){var y,z;y=this.YD;z=this.I;y && (this.Dia(void 0),y && !y.MJ && this.Yf.hqa.pia(y));this.gPa(z);};x.prototype.ara=function(){this.YD=void 0;};x.prototype.CWb=function(y){var z,B,A;z=y.oldValue;y=y.newValue;B=this.YD;A=this.I;y === m.ja.yc && z !== m.ja.yc?(B && this.H.warn("override an existing play segment!"),this.gPa(A,z,!0)):y !== m.ja.yc && z === m.ja.yc && B && (this.Dia(y),B && !B.MJ && this.Yf.hqa.pia(B),this.ara());};x.prototype.gPa=function(y,z,B){var A,C,E;A=this;C=[];h.cf.forEach(function(F){var D,G,I;D=A.P0.Cc.Ed(F);if(D){G=A.pna(D);if(B){I=A.rf[F];I.psa?(G.Tk=I.psa,I.psa=void 0):G.Tk=I.Tk;}else G.Tk=f.default.time.aa();G.Qd=D.vB;G.mediaType=F;C[F]=G;}});E=f.default.Mn();E={n3b:E[0],A6a:E[1],V5b:y.SL,Py:y.Py};this.YD=new d.default(C,f.default.time.aa(),z,this.oE.GS,y.Rv,E,y.K3);};return x;})();b.BGa=a;t=(function(){function x(y){this.mediaType=y;this.LR=this.dv=this.wy=this.ls=this.xy=void 0;}x.prototype.HWb=function(y,z,B){this.xy=y?y:this.xy;this.ls=this.ls;this.wy=z?z:this.wy;this.dv=B?B:this.dv;};return x;})();b.aeb=t;w=(function(){return function(x){this.mediaType=x;this.Dma=this.Ima=this.Fma=this.SF=void 0;};})();b.eaa=w;v=(function(){return function(x,y){this.mediaType=y;this.H=l(f.default,x,"[" + y + "]");this.$j=this.H.error.bind(this.H);this.Eb=this.H.warn.bind(this.H);this.sm=this.H.trace.bind(this.H);this.cg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.Wia=this.Tk=this.Cn=this.kg=void 0;this.zV=this.ut=0;this.ZN=!1;this.maxBitrate=void 0;};})();b.Zdb=v;},function(q,b,a){var p,u,t,w,v,x,y,z,B,A,C,E,F;function c(){}function f(D,G){var I,J,H,M;I=p.Kc(G)?G:c;this.I=D || ({});(function(O,L,P){this.sj[O].ke[L]=P;}).bind(this);(function(O,L){return this.sj[O].ke?this.sj[O].ke[L]:void 0;}).bind(this);this.on=this.addEventListener=E.addEventListener;this.removeEventListener=E.removeEventListener;this.emit=this.Ta=D.u4b?E.Ta:c;J=w.Grb(D);H=this.I.dailyDiskCacheWriteLimit;if(J){this.wu=J;M=m(D.i6b || F,w.izb());this.kx=function(O){return p.ga(M) || null === M || void 0 === this.sj[O]?!1:!p.ga(M[O]);};M?(this.sj={},G=u.Promise.all(Object.keys(M).map(function(O){return new u.Promise(function(L,P){var R;R=M[O];R.p6a=D.p6a;new v(O,J,R,function(K,Q){K?P(K):L(Q);},H);});})).then((function(O){O.map((function(L){var P;P=L.Cu;this.sj[P]=L;M[P].Fxb=M[P].Su - L.jx;this.sj[P].on(v.ue.REPLACE,(function(R){R=R || ({});R.partition=P;R.type="save";this.Ta("mediacache",R);}).bind(this));this.sj[P].on(v.ue.UHa,(function(R){R=R || ({});R.partition=P;R.type="save";this.Ta("mediacache",R);}).bind(this));this.sj[P].on(v.ue.uf,(function(R){R=R || ({});R.partition=P;R.type=v.ue.uf;this.Ta("mediacache-error",R);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(O){g(J,u.storage.rP,Object.keys(M));return O;}).bind(this)).then((function(O){Object.keys(O.sj).map(function(L){O.sj[L].Kja().map(function(P){O.delete(L,P);});});O.Km=!0;I(null,O);}).bind(this)).catch((function(O){t.error("Failed to initialize media cache ",O);this.MF=A.Swa;I(this.MF,this);}).bind(this)),C.Lv(G)):(this.MF=A.Rab,I(this.MF,this));}else (this.MF=A.Swa,I(this.MF,this));}function k(D,G,I,J,H,M){var O;O=M?"mediacache-error":"mediacache";G={partition:I,type:G,resource:J,time:u.time.now()};M && (G.error=M);H && (p.xa(H.duration) && (G.duration=H.duration),p.xa(H.Cx) && (G.bytesRead=H.Cx));try{D.Ta(O,G);}catch(L){t.warn("caught exception while emitting basic event",L);}}function l(D,G,I,J,H){var M;M=H?"mediacache-error":"mediacache";G={partition:I,type:G,resources:J,time:u.time.now()};H && (G.error=H);try{D.Ta(M,G);}catch(O){t.warn("caught exception while emitting basic event",O);}}function d(D){return !x.zL(D) && !z.LEb(D);}function g(D,G,I){D.query(G,"",function(J,H){J || Object.keys(H).filter(function(M){return 0 > I.indexOf(M.slice(0,M.indexOf(".")));}).map(function(M){D.remove(G,M,c);});});}function h(D,G,I){var H,M;function J(O){D.delete(H,function(L){L?I(L):(delete D.ke[M],L=Object.keys(O.resourceIndex),L=u.Promise.all(L.map(function(P){return new u.Promise(function(R,K){D.delete(P,function(Q){Q?K(Q):R(P);});});})).then(function(){I();},function(P){I(P);}),C.Lv(L));});}if(x.zL(G))(H=G,M=x.r2(G));else (H=x.Mga(G),M=G);(G=D.ke[M])?J(G):D.read(H,function(O,L){O?I(O):J(L);});}function m(D,G){var I,J,H;I={};J=D.partitions.reduce(function(M,O){return M + O.capacity;},0);H=G / J;D.partitions.map(function(M){var O;O=M.key;I[O]={};I[O].Su=Math.floor(H * M.capacity);I[O].Ksb=M.dailyWriteFactor || 1;I[O].Q6b=M.owner;I[O].$vb=M.evictionPolicy;});return I;}function n(D,G,I){if(I)return z.fub(D,G).reduce(function(J,H){Object.keys(H).map(function(M){J[M]=H[M];});return J;},{});I={};I[D]=G;return I;}function r(D,G,I,J,H,M,O,L,P,R,K){return function(Q,N){Q?p.isArray(Q)?(N=Q.map(function(da){return da.error;}),N.some(function(da){return da.code === A.JH.code;}) && !N.some(function(da){return da.code === A.LZ.code;})?K(R,Q,function(){P.save(G,I,J,H,M,O);}):(R.delete(L),delete R.ke[I],M({error:Q[0].error,mt:Q[0].mt,type:Q[0].type,MLa:Q}))):M({error:Q,mt:G,type:"save"}):(Q=N.items.filter(function(da){return 0 <= Object.keys(D).indexOf(da.key);}).reduce(function(da,na){return da + na.D4;},0),R.ke[I].k3a(Q),Q={Fxb:N.Hm,$3b:N.mK,fk:0,items:N},0 < N.fk && (Q.fk=N.fk),0 < N.duration && (Q.duration=N.duration),M(null,Q));};}p=a(10);u=a(126);t=new u.Console("MEDIACACHE","media|asejs");w=a(914);v=a(915);x=a(426);y=a(127);z=a(922);B=a(923);A=a(252);C=a(253);E=a(427).EventEmitter;F={T6b:[]};f.prototype.IV=function(D,G,I){var J;J=p.Kc(I)?I:c;this.kx(D)?this.sj[D].query(G,function(H,M){H?(t.error("Failed to query resources",H),J([])):J(M.filter(d));}):J([]);};f.prototype.read=function(D,G,I){var J,H,M,O;J=p.Kc(I)?I:c;if(this.kx(D)){H=this.sj[D];M=H.ke[G];if(!x.zL(G) && this.I.nIb){O=(function(L){H.P6(Object.keys(L),(function(P,R,K){P?J(A.vI.$p("Failed to read " + G,P)):(k(this,"read",D,G,K),J(null,z.dEb(R)));}).bind(this),L);}).bind(this);M?O(M.resourceIndex):this.GOb(D,G,function(L,P){L?J(A.vI.$p("Failed to read " + G,L)):O(P.resourceIndex);});}else H.read(G,(function(L,P,R){L?J(A.vI.$p("Failed to read " + G,L)):(M && M.convertToBinaryData && (P=B.Kpb(P)),k(this,"read",D,G,R),J(null,P));}).bind(this));}else J(A.bA);};f.prototype.P6=function(D,G,I){var J,H;J=p.Kc(I)?I:c;if(this.kx(D)){H={};G=u.Promise.all(G.map((function(M){return new u.Promise((function(O,L){this.read(D,M,function(P,R){P?(R={},R[M]=P,L(R)):(H[M]=R,O());});}).bind(this));}).bind(this))).then(function(){J(null,H);},function(M){J(M);});C.Lv(G);}else J(A.bA);};f.prototype.t2a=function(D,G,I){var J;J=p.Kc(I)?I:c;this.kx(D)?"[object Object]" !== Object.prototype.toString.call(G)?J(A.KZ.$p("items must be a map of keys to objects")):(I=new u.Promise((function(H){var M,O;M=this.sj[D].Kja();O=Object.keys(G);(M=M.filter(function(L){return -1 === O.indexOf(L);})) && 0 < M.length?this.TPa(D,M,function(){H();}):H();}).bind(this)).then((function(){return u.Promise.all(Object.keys(G).map((function(H){return new u.Promise((function(M,O){this.save(D,H,G[H].Pp,G[H].xd,function(L,P){L?(t.error("Received an error saving",H,L),O(L)):M(P);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(H){var M,O,L;try{M=Number.MAX_VALUE;O=Number.MAX_VALUE;L=H.reduce(function(P,R){R.Hm && R.Hm < M && (M=R.Hm);R.mK && R.mK < O && (O=R.mK);M < Number.MAX_VALUE && (P.freeSize=M);O < Number.MAX_VALUE && (P.dailyBytesRemaining=O);p.xa(R.fk) && (P.bytesWritten+=R.fk);p.xa(R.duration) && (P.duration+=R.duration);return P;},{partition:D,type:"saveMultiple",keys:Object.keys(G),time:u.time.now(),bytesWritten:0,duration:0});this.Ta("mediacache",L);J(null,L);}catch(P){J(err);}}).bind(this),(function(H){p.isArray(H.MLa)?H.MLa.forEach((function(M){this.Ta("mediacache-error",{partition:D,type:"saveMultiple",error:M.error,resources:M.resources});}).bind(this)):this.Ta("mediacache-error",{partition:D,type:"saveMultiple",error:H});J(H);}).bind(this)),C.Lv(I)):(p.Kc(I)?I:c)(A.bA);};f.prototype.save=function(D,G,I,J,H,M){var O,L,P,R,K,Q,N,da,na;O=p.Kc(H)?H:c;if(this.kx(D)){L=this.sj[D];P=x.Mga(G);H=L.Kja();H=H.filter(function(va){return va !== G;});if(p.ga(J) || p.ob(J) || !p.xa(J.lifespan))O(A.pbb);else {R=n(G,I,this.I.nIb);K=L.ke[G] || ({});Q=K.resourceIndex;Q && Object.keys(Q).map(function(va){p.ga(R[va]) && L.delete(va);});J.convertToBinaryData && (I=B.Lpb(R),R=n(G,I,!1));Q=u.time.now();N={};N.partition=D;N.resourceIndex=Object.keys(R).reduce(function(va,ra){va[ra]=y.Eka(R[ra]);return va;},{});N.creationTime=K.creationTime || Q;N.lastRefresh=Q;N.lifespan=J.lifespan;N.lastMetadataUpdate=Q;N.size=K.size;N.convertToBinaryData=J.convertToBinaryData;da=(function(va,ra,X){va.ztb((function(ta,za){ta && t.error("Evicting","Failed to delete some orphaned records",ta);za.Bqa?X():(ta=va.vzb())?this.delete(va.Cu,ta,(function(V){V?(M || (p.isArray(ra)?ra.forEach((function(T){l(this,"save",va.uAb,T.resources,T.error);}).bind(this)):k(this,"save",va.Cu,G,void 0,ra)),O(ra)):X();}).bind(this)):O(A.JH);}).bind(this));}).bind(this);na=(function(){var va,ra,X;va=this.sj;ra=0;X=u.time.now();if(!p.ga(va))for(var ta in va){ra+=va[ta].Gyb(X);}return ra;}).bind(this);this.TPa(D,H,(function(){L.replace(P,N,(function(va,ra){ra?(L.ke[G]=x.ija(N),L.TPb(R,r(R,D,G,I,J,O,M,P,this,L,da),M,na)):va.code === A.JH.code?da(L,va,(function(){this.save(D,G,I,J,O,M);}).bind(this)):O(va);}).bind(this),M,na);}).bind(this));}}else O(A.bA);};f.prototype.delete=function(D,G,I){var J;J=p.Kc(I)?I:c;this.kx(D)?h(this.sj[D],G,(function(H){k(this,"delete",D,G,void 0,H);J(H);}).bind(this)):J(A.bA);};f.prototype.TPa=function(D,G,I){var J,H;J=p.Kc(I)?I:c;if(this.kx(D)){H=this.sj[D];I=u.Promise.all(G.map((function(M){return new u.Promise((function(O){h(H,M,(function(L){O({X:p.ga(L),error:L,Pp:M});}).bind(this));}).bind(this));}).bind(this))).then((function(M){var K,Q;for(var O=[],L=[],P=[],R=0;R < M.length;R++){K=M[R];K.X?O.push(K.Pp):K.error && L.push(K);}0 < O.length && l(this,"delete",D,O);if(0 < L.length){P=L.map(function(N){return N.Pp;});M=C.NUa(L);Q=M[0];M.forEach((function(N){t.error("Failed to delete resources ",N.error,N.resources);l(this,"delete",D,N.resources,N.error);}).bind(this));}M={};M.j7b=O;0 < P.length && (M.k7b=P);Q?J(Q,M):J(void 0,M);}).bind(this),(function(M){l(this,"delete",D,G,M);J(M);}).bind(this));C.Lv(I);}else J(A.bA);};f.prototype.clear=function(D,G){var I;I=p.Kc(G)?G:c;this.kx(D)?this.sj[D].clear(function(J){I(J.filter(d));}):I(A.bA);};f.prototype.GOb=function(D,G,I){var J,H;J=p.Kc(I)?I:c;if(this.kx(D)){H=this.sj[D];H.read(x.Mga(G),function(M,O){var L;if(M)J(A.qbb);else {L=x.ija(O) || ({});H.VTa(Object.keys(L.gra),function(P){L.size=P;(P=H.ke[G]) && (L.lastMetadataUpdate && P.lastMetadataUpdate && P.lastMetadataUpdate <= L.lastMetadataUpdate?H.ke[G]=L:P.lastMetadataUpdate && (P.lastMetadataUpdate > L.lastMetadataUpdate || p.ga(L.lastMetadataUpdate)) && (L=P));J(null,L);});}});}else J(A.bA);};f.prototype.constructor=f;q.exports=f;},function(q,b,a){var l,d;function c(g,h,m,n,r,p){return new k(g,h,m,n,r,p);}function f(g){return g && 0 <= g.indexOf(".__metadata__");}function k(g,h,m,n,r,p){this.partition=g;this.lifespan=m;this.resourceIndex=h;this.size=n;this.creationTime=r;this.lastRefresh=p;return this.m5a();}l=a(10);d=a(126);a(127);new d.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.m5a();};k.prototype.k3a=function(g){this.size=g;};k.prototype.DOa=function(){var g;g=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - g) / 1E3;};k.prototype.m5a=function(){this.lastMetadataUpdate=d.time.now();return this;};k.prototype.constructor=k;q.exports={create:c,ija:function(g){var h;h=g;"string" === typeof g && (h=JSON.parse(g));if(h && h.partition && !l.ga(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (g=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (g.lastMetadataUpdate=h.lastMetadataUpdate),!l.ga(h.size) && 0 <= h.size && g.k3a(h.size),g.DOa(),g.convertToBinaryData=h.convertToBinaryData,g);},Mga:function(g){return g + ".__metadata__";},r2:function(g){return f(g)?g.slice(0,g.length - 13):g;},zL:f};},function(q,b,a){q.exports={EventEmitter:a(918),zh:a(919)};},function(q){q.exports="4.1.1744";},function(q,b,a){var r,p,u,t;function c(w){return w.Ck.Ba(w.Cd).V;}function f(w,v){return Math.exp(-(Math.log(2) / w) * v);}function k(w,v){w=Math.log(2) * v / w;return (1 - Math.exp(-w)) / w;}function l(w,v){var x,y,z,B,A;x=v.H6;y=v.HM;if(0 === v.oh.length)return {zea:!1};z=v.oh[0];v=z.Be;B=z.NB;z=z.duration;if(!B || 1 === y)return {zea:!1};p.assert(z,"duration should be defined when immediate probability is included in probabilities array");p.assert(0 < y,"presenting segment seamless probability cannot be zero");A=x.V;x=y + A / z * (1 - y);z-=A;B=B * (1 - x) / (1 - y);return {zea:!0,Rkb:v * x / y * f(w,z) + B * k(w,z)};}function d(w){var v,x,y,z;v=w.duration;x=w.m4a;y=w.Tv;z=w.Ck;w=w.Cd;p.assert(x);p.assert(v);z=z.Ba(w);w=x.Ba(z);w.Fy(u.S.hb)?(x=x.V / v.V,v=1 - y):(w=v.Ba(w).V,x=0 < w?z.V / w:0,v=w / v.V * (1 - y));return 1 - x * v;}function g(w,v){w=Math.log(2) / w.j1a;return h(v) * Math.exp(-w * c(v));}function h(w){var v;return (null !== (v=w.EF) && void 0 !== v?v:1) * w.oh.reduce(function(x,y){var z;z=y.NB;return x * (y.Be + (void 0 === z?0:z));},1);}function m(w){var v,x;if(0 === w.oh.length)return 0;x=1 > w.HM?Math.min(w.H6.V,null !== (v=w.oh[0].duration) && void 0 !== v?v:0):0;return w.oh.reduce(function(y,z){z=z.duration;return y + (void 0 === z?0:z);},0) - x;}function n(w){return w.oh.filter(function(v){return !v.NB;}).reduce(function(v,x){return v * x.Be;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Jfa=b.ENa=b.Cnb=b.DNa=b.Gnb=void 0;r=a(14);p=a(6);u=a(9);t=a(19);b.Gnb=c;b.DNa=function(w,v,x){var y,z,B,A,C,E,F,D,G,I;if(!w.d2 || r.Vq(v.hf))return g(w,v);A=w.j1a;w=c(v);C=m(v);E=n(v);F=l(A,v);D=F.zea;F=F.Rkb;F=void 0 === F?1:F;G=1 > v.Tv?d(v):1;I=(null !== (y=v.EF) && void 0 !== y?y:1) * E * f(A,w - C) * F * G * v.oh.filter(function(J,H){return J.NB && (0 < H || !D);}).reduce(function(J,H){var M,O;M=H.NB;O=H.duration;O=void 0 === O?0:O;M=void 0 === M?0:M;H=H.Be * f(A,O) + M * k(A,O);return J * H;},1);t.ka && (null === x || void 0 === x?void 0:x.log("{" + v.groupId + "} [" + v.mediaType + "] calculateStreamablePriority: sp: " + (v.Tv + ", pssp: ") + (v.HM + ", streamingDuration: ") + ((null === (z=v.m4a) || void 0 === z?void 0:z.V) + ", duration: ") + ((null === (B=v.duration) || void 0 === B?void 0:B.V) + ", seamlessProbability: ") + (E + ", distance: ") + (w + ", immediateDistance: " + C + ", risk:") + (f(A,w - C) + ", adjustedFirstTerm: ") + (F + ", streamingAdjustment: " + G + ", probabilities: ") + (JSON.stringify(v.oh) + " => " + I)));return I;};b.Cnb=g;b.ENa=h;b.Jfa=n;},function(q,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Vaa=void 0;c=a(2);f=a(16);k=a(9);l=a(6);d=a(14);q=(function(){function g(){this.vM=[];this.DA=new k.nq(!1);this.CA=new k.nq(k.S.rb(-Infinity));this.events=new f.EventEmitter();}Object.defineProperties(g.prototype,{cw:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{playbackRate:{get:function(){return this.up();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ry:{get:function(){return this.DA;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fU:{get:function(){return this.CA;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zz:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nn:{get:function(){return this.nL;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Cd:{get:function(){return this.ZK();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{di:{get:function(){var h,m;h=this.Cd;m=this.dr(h);l.assert(m,"Could not find current branch for " + h.V);return m;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{UDb:{get:function(){return this.Ab[0];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{QF:{get:function(){return this.nL?this.Ab[this.Ab.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mh:{get:function(){var h,m;h=this.Cd;m=this.P2(h);l.assert(m,"Could not find presenting branch for " + h.V);return m;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nL:{get:function(){return 0 < this.Ab.length;},enumerable:!1,configurable:!0}});g.prototype.yCb=function(h){return -1 !== this.Ab.indexOf(h);};g.prototype.H0=function(){return void 0 !== this.qa?!1:!0;};g.prototype.wb=function(){};g.prototype.FT=function(h){var m,n,r;m=this.Ab.filter(function(p){return p.P.id === h.va;});if(0 !== m.length){n=this.ZK();r=new k.S(Infinity,1);m.forEach(function(p){p=p.AM.add(h.offset);n.bQa(p).lessThan(n.bQa(r)) && (r=p);});return r;}};g.prototype.dr=function(h){var m,n,r;m=this.P2(h);if(m){n=m.P;r=n.id;h=h.Ba(n.uh.add(m.yj));return {va:r,offset:h};}};g.prototype.reset=function(){};g.prototype.bW=function(){};g.prototype.pause=function(h){void 0 === h && (h=d.cf);this.vM=null === h || void 0 === h?void 0:h.reduce(function(m,n){-1 === m.indexOf(n) && m.push(n);return m;},this.vM);};g.prototype.resume=function(h){var m;m=this;void 0 === h && (h=d.cf);h.forEach(function(n){n=m.vM.indexOf(n);-1 !== n && m.vM.splice(n,1);});};g.prototype.mta=function(h){var m;l.assert(this.qa);l.assert(h !== this);this.bH();m=h.H0(this.qa,this);m && (h.pause(this.vM),h.hia.apply(h,c.__spread(this.Ab)),this.Cha(this.qa));return m;};g.prototype.ZK=function(){return this.sTa();};g.prototype.sTa=function(){var h,m;l.assert(this.nL,"Attempted to get initial time before any branches were queued");m=c.__read(this.Ab,1)[0];l.assert(m);return null !== (h=m.Ui) && void 0 !== h?h:m.yy;};g.prototype.up=function(){return 1;};g.prototype.P2=function(h){var m;if(this.nL){m=this.sTa();return h.lessThan(m)?this.Ab[0]:k.ORa(this.Ab,h);}};g.prototype.Tyb=function(){var h,m,p,u,t,w,v,x;m={};try{for(var n=c.__values(this.Ab),r=n.next();!r.done;r=n.next()){p=r.value;u=void 0;t=void 0;w=p.sF();for(u in w){v=u;x=w[v];x && (m[v]=(null !== (t=m[v]) && void 0 !== t?t:0) + x);}if(!p.Wo)break;}}catch(z){var y;y={error:z};}finally{try{r && !r.done && (h=n.return) && h.call(n);}finally{if(y)throw y.error;}}return m;};return g;})();b.Vaa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.wSa=b.WTa=b.uja=b.GFa=void 0;c=a(2);f=a(19);k=a(54);q=(function(){function l(d){this.Ha=d;}Object.defineProperties(l.prototype,{Ii:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nC:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return f.ka;},enumerable:!1,configurable:!0}});l.prototype.Ln=function(d){var g,h,r;d=d.ji;if(d === k.ae.ip || d === k.ae.zr)if(d=this.Ha.sja()){h={};try{for(var m=c.__values(d.RMb),n=m.next();!n.done;n=m.next()){r=n.value;h[r.mediaType]=this.BHb(r);}}catch(u){var p;p={error:u};}finally{try{n && !n.done && (g=m.return) && g.call(m);}finally{if(p)throw p.error;}}return {branchQueue:b.wSa(d.COb),playerIterator:h,driftStats:this.Ha.jua};}};l.prototype.BHb=function(d){return null === d || void 0 === d?void 0:d.tTa();};return l;})();b.GFa=q;b.uja=function(l){var d,g;if(l){d=l.P;g={};l.ny().forEach(function(h){g[h.mediaType]=b.WTa(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:l.Fn,RM:g};}return l;};b.WTa=function(l){var d;if(l && l.Na)return c.__assign(c.__assign({},l.Na.jka()),{unsentRequests:l.Na.Ar,lastFragmentContentEndPts:null === (d=l.nf) || void 0 === d?void 0:d.pc});};b.wSa=function(l){return l.map(function(d){return b.uja(d);});};},function(q,b){var f,k,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.cIa);}function c(d){return (a(d)?d:Object.defineProperties(d,{cIa:{value:{},configurable:!1,enumerable:!1}})).cIa;}Object.defineProperties(b,{__esModule:{value:!0}});b.cba=void 0;k=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;l=Date.now() % k;q=(function(){function d(){this.id=l=(l + 1) % k;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,h){c(g)[this.id]=h;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.cba=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nP=void 0;q=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.rea=function(c,f){this[c]+=Math.max(f || 0,0);};return a;})();b.nP=q;0;1;},function(q,b,a){var f,k,l,d;function c(){return f.__awaiter(this,void 0,void 0,function(){var g;return f.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return f.__importStar(a(254));})];case 1:return (g=h.Oe().zF,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.wT=void 0;f=a(2);k=a(970);l=f.__importDefault(a(4));b.wT=function(g){var h;h=new l.default.Console("ASEJS","media|asejs");d || (d=new k.bFa(function(){return c();},g,h));return d;};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.$6a=void 0;c=a(7);f=a(17);b.$6a=function(k){var l,d;if(f.Dy(k)){l=new DOMParser().parseFromString(k,"text/xml");d=l.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:k.slice(0,300),fileSize:k.length});}catch(g){}throw Error("xml parser error");}return l;}throw Error("bad xml text");};},function(q,b,a){var f;function c(k){var l,d,g,h,m,n,r;d={};d[f.eO]=k.localName;g={};d[f.Vj]=g;h=[];d[f.dO]=h;m=k.attributes;n=m.length;for(l=0;l < n;l++){r=m[l];g[r.localName]=r.value;}k=k.childNodes;n=k.length;g={};for(l=0;l < n;l++){switch((m=k[l],m.nodeType)){case b.d7a:m=c(m);r=m[f.eO];m[f.U8]=d;h.push(m);d[r]?g[r][f.WC]=m:d[r]=m;g[r]=m;break;case b.e7a:case b.b7a:(m=m.text || m.nodeValue,h.push(m),d[f.Fr] || (d[f.Fr]=m));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.c7a=b.b7a=b.e7a=b.vYb=b.d7a=b.wYb=b.a7a=void 0;f=a(152);b.a7a=function(k){return c(k.nodeType == b.c7a?k.documentElement:k);};b.wYb=c;b.d7a=1;b.vYb=2;b.e7a=3;b.b7a=4;b.c7a=9;},function(q){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}q.exports=function(a){var l,d,g;function c(h,m,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + m + "'"));}function f(h,m,n){var r;r=d[h];"undefined" !== typeof r?r(m) || c(h,m,n):h !== typeof m && c(h,m,n);}function k(h,m){var n;n=h.filter(function(r){return "object" !== typeof r && -1 === g.indexOf(r);});n=n.concat(h.filter(function(r){return "object" === typeof r;}).reduce(function(r,p){return r.concat(Object.keys(p).map(function(u){return p[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var r;r=Array.prototype.slice.call(arguments);if(r.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(p,u){var t;t=r[u];if("string" === typeof p)f(p,t,{index:u});else if("object" === typeof p)Object.keys(p).forEach(function(w){f(p[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return m.apply(this,r);};}l=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < l.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}g=Object.keys(d).concat(l);return k(["array","function"],k);};},function(q){q.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.V8a=b.hwa=void 0;c=a(12);f=a(24);k=a(17);l=a(81);b.hwa=function(d,g,h,m,n,r,p,u,t,w){var v,x;v=this;x={Type:g,Bitrate:m,DownloadableId:h};f.Qb(v,{track:d,type:g,Dd:h,bitrate:m,zb:n,Mg:u,size:r,Xx:p,header:null,ySb:function(y,z,B,A){if(k.Hc(y) || k.Hc(z))(v.width=y,v.height=z,k.xa(B) && k.xa(A) && (v.Aea=B / A * y),x.Resolution=(v.width || "") + ":" + (v.height || ""));},MRb:function(y,z,B,A,C,E){k.Hc(y) && k.Hc(z) && k.Hc(B) && k.Hc(A) && (v.Wga=y,v.D1=z,v.C1=B,v.B1=A);k.Hc(C) && k.Hc(E) && (v.a0a=C,v.b0a=E);},framerate:t,By:w,Kh:x,toJSON:function(){return x;}});};b.V8a=function(d,g,h,m,n){if(d == c.PY || d === l.Uh.audio)return g;if(d == c.hI || d === l.Uh.video)return h;if(d == l.Uh.i8)return m;if(d == l.Uh.rta)return n;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jaa="MslReadyNotifierSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jxa="DeviceIdGeneratorSymbol";},function(q,b){function a(c,f,k){if(null != k){if(0 < k(c,f))throw a.kPa(c,f);}else if(c.Wk && 0 < c.Wk(f))throw a.kPa(c,f);this.start=c;this.end=f;}Object.defineProperty(b,"__esModule",{value:!0});b.gba=void 0;a.kPa=function(c,f){return new RangeError("end [" + f + "] must be >= start [" + c + "]");};b.gba=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.mxa="DeviceProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kwa="CryptoKeysSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kDa="PboBindDeviceCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.WAa="LogblobSenderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gCa="MessageQueueSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bf=void 0;q=b.bf || (b.bf={});q.Imb="bitraterestriction";q.KNa="cdnsel";q.bga="chgstrm";q.debug="debug";q.lub="dlreport";q.fia="endplay";q.Nla="intrplay";q.q5="midplay";q.j0a="playbackaborted";q.PPb="renderstrmswitch";q.Tqa="repos";q.kra="resumeplay";q.ERb="serversel";q.O7="startplay";q.KTb="statechanged";q.transition="transition";q.xlb="asereport";q.wlb="aseexception";q.amb="audioswitch";q.Jmb="blockedautoplay";q.config="config";q.W1="dlreq";q.L4b="ftlProbeError";q.rUb="subtitleerror";q.sUb="subtitleqoe";q.hVb="timedtextrebuffer";q.iVb="timedtextswitch";q.tTb="speedchanged";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.CDa="PboLogblobCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.HHa="UuidProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kua="AppLogSinkSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.SAa="LogblobBuilderFactorySymbol";},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D;function c(G,I,J,H,M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za,V){var T;T=this;this.j=G;this.io=I;this.S4a=H;this.Ql=M;this.Kna=O;this.xia=L;this.te=P;this.X1=R;this.Bf=K;this.config=Q;this.pd=N;this.wa=da;this.Pa=na;this.platform=va;this.$n=ra;this.qU=X;this.kl=ta;this.Oq=za;this.aG=V;this.SW=[];this.PIb=this.i4=this.L1a=0;this.uK=[];this.tea=!1;this.Gy=function(ja,Ia){return function(wa){var Sa;Sa=Ia(wa);if("number" !== typeof Sa)throw Error("Event " + JSON.stringify(wa) + " does not have movie Id");Sa === T.K && ja(wa);};};this.sv=this.Gy(function(ja){T.U3a(ja.r4);},function(ja){return ja.K;});this.OL=this.Gy(function(){T.Yob();},function(ja){return ja.K;});this.R3a=function(ja){T.Xd(C.bf.tTb,!1,D.ij | D.xh,{speedold:Math.floor(1E3 * ja.oldValue),speed:Math.floor(1E3 * ja.newValue)});};this.LN=function(){T.Xd(C.bf.hVb,!1,D.ij | D.xh,{track:T.j.Nc.value.Kh});};this.c5a=function(ja){ja.newValue && T.Apa && (ja={newtrack:ja.newValue.Kh,oldtrack:T.hXa?T.hXa.Kh:{},switchDelay:n.mk(T.getTime() - T.cGb)},T.KF(ja,T.j.Sf.value && T.j.Sf.value.stream,T.j.Ug.value && T.j.Ug.value.stream),T.Xd(C.bf.iVb,!1,D.ij | D.xh,ja));};this.Zo=function(ja){T.Xd(C.bf.Imb,!1,D.ij | D.xh,ja.newValue);};this.fQa=function(){var ja,Ia,wa;if(T.j.Uk)try{ja=!1;T.ba % T.config().vS && !T.j.xK && (ja=!0,T.uK=T.uK.filter(function(Sa){return !Sa.X;}));if(0 < T.uK.length){Ia=T.X1.construct(T.uK,T.j.Wl.ea(r.ma));T.uK=[];Ia.erroronly=ja;wa={};n.de(Ia,function(Sa,Ua){wa[Sa]=JSON.stringify(Ua);});T.Xd(C.bf.lub,!1,D.xh,wa);}}catch(Sa){T.log.error("Exception in dlreport.",Sa);}};this.AT=function(){var ja;ja=T.j.ac.value;return ja === z.Bb.yc?"playing":ja === z.Bb.Wh?"paused":ja === z.Bb.au?"ended":"waiting";};this.q5=function(){var ja,Ia,wa;if(T.j.state.value == z.Gb.$d){wa=T.h0a();T.config().Sqa && (wa.avtp=T.hH.Is().$sa,(null === (ja=T.j.Ma) || void 0 === ja?0:ja.zA) && T.T3(wa));wa.mediabuffered=null === (Ia=T.j.Cg) || void 0 === Ia?void 0:Ia.R2();wa.midplayseq=T.PIb++;wa.prstate=T.AT();wa.paustate=T.j.paused.value;T.config().ARb && T.t4a("midplay");T.config().Iv && T.Cla(wa);T.zla(wa);T.Ala(wa);T.Bla(wa);T.Xd(C.bf.q5,!1,D.ij | D.xh | D.cD | D.JP,wa);}};this.QHa=/-?l(\d\d)/i;this.qQa=this.Gy(function(ja){T.uK.push(T.X1.Mpb(ja.response));},function(ja){return ja.K;});this.W1=this.Gy(function(ja){var Ia,wa,Sa,Ua,$a,Za;ja=ja.response;Ia=ja.request;wa=ja.request.Sy;Sa=Ia.track;if(Sa){Ua=!ja.X && ja.oa != p.M.$z;$a=Sa.type;Za=ja.Rl;if(Ua || T.io.$ma){wa={dltype:$a,url1:Ia.url,url2:ja.url || "",cdnid:Ia.Pc && Ia.Pc.id,tresp:n.mk(Za.Oh - Za.Np),brecv:n.cSa(Za.Fga),trecv:n.mk(Za.fo - Za.Oh),sbr:wa && wa.bitrate};ja.fr && (wa.range=ja.fr);switch($a){case g.Uh.audio:wa.adlid=Ia.stream.Dd;break;case g.Uh.video:wa.vdlid=Ia.stream.Dd;break;case g.Uh.i8:wa.ttdlid=Sa.Dd;}(Ia=E.aka(ja.oa)) && (wa.nwerr=Ia);ja.lk && (wa.httperr=ja.lk);T.Xd(C.bf.W1,Ua,D.xh,wa);}}},function(ja){return ja.K;});this.El=function(){var ja;ja={};T.jR(ja);T.Xd(C.bf.Jmb,!1,D.ij | D.cD,ja);};this.qOa=this.Gy(function(ja){var Ia,wa;Ia=ja.response.Rl;ja=r.uc(Ia.Oh);wa=r.uc(Ia.fo);Ia=t.ca(Ia.Fga || 0);Ia.KWa() || Ia.bma() || (ja=new w.gba(ja,wa),T.hH.kkb(new v.rxa(ja,Ia)));},function(ja){return ja.K;});this.O_a=function(ja){var Ia;Ia=ja.newValue;ja.Wu && ja.Wu.toa && Ia || Ia == T.yma || (T.ITb(T.yma,Ia),T.yma=Ia);};this.Bx=function(ja){function Ia(wa){var Sa;if(T.j.Ib && T.j.Ib.sourceBuffers){Sa=T.j.Ib.sourceBuffers.filter(function(Ua){return Ua.type === wa;}).pop();if(Sa)return {busy:Sa.hi(),updating:Sa.updating(),ranges:Sa.S2()};}}T.nz="rebuffer";ja={cause:ja.cause};ja.cause && ja.cause === l.Maa && (ja.mediaTime=T.j.mediaTime.value,ja.buf_audio=Ia(k.PY),ja.buf_video=Ia(k.hI));T.Nla(T.SW[z.Bb.yc] || 0,T.SW[z.Bb.Wh] || 0,ja);T.AH=T.getTime();y.fg(T.PR);};this.o5a=function(ja){var Ia;ja=ja.oldValue;Ia=T.getTime();ja === z.Bb.Jg?T.SW=[]:T.SW[ja]=(T.SW[ja] || 0) + (Ia - T.YFb);T.YFb=Ia;};this.Zl=function(ja){ja.skip && (T.dn=!0);switch(ja.cause){case z.Jd.Iw:case z.Jd.xI:T.nz && T.AH && T.KMb(T.getTime() - T.AH,T.nz);T.nz="repos";T.Tqa(ja.Moa,ja.Ug,ja.Sf);T.AH=T.getTime();y.fg(T.PR);break;case z.Jd.tY:(T.nz="force_rebuffer",T.AH=T.getTime(),y.fg(T.PR));}};this.PR=function(){var ja;if(T.AH && T.j.ac.value !== z.Bb.Jg){ja=T.getTime() - T.AH;T.kra(ja,T.dn);T.tma && T.tma != T.j.Bd.value && T.Ylb();T.AH=void 0;T.nz=void 0;T.dn=void 0;}};this.Wfa=this.Gy(function(){T.j.ac.value === z.Bb.yc && (T.j.ac.removeListener(T.Wfa),T.ot());},function(){return T.j.K;});this.xR=function(ja){T.UFb=T.getTime();T.tma=ja.oldValue;};this.Az=function(ja){T.cGb=T.getTime();T.hXa=ja.oldValue;};this.CMa=function(ja){T.TFb=ja.oldValue;};this.ot=function(){T.Apa || (T.Apa=!0,T.O7(!1),T.PDb(),T.config().RVa && (T.Z3=pb.setTimeout(function(){T.Ql.flush(!1).catch(function(){return T.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});T.Z3=void 0;},T.config().RVa)));};this.dg=function(){T.Z3 && (pb.clearTimeout(T.Z3),T.Z3=void 0);if(T.config().vS || T.config().WA)(T.Lha && (pb.clearInterval(T.Lha),T.Lha=void 0),T.fQa());T.L5a && T.L5a();T.Apa?T.fia(! !T.j.Zk):T.j.Zk?T.O7(!0):T.io.background || T.LMb();T.Xd=k.kj;};this.lOa=this.Gy(function(){T.dg();},function(ja){return ja.movieId;});this.G6a=function(ja){ja.oldValue && ja.Wu && ja.Wu.YNa && T.bga(ja.oldValue,ja.newValue,ja.Wu.YNa,ja.Wu.pmb);};this.B0a=function(ja){var Ia;if(ja.newValue){Ia=ja.newValue.stream;T.Ama != Ia && (T.Ama && T.OPb(T.Ama,Ia,ja.newValue.Fq.startTime),T.Ama=Ia);}};this.pv=this.Gy(function(ja){function Ia(wa,Sa){var Ua;if(!wa || wa.Vma !== Sa.location){Ua={Vma:Sa.location,xXa:Sa.locationlv,CRb:Sa.serverid,QG:Sa.servername};T.Ynb(wa,Sa);return Ua;}}if("audio" === ja.mediatype){if(ja=Ia(T.SFb,ja))T.SFb=ja;}else if(ja=Ia(T.gU,ja))T.gU=ja;},function(ja){return T.j.Qq(ja.segmentId).K;});this.lN=this.Gy(function(ja){var Ia,wa;Ia=ja.mediatype;wa=ja.reason;"video" === Ia?"serverswitchaway" === wa?(T.bj.summary.M6a++,T.bj.N4=T.wa.Ue.ea(r.ma)):"serverswitchback" === wa && (T.bj.summary.N6a++,T.bj.N4 && (T.bj.summary.O6a.push(T.wa.Ue.ea(r.ma) - T.bj.N4),T.bj.N4=void 0)):"audio" === Ia && ("serverswitchaway" === wa?(T.bj.summary.rMa++,T.bj.J4=T.wa.Ue.ea(r.ma)):"serverswitchback" === wa && (T.bj.summary.sMa++,T.bj.J4 && (T.bj.summary.tMa.push(T.wa.Ue.ea(r.ma) - T.bj.J4),T.bj.J4=void 0)));T.Xd(C.bf.ERb,!1,D.ij | D.xh,{mediatype:ja.mediatype,server:ja.server,selreason:ja.reason,location:ja.location,bitrate:ja.bitrate,confidence:ja.confidence,throughput:ja.throughput,oldserver:ja.oldserver});},function(ja){return T.j.Qq(ja.segmentId).K;});this.OJ=function(ja){T.Xd(C.bf.xlb,!1,D.xh,{strmsel:ja.strmsel});};this.pR=function(ja){T.Xd(C.bf.wlb,!1,D.xh,{msg:ja.msg});};this.GN=function(ja){ja=u.sN(ja);ja.details && (ja.details=JSON.stringify(ja.details));T.Xd(C.bf.rUb,!0,D.ij | D.nI | D.TX,ja);};this.tea=ta.Xta || ta.E8 || ta.aSa;this.hH=H();this.log=h.Ih(G,"LogblobBuilder");this.yma=G.paused.value;this.K=I.K;this.ba=this.io.ba;this.bj={summary:{M6a:0,N6a:0,O6a:[],rMa:0,sMa:0,tMa:[]},N4:void 0,J4:void 0};this.mb();J && this.U3a();}Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;f=a(53);k=a(12);l=a(62);d=a(47);g=a(81);h=a(7);m=a(21);n=a(24);r=a(5);p=a(3);u=a(29);t=a(49);w=a(442);v=a(1021);x=a(11);y=a(61);z=a(18);B=a(17);A=a(1022);C=a(448);E=a(181);F=a(128);c.prototype.mb=function(){this.j.addEventListener(z.W.sv,this.sv);this.j.addEventListener(z.W.OL,this.OL);this.j.addEventListener(z.W.pv,this.pv);this.j.addEventListener(z.W.lN,this.lN);this.j.addEventListener(z.W.dg,this.lOa);this.j.addEventListener(z.W.iF,this.W1,k.dZ);if(this.config().vS || this.config().WA)(this.j.addEventListener(z.W.iF,this.qQa),this.Lha=pb.setInterval(this.fQa,this.config().xub));this.config().Sqa && this.j.addEventListener(z.W.iF,this.qOa);};c.prototype.U3a=function(G){this.aZa || (this.j.ac.value !== z.Bb.yc || (void 0 === G?0:G)?this.j.ac.addListener(this.Wfa):this.ot(),this.j.Rk.addListener(this.c5a),this.j.Nc.addListener(this.Az),this.j.Bd.addListener(this.xR),this.j.dk.addListener(this.CMa),this.j.paused.addListener(this.O_a),this.j.Sf.addListener(this.B0a),this.j.ac.addListener(this.PR),this.j.ac.addListener(this.o5a),this.j.Xf.addListener(this.G6a),this.j.playbackRate.addListener(this.R3a),this.j.addEventListener(z.W.El,this.El),this.j.addEventListener(z.W.pR,this.pR),this.j.addEventListener(z.W.OJ,this.OJ),this.j.addEventListener(z.W.GN,this.GN),this.j.addEventListener(z.W.Bx,this.Bx),this.j.addEventListener(z.W.Zl,this.Zl),this.j.addEventListener(z.W.LN,this.LN),this.io.Zo && this.io.Zo.addListener(this.Zo),this.aZa=!0);};c.prototype.Yob=function(){this.dg();this.aZa && (this.j.removeEventListener(z.W.sv,this.sv),this.j.removeEventListener(z.W.OL,this.OL),this.j.removeEventListener(z.W.pv,this.pv),this.j.removeEventListener(z.W.lN,this.lN),this.j.Rk.removeListener(this.c5a),this.j.Nc.removeListener(this.Az),this.j.Bd.removeListener(this.xR),this.j.dk.removeListener(this.CMa),this.j.paused.removeListener(this.O_a),this.j.Sf.removeListener(this.B0a),this.j.ac.removeListener(this.PR),this.j.ac.removeListener(this.Wfa),this.j.ac.removeListener(this.o5a),this.j.Xf.removeListener(this.G6a),this.j.playbackRate.removeListener(this.R3a),this.j.removeEventListener(z.W.iF,this.W1),this.j.removeEventListener(z.W.dg,this.lOa),this.j.removeEventListener(z.W.El,this.El),this.j.removeEventListener(z.W.pR,this.pR),this.j.removeEventListener(z.W.OJ,this.OJ),this.j.removeEventListener(z.W.GN,this.GN),this.j.removeEventListener(z.W.Bx,this.Bx),this.j.removeEventListener(z.W.Zl,this.Zl),this.j.removeEventListener(z.W.LN,this.LN),this.io.Zo && this.io.Zo.removeListener(this.Zo),this.j.removeEventListener(z.W.iF,this.qQa),this.j.removeEventListener(z.W.iF,this.qOa));};c.prototype.FVa=function(G,I){var J,H,M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za,V;if(this.config().Iv)try{J={};H=this.pd.getStats(void 0,void 0,G.K);M=G.M2();O=H.gH.kpb || [];J.attempts=H.E6 || 0;J.num_completed_tasks=O.length;L=this.te.Iwb;P={};R=F.Yj.HN;K=F.Yj.Cs;Q=F.Yj.Nfa;H.al && (P.scheduled=H.al - M);N=G.sa;N && B.xa(N.FG) && (P.preauthsent=N.FG - G.loadTime,P.preauthreceived=N.XM - G.loadTime);da=O.filter(function(T){return "manifest" === T.type;});J.mf_succ=da.filter(L("status",R)).length;J.mf_fail=da.filter(L("status",K)).length;na=G.bd;B.Hc(na.lg) && 0 > na.lg && G.loadTime && (P.ldlsent=na.lc,P.ldlreceived=na.lr);va=O.filter(function(T){return "ldl" === T.type;});J.ldl_succ=va.filter(L("status",R)).length;J.ldl_fail=va.filter(L("status",K)).length;H=!0;M=[];"notcached" === G.RE && (H=!1,M.push("Missing cached manifest"));this.config().HS || (H=!1,M.push("LDL prefetch disabled"));ra=va.filter(L("status",Q)).length;this.config().HS && 0 === ra && (!P.ldlreceived || 0 <= P.ldlreceived) && (H=!1,M.push("LDL received after start"));if(this.config().e2){X=G.OT && G.OT.stats;if(X){if((X.mxb && (P.headersent=X.mxb - G.loadTime),X.eGb && (P.headerreceived=X.eGb - G.loadTime),X.B6 && (P.prebuffstarted=X.B6 - G.loadTime),X.Opa && (P.prebuffcomplete=X.Opa - G.loadTime),!P.prebuffcomplete || 0 <= P.prebuffcomplete))(H=!1,M.push("Missing cached media"));}else if(I.isPrefetchItem){ta=I.prefetchedAudioMs / I.bcABufferLevelMs;if(1 > I.prefetchedVideoMs / I.bcVBufferLevelMs || 1 > ta)(H=!1,M.push("Insufficient media fetched"));}else (H=!1,M.push("aseStats not initialized"));}za=O.filter(function(T){return "getHeaders" === T.type;});J.header_succ=za.filter(L("status",R)).length;J.header_fail=za.filter(L("status",K)).length;V=O.filter(function(T){return "getMedia" === T.type;});J.media_succ=V.filter(L("status",R)).length;J.media_fail=V.filter(L("status",K)).length;J.hm_succ=J.header_succ + J.media_succ;J.hm_fail=J.header_fail + J.media_fail;n.Qb(I,J,{prefix:"pr_"});this.Oq.IS && (I.eventlist_version=1,I.eventlist=this.aG.YTa(G));(I.prefetchCompleted=H) || (I.prefetchFailed=M,n.Qb(I,P,{prefix:"pe_"}));this.Cla(I);}catch(T){this.log.warn("error in collecting video prepare data",T);}};c.prototype.O7=function(G){var I,J,H,M,O,L,P,R;J={};try{J={playdelaysdk:n.mk(this.j.Ifa()),applicationPlaydelay:n.mk(this.j.onb()),playdelay:n.mk(this.j.Anb()),trackid:this.j.Ek,bookmark:n.mk(this.j.NE || 0),pbnum:this.j.index,endianness:d.eTa()};this.jR(J);this.config().Dvb && (J.transitiontime=this.j.dm,J.uiplaystarttime=this.j.kb.x8,J.playbackrequestedat=this.j.Wl.ea(r.ma),J.clockgettime=this.getTime(),J.clockgetpreciseepoch=this.wa.Ue.ea(r.ma),J.clockgetpreciseappepoch=this.Pa.TF.ea(r.ma),J.absolutestarttime=this.j.M2(),J.relativetime=this.j.kka());this.L2(J,"startplay");}catch(K){this.log.error("error in startplay log fields",K);}this.j.El && (J.blocked=this.j.El);J.configversion=this.config().version;this.config().endpoint || (J.configendpoint="error");this.AVa(J);if(this.config().N8 && this.j.kb.P6a){H={};Object.entries(this.j.kb.P6a).reverse().forEach(function(K){var Q;Q=aa(K);K=Q.next().value;Q=Q.next().value;H[K.toLowerCase()]=Q;});J.vui=H;}B.xa(this.j.bNa) && (J.bookmarkact=n.mk(this.j.bNa));M=this.j.bd.at && this.j.bd.ats?this.j.bd.at - this.j.bd.ats:void 0;M && (J.nccpat=M);(M=this.j.bd.lr && this.j.bd.lc?this.j.bd.lr - this.j.bd.lc:void 0) && (J.nccplt=M);(M=this.Dub()) && (J.downloadables=M);pb._cad_global.device && B.Hc(pb._cad_global.device.nia) && (J.esnSource=pb._cad_global.device.nia);n.Qb(J,this.$n,{prefix:"pi_"});(M=x.Qe && x.Qe.connection && x.Qe.connection.type) && (J.nettype=M);this.j.Dn && this.j.Dn.initBitrate && (J.initvbitrate=this.j.Dn.initBitrate);this.j.Dn && this.j.Dn.selector && (J.selector=this.j.Dn.selector);J.fullDlreports=this.j.NQa;if(this.j.state.value >= z.Gb.$d)try{O=this.j.ws();if(O){this.maxBitrate=d.n9(O.map(function(K){return K.bitrate;}));this.vYa=d.n9(O.map(function(K){return K.height;}));L=0 < O.length?A.jYa(O,function(K){return K.bitrate;}):void 0;J.maxbitrate=this.maxBitrate;J.maxresheight=this.vYa;}}catch(K){this.log.error("Exception computing max bitrate",K);}try{P=d.zT();P && (J.pdltime=P);}catch(K){}try{n.Qb(J,this.j.bd,{prefix:"sm_"});n.Qb(J,this.j.u3(),{prefix:"vd_"});}catch(K){}"undefined" !== typeof nrdp && nrdp.device && (J.firmware_version=nrdp.device.firmwareVersion);G && this.j.Bt && (J.pssh=this.j.Bt);this.FVa(this.j,J);J.avtp=this.hH.Is().$sa;(null === (I=this.j.Ma) || void 0 === I?0:I.zA) && this.T3(J);if(this.j.Nc.value)try{J.ttTrackFields=this.j.Nc.value.Kh;}catch(K){}if(I=this.j.Bd && this.j.Bd.value && this.j.Bd.value.streams){R={};I.forEach(function(K){R[K.Mg]=void 0;});J.audioProfiles=Object.keys(R);}this.Dla(J);this.j.sa && "boolean" === typeof this.j.sa.Wc.WB && (J.isSupplemental=this.j.sa.Wc.WB);J.headerCacheHit=! !this.j.OT;this.j.OT && (J.headerCacheDataAudio=this.j.OT.audio,J.headerCacheDataVideo=this.j.OT.video);this.j.sa && (J.packageId=this.j.sa.Wc.Ep);this.j.sa && this.j.sa.Wc.ym && (J.hasChoiceMap=!0);this.config().$Ra && (J.forceL3WidevineCdm=!0);this.MFb(L);this.LFb();this.zVa(this.j,J);this.yla(this.j,J);this.LF(this.j,J);this.OB(this.j,J,this.tea);this.zla(J);this.Ala(J);this.Bla(J);this.DVa(J);this.yVa(J);this.GVa(J);this.EVa(J);this.Xd(C.bf.O7,G,D.ij | D.nI | D.xh | D.JP | D.cD | D.TX | D.k$,J);};c.prototype.kra=function(G,I){I={playdelay:n.mk(G),reason:this.nz,intrplayseq:this.i4 - 1,skipped:I};"repos" === this.nz && (I.prstate=!0 === this.j.paused.value?"paused":"playing");this.LF(this.j,I);this.Xd(C.bf.kra,!1,D.ij | D.nI | D.xh,I);"rebuffer" !== this.nz && "force_rebuffer" !== this.nz || this.j.ao.qkb(Number(n.mk(G)));};c.prototype.bga=function(G,I,J,H){G={moff:n.gy(J),moffms:n.mk(J),vbitrate:I.bitrate,vbitrateold:G.bitrate,vdlid:I.Dd,vdlidold:G.Dd,vheight:I.height,vheightold:G.height,vwidth:I.width,vwidthold:G.width,bw:H};this.LF(this.j,G);this.OB(this.j,G);this.Xd(C.bf.bga,!1,D.xh,G);};c.prototype.OPb=function(G,I,J){G={moff:n.gy(J),moffms:n.mk(J),vdlidold:G.Dd,vbitrateold:G.bitrate};this.LF(this.j,G);this.OB(this.j,G);this.KF(G,I,this.j.Ug.value && this.j.Ug.value.stream);this.Xd(C.bf.PPb,!1,D.xh,G);};c.prototype.LMb=function(){var G,I;G={waittime:n.mk(this.j.kka()),abortedevent:"startplay",trackid:this.j.Ek,prstate:this.AT(),paustate:this.j.paused.value};this.jR(G);this.L2(G,"endplay");this.Oq.IS && (G.eventlist_version=1,G.eventlist=this.aG.YTa(this.j));this.j.Dn && this.j.Dn.initBitrate && (G.initvbitrate=this.j.Dn.initBitrate);try{I=d.zT();I && (G.pdltime=I);n.Qb(G,this.j.bd,{prefix:"sm_"});}catch(J){}this.wla(G,!0);this.GVa(G);this.Dla(G);this.BVa(G);this.KF(G,this.j.Xf.value,this.j.dk.value);this.FVa(this.j,G);this.yla(this.j,G);this.Xd(C.bf.j0a,!1,D.ij | D.xh | D.cD | D.JP,G);};c.prototype.KMb=function(G,I){G={waittime:n.mk(G),abortedevent:"resumeplay",resumeplayreason:I};this.jR(G);this.j.Dn && this.j.Dn.initBitrate && (G.initvbitrate=this.j.Dn.initBitrate);this.KF(G,this.j.Xf.value,this.j.dk.value);this.Xd(C.bf.j0a,!1,D.ij | D.xh,G);};c.prototype.ITb=function(G,I){G={newstate:I?"Paused":"Playing",oldstate:G?"Paused":"Playing"};this.LF(this.j,G);this.OB(this.j,G);this.KF(G,this.j.Sf.value && this.j.Sf.value.stream,this.j.Ug.value && this.j.Ug.value.stream);this.Xd(C.bf.KTb,!1,D.ij | D.xh,G);};c.prototype.Nla=function(G,I,J){var H,M;G=n.Qb({vdlid:this.j.Xf.value.Dd,playingms:G,pausedms:I,intrplayseq:this.i4++,prstate:this.AT(),paustate:this.j.paused.value},J);this.L2(G,"intrplay");I=this.j.Pc[f.ic.Za.Hb].value;J=this.j.Pc[f.ic.Za.Tb].value;G.cdnid=G.vcdnid=I && I.id;G.acdnid=J && J.id;G.locid=this.gU && this.gU.Vma;G.loclv=this.gU && this.gU.xXa;G.avtp=this.hH.Is().$sa;G.mediabuffered=null === (H=this.j.Cg) || void 0 === H?void 0:H.R2();if(null === (M=this.j.Ma) || void 0 === M?0:M.zA)(this.wla(G,!0),this.T3(G),this.CVa(G));try{n.Qb(G,this.j.u3(),{prefix:"vd_"});}catch(O){}this.LF(this.j,G);this.OB(this.j,G);this.KF(G,this.j.Sf.value && this.j.Sf.value.stream,this.j.Ug.value && this.j.Ug.value.stream);this.Xd(C.bf.Nla,!1,D.ij | D.xh,G);};c.prototype.Tqa=function(G,I,J){G={moffold:n.gy(G),reposseq:this.L1a++,prstate:this.AT(),paustate:this.j.paused.value};this.OB(this.j,G);this.KF(G,J && J.stream,I && I.stream);this.Xd(C.bf.Tqa,!1,D.ij | D.xh,G);};c.prototype.Ylb=function(){this.Xd(C.bf.amb,!1,D.ij | D.xh,{switchdelay:n.mk(this.getTime() - this.UFb),newtrackinfo:this.j.Bd.value.trackId,oldtrackinfo:this.tma.trackId,oldAudioDownloadableId:this.TFb.Dd,newAudioDownloadableId:this.j.dk.value.Dd});};c.prototype.Ynb=function(G,I){var J,H;J=I.serverid;H={locid:I.location,loclv:I.locationlv,selocaid:J,selcdnid:J,selocaname:I.servername};H.mediatype=I.mediatype;H.selreason=I.selreason || "unknown";H.seldetail=I.seldetail;H.cdnbwdata=JSON.stringify([{id:J}]);G && (H.oldlocid=G.Vma,H.oldloclv=G.xXa,H.oldocaid=G.CRb,H.oldocaname=G.QG);this.Xd(C.bf.KNa,!1,D.TX,H);};c.prototype.t4a=function(G){var I,J;I={};I.trigger=G;try{J=this.j.dka();I.subtitleqoescore=this.j.Yp.DBb(J);I.metrics=JSON.stringify(this.j.Yp.yka(J));}catch(H){this.log.error("error getting subtitle qoe data",H);}this.Xd(C.bf.sUb,!1,D.ij | D.cD | D.nI,I,"info");};c.prototype.transition=function(G){this.OB(this.j,G);this.Xd(C.bf.transition,!1,0,G);};c.prototype.oBb=function(G,I){if(G=G.jT())if(I=G[I])return I.xc;};c.prototype.zVa=function(G,I){G.kb.Ol && (I.isBranching=!0);};c.prototype.yla=function(G,I){var J,H;H=(null === (J=G.sa) || void 0 === J?void 0:J.oWa) || "videopreparer" === G.QE;I.cachedManifest=G.RE;I.cachedLicense=G.QE;I.usedldl=this.config().HS?H.toString():"not_capable";};c.prototype.LF=function(G,I){var J,H;if(this.config().FDb){J=G.eka();H=G.fa.sa;J && H && (I.segment=J,H=G.BB(),I.segmenttime=H,G=this.oBb(G,J),null !== H && void 0 !== G && (I.segmentoffset=H - G));}};c.prototype.OB=function(G,I,J){I.pxid=G.y6;(void 0 === J?0:J) && (I.playgraph_trace=G.q0a);};c.prototype.CVa=function(G){var I,J;I=this.j.g5b;J=I && I.g7b;I && I.mDb && (G.htwbr=I.mDb,G.pbtwbr=I.jpa,G.hptwbr=I.i5b);I && I.KQb && (G.rr=I.KQb,G.ra=I.c7b);I && J && 0 < (J.length || 0) && (G.qe=JSON.stringify(J));};c.prototype.Dla=function(G){var I,J,H,M,O;I=this;J=this.j.Qh && this.j.Qh.value && this.j.Qh.value.streams;if(J){H=new Set();M=new Set();O=new Set();J.forEach(function(L){L=L.Mg;H.add(L);M.add(L.replace(I.QHa,""));(L=L.match(I.QHa)) && 0 < L.length && O.add(L[1]);});G.videoProfiles=[].concat(ca(H));G.videoProfile=0 === M.size?"none":[].concat(ca(M))[0];G.videoProfileLevels=[].concat(ca(O));}};c.prototype.BVa=function(G){var I,J,H;try{I=this.te.createElement("canvas");J=I.getContext("webgl") || I.getContext("experimental-webgl");if(J){H=J.getExtension("WEBGL_debug_renderer_info");H && (G.WebGLRenderer=J.getParameter(H.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=J.getParameter(H.UNMASKED_VENDOR_WEBGL));}}catch(M){}};c.prototype.GDb=function(G){G.switchAwaySummary={vsa:this.bj.summary.M6a,vsb:this.bj.summary.N6a,vsbt:this.bj.summary.O6a,asa:this.bj.summary.rMa,asb:this.bj.summary.sMa,asbt:this.bj.summary.tMa};};c.prototype.fia=function(G){var I,J,H,M,O,L,P,R,K,da;I=this;H=this.h0a();this.L2(H,"endplay");this.jR(H);H.prstate=this.AT();H.paustate=this.j.paused.value;H.muted=this.j.muted.value;this.j.Cz && "downloaded" === this.j.Cz.p3() && (H.trickplay_ms=this.j.cX.offset,H.trickplay_res=this.j.cX.W1a);this.config().s6a && (H.rtinfo=this.j.iBb());this.config().Sqa && (null === (J=this.j.Ma) || void 0 === J?0:J.zA) && this.T3(H);this.AVa(H);H.endreason=G?"error":this.j.ac.value === z.Bb.au?"ended":"stopped";J=this.$n;this.ADb(J);J && n.Qb(H,J,{prefix:"pi_"});J=this.j.Zk;G && J && p.lya(J.errorCode) && (M="info");try{n.Qb(H,this.j.bd,{prefix:"sm_"});}catch(na){}this.j.vla && (H.inactivityTime=this.j.vla);this.wla(H,"info" !== M && G);this.CVa(H);if(this.j.Ymb){J=this.j.Ymb;O=this.config().UJ;L=this.j.loadTime;P={iv:O,seg:[]};R=function(na,va,ra){return 0 === va || void 0 === ra[va - 1]?na:na - ra[va - 1];};K=J.uR.map(R);R=J.qX.map(R);for(var Q,N=0;N < K.length;N++){if(K[N] || R[N])Q?(Q.ams.push(K[N]),Q.vms.push(R[N])):Q={ams:[J.uR[N]],vms:[J.qX[N]],soffms:J.startTime + N * O - L};N !== K.length - 1 && K[N] && R[N] || !Q || (P.seg.push(Q),Q=void 0);}H.bt=JSON.stringify(P);}if(this.j.Gna && 0 < this.j.Gna.length){da=[];this.j.Gna.forEach(function(na){da.push({soffms:na.time - I.j.loadTime,maxvb:na.maxvb,maxvb_old:na.maxvb_old,spts:na.spts,reason:na.reason});});H.maxvbevents=da;}G && this.BVa(H);this.t4a("endplay");this.config().Iv && this.Cla(H);this.Dla(H);this.zVa(this.j,H);this.yla(this.j,H);this.LF(this.j,H);this.OB(this.j,H,this.tea);this.zla(H);this.Ala(H);this.Bla(H);this.DVa(H);this.BDb(H);this.yVa(H);this.DDb(H);this.CDb(H);this.GDb(H);this.EVa(H);this.Xd(C.bf.fia,G,D.ij | D.nI | D.xh | D.cD | D.JP | D.k$,H,M);};c.prototype.dgb=function(G){var I;I=[];return G?Object.keys(G).map(function(J){return +J;}):I;};c.prototype.Dub=function(){var G,I;G=this;if(this.j.so && this.j.Yo){I=[];this.j.so.concat(this.j.Yo).forEach(function(J){J.streams.forEach(function(H){I.push({dlid:H.Dd,type:H.type,bitrate:H.bitrate,vmaf:H.zb,cdn_ids:G.dgb(H.Xx)});});});return JSON.stringify(I);}};c.prototype.Xnb=function(){var I,J,H;function G(M,O){var L,P,R;L=M.cdnId;P=H[L];R=M.vmaf;P || (P={cdnid:L,dls:[]},H[L]=P,J.push(P));m.nK(M.bitrate);m.nK(M.duration);L={bitrate:M.bitrate,tm:x.yi(M.duration)};R && (m.nK(M.vmaf),L.vf=R);L[O]=n.pe(M.downloadableId);P.dls.push(L);}I=this.j.ao.nyb();J=[];H={};I.audio.forEach(function(M){G(M,"adlid");});I.video.forEach(function(M){G(M,"dlid");});return JSON.stringify(J);};c.prototype.h0a=function(){var G,I,J,H,M,O,L,P,R,K,Q,N,da;G=this.j.ao;I={totaltime:n.gy(G.ET()),totalcontenttime:n.gy(G.FUa()),cdndldist:this.Xnb(),reposcount:this.L1a,intrplaycount:this.i4};try{J={numskip:0,numlowqual:0};H=this.j.Cg;M=H.yB();B.xa(M) && (I.totfr=M,J.numren=M);M=H.uF();B.xa(M) && (I.totdfr=M,J.numrendrop=M);M=H.lT();B.xa(M) && (I.totcfr=M,J.numrenerr=M);M=H.Z2();B.xa(M) && (I.totfdl=M);I.playqualvideo=JSON.stringify(J);O=this.j.Xf.value;O && (I.videofr=O.framerate.toFixed(3));L=G.sSa();L && (I.abrdel=L);P=G.NCb() && G.tyb();P && (I.tw_vmaf=P);R=G.syb();R && n.Qb(I,R);I.rbfrs=this.i4;I.maxbitrate=this.maxBitrate;I.maxresheight=this.vYa;K=this.j.DF();for(G=0;G < K.length;G++){Q=K[G];N=this.io.VL.Mt(Q);if(N){m.gb(da);I.maxbitrate=da?da.bitrate:0;I.maxresheight=da?da.height:0;I.bitratefilters=N.join("|");break;}da=Q;}this.j.Cz && (I.trickplay=this.j.Cz.p3());null !== this.j.Yp.QMa && (I.avg_subt_delay=this.j.Yp.QMa);}catch(na){this.log.error("Exception reading some of the endplay fields",na);}n.Qb(I,this.j.u3(),{prefix:"vd_"});return I;};c.prototype.getTime=function(){return this.Pa.Zb().ea(r.ma);};c.prototype.PDb=function(){var G,I,J;G=this;J=[];this.config().NIb && (this.config().OIb.forEach(function(H){J.push(pb.setTimeout(G.q5,H));}),this.config().LYa && (I=pb.setInterval(this.q5,this.config().LYa)),this.L5a=function(){J.forEach(function(H){pb.clearTimeout(H);});I && pb.clearInterval(I);});};c.prototype.Cla=function(G){var I;try{I=this.pd.getStats();G.pr_cache_size=JSON.stringify(I.cache);G.pr_stats=JSON.stringify(I.Rxb);}catch(J){}};c.prototype.zla=function(G){this.log.debug("httpstats",this.Bf.yd);n.Qb(G,this.Bf.yd,{prefix:"http_"});};c.prototype.wla=function(G,I){var J,H,M;J=this.config().EPa && !(this.ba % this.config().EPa);H=this.j.Ma;M=null === H || void 0 === H?void 0:H.dh;J && M && (G.ASEstats=JSON.stringify(H.h4(I)));};c.prototype.T3=function(G){Object.assign(G,this.j.Ma.Jb.JBb());};c.prototype.Ala=function(G){var I;try{I=x.iu.memory;B.HWa(I) && (G.totalJSHeapSize=I.totalJSHeapSize,G.usedJSHeapSize=I.usedJSHeapSize,G.jsHeapSizeLimit=I.jsHeapSizeLimit);}catch(J){}};c.prototype.Bla=function(G){var I,J,H,M,O;if(this.config().vvb){O=null === (I=null === x.Qe || void 0 === x.Qe?void 0:x.Qe.connection) || void 0 === I?void 0:I.effectiveType;I=null === x.Qe || void 0 === x.Qe?void 0:x.Qe.deviceMemory;O && (G.effectiveType=O);I && (G.deviceMemory=I);}(O=null === (J=null === x.Qe || void 0 === x.Qe?void 0:x.Qe.connection) || void 0 === J?void 0:J.type) && (G.connectionType=O);J=null === (H=null === x.Qe || void 0 === x.Qe?void 0:x.Qe.connection) || void 0 === H?void 0:H.downlink;"number" === typeof J && isFinite(J) && (G.downlink=J);H=null === (M=null === x.Qe || void 0 === x.Qe?void 0:x.Qe.connection) || void 0 === M?void 0:M.rtt;"number" === typeof H && isFinite(H) && (G.rtt=H);};c.prototype.DVa=function(G){var I;I=this.j.we;this.config().Tnb && I && !this.config().Cr && (I=this.j.MJb(I.Q4b()),G.keystatuses=I,this.log.trace("keystatuses",I));};c.prototype.yVa=function(G){var I;try{if(this.config().OR){I=this.j.zyb();G.battery=I;this.log.trace("batterystatuses",I);}}catch(J){}};c.prototype.BDb=function(G){this.j.J1 && (G.dqec=this.j.J1);};c.prototype.ADb=function(G){this.j.d1 && n.Qb(G,{cast_interaction_counts:this.j.d1.$4b()});};c.prototype.GVa=function(G){var I;I=this.j.kb.jo;I && I.isUIAutoPlay && (G.isUIAutoPlay=!0);};c.prototype.EVa=function(G){var I,J,H;if(null === (J=null === (I=this.j.we) || void 0 === I?void 0:I.mediaKeys) || void 0 === J?0:J.keySystem)G.keysys=this.j.we.mediaKeys.keySystem;else if(null === (H=this.j.we) || void 0 === H?0:H.Pq)G.keysys=this.j.we.Pq();};c.prototype.CDb=function(G){this.wia && (G.externaldisplay=this.wia.PS);};c.prototype.DDb=function(G){this.TC && this.TC.Ub && (G.media_capabilities_smooth=this.TC.Ub.smooth,G.media_capabilities_efficient=this.TC.Ub.powerEfficient,G.media_capabilities_bitrate=this.TC.Ub.bitrate,G.media_capabilities_height=this.TC.Ub.height,G.media_capabilities_width=this.TC.Ub.width);};c.prototype.KF=function(G,I,J){J && (G.adlid=J.Dd,G.abitrate=J.bitrate);I && (G.vdlid=I.Dd,G.vbitrate=I.bitrate);};c.prototype.AVa=function(G){var I,J;if(this.j.aS){I=this.j.aS;I.u1 && (G.controllerESN=I.u1);I.Jpb && (G.controllerUiVer=I.Jpb);if(I.Ipb)try{J=JSON.parse(I.Ipb);G.controllerGroupNames=J;}catch(H){this.log.error("Exception parsing controller group names",H);}}};c.prototype.LFb=function(){void 0 === this.wia && (this.wia=this.xia.Awb());};c.prototype.MFb=function(G){void 0 === this.TC && void 0 !== G && (this.TC=this.Kna.Cia(G));};c.prototype.L2=function(G,I){(I=this.j.my(I)) && Object.entries(I).forEach(function(J){var H;H=aa(J);J=H.next().value;H=H.next().value;G[J]=H;});};c.prototype.jR=function(G){var I,J;G.browserua=x.jA;G.browseruad=null === (J=null === (I=x.Qe.userAgentData) || void 0 === I?void 0:I.brands) || void 0 === J?void 0:J.map(function(H){return [H.brand,H.version];});G.browserhref=location.href;};c.prototype.Xd=function(G,I,J,H,M){this.jkb(H,this.j,I,J);G=this.qU.Uu(G,M || (I?"error":"info"),H,this.io);this.Ql.Xd(G);};c.prototype.jkb=function(G,I,J,H){var M,O,L,P,R,K,Q,N,da,na;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (G.devmod=nrdp.device.deviceModel);I.Bj && (G.pbcid=I.Bj);I.Ti && (G.playbackcontextid=I.Ti);H & D.ij && (m.gb(!G || void 0 === G.moff),0 <= I.mediaTime.value && (G.moff=n.gy(I.mediaTime.value),G.moffms=n.mk(I.mediaTime.value)));if(H & D.nI){K=I.Pc[f.ic.Za.Hb].value;Q=I.Pc[f.ic.Za.Tb].value;N=I.Ug.value;da=I.Sf.value;K && (G.cdnid=K.id,G.cdnname=K.name);Q && (G.acdnid=Q.id,G.acdnname=Q.name);if(null === N || void 0 === N?0:N.stream)(G.adlid=N.stream.Dd,G.abitrate=N.stream.bitrate);if(null === da || void 0 === da?0:da.stream)(G.vdlid=da.stream.Dd,G.vbitrate=da.stream.bitrate,G.vheight=da.stream.height,G.vwidth=da.stream.width);}H & D.xh && (null === (M=I.Ma) || void 0 === M?0:M.dh) && (G.abuflbytes=null !== (O=G.abuflbytes) && void 0 !== O?O:I.Wea(),G.abuflmsec=null !== (L=G.abuflmsec) && void 0 !== L?L:I.sR(),G.vbuflbytes=null !== (P=G.vbuflbytes) && void 0 !== P?P:I.bua(),G.vbuflmsec=null !== (R=G.vbuflmsec) && void 0 !== R?R:I.nX());if(H & D.JP){Object.assign(G,E.oka());try{na=I.mg.getBoundingClientRect();G.rendersize=na.width + "x" + na.height;G.renderpos=na.left + "x" + na.top;}catch(va){}}H & D.cD && (M=x.Qe.hardwareConcurrency,0 <= M && (G.numcores=M),M=this.io.Uha) && (O=M.uyb(),G.droppedFrames=JSON.stringify(O),M=M.yT(this.config().Nub),n.de(M,function(va,ra){G["droppedFramesP" + va]=JSON.stringify(ra);}));if(H & D.TX)try{I.Uk && (G.cdninfo=JSON.stringify(I.Uk.map(function(va){return {id:va.id,nm:va.name,rk:va.Eg,wt:va.location.weight,lv:va.location.level};})));}catch(va){}J && H & D.k$ && (m.gb(I.Zk),(J=I.Zk)?G=Object.assign(G,E.cka(this.platform.kp,J)):G.errorcode=p.L.jm,G.errorcode === this.platform.kp + p.L.UCa && (G.lastSyncWithVideoElement=this.getTime() - I.LW));};b.TAa=c;(function(G){G[G.ij=1]="MOFF";G[G.nI=2]="PRESENTEDSTREAMS";G[G.xh=4]="BUFFER";G[G.JP=8]="SCREEN";G[G.cD=16]="CPU";G[G.TX=32]="CDN";G[G.k$=64]="FATALERROR";})(D || (D={}));},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.txa="DownloadReportBuilderSymbol";},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.sxa=void 0;q=a(1);f=a(181);k=a(81);l=a(24);d=a(3);g=a(21);h=a(11);m=a(17);n=a(0);a=a(15);c.prototype.construct=function(p,u){var t,w,v;t=this;w={};p.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});v=[];l.de(w,function(x,y){v.push(t.TBb(y,u));});return {urls:v};};c.prototype.TBb=function(p,u){var t,w,v,x;t=this;w=p[0];v={url:w.url,bitrate:w.bitrate,cdnid:m.Sg(w.Pc)?w.Pc.id:w.Pc,dltype:w.nub,id:w.Dd};x={};p.forEach(function(y){var z;z=t.FEb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});l.de(x,function(y,z){"fail" === y?v.failures=t.yzb(z,u):"success" === y && (v.downloads=t.nzb(z,u));});return v;};c.prototype.nzb=function(p,u){var t,w,v;t=this;w={};p.forEach(function(x){var y;y=x.Tob;w[y] || (w[y]=[]);w[y].push(x);});v=[];l.de(w,function(x,y){var z;z=[];y.forEach(function(B){z.push(B);t.oEb(B) && (v.push(t.USa(z,u,x)),z=[]);});0 < z.length && v.push(t.USa(z,u,x));});return v;};c.prototype.USa=function(p,u,t){var w,v,x,y,B;w=p.sort(function(A,C){return A.Rl.Oh < C.Rl.Oh?-1:A.Rl.Oh > C.Rl.Oh?1:0;});v=w[0].Rl;x=v.Np;y=v.Oh;v=v.fo;for(var z=1;z < p.length;z++){B=p[z].Rl;B.Np < x && (x=B.Np);B.Oh < y && (y=B.Oh);B.fo > v && (v=B.fo);}z=this.$Ab(w);B=w[w.length - 1];return {time:x - u,tcpid:t?parseInt(t):-1,tresp:y - x,first:z,ranges:this.aBb(w,z),dur:v - y,trace:this.py(p),status:this.p3(B)};};c.prototype.$Ab=function(p){var u;u=0;p.forEach(function(t){t.fr && (u=h.xo(u,t.fr[0]));});return u;};c.prototype.aBb=function(p,u){var t;t=[];p.forEach(function(w){w.fr?t.push([w.fr[0] - u,w.fr[1] - u]):t.push([0,-1]);});return t;};c.prototype.py=function(p){var u,t;u=[];p.forEach(function(w){var v;w=w.Rl;if(t){v=w.Np - t.fo;0 < v && u.push([v,-2]);v=h.ln(t.fo,w.Np);v=w.Oh - v;0 < v && u.push([v,-3]);}u.push([w.fo - w.Oh,w.Fga || 0]);t=w;});return u;};c.prototype.oEb=function(p){if(p.oa === d.M.$z || p.oa === d.M.jD)return !0;};c.prototype.p3=function(p){if(p.X)return "complete";if(p.oa === d.M.$z)return "abort";if(p.oa === d.M.jD)return "stall";g.gb(!1,"download status should never be: other");return "other";};c.prototype.yzb=function(p,u){var t,w;t=this;w=[];p.forEach(function(v){var x;x=v.Rl;v={time:x.Oh - u,tresp:x.Oh - x.Np,dur:x.fo - x.Oh,range:v.fr,reason:t.cBb(v),httpcode:v.lk,nwerr:f.aka(v.oa)};w.push(v);});return w;};c.prototype.cBb=function(p){return p.lk || p.oa === d.M.aP?"http":p.oa === d.M.cP?"timeout":"network";};c.prototype.FEb=function(p){return p.X || void 0 === p.X || p.oa === d.M.$z || p.oa === d.M.jD?!1:!0;};c.prototype.Mpb=function(p){var u,t,w,v,x,y;u=p.request;t=u.stream;w=u.track;v=u.url;x=this.kzb(w,v);switch(x){case k.Uh.audio:case k.Uh.video:y=u.stream.Dd;break;case k.Uh.i8:case k.Uh.rta:y=w.Dd;}p={bitrate:t && t.bitrate,nub:x,Dd:y,Rl:p.Rl,Pc:u.Pc,url:v,Ve:p.Ve,lk:p.lk,oa:p.oa,X:p.X,Tob:this.nwb(p)};void 0 !== u.offset && void 0 != u.length && (p.fr=[u.offset,u.offset + u.length - 1]);return p;};c.prototype.kzb=function(p,u){if(p)return p.type;if(0 <= u.indexOf("netflix.com")){if(0 <= u.indexOf("nccp"))return "nccp";if(0 <= u.indexOf("api"))return "api";}return "other";};c.prototype.nwb=function(p){if(p.headers && (p=p.headers["X-TCP-Info"] || p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(u){return 0 == u.indexOf("port=");}).map(function(u){return u.split("=")[1];})[0])?l.pe(p):p;};r=c;r=q.__decorate([n.R(),q.__param(0,n.l(a.dd))],r);b.sxa=r;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.bIa="XhrFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wCa="NetworkMonitorSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fya="FtlDataParserSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.rza="HttpRequesterSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.hDa="PboAcquireLicenseCommandSymbol";},function(q,b,a){var d,g,h,m,n,r;function c(p){var u;p=new h.AO(p);if(1481462272 != p.Lp())throw Error("Invalid header");u={XMR:{Version:p.Lp(),RightsID:p.Pv(16)}};f(p,u.XMR,p.buffer.length);return u;}function f(p,u,t){var w,v,x,y,z;for(;p.position < t;){w=p.Vg();v=p.Lp();v-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:k(w)};z=u[x];z?r.isArray(z)?z.push(y):(u[x]=[],u[x].push(z),u[x].push(y)):u[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:f(p,y,p.position + v);break;case 5:y.Reserved1=p.Vg();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.Vg();y.MinimumAnalogVideoOutputProtectionLevel=p.Vg();y.Reserved2=p.Vg();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.Vg();break;case 10:y.Reserved=p.Pv(16);y.SymmetricCipherType=p.Vg();y.AsymmetricCipherType=p.Vg();v=p.Vg();y.EncryptedKeyLength=v;w=p.Pv(v);y.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=p.Pv(2);v=p.Vg();w=p.Pv(v);y.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=p.Vg();break;case 18:y.BeginDate=p.Lp();y.EndDate=p.Lp();break;case 42:y.CurveType=p.Pv(2);v=p.Vg();w=p.Pv(v);y.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=p.Lp();break;case 50:y.Sequence=p.Lp();break;case 51:y.LicenseProcessingIndicator=p.Vg();break;case 52:y.MinimumSecurityLevel=p.Vg();break;case 57:y.PlayEnablerType=l(p.Pv(16));break;case 85:break;default:y.OtherData=p.Pv(v);}}}function k(p){return "0x" + p.toString(16);}function l(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.$sb=b.atb=b.Zsb=b.Ysb=b.Xsb=void 0;d=a(12);g=a(7);h=a(162);m=a(152);n=a(258);r=a(17);b.Xsb=function(p,u,t){switch(u){case d.pY:p && (p=g.SMa(p),n.pua(p,function(w){w.X && (w=w.object) && (w=m.SSa(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=m.K_a(w)) && (w=g.Dq(w)) && (w=c(w)) && t(w);}));}};b.Ysb=c;b.Zsb=f;b.atb=k;b.$sb=l;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.TDa="PboReleaseLicenseCommandSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wDa="PboLicenseRequestTransformerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.mDa="PboCachedPlaydataSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.xEa="PlaydataConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Caa={eU:"keepAlive",splice:"splice"};b.sDa="PboEventSenderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hxa="DxDisplaySymbol";},function(q,b,a){var f,k,l,d,g;function c(h,m,n){this.Rd=h;this.is=m;this.prefix=n;this.CV=this.isVisible=!1;this.sNa=new d.sHa(m);}Object.defineProperty(b,"__esModule",{value:!0});b.OP=b.KH=b.dwa=b.cwa=b.bwa=void 0;q=a(1);f=a(0);k=a(28);l=a(26);d=a(1048);g=a(11);b.bwa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.cwa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.dwa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.KH="";c.prototype.show=function(){this.isVisible || (this.zpb(),this.cK && g.De.body.appendChild(this.cK),this.mg && g.De.body.appendChild(this.mg),this.FR && g.De.body.appendChild(this.FR),this.dH && g.De.getElementsByTagName("head")[0].appendChild(this.dH),this.isVisible=!0,this.refresh());};c.prototype.Tq=function(){this.isVisible && (this.mg && g.De.body.removeChild(this.mg),this.FR && g.De.body.removeChild(this.FR),this.cK && g.De.body.removeChild(this.cK),this.dH && g.De.getElementsByTagName("head")[0].removeChild(this.dH),this.dH=this.NW=this.cK=this.FR=this.mg=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.Tq():this.show();};c.prototype.vVb=function(){(this.CV=!this.CV) || this.refresh();};c.prototype.Hyb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.zpb=function(){var h;h=this;this.dH=g.De.createElement("style");this.dH.type="text/css";this.dH.innerHTML=this.Hyb(this.prefix);this.FR=this.Rd.createElement("div",b.bwa,void 0,{"class":this.prefix + "-display-blur"});this.mg=this.Rd.createElement("div",b.cwa,void 0,{"class":this.prefix + "-display"});this.cK=this.Rd.createElement("div",b.dwa,void 0,{"class":this.prefix + "-display"});this.NSa().forEach(function(m){return h.cK.appendChild(m);});};c.prototype.Bpb=function(h){h=this.Rd.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var m=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < m.length;n++){m[n].addEventListener("click",function(r){var p,u;if(r=r.target.parentElement){p=r.classList;if(p.contains("open")){p.remove("open");try{u=r.querySelectorAll(":scope .open");for(r=0;r < u.length;r++){u[r].classList.remove("open");}}catch(t){}}else p.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.CV?Promise.resolve():this.u1a().then(function(m){if(m && (m=h.Bpb(m),h.mg)){h.NW && (h.mg.removeChild(h.NW),h.NW=void 0);h.NW=m;h.mg.appendChild(h.NW);m=h.mg.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < m.length;++n){m[n].addEventListener("click",h.n2a);}(m=h.mg.querySelector("#" + h.prefix + "-display-close-btn")) && m.addEventListener("click",function(){h.toggle();});}});};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.Hf)),q.__param(1,f.l(l.Gf)),q.__param(2,f.cj())],a);b.OP=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kxa="DxManagerSymbol";b.Jxa="DxManagerProviderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.IAa="LogDisplayConfigSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.YHa="WindowUtilsSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.fEa="PlayPredictionDeserializerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.eFa="PreparerManifestFetcherSymbol";b.dFa="PreparerLicenseFetcherSymbol";b.cFa="PreparerLegacyLicenseFetcherSymbol";},function(q,b){function a(f,k,l){var d,g,h,m;d=[];f.forEach(function(n){-1 == d.indexOf(n.Mg) && d.push(n.Mg);});g=null;h=null;k.forEach(function(n){null === g?h=g=n.bitrate:h < n.bitrate?h=n.bitrate:g > n.bitrate && (g=n.bitrate);});m=[];d.forEach(function(n){var r;r={ranges:[],profile:n};g && h && (r.ranges.push({min:g,max:h}),l && (r.disallowed=l.filter(function(p){return p.stream.Mg === n;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.R1};})),m.push(r));});return m;}function c(f,k){var l;l=void 0;f=f.filter(function(g){var h;h=k(g);h && (l=l || [],l.push({stream:g,R1:h}));return !h;});for(var d=0;d < f.length;d++){f[d].lower=f[d - 1];f[d].WCb=f[d + 1];}return {vB:f,dub:l};}Object.defineProperty(b,"__esModule",{value:!0});b.dQa=b.ws=b.wsb=b.Jka=void 0;b.Jka=function(f,k){k=c(f,k);return a(f,k.vB,k.dub);};b.wsb=a;b.ws=c;b.dQa=function(f){if(f.lower && 1080 < f.height)return ["Prefetch UHD"];};},function(q,b,a){var f,k,l,d;function c(g){this.CM=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Waa=b.SEa=void 0;q=a(1);f=a(13);k=a(0);l=a(185);d=a(73);c.prototype.aYa=function(g){var h,m;h=this;if(g.Pe.key.Fa)return Promise.resolve(g.Pe.key.Fa);m=g.Pe.key.da;return g.Pe.zH.Fs(m).Dr.then(function(n){n=n.sa;return n.ym?d.gB(n.ym,{config:f.config}):d.XG(m,h.CM.fT(m));});};a=c;a=q.__decorate([k.R(),q.__param(0,k.l(l.jZ))],a);b.SEa=a;b.Waa="PlaygraphResolverSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.RBa="MediaHttpSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.LCa="OpenConnectSideChannelSymbol";b.YBa="MediaRequestDownloaderSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.WBa="MediaRequestConstructorFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qDa="PboDispatcherSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qHa="TransportFactorySymbol";b.pCa="MslTransportSymbol";b.wGa="SslTransportSymbol";},function(q,b,a){var h,m;function c(n){return !(!n || !n.tC && !n.pboc || !n.code && !n.code);}function f(n){return !(!n || !n.jc);}function k(n){return ! !(n instanceof Error);}function l(n){switch(n){case "ACCOUNT_ON_HOLD":return m.M.qcb;case "STREAM_QUOTA_EXCEEDED":return m.M.ucb;case "INSUFFICICENT_MATURITY":return m.M.xcb;case "TITLE_OUT_OF_WINDOW":return m.M.Dcb;case "CHOICE_MAP_ERROR":return m.M.tcb;case "BadRequest":return m.M.zcb;case "Invalid_SemVer_Format":return m.M.ycb;case "RESTRICTED_TO_TESTERS":return m.M.Ccb;case "AGE_VERIFICATION_REQUIRED":return m.M.rcb;case "BLACKLISTED_IP":return m.M.scb;case "DEVICE_EOL_WARNING":return m.M.saa;case "DEVICE_EOL_FINAL":return m.M.NCa;case "INCORRECT_PIN":return m.M.RCa;case "MOBILE_ONLY":return m.M.Bcb;case "MDX_CONTROLLER_CTICKET_INVALID":return m.M.Acb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return m.M.Ecb;case "RESET_DEVICE":return m.M.QCa;case "RELOAD_DEVICE":return m.M.PCa;case "EXIT_DEVICE":return m.M.OCa;case "FREE_PREVIEW_ENDED":return m.M.wcb;default:return m.M.Lya;}}function d(n,r){var p;p=r.bladeRunnerCode?Number(r.bladeRunnerCode):void 0;return new h.$c(n,l(r.code),"BadRequest" === r.code?m.JY.d8a:void 0,r.code,void 0,r.display,void 0,r.detail,r.display,p,r.alert,r.alertTag);}function g(n,r){return new h.$c(n,r.jc,r.wd,void 0,r.Av,r.message,r.details,r.data);}Object.defineProperty(b,"__esModule",{value:!0});b.qNa=b.rNa=b.Hxb=b.Lxb=b.Im=b.Kxb=b.Tla=b.yEb=b.tWa=void 0;h=a(42);m=a(3);b.tWa=c;b.yEb=f;b.Tla=k;b.Kxb=l;b.Im=function(n,r){return f(r)?g(n,r):c(r)?d(n,r):k(r)?h.$c.hja(n,r):new h.$c(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,r);};b.Lxb=d;b.Hxb=g;b.rNa=function(n,r,p,u,t){var w,v,x,y;w=r.N2a[p];if(void 0 === w)throw {tC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no configuration information",detail:r};v=w.version;if(void 0 === v)throw {tC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no version information",detail:r};x=w.service;if(void 0 === x)throw {tC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no service information",detail:r};y=w.orgOverride;if(void 0 === y && (y=r.organization,void 0 === y))throw {tC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no organization information",detail:r};return w.isPlayApiDirect?n.NAb(u) + "/" + y + "/" + x + "/" + v:n.DAb(u) + "/" + y + "/" + x + "/" + v + "/" + (void 0 === t?"router":t);};b.qNa=function(n,r){var p;p={"Content-Type":"text/plain"};r=r();n.ELa && r && (p["X-Esn"]=r.gi);return p;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.VDa="PboRequestFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.xHa="TrickPlayManagerSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eo=void 0;q=b.Eo || (b.Eo={});q[q.YY=0]="NOT_LOADED";q[q.LOADING=1]="LOADING";q[q.nD=2]="LOADED";q[q.iP=3]="LOAD_FAILED";q[q.MCa=4]="PARSE_FAILED";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.uva="BandwidthMeterFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.tEa="PlaybackSegmentDataFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.oEa="PlaybackInfoPanelFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.FFa="RepositionTraceSymbol";b.DFa="RepositionTraceFactorySymbol";},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za;function c(V,T,ja,Ia,wa,Sa,Ua,$a,Za,mb,db,Ta,Ca,La,Ma,Va,ib,yb,Eb,Hb,Ob,Cb,Kb,Vb,mc,Dc,Md,re,Nd,fd,pc,dc){var ub,fc;function ec(nb){nb.newValue !== N.Bb.Jg && nb.newValue !== N.Bb.Wh && (ub.ac.removeListener(ec),ub.sL=ub.wa.x7,ub.Pb.tc(N.W.ot));}function ac(nb){nb.newValue !== N.Bb.Jg && (ub.ac.removeListener(ac),ub.i0a=ub.wa.Ue.ea(F.ma),ub.Pb.tc(N.W.Gp));}ub=this;this.xb=wa;this.Uj=Sa;this.HF=Ua;this.Pa=Za;this.PJ=mb;this.wa=db;this.sna=Ta;this.tna=Ma;this.V4=Va;this.pd=ib;this.Xm=yb;this.kl=Eb;this.ME=Hb;this.zpa=Ob;this.el=Cb;this.qta=Kb;this.Ql=Vb;this.te=mc;this.wpa=Dc;this.Vl=Md;this.M1a=re;this.Pea=Nd;this.aG=fd;this.NJ=pc;this.d1=dc;this.q0a=[];this.Hp=new Map();this.Bd=new u.Ec(null);this.Qh=new u.Ec(null);this.Nc=new u.Ec(null);this.Rk=new u.Ec(null);this.Qt=new u.Ec(void 0);this.Xf=new u.Ec(null);this.dk=new u.Ec(null);this.mediaTime=new u.Ec(void 0);this.playbackRate=new ta.sEa(1,t.config.Cna);this.Fta=function(nb){return ub.Bd.set(nb.newValue);};this.RWb=function(nb){return ub.Qh.set(nb.newValue);};this.OWb=function(nb){return ub.Nc.set(nb.newValue);};this.rWb=function(nb){return ub.Rk.set(nb.newValue);};this.NWb=function(nb){return ub.Qt.set(nb.newValue);};this.QWb=function(nb){return ub.Xf.set(nb.newValue);};this.sWb=function(nb){return ub.dk.set(nb.newValue);};this.FWb=function(nb){return ub.Sf.set(nb.newValue);};this.EWb=function(nb){return ub.Ug.set(nb.newValue);};this.AWb=function(nb){return ub.mediaTime.set(nb.newValue);};this.A8=function(nb){return ub.playbackRate.set(nb.newValue);};this.Gj={};this.hra=this.ita=0;this.Pb=new w.Wj();this.pX={};this.a4a=!1;this.state=new u.Ec(N.Gb.kI);this.Hv=new u.Ec(!1);this.paused=new u.Ec(!1);this.muted=new u.Ec(!1);this.volume=new u.Ec(t.config.stb / 100);this.ac=new u.Ec(N.Bb.Jg);this.hf=new u.Ec(N.$e.Sc);this.Cq=new u.Ec(N.$e.Sc);this.bm=new u.Ec(N.$e.Sc);this.Ug=new u.Ec(null);this.Sf=new u.Ec(null);this.Dfa=new u.Ec(null);this.P3=r.pza(this);this.Gna=[];this.Pc=[];this.mfa={};this.xK=this.NQa=!1;this.Oa=this.Vi=-1;this.qka=function(nb,Rb){var hc;nb=void 0 === nb?null:nb;return M.xa(nb)?Rb && !ub.Qq(Rb).sa?nb:(null === (hc=ub.Ma) || void 0 === hc?0:hc.dh)?ub.Ma.us(nb):nb:null;};this.VZa=function(){ub.tsa();};this.jK=V;this.addEventListener=this.Pb.addListener;this.removeEventListener=this.Pb.removeListener;this.fireEvent=this.Pb.tc;this.xLa({da:V,va:Ia,kb:ja || ({})},t.config.Iv?this.pd.CB(V):void 0,T);this.log=E.Ih(this);this.Eha=$a(this);this.umb=Ca(this);this.mg=K.createElement("DIV",p.fba,void 0,{id:this.K});this.QDb();fc=La(F.Wg(1));this.Qc=this.log.Pga("Playback");this.FMb=d.cEa(this);y.qI.jJb=this;y.qI.Tia || (y.qI.Tia=this);this.Qc.info("Playback created",this.Kh);this.$ma?this.Qc.info("Playback selected for trace playback info logging"):this.Qc.trace("Playback not selected for trace playback info logging");t.config.Iv && (this.pd.sCb(this.K),this.addEventListener(N.W.ot,function(){ub.pd.tCb(ub.K);ub.Nc.addListener(function(){ub.pd.RUa();});ub.Bd.addListener(function(){ub.pd.RUa();});}),this.addEventListener(N.W.dg,function(){ub.pd.rCb(ub.K);}));this.state.addListener(function(nb){ub.Qc.info("Playback state changed",{From:nb.oldValue,To:nb.newValue});G.gb(nb.newValue > nb.oldValue);});x.lf.addListener(x.Jm,this.VZa,p.dZ);this.mediaTime.addListener(function(){ub.dxb();fc.ol(function(){return ub.QRa();});});this.ac.addListener(function(nb){ub.Qc.info("PresentingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:I.Vh(ub.mediaTime.value)},ub.dt());});this.ac.addListener(function(){ub.Hv.set(ub.ac.value === N.Bb.yc);});this.hf.addListener(function(nb){ub.Qc.info("BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:I.Vh(ub.mediaTime.value)},ub.dt());});this.Cq.addListener(function(nb){ub.Qc.info("AV BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:I.Vh(ub.mediaTime.value)},ub.dt());});this.bm.addListener(function(nb){ub.Qc.info("Text BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:I.Vh(ub.mediaTime.value)},ub.dt());});this.Bd.addListener(function(nb){G.gb(nb.newValue);ub.Qc.info("AudioTrack changed",nb.newValue && ({ToBcp47:nb.newValue.wm,To:nb.newValue.trackId}),nb.oldValue && ({FromBcp47:nb.oldValue.wm,From:nb.oldValue.trackId}),{MediaTime:I.Vh(ub.mediaTime.value)});});this.Nc.addListener(function(nb){ub.Qc.info("TimedTextTrack changed",nb.newValue?{ToBcp47:nb.newValue.wm,To:nb.newValue.trackId}:{To:"none"},nb.oldValue?{FromBcp47:nb.oldValue.wm,From:nb.oldValue.trackId}:{From:"none"},{MediaTime:I.Vh(ub.mediaTime.value)});});this.Pc[k.ic.Za.Tb]=new u.Ec(null);this.Pc[k.ic.Za.Hb]=new u.Ec(null);this.ac.addListener(ac,p.ED);this.ac.addListener(ec);this.addEventListener(N.W.ot,function(){ub.a4a=!0;ub.V3a=ub.Ifa();ub.Od("start");ub.b4=ub.Sf.value.stream.bitrate;});C.kEa(this);y.Bo.push(this);t.config.XV && (this.t6=this.wpa(this),this.u6=new B.vEa(this));y.Raa.forEach(function(nb){nb(ub);});this.Akb=function(){ub.addEventListener(N.W.EG,function(nb){var Rb;nb=nb.cause;nb !== N.Jd.yw && nb !== N.Jd.HD && (null === (Rb=ub.Ma) || void 0 === Rb?void 0:Rb.stop());});ub.addEventListener(N.W.Zl,function(nb){var Rb,hc,Lc,qc,cc,Ec,Mc,uc,rd,sd;ub.M1a.Zl(nb);Lc=nb.cause;qc=nb.skip;cc=nb.N5;Ec=nb.Moa;Mc=nb.K;uc=nb.Aj;ub.fa.ao.XJb(Ec,cc);if(Lc !== N.Jd.HD && (t.config.nxb && Lc === N.Jd.xI && ub.Ma.X0(),Lc !== N.Jd.yw))if(qc){if(null !== (Rb=ub.Ma) && void 0 !== Rb && Rb.bi(cc)){ub.Qc.trace("Repositioned. Skipping from " + Ec + " to " + cc);nb=function(Ub){ub.log.error("streamingSession.skipped threw an exception",Ub);Ub=da.$c.hja(D.L.q7a,Ub);ub.Ip(Ub.code,Ub);};try{ub.Ma.dn(cc).then(function(Ub){var Fc;Ub.vL || (null === (Fc=ub.Ma) || void 0 === Fc?void 0:Fc.play());}).catch(nb);}catch(Ub){nb(Ub);}}else ub.log.error("can skip returned false");}else {ub.Qc.trace("Repositioned. Seeking from " + Ec + " to " + cc);try{rd=ub.xb.l3(ub.fa);sd=Object.keys(rd.Ca).find(function(Ub){var Fc;Ub=rd.Ca[Ub];return Ub.da === Mc && Ub.xc <= uc && (null !== (Fc=Ub.Yc) && void 0 !== Fc?Fc:Infinity) > uc;});null === (hc=ub.Ma) || void 0 === hc?void 0:hc.nr(uc,sd);}catch(Ub){ub.log.error("streamingSession.seekByContentPts threw an exception",Ub);cc=da.$c.hja(D.L.o7a,Ub);ub.Ip(cc.code,cc);}}});};this.playbackRate.addListener(function(){var nb,Rb;if(null === (nb=ub.Ma) || void 0 === nb?0:nb.dh)null === (Rb=ub.Ma) || void 0 === Rb?void 0:Rb.ypa();});this.addEventListener(N.W.Bx,function(nb){var Rb;nb.cause == y.Naa && (ub.hf.set(N.$e.Sc),null === (Rb=ub.Ma) || void 0 === Rb?void 0:Rb.zr(ub.Cg.cTa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;f=a(1);k=a(53);l=a(273);d=a(275);g=a(117);h=a(494);m=a(1095);n=a(1096);r=a(497);p=a(12);u=a(105);t=a(13);w=a(72);v=a(498);x=a(63);y=a(62);z=a(100);B=a(500);A=a(1099);C=a(504);E=a(7);F=a(5);D=a(3);G=a(21);I=a(86);J=a(24);H=a(61);M=a(17);O=a(155);L=a(505);P=a(122);R=a(280);K=a(29);Q=a(119);N=a(18);da=a(42);na=a(276);va=a(514);ra=a(142);X=a(474);ta=a(1127);za=a(73);c.prototype.Od=function(V,T){var ja;T=void 0 === T?this.jK:T;null === (ja=this.Hp.get(T)) || void 0 === ja?void 0:ja.Od(V);};c.prototype.uy=function(V){this.fa.uy(V);};c.prototype.QDb=function(){var V;V=this;this.Bd.addListener(function(T){return V.fa.Bd.set(T.newValue);});this.Qh.addListener(function(T){return V.fa.Qh.set(T.newValue);});this.Nc.addListener(function(T){return V.fa.Nc.set(T.newValue);});this.Rk.addListener(function(T){return V.fa.Rk.set(T.newValue);});this.Qt.addListener(function(T){return V.fa.Qt.set(T.newValue);});this.Xf.addListener(function(T){return V.fa.Xf.set(T.newValue);});this.dk.addListener(function(T){return V.fa.dk.set(T.newValue);});this.Sf.addListener(function(T){return V.fa.Sf.set(T.newValue);});this.Ug.addListener(function(T){return V.fa.Ug.set(T.newValue);});this.mediaTime.addListener(function(T){return V.fa.mediaTime.set(T.newValue);});this.playbackRate.addListener(function(T){return V.fa.playbackRate.set(T.newValue);});this.l2a();};c.prototype.l2a=function(){this.fa !== this.Fra && (this.fa.mediaTime.set(this.mediaTime.value),this.fa.playbackRate.set(this.playbackRate.value),this.Tt(function(V){return V.Bd;},this.Fta),this.Tt(function(V){return V.Qh;},this.RWb),this.Tt(function(V){return V.Qt;},this.NWb),this.Tt(function(V){return V.Nc;},this.OWb),this.Tt(function(V){return V.Rk;},this.rWb),this.Tt(function(V){return V.Xf;},this.QWb),this.Tt(function(V){return V.dk;},this.sWb),this.Tt(function(V){return V.Ug;},this.EWb),this.Tt(function(V){return V.Sf;},this.FWb),this.Tt(function(V){return V.mediaTime;},this.AWb),this.Tt(function(V){return V.playbackRate;},this.A8),this.Nc.set(this.fa.Nc.value),this.Bd.set(this.fa.Bd.value,{TLa:!0}),this.Qh.set(this.fa.Qh.value),this.Rk.set(this.fa.Rk.value),this.Qt.set(this.fa.Qt.value),this.Xf.set(this.fa.Xf.value),this.dk.set(this.fa.dk.value),this.Fra=this.fa);};c.prototype.Tt=function(V,T){this.Fra && V(this.Fra).removeListener(T);V(this.fa).addListener(T);};c.prototype.load=function(V){var T,ja;T=this;this.load=function(){};this.r0a=V;if(this.state.value == N.Gb.kI){this.Qc.info("Playback loading",this);this.SJb();this.Od("asl_load_start");V=this.PJ;ja=V.endTime;M.Hc(V.startTime)?M.Hc(ja)?this.Od("asl_ended"):this.Od("asl_in_progress"):this.Od("asl_not_started");this.PJ.pU(function(Ia){T.Od("asl_load_complete");Ia.X?T.Brb():T.Ip(Ia.errorCode || D.L.xza,Ia);});}};c.prototype.eNb=function(){var V;try{if(this.state.value === N.Gb.LOADING){V={width:1,height:1,Aea:1};this.DF().forEach(function(T){V.width * V.height < T.width * T.height && (V.width=T.width,V.height=T.height,V.Aea=T.Aea);});this.Lz=V;this.NE=this.ME.Qkb({wH:F.uc(this.Z),K:this.K,s6:this.Lx,kb:this.kb}).ea(F.ma);this.Mea();this.Bsb();}}catch(T){this.Ip(D.L.Fab,{oa:D.M.fj,sb:J.vd(T)});}};c.prototype.mG=function(){var V,T;T=this.xb.l3(this);this.hPa(T);null === (V=this.Ma) || void 0 === V?void 0:V.gX(T);};c.prototype.xLa=function(V,T,ja){var Ia,wa,Sa,Ua;T=void 0 === T?this.HF.lB():T;ja=void 0 === ja?this.Pa.Zb():ja;wa=! !t.config.B6a && !(T % t.config.B6a);Sa=V.da;Ua=V.va;V=V.kb;this.Hp.has(Sa)?this.Hp.get(Sa):(T=this.zpa(y.qI.index++,Sa,Ua,V,T,ja,wa,this.fa,this.qka),this.Hp.set(Sa,T),1 < this.Hp.size && (T.rU=this.V4.create(this,T,!1)),T.VL=new z.aCa(this,T),null === (Ia=this.Ma) || void 0 === Ia?void 0:Ia.eS(T.va,{sessionId:T.K + "-" + T.ba,ba:T.ba,Dv:T.Bj}));};c.prototype.eL=function(V){if(!this.Hp.has(V))throw Error("Playback segment not found: " + V);return this.Hp.get(V);};c.prototype.Qq=function(V){var T;V=this.xb.Me(V);return null !== (T=this.Hp.get(null === V || void 0 === V?void 0:V.da)) && void 0 !== T?T:this.fa;};c.prototype.RAb=function(V){for(var T,ja,Ia=aa(this.xV),wa=Ia.next();!wa.done;wa=Ia.next()){if((wa=wa.value,(null === (ja=null === (T=wa.we) || void 0 === T?void 0:T.tb) || void 0 === ja?void 0:ja.sessionId) === V))return wa;}return this.fa;};c.prototype.yOb=function(V){var T,ja;T=this;ja=V.K;this.Uj.VRb(ja);return this.G2a(V).then(function(Ia){var wa;if(null === (wa=T.Ma) || void 0 === wa || !wa.dh)throw new da.$c(D.L.Hcb,D.M.h7a);T.I0a(Ia,V);return (V.XB?T.Ib.Mi.N1a(V):Promise.resolve()).then(function(){return T.Uj.Y2a(ja);});}).catch(function(Ia){T.log.error("queueManifest failed",Ia);T.Uj.URb(ja,Ia);throw T.Xm(Ia.code,Ia);});};c.prototype.pyb=function(){if(M.xa(this.bd.ats) && M.xa(this.bd.at))return this.bd.at - this.bd.ats;};c.prototype.ySa=function(){var V,T;V=this.nX();T=this.sR();return Math.min(V,T);};c.prototype.BW=function(){this.background || (this.Qc.info("Starting inactivity monitor for movie " + this.K),new v.Tza(this));};c.prototype.close=function(V){V && (this.state.value == N.Gb.CLOSED?V():this.addEventListener(N.W.closed,function(){V();}));this.tsa();};c.prototype.Ld=function(V,T,ja){V=this.Xm(V,T,ja);this.aK(V,void 0);};c.prototype.aK=function(V,T){var ja,Ia,wa,Sa;ja=this;if(this.state.value == N.Gb.kI)this.Zk || (this.Zk=V,this.load());else {T && (this.state.value == N.Gb.CLOSED?T():this.addEventListener(N.W.closed,function(){T();}));Ia=function(){ja.tsa(V);};wa=t.config.RPa && V && t.config.RPa[V.errorCode];Sa=-1;M.Dy(wa) && (Sa=J.pe(wa));this.Qc.error("Fatal playback error",{Error:"" + V,HandleDelay:"" + wa});0 <= Sa?setTimeout(Ia,Sa):Ia();}};c.prototype.dX=function(){this.Pb.tc(N.W.dX);};c.prototype.TA=function(V){var T;T=void 0 === T?this.va:T;this.q0a.push(this.Pa.Zb().ea(F.ma) + "-" + T + "-" + V);};c.prototype.oxb=function(){this.QRa();};c.prototype.eka=function(){var V;if(null === (V=this.Ma) || void 0 === V?0:V.dh)if((V=this.Ma.vp().id,void 0 !== V))return V;return null;};c.prototype.BB=function(){var V,T;T=null === (V=this.Ma) || void 0 === V?void 0:V.dh;return void 0 === this.fa.t1 || T?this.qka(this.mediaTime.value):this.fa.t1;};c.prototype.dka=function(){var V;V=this.qka(this.Cg.cTa());return null === V?null:Math.min(this.Lx.ea(F.ma),Math.max(0,V));};c.prototype.jT=function(){var V,T;return null === (T=null === (V=this.sa) || void 0 === V?void 0:V.Wc.ym) || void 0 === T?void 0:T.Ca;};c.prototype.DWb=function(V){this.kb=P.Sna(this.kb,V);this.Mea();};c.prototype.kyb=function(){return this.Bd.value?this.Bd.value.streams:[];};c.prototype.DF=function(V){V=void 0 === V?this.K:V;return (V=this.eL(V).Qh) && V.value?V.value.streams:[];};c.prototype.zCb=function(V){for(var T=aa(this.xV),ja=T.next();!ja.done;ja=T.next()){if(ja=(ja=ja.value.Uk) && ja.find(function(Ia){return Ia.id === V;}))return ja;}};c.prototype.sNb=function(V){V=void 0 === V?this.fa:V;V.Nc.value?this.Yp.pNb(V.Nc.value):Promise.resolve();};c.prototype.SUa=function(V){for(var T=aa(this.xV),ja=T.next();!ja.done;ja=T.next()){ja=aa(ja.value.Yo);for(var Ia=ja.next();!Ia.done;Ia=ja.next()){if(Ia=Ia.value.streams.find(function(wa){return wa.Dd === V;}))return Ia;}}};c.prototype.aVa=function(V){for(var T=aa(this.xV),ja=T.next();!ja.done;ja=T.next()){ja=aa(ja.value.so);for(var Ia=ja.next();!Ia.done;Ia=ja.next()){if(Ia=(Ia=Ia.value) && Ia.streams.find(function(wa){return wa.Dd === V;}))return Ia;}}};c.prototype.ws=function(){var V,T,ja;return null !== (ja=null === (T=null === (V=this.u6) || void 0 === V?void 0:V.bS) || void 0 === T?void 0:T.call(V)) && void 0 !== ja?ja:this.Lrb().vB;};c.prototype.o3a=function(V){var T,ja;null !== (T=this.Ma) && void 0 !== T && T.dh && this.Hp.has(V) && ((null === (ja=this.u6) || void 0 === ja?0:ja.bS)?this.u6.O5a():(T=this.Vga(V),this.Ma.Qp(T,V)));};c.prototype.nFb=function(){return "trailer" === this.Zd;};c.prototype.vEb=function(){return ! !this.Zd && 0 <= this.Zd.indexOf("billboard");};c.prototype.sFb=function(){return ! !this.Zd && 0 <= this.Zd.indexOf("video-merch");};c.prototype.PEb=function(){return ! !this.Zd && 0 <= this.Zd.indexOf("mini-modal");};c.prototype.WB=function(){return this.nFb() || this.vEb() || this.sFb() || this.PEb();};c.prototype.Aja=function(){var wa,Sa,Ua;if(this.so){for(var V,T=0;T < this.so.length;T++){for(var ja=this.so[T],Ia=0;Ia < ja.streams.length;Ia++){wa=ja.streams[Ia];if(M.xa(wa.Wga) && M.xa(wa.D1) && M.xa(wa.C1) && M.xa(wa.B1) && (0 < wa.Wga || 0 < wa.D1)){Sa=1;Ua=1;M.xa(wa.a0a) && M.xa(wa.b0a) && (Sa=wa.a0a,Ua=wa.b0a);wa=wa.B1 * Ua / (wa.C1 * Sa);V=M.xa(V)?Math.min(V,wa):wa;}}}return V;}};c.prototype.iBb=function(){return {tr:this.ita,rt:this.hra};};c.prototype.my=function(V){return this.Gj[V];};c.prototype.onb=function(){return this.dm?this.Pa.Zb().ea(F.ma) - this.dm:this.wa.Ue.ea(F.ma) - this.M2();};c.prototype.Ifa=function(){var V;if(this.dm)return this.Pa.Zb().ea(F.ma) - this.dm;V=this.Pa.TF;return this.i0a - (this.Wl.ea(F.ma) + V.ea(F.ma));};c.prototype.Anb=function(){return this.dm?this.Pa.Zb().ea(F.ma) - this.dm:this.i0a - this.M2();};c.prototype.MJb=function(V){var T,ja;T=this.loadTime;ja={};J.de(V,function(Ia,wa){ja[Ia]=wa.map(function(Sa){return Sa - T;});});return ja;};c.prototype.zyb=function(){var V,T;V=this.loadTime;T={};J.de(this.mfa,function(ja,Ia){T[ja]=Ia.map(function(wa){return wa - V;});});return h.Pu?{level:h.Pu.wTa(),charging:h.Pu.yja(),statuses:T}:null;};c.prototype.u3=function(){this.PRa();return this.pX;};c.prototype.M2=function(){var V;V=this.kb.x8;V=M.xa(V)?V:this.Wl.ea(F.ma) + this.Pa.TF.ea(F.ma);G.gb(M.Cy(V));return V;};c.prototype.kka=function(){return this.Pa.Zb().ea(F.ma) - this.Wl.ea(F.ma);};c.prototype.p3a=function(V,T){this.pX[V]=T;};c.prototype.cYb=function(){this.$Sb=!0;};c.prototype.V5=function(){this.w1a();};c.prototype.nX=function(){var V;V=this.F0();return V && V.vbuflmsec || 0;};c.prototype.sR=function(){var V;V=this.F0();return V && V.abuflmsec || 0;};c.prototype.bua=function(){var V;V=this.F0();return V && V.vbuflbytes || 0;};c.prototype.Wea=function(){var V;V=this.F0();return V && V.abuflbytes || 0;};c.prototype.G2a=function(V){var T,ja,Ia;T=this;V=void 0 === V?this.fa:V;ja=V !== this.fa;Ia=t.config.N6.enabled?Q.Xj.nFa:ja?Q.Xj.GD:this.WB()?Q.Xj.xZ:Q.Xj.Co;ja=this.WB()?void 0:this.Ib.Mi.c3(ja);return this.el.sT({ba:V.ba,kb:V.kb,da:V.K,fv:Ia,Qf:ja}).then(function(wa){wa.nWa && T.fireEvent(N.W.LL,{K:V.K});return wa;});};c.prototype.I0a=function(V,T){T=void 0 === T?this.fa:T;T.sa=V;V=this.sna.create(this).ULb(V);T.Mc=V;T.Qh.set(V.qha);T.Bd.set(V.lS);T.Nc.set(V.pha);};c.prototype.wxb=function(V){this.OG(V,!1);};c.prototype.UUa=function(V,T){if(!this.kl.Xta)return !0;V=this.qt.ea(F.ma) - V;return 0 > V || V > T;};c.prototype.AQb=function(){this.Cg.seek(this.BB() || 0,N.Jd.tY);};c.prototype.OG=function(V,T){var ja,Ia;if(this.IM){if(V === this.jK){this.IM=V;return;}ja=this.eL(V);Ia=ja.sa;Ia && M.Hc(Ia.FG) && M.Hc(Ia.XM) && ja.uy({pr_ats:Ia.FG,pr_at:Ia.XM});this.fireEvent(N.W.OL,{K:this.jK});this.jK=V;this.Mea();T || this.l2a();this.sL=this.wa.x7;this.fa.dm || (this.fa.dm=this.Pa.Zb().ea(F.ma));}("boolean" === typeof this.kb.BK?this.kb.BK:t.config.BK) && !T && this.qta.BK(this);T={K:V,r4:T,IM:this.IM};this.IM=V;this.fireEvent(N.W.sv,T);};c.prototype.Brb=function(){try{this.Ib=new m.PBa(this);this.$R=new na.Fwa(this);this.rU=this.V4.create(this,this.fa,!0);t.config.Unb && new va.tya(this,this.Ql,this.log);t.config.OR && this.OR(this);this.BXb();}catch(V){this.Ip(D.L.Eab,{oa:D.M.fj,sb:J.vd(V)});}};c.prototype.BXb=function(){this.Zk?this.aK(this.Zk):M.fma(this.K)?this.rob():this.Ip(D.L.qab,{sb:"" + this.K});};c.prototype.rob=function(){var V;V=l.cH.Q2a;V?V.X?this.nga():this.Ip(D.L.Pza,V):(G.gb(!t.config.g2),this.hea());};c.prototype.nga=function(){var V;V=this;!this.background && t.config.nga?y.Qaa(function(){V.hea();},this):this.hea();};c.prototype.hea=function(){var V;V=this;this.state.value == N.Gb.LOADING && (t.config.gia && !this.WB()?l.cH.nx(y.jEa,function(T){T.X?(V.T4=T.T4,t.config.u7?V.AR():V.Lra()):V.Ip(D.L.Oza);},!0):t.config.u7?this.AR():this.Lra());};c.prototype.Lra=function(){var V;V=this;this.state.value == N.Gb.LOADING && (this.Od("ic"),this.FMb.vRb(function(T){T.error && V.log.error("Error sending persisted playdata",D.Lr(T));try{V.AR();}catch(ja){V.log.error("playback.authorize threw an exception",ja);V.Ip(D.L.A7a,{oa:D.M.fj,sb:J.vd(ja)});}}));};c.prototype.AR=function(){var V,T;V=this;if(this.state.value == N.Gb.LOADING){this.log.info("Authorizing",this);T=this.Pa.Zb().ea(F.ma);this.Od("ats");this.$R.AR(function(ja){var Ia;if(V.state.value == N.Gb.LOADING){V.Od("at");Ia=V.sa;V.uy({pr_ats:Ia && M.Hc(Ia.FG)?Ia.FG:T,pr_at:Ia && M.Hc(Ia.XM)?Ia.XM:V.Pa.Zb().ea(F.ma)});ja.X?0 < V.Mc.Uk.length && V.Mc.lS && V.Mc.qha && V.Mc.pha?V.eOb():V.Ip(D.L.kbb,V.tna(V.Mc)):V.Ip(D.L.V$,ja);}});}};c.prototype.eOb=function(){var V;V=this;this.r0a?(this.log.info("Processing post-authorize",this),this.r0a(this,function(T){T.X?V.S5a():V.Ip(D.L.Jab,T);})):this.S5a();};c.prototype.S5a=function(){var V,T;f.__awaiter(this,void 0,void 0,function Ia(){var wa;wa=this;return Ha(Ia,function(Sa){if(wa.state.value != N.Gb.LOADING)return Sa.return();(null === (V=wa.fa.sa) || void 0 === V?0:V.Wc.ym) && wa.xb.reset(za.gB(null === (T=wa.fa.sa) || void 0 === T?void 0:T.Wc.ym,{config:t.config}));wa.Ma=wa.Pea(wa.xb,wa);wa.Ma.BSb({Dl:g.Dl,config:t.config,te:wa.te,Qc:wa.Qc,dt:wa.dt.bind(wa),ii:E.ii,oW:wa.oW.bind(wa),OG:wa.OG.bind(wa)});wa.eNb();Sa.iG=0;});});};c.prototype.Bsb=function(){var V,T,ja,Ia,wa,Sa;V=this;try{if(this.state.value === N.Gb.LOADING){this.Ib.open();T=new Promise(function(Ua){V.Ib.addEventListener(R.jj.Q3a,Ua);});this.Cg=new L.UBa(this);ja=this.Mc.lS.po === ra.rq.NONE;Ia={yg:!1,SN:t.config.SN,D8:t.config.e2,tU:!1,Gi:!this.XB,DM:! !this.kb.x4,Aa:this.kb.Aa,UC:this.Mc.lS.AL || ja};wa={sG:this.log,Mm:this.Mm,sessionId:this.K + "-" + this.ba,ba:this.ba,Dv:this.Bj,gi:O.ei?O.ei.gi:void 0,Kq:this.kub(),gs:this.gs()};this.NQa=! !wa.Kq;try{if(this.state.value !== N.Gb.LOADING)return;Sa=this.Ma;Sa.c4({flags:Ia,Vu:wa,va:this.xb.Yta?this.xb.Fh:this.fa.va,Vga:this.Vga.bind(this)});this.hPa(this.xb.l3(this));this.Akb();Sa.Hmb({Gj:this.Gj,loadTime:this.loadTime});}catch(Ua){throw (this.log.error("Failed to initialize ASE streaming",{error:Ua,startPts:this.Z,flags:Ia}),Ua);}T.then(function(){var Ua;V.state.value !== N.Gb.CLOSING && V.state.value !== N.Gb.CLOSED && (null === (Ua=V.Ma) || void 0 === Ua?void 0:Ua.open());});this.mediaTime.set(this.Z);this.Yp=new n.gHa(this);if("boolean" === typeof this.kb.W6?this.kb.W6:t.config.W6)this.TW=new A.hHa(this);this.BW();y.Saa.forEach(function(Ua){Ua(V);});this.RJb();}}catch(Ua){this.Ip(D.L.Gab,{oa:D.M.fj,sb:J.vd(Ua)});}};c.prototype.SJb=function(){G.gb(this.state.value == N.Gb.kI);this.loadTime=this.Pa.Zb().ea(F.ma);this.state.set(N.Gb.LOADING);};c.prototype.Ip=function(V,T){this.done || (this.done=!0,T instanceof da.$c?this.Ld(T.code,T):this.Ld(V,T));};c.prototype.OR=function(V){var ja,Ia;function T(){var wa,Sa;wa=h.Pu.yja() + "";Sa=V.mfa[wa];Sa || (Sa=V.mfa[wa]=[]);Sa.push(ja.Pa.Zb().ea(F.ma));ja.log.trace("charging change event",{level:h.Pu.wTa(),charging:h.Pu.yja()});}ja=this;Ia=h.Pu.D8a;h.Pu.addEventListener(Ia,T);V.addEventListener(N.W.dg,function(){h.Pu.removeEventListener(Ia,T);});};c.prototype.tsa=function(V){var T,ja;T=this;if(this.state.value == N.Gb.kI || this.state.value == N.Gb.LOADING || this.state.value == N.Gb.$d){this.Qc.info("Playback closing",this,V?{ErrorCode:V.S1}:void 0);this.TA("Closing");x.lf.removeListener(x.Jm,this.VZa);this.Zk=V;this.fa.t1=this.BB();this.PRa();(null === (ja=this.Ma) || void 0 === ja?0:ja.dh) && this.Ma.flush();try{this.Pb.tc(N.W.dg,{movieId:this.jK});}catch(Ia){this.Qc.error("Unable to fire playback closing event",Ia);}this.state.set(N.Gb.CLOSING);this.n7a();this.$Sb || H.fg(function(){return T.w1a();});}};c.prototype.dxb=function(){this.Pb.tc(N.W.M5a);};c.prototype.QRa=function(){var V;V=this.mediaTime.value;this.bGb != V && (!1,this.bGb=V,this.Pb.tc(N.W.Ysa));};c.prototype.w1a=function(){var V,T;V=this;G.gb(this.state.value == N.Gb.CLOSING);T=this.T4;this.T4=void 0;T?l.cH.release(T,function(ja){G.gb(ja.X);V.tga();}):this.tga();};c.prototype.n7a=function(){var V;null === (V=this.Ma) || void 0 === V?void 0:V.Ic();delete this.Ma;delete this.M7b;delete this.L7b;};c.prototype.tga=function(){var V;this.tga=p.kj;G.gb(this.state.value == N.Gb.CLOSING);V=y.Bo.indexOf(this);G.gb(0 <= V);y.Bo.splice(V,1);this.state.set(N.Gb.CLOSED);this.Pb.tc(N.W.closed,void 0,!0);this.Pb.kh();delete this.we;this.fa.V5();};c.prototype.Mea=function(){this.kb.playbackState && ("number" === typeof this.kb.playbackState.volume && this.volume.set(I.yo(this.kb.playbackState.volume,0,1)),"boolean" === typeof this.kb.playbackState.muted && this.muted.set(this.kb.playbackState.muted),"number" === typeof this.kb.playbackState.playbackRate && this.playbackRate.set(this.kb.playbackState.playbackRate));};c.prototype.PRa=function(){this.Pb.tc(N.W.A3a,{pX:this.pX});};c.prototype.oW=function(V,T){var ja;ja=this.Uk.filter(function(Ia){return Ia.id === V;})[0];ja && this.Pc[T].set(ja);};c.prototype.dt=function(){return {AudioBufferLength:this.sR(),VideoBufferLength:this.nX()};};c.prototype.F0=function(){var V;if(null === (V=this.Ma) || void 0 === V?0:V.dh)return this.Ma.h4(!1);};c.prototype.RJb=function(){this.state.value == N.Gb.LOADING && this.state.set(N.Gb.$d);};c.prototype.Lrb=function(){var V,T,ja;V=void 0 === V?this.K:V;T=this.DF(V);ja=this.eL(V);return X.ws(T,function(Ia){return ja.VL.Mt(Ia);});};c.prototype.Vga=function(V){var T,ja;V=void 0 === V?this.K:V;T=this.DF(V);ja=this.eL(V);return X.Jka(T,function(Ia){return ja.VL.Mt(Ia);});};c.prototype.gs=function(V){V=void 0 === V?this.fa:V;return !(0 === t.config.WA || 0 !== V.ba % t.config.WA);};c.prototype.kub=function(){var V;V=void 0 === V?this.fa:V;return this.gs(V) || !(0 === t.config.vS || 0 !== V.ba % t.config.vS);};c.prototype.hPa=function(V){var T;T=this;Object.keys(V.Ca).filter(function(ja){return !T.Hp.has(T.xb.Me(ja).da);}).forEach(function(ja){var Ia,wa,Sa;wa=T.xb.Me(ja);Sa=wa.da;wa=Object.assign(null !== (Ia=T.Uj.kL(Sa).Fb) && void 0 !== Ia?Ia:{},{Z:wa.xc,Aa:wa.Yc,Ol:!1,x8:Date.now(),x4:!0});T.xLa({da:Sa,va:ja,kb:wa});});};Xa.Object.defineProperties(c.prototype,{xV:{configurable:!0,enumerable:!0,get:function(){return this.Hp.values();}},fa:{configurable:!0,enumerable:!0,get:function(){return this.Hp.get(this.jK);}},gFb:{configurable:!0,enumerable:!0,get:function(){return 1 === this.Hp.size;}},Z:{configurable:!0,enumerable:!0,get:function(){var V,T;return void 0 !== this.NE?this.NE:null !== (T=null === (V=this.xV.next()) || void 0 === V?void 0:V.value.kb.Z) && void 0 !== T?T:0;}},Mc:{configurable:!0,enumerable:!0,get:function(){return this.fa.Mc;},set:function(V){this.fa.Mc=V;}},D2:{configurable:!0,enumerable:!0,get:function(){return this.fa.kb.D2;}},E2:{configurable:!0,enumerable:!0,get:function(){return this.fa.kb.E2;}},index:{configurable:!0,enumerable:!0,get:function(){return this.fa.index;}},va:{configurable:!0,enumerable:!0,get:function(){return this.fa.va;}},we:{configurable:!0,enumerable:!0,get:function(){return this.fa.we;},set:function(V){this.fa.we=V;}},dm:{configurable:!0,enumerable:!0,get:function(){return this.fa.dm;},set:function(V){this.fa.dm=V;}},RE:{configurable:!0,enumerable:!0,get:function(){return this.fa.RE;},set:function(V){this.fa.RE=V;}},QE:{configurable:!0,enumerable:!0,get:function(){return this.fa.QE;},set:function(V){this.fa.QE=V;}},b4:{configurable:!0,enumerable:!0,get:function(){return this.fa.b4;},set:function(V){this.fa.b4=V;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.fa.sa;},set:function(V){this.fa.sa=V;}},NE:{configurable:!0,enumerable:!0,get:function(){return this.fa.NE;},set:function(V){this.fa.NE=V;}},LW:{configurable:!0,enumerable:!0,get:function(){return this.fa.LW;},set:function(V){this.fa.LW=V;}},kb:{configurable:!0,enumerable:!0,get:function(){return this.fa.kb;},set:function(V){this.fa.kb=V;}},rU:{configurable:!0,enumerable:!0,get:function(){return this.fa.rU;},set:function(V){this.fa.rU=V;}},ao:{configurable:!0,enumerable:!0,get:function(){return this.fa.ao;}},K:{configurable:!0,enumerable:!0,get:function(){return this.fa.K;}},Zd:{configurable:!0,enumerable:!0,get:function(){return this.fa.Zd;}},Yo:{configurable:!0,enumerable:!0,get:function(){return this.fa.Yo;}},so:{configurable:!0,enumerable:!0,get:function(){return this.fa.so;}},Dz:{configurable:!0,enumerable:!0,get:function(){return this.fa.Dz;}},cm:{configurable:!0,enumerable:!0,get:function(){return this.fa.cm;}},Ti:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ti;}},XB:{configurable:!0,enumerable:!0,get:function(){return this.fa.XB;}},Bt:{configurable:!0,enumerable:!0,get:function(){return this.fa.Bt;}},Kl:{configurable:!0,enumerable:!0,get:function(){return this.fa.Kl;}},Uk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Uk;}},D6:{configurable:!0,enumerable:!0,get:function(){return this.fa.D6;}},Lx:{configurable:!0,enumerable:!0,get:function(){return this.fa.Lx;},set:function(V){this.fa.Lx=V;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.fa.ba;}},Ek:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ek;}},Wl:{configurable:!0,enumerable:!0,get:function(){return this.fa.Wl;}},sL:{configurable:!0,enumerable:!0,get:function(){return this.fa.sL;},set:function(V){this.fa.sL=V;}},Bj:{configurable:!0,enumerable:!0,get:function(){return this.fa.Bj;}},SG:{configurable:!0,enumerable:!0,get:function(){return this.fa.SG;}},background:{configurable:!0,enumerable:!0,get:function(){return this.fa.background;},set:function(V){this.fa.background=V;}},$ga:{configurable:!0,enumerable:!0,get:function(){return this.fa.$ga;}},bd:{configurable:!0,enumerable:!0,get:function(){return this.fa.bd;}},Zo:{configurable:!0,enumerable:!0,get:function(){return this.fa.Zo;}},Uha:{configurable:!0,enumerable:!0,get:function(){return this.fa.Uha;}},VL:{configurable:!0,enumerable:!0,get:function(){return this.fa.VL;}},Kh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.Ek,Xid:this.ba};}},y6:{configurable:!0,enumerable:!0,get:function(){return this.xb.y6;}}});b.nEa=c;},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.h4a=void 0;c=a(12);f=a(7);k=a(3);a(24);b.h4a=function(l){var d;f.ii("Storage");d={};l({X:!0,storage:{load:function(g,h){var m;if(d.hasOwnProperty(g)){m=d[g];!1;h({X:!0,data:m,P7:g});}else (!1,h({oa:k.M.mA}));},save:function(g,h,m,n){m && d.hasOwnProperty(g)?n({X:!1}):(d[g]=h,!1,n && n({X:!0,P7:g}));},remove:function(g,h){delete d[g];!1;h && h(c.Ee);}}});};},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.f4a=void 0;c=a(7);f=a(78);k=a(28);l=a(492);b.f4a=function(d){c.ha.get(f.Rz).create().then(function(g){d({X:!0,storage:new l.N$(g,c.ha.get(k.Hf))});}).catch(function(g){d(g);});};},function(q,b){function a(c,f){this.Lu=c;this.te=f;}Object.defineProperty(b,"__esModule",{value:!0});b.N$=void 0;a.prototype.load=function(c,f){var k;k=this;this.Lu.load(c).then(function(l){f && f(a.u4a(l));}).catch(function(l){f && f(k.mia(c,l));});};a.prototype.save=function(c,f,k,l){var d;d=this;this.Lu.save(c,f,k).then(function(){l && l(a.u4a({key:c,value:f}));}).catch(function(g){l && l(d.mia(c,g));});};a.prototype.remove=function(c,f){var k;k=this;this.Lu.remove(c).then(function(){f && f({X:!0,P7:c});}).catch(function(l){f && f(k.mia(c,l));});};a.u4a=function(c){return {X:!0,data:c.value,P7:c.key};};a.prototype.mia=function(c,f){return {X:!1,P7:c,oa:f.oa,sb:f.cause?this.te.vd(f.cause):void 0};};b.N$=a;},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.g4a=void 0;c=a(492);f=a(7);k=a(349);l=a(28);b.g4a=function(d){d({X:!0,storage:new c.N$(f.ha.get(k.CAa),f.ha.get(l.Hf))});};},function(q,b,a){var c,f,k,l,d,g,h,m,n,r;Object.defineProperty(b,"__esModule",{value:!0});b.Pu=void 0;c=a(12);f=a(13);q=a(3);k=a(7);l=a(29);d=a(11);g=a(32);h=a(17);m=a(60);n=a(5);a=k.ha.get(g.Zg);r=k.ha.get(m.Gw);a.register(q.L.zza,function(p){var v,x;function u(){p(c.Ee);u=l.kj;}function t(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(z){if(!h.Kc(y[z]))throw z + " is not a function";});}function w(){return Promise.resolve().then(function(){var y;y=d.Qe.getBattery();if(!h.Kc(y.then))throw "getBattery did not return a promise";return y;});}v=k.ii("BatteryManager");b.Pu={D8a:"chargingchange",wTa:function(){return x?x.level:null;},yja:function(){return x?x.charging:null;},addEventListener:function(y,z){x && x.addEventListener(y,z);},removeEventListener:function(y,z){x && x.removeEventListener(y,z);}};f.config.OR && h.Kc(d.Qe.getBattery)?r.Op(n.uc(f.config.yyb),w()).then(function(y){t(y);x=y;}).catch(function(y){v.error("getBattery failed",y);}).then(u):u();});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.wAa="LicenseBrokerFactorySymbol";},function(q,b){function a(c,f){var k;k=this;this.JTa=c;this.TZa=f;this.dta=!1;this.pM=function(){k.mo=void 0;k.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.iHa=void 0;a.prototype.update=function(c){var f,k,l,d,g;l=this.JTa();if(this.f6a !== l){d=null === (k=null === (f=this.Wn) || void 0 === f?void 0:f.tF(l)) || void 0 === k?void 0:k[0];if(d && ("startTime" in d))if(d.startTime <= l && l <= d.endTime){g=d;this.X5a(d.endTime - l);}else this.X5a(d.startTime - l);this.f6a=l;this.jea !== g && (this.jea=g,!c && this.TZa && this.TZa());}};a.prototype.start=function(){this.dta=!0;this.update();};a.prototype.c3a=function(c){this.Wn=c;this.jea=this.f6a=void 0;c || this.stop();};a.prototype.stop=function(){this.dta=!1;this.Vp();};a.prototype.cyb=function(){this.update(!0);return this.jea;};a.prototype.X5a=function(c){this.Vp();this.dta && 0 < c && (this.mo=setTimeout(this.pM,c + a.Rbb));};a.prototype.Vp=function(){this.mo && (clearTimeout(this.mo),this.mo=void 0);};b.iHa=a;a.Rbb=10;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.pza=void 0;c=a(18);f=a(71);b.pza=function(k){function l(d){k.fireEvent(c.W.iF,{response:d,K:k.fa.K});}return {download:function(d,g){d.j=k;d=f.Bf.download(d,g);d.lea(l);return d;}};};},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;c=a(13);f=a(51);k=a(3);l=a(499);d=a(11);g=a(17);h=a(18);m=a(7);n=a(165);b.Tza=function(r){var u,t,w,v;function p(){r.state.value !== h.Gb.$d || r.ac.value !== h.Bb.Wh && r.ac.value !== h.Bb.au?t.Vp():t.tB();}u=c.config.eMb;if(!r.WB() && u){t=m.ha.get(n.QP)(u,function(){r.fireEvent(h.W.qL,k.L.eZ);});r.ac.addListener(p);r.state.addListener(p);if(c.config.ula){w=f.Hi();v=new l.vFa(c.config.ula,function(){var x,y;x=f.Hi();y=x - w;y > u && (r.fireEvent(h.W.qL,k.L.KY),v.gOa());y > 2 * c.config.ula && (r.vla=d.ln(y,r.vla || 0));w=x;});v.sSb();}r.addEventListener(h.W.dg,function(){t.Vp();g.Hc(v) && v.gOa();});}};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;b.vFa=function(a,c){var f;this.sSb=function(){f || (f=setInterval(c,a));};this.gOa=function(){f && (clearInterval(f),f=void 0);};};},function(q,b,a){var f,k,l,d,g,h,m;function c(n){var r,p,u,t;r=this;this.j=n;this.bS=void 0;this.uca=l.createElement("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.jca=l.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.$ba=l.createElement("DIV","width:100%;text-align:center");this.Zeb=this.lca("Audio Bitrate");this.$da=this.lca("Video Bitrate");this.cca=this.lca("CDN");this.GQ={};this.w3=d.ha.get(g.gm);this.uca.appendChild(this.jca);this.jca.appendChild(this.$ba);p=l.createElement("BUTTON",void 0,"Override");p.addEventListener("click",this.Seb.bind(this),!1);this.$ba.appendChild(p);p=l.createElement("BUTTON",void 0,"Reset");p.addEventListener("click",this.Yib.bind(this),!1);this.$ba.appendChild(p);u=this.hib.bind(this);k.lf.addListener(k.FB,u);n.addEventListener(m.W.sv,function(){r.GQ={};});n.addEventListener(m.W.dg,function(){k.lf.removeListener(k.FB,u);});t=this.Lib.bind(this);n.Pc.forEach(function(w){w.addListener(t);});n.Bd.addListener(t);n.Qh.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.vEa=void 0;f=a(53);k=a(63);l=a(29);d=a(7);g=a(38);h=a(129);m=a(18);c.prototype.show=function(){this.$Q || (this.zKa(),document.body.appendChild(this.uca),this.$Q=!0);};c.prototype.Tq=function(){this.$Q && (document.body.removeChild(this.uca),this.$Q=!1);};c.prototype.toggle=function(){this.$Q?this.Tq():this.show();};c.prototype.O5a=function(){var p,u,t,w;function n(v,x,y){var z,B,A;B=[];x.filter(function(C){return C.Mg === v;}).forEach(function(C){0 <= y.indexOf(C)?(void 0 === A?A=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== A && void 0 !== z && (B.push({min:A,max:z}),A=z=void 0);});if(void 0 !== A && void 0 !== z){B.push({min:A,max:z});A=z=void 0;}return B;}function r(v,x,y){var z;z=[];x.filter(function(B){return B.Mg === v;}).forEach(function(B){-1 === y.indexOf(B) && z.push({stream:{bitrate:B.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.ws();t=this.j.DF().sort(function(v,x){return v.bitrate - x.bitrate;});w=t.reduce(function(v,x){0 > v.indexOf(x.Mg) && v.push(x.Mg);return v;},[]).map(function(v){return {profile:v,ranges:n(v,t,u),disallowed:r(v,t,u)};});!1;null === (p=this.j.Ma) || void 0 === p?void 0:p.Qp(w,this.j.K);};c.prototype.Seb=function(){var p,u;this.GQ={};for(var n=this.$da.options,r=n.length;r--;){p=n[r];p.selected && (this.GQ[p.value]=1);}this.bS=this.xfb.bind(this);this.O5a();if(n=this.j.Uk){u=this.cca.value;n=n.filter(function(t){return t.id == u;})[0];r=this.j.Pc[f.ic.Za.Hb].value;n && n != r && (n.KNa={testreason:"streammanager",selreason:"userselection"},this.j.Pc[f.ic.Za.Hb].set(n));}this.Tq();};c.prototype.Yib=function(){this.bS=void 0;this.j.o3a(this.j.K);this.Tq();};c.prototype.xfb=function(){var n;n=this;return this.j.DF().filter(function(r){return n.GQ[r.bitrate];});};c.prototype.zKa=function(){var n,r,p,u;n=this;r=this.j.Bd.value;p=this.j.Qh.value;u=this.j.Uk;r && (u=u.slice(),u.sort(function(t,w){return t.Eg - w.Eg;}),this.Jda(this.Zeb,r.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.dk.value};})));p && (this.Jda(this.$da,p.streams.map(function(t){var w,v;w=n.j.VL.Mt(t);t=t.bitrate;v="" + t;w && (v+=" (" + w.join("|") + ")");return {value:t,caption:v,selected:n.bS?n.GQ[t]:!w};})),this.$da.removeAttribute("disabled"));u && (this.Jda(this.cca,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.Pc[f.ic.Za.Hb].value};})),this.cca.removeAttribute("disabled"));};c.prototype.Lib=function(){this.$Q && this.zKa();};c.prototype.lca=function(n){var r,p;r=l.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");n=l.createElement("DIV",void 0,n);p=l.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});r.appendChild(n);r.appendChild(p);this.jca.appendChild(r);return p;};c.prototype.Jda=function(n,r){n.innerHTML="";r.forEach(function(p){var u;u={title:p.caption};p.selected && (u.selected="selected");u=l.createElement("option",void 0,p.caption,u);u.value=p.value;n.appendChild(u);});};c.prototype.hib=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.du.Cdb && this.w3.kma && this.toggle();};b.vEa=c;},function(q,b,a){var f,k,l,d,g;function c(h,m){this.Yia=h;this.lF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Z2a(m);this.WRa=this.Czb(this.Yia);}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;f=a(29);k=a(502);l=a(503);d=a(11);g=a(24);c.prototype.qp=function(){return this.element;};c.prototype.HRb=function(h){this.Rea=h;};c.prototype.RRb=function(h){this.entry=h;this.TM();};c.prototype.YRb=function(h){this.Z2a(h);this.TM();};c.prototype.TM=function(){var h,m,n,r,p,u,t,w,v,x,y,B,A,C;h=this;m=this.qp();n=m.parentElement;r=n && n.clientWidth || 0;p=n && n.clientHeight || 0;u=n=0;t={width:r,height:p};if(0 < r && 0 < p && this.entry){this.Rea && (t=f.NK(r,p,this.Rea),n=Math.round((r - t.width) / 2),u=Math.round((p - t.height) / 2));v=this.Enb(t);x=f.NK(v.width,v.height,this.Rea);v=(w=this.entry.blocks) && w.map(function(E){var F;F=l.iia(E,x,h.Yia,h.WRa);E=l.eRa(E) + ";position:absolute";return f.createElement("div",E,F,c.N9);});}Object.assign(this.lF,{left:n + "px",right:n + "px",top:u + "px",bottom:u + "px"});m.style.display="none";m.style.direction=this.lF.direction;m.innerHTML="";if(v && v.length){r=t.width;n=t.height;y=t;this.GR && (y=this.Zjb(t,this.GR,p,u));this.lF.margin=this.Zq?this.Z0(t,"top") + "px " + this.Z0(t,"right") + "px " + this.Z0(t,"bottom") + "px " + this.Z0(t,"left") + "px ":void 0;v.forEach(function(E){return m.appendChild(E);});p=f.ZE(this.lF);m.style.cssText=p + ";visibility:hidden;z-index:-1";u=[];for(var z=v.length - 1;0 <= z;z--){B=v[z];A=w[z];C=this.wZa(B,A,r,n);C.width > r && (B.innerHTML=l.iia(A,t,this.Yia,this.WRa,r / C.width),C=this.wZa(B,A,r,n));u[z]=C;}u=k.G5a(u,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (t=l.gRa(w,u,Math.round(n / 50),y,t),t=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,t,c.N9),m.insertBefore(t,m.firstChild)));m.style.display="none";for(t=u.length - 1;0 <= t;t--){y=v[t].style;z=l.fRa(w[t].region,u[t],r,n,0);Object.assign(y,z);}m.style.cssText=p;}};c.prototype.csa=function(h){this.GR=h;this.TM();};c.prototype.Bka=function(){return this.GR;};c.prototype.dsa=function(h){this.Zq=h;this.TM();};c.prototype.Cka=function(){return this.Zq;};c.prototype.Dka=function(){return "block" === this.lF.display;};c.prototype.esa=function(h){var m;m=h?"block":"none";this.element.style.display=m;this.lF.display=m;h && this.TM();};c.prototype.Czb=function(h){var m,n;m=this;n={};g.de(h,function(r,p){n[r]=m.lIb(p);});return n;};c.prototype.Z2a=function(h){this.lF.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.Z0=function(h,m){if(this.Zq){if("left" === m || "right" === m)return h.width * (this.Zq[m] || 0);if("top" === m || "bottom" === m)return h.height * (this.Zq[m] || 0);}return 0;};c.prototype.Enb=function(h){return this.Zq?{height:h.height * (1 - (this.Zq.top || 0) - (this.Zq.bottom || 0)),width:h.width * (1 - (this.Zq.left || 0) - (this.Zq.right || 0))}:h;};c.prototype.lIb=function(h){var m;h=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.N9);d.De.body.appendChild(h);m={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.De.body.removeChild(h);return m;};c.prototype.wZa=function(h,m,n,r){var p,u,t,w,v;p=m.region;u=(p.marginTop || 0) * r;t=(p.marginBottom || 0) * r;w=(p.marginLeft || 0) * n;v=(p.marginRight || 0) * n;m=h.clientWidth || 1;h=h.clientHeight || 1;switch(p.verticalAlignment){case "top":r=u;break;case "center":r=(u + r - t - h) / 2;break;default:r=r - t - h;}switch(p.horizontalAlignment){case "left":n=w;break;case "right":n=n - v - m;break;default:n=(w + n - v - m) / 2;}return {top:r,left:n,width:m,height:h};};c.prototype.Zjb=function(h,m,n,r){return {height:n - Math.max(r,m.bottom || 0) - Math.max(r,m.top || 0),width:h.width};};b.fHa=c;c.N9={"class":"player-timedtext-text-container"};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.G5a=void 0;c=a(11);b.G5a=function(f,k){function l(h,m,n){var t,v,x,y,z;if(h && 1 < h.length){for(var r=[],p=[],u=0;u < h.length;u++){r[u]=0;p[u]=0;}t=!1;for(u=0;u < h.length;u++){for(var w=u + 1;w < h.length;w++){v=h[u];x=h[w];if(0 > v.width || 0 > x.width || x.left > v.left + v.width || x.left + x.width < v.left || x.top > v.top + v.height?0:x.top + x.height >= v.top){y=c.ln(v.left,x.left);z=c.ln(v.top,x.top);y={width:c.ln(c.xo(v.left + v.width,x.left + x.width) - y,0),height:c.ln(c.xo(v.top + v.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,v=d(h[u]),x=d(h[w]),z && m || !z && !m))(y=c.ln(y.width / 2,.25),v.x <= x.x?(p[u]-=y,p[w]+=y):(p[w]-=y,p[u]+=y));else if(z && !m || !z && m)(v=c.ln(y.height / 2,.25),r[u]-=v,r[w]+=v);}}for(u=0;u < h.length;u++){if(-.25 > p[u] && 0 <= h[u].left + p[u] || .25 < p[u] && h[u].left + h[u].width + p[u] <= n.width)(h[u].left+=p[u],t=!0);if(-.25 > r[u] && 0 <= h[u].top + r[u] || .25 < r[u] && h[u].top + h[u].height + r[u] <= n.height)(h[u].top+=r[u],t=!0);}return t;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}f=f.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,m){h.forEach(function(n){0 > n.left && n.left + n.width < m.width?n.left+=c.xo(-n.left,m.width - (n.left + n.width)):n.left + n.width > m.width && 0 < n.left && (n.left-=c.xo(n.left + n.width - m.width,n.left));0 > n.top && n.top + n.height < m.height?n.top+=c.xo(-n.top,m.height - (n.top + n.height)):n.top + n.height > m.height && 0 < n.top && (n.top-=c.xo(n.top + n.height - m.height,n.top));});})(f,k);for(var g=0;50 > g && l(f,!0,k);g++){;}for(g=0;50 > g && l(f,!1,k);g++){;}return f;};},function(q,b,a){var g,h,m;function c(n,r,p,u,t){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (p - r.left - r.width - t) / p + "%":w.left=100 * (r.left - t) / p + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (u - r.top - r.height - t) / u + "%":w.top=100 * (r.top - t) / u + "%";return w;}function f(n,r){var p;if(n && r){40 === r.x && 19 === r.y?p=4 / 3 / (40 / 19):52 === r.x && 19 === r.y && (p=16 / 9 / (52 / 19));if(p)return n.width / n.fontSize / p;}}function k(n,r,p,u,t){var w,v;w=n.style;v=h.QT(n.text);for(n=n.lineBreaks;n--;){v="<br />" + v;}return l(v,w,r,p,u,t);}function l(n,r,p,u,t,w){var v;v=r.characterStyle;t=t[v];v=0 <= v.indexOf("MONOSPACE")?f(t,r.cellResolution) || t.lineHeight:t.lineHeight;u=r.characterSize * u.height / (v || 1);u=0 < w?m.Aw(u * w):m.yi(u);w={"font-size":u + "px","line-height":"normal","font-weight":"normal"};r.characterItalic && (w["font-style"]="italic");r.characterUnderline && (w["text-decoration"]="underline");r.characterColor && (w.color=r.characterColor);r.backgroundColor && 0 !== r.backgroundOpacity && (w["background-color"]=d(r.backgroundColor,r.backgroundOpacity));u=r.characterEdgeColor || "#000000";switch(r.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=u + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + u + ",0px 1px " + u + ",1px 0px " + u + ",0px -1px " + u;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=g.ZE(w);(p=p[r.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + p);r=r.characterOpacity;0 < r && 1 > r && (n='<span style="opacity:' + r + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,r){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== r?r:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.eRa=b.Svb=b.Qvb=b.Tvb=b.Rvb=b.fRa=b.gRa=b.iia=void 0;g=a(47);h=a(24);m=a(11);b.iia=function(n,r,p,u,t){var w;w="";n.textNodes.forEach(function(v){w+=k(v,p,r,u,t);});return w;};b.gRa=function(n,r,p,u,t){var w,v,y,z,B;w="";v=t.width;t=t.height;for(var x=r.length;x--;){y=r[x];z=n[x];z=z && z.region;B="position:absolute;background:" + u + ";width:" + m.yi(y.width + 2 * p) + "px;height:" + m.yi(y.height + 2 * p) + "px;";y=c(z,y,v,t,p);h.de(y,function(A,C){B+=A + ":" + C + ";";});w+='<div style="' + B + '"></div>';}return w;};b.fRa=c;b.Rvb=f;b.Tvb=k;b.Qvb=l;b.Svb=d;b.eRa=function(n){var r;r={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":r["text-align"]="left";break;case "right":r["text-align"]="right";break;default:r["text-align"]="center";}return g.ZE(r);};},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;c=a(12);f=a(13);k=a(51);l=a(86);d=a(11);g=a(61);h=a(17);m=a(18);b.kEa=function(n){var t,w,v,x,y,z;function r(){return n.state.value === m.Gb.LOADING || n.state.value === m.Gb.$d && n.ac.value === m.Bb.Jg;}function p(){r()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,g.fg(u));}function u(){var B,A,C,E,F,D,G,I;B=k.Hi();A=t.value;C=A?A.progress:0;E=n.state.value == m.Gb.LOADING || r() && B - w > f.config.gnb;if(E && n.state.value == m.Gb.$d){if(n.hf.value === m.$e.QFa)(F=C,D=!0);else {G=B + (n.Mm && n.Mm.fDb() || 0);v=v || B;x=x || v + f.config.UIb + 1;h.xa(G) && (G=d.ln(G,x),F=n.Mm?n.Mm.S4b():.99,F=d.yi(1E3 * l.yo((B - v) / (G - v),0,F)) / 1E3);}if(F < C)if(C - F < f.config.lOb / 100)(F=C,y=void 0);else if(y){if(B - y > f.config.kOb){I=!0;y=void 0;}else F=C;}else (y=B,F=C);}else y=x=v=void 0;B=E?{M7:D,progress:F,mOb:I}:null;(!B || !t || !A || h.xa(B.progress) && !h.xa(A.progress) || h.xa(B.progress) && h.xa(A.progress) && .01 < d.tD(B.progress - A.progress) || B.M7 !== A.M7) && t.set(B);}t=n.Dfa;w=0;n.state.addListener(function(){p();u();},c.dZ);n.ac.addListener(function(B){if(B.oldValue !== m.Bb.Jg || B.newValue !== m.Bb.Jg)w=k.Hi();p();});n.hf.addListener(function(){p();});n.Cq.addListener(function(){p();});n.bm.addListener(function(){p();});z || (z=setInterval(u,100));};},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J;function c(H){var M;M=this;this.j=H;this.Ib=this.j.Ib;this.log=n.Ih(this.j,"MediaPresenterASE");this.K5=this.I1=0;this.la=this.Ib.la;this.d0a=this.V_a=this.z4=this.xpa=!1;this.GUb=n.ha.get(C.yI)(A.uc(z.vZ));this.NJ=void 0;this.ho=n.ha.get(F.ZFa)(this.j);this.gw={};this.FYa={};this.LUa={};this.jg=new G.GBa(this.j);this.EUb=function(){var O,L,P;M.j.LW=m.Hi();if(!M.Ej() && M.Km){O=M.Ib.lUa();O || (M.pMb(),M.jg.tta(M.mediaTime));M.j.paused.value || !M.jg.nha(M.mediaTime) || !M.Afa() || O || M.ho.ema?M.nra():M.xpa || M.ora();M.oMb();if(!M.Ib.lUa() && !M.z4){O=M.Ib.mT(!0);L=M.j.ac.value;P=M.mpb();L !== P && !1;P === x.Bb.au?(M.mediaTime=M.j.qt.ea(A.ma),M.nra()):P !== x.Bb.Jg && M.BWb(O);M.$5a();M.jg.Vfa(M.mediaTime);M.j.ac.set(P);P !== x.Bb.Jg || L !== x.Bb.yc && L !== x.Bb.Wh || M.ZKb();}}};this.pl=D.N0a(this.EUb);this.mediaTime=H.Z;this.j.El=!1;this.Ib.addEventListener(B.jj.P3a,function(){M.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{M.mb();}catch(O){M.log.error("Exception while initializing",O);M.Ld(r.L.Kcb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.UBa=void 0;f=a(53);k=a(12);l=a(13);d=a(62);g=a(63);h=a(47);m=a(51);n=a(7);a(94);r=a(3);p=a(318);u=a(21);t=a(86);w=a(29);v=a(61);x=a(18);y=a(17);z=a(171);B=a(280);A=a(5);C=a(107);E=a(165);F=a(506);D=a(1100);G=a(1101);I=a(1102);J=a(202);c.prototype.cTa=function(){return this.Ib.mT(!1);};c.prototype.V2=function(){return this.Ib.V2();};c.prototype.yB=function(){return this.Ib.yB();};c.prototype.uF=function(){return this.Ib.uF();};c.prototype.lT=function(){return this.Ib.lT();};c.prototype.Z2=function(){return this.Ib.Z2();};c.prototype.mb=function(){var H;H=this;this.log.trace("Video element initializing");this.Ib.sourceBuffers.forEach(function(M){return H.jg.oSb(M);});this.RDb(this.j.XB);};c.prototype.RDb=function(H){var M,O;M=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (O=this.j.Ma) || void 0 === O?void 0:O.Yx(this.j.K));this.log.trace("Waiting for loadedmetadata");this.Ib.addEventListener(B.jj.nXa,function(L){var P;L=L.da;M.j.Od("ld",L);null === (P=M.j.Ma) || void 0 === P?void 0:P.Yx(L);M.j.fireEvent(x.W.kXa);});h.CLa(this.la,"loadedmetadata",function(){M.log.trace("Video element event: loadedmetadata");M.j.Od("md");});g.lf.addListener(g.Jm,this.LUa[g.Jm]=function(){return M.close();},k.ED);this.j.addEventListener(x.W.dg,function(){return M.close();},k.ED);this.j.addEventListener(x.W.s2a,function(){return M.ora();});this.j.addEventListener(x.W.sv,function(){return M.MKb();});this.j.paused.addListener(function(){return M.pl();});this.j.muted.addListener(function(){return M.Qta();});this.j.volume.addListener(function(){return M.Qta();});this.j.playbackRate.addListener(function(){return M.A8();});this.j.Cq.addListener(function(){return M.pl();});this.j.bm.addListener(function(){return M.pl();});this.Qta();this.A8();this.jg.A7(function(){return M.j5();});this.j5();this.WVb();};c.prototype.B0=function(H){var M;M=this;!1;this.jg.mlb(H);this.cob(H).then(function(){M.j5();M.j.fireEvent(x.W.i5);}).catch(function(O){M.Ld(r.L.Ocb,{sb:w.vd(O)});});};c.prototype.Iea=function(H,M,O){O=void 0 === O?{}:O;M=this.Tub(H,M);this.jg.klb(H,M,O);this.j5();this.V_a || H.type !== f.ic.Hk.Hb || (this.ho.ema || this.seek(this.j.Z,x.Jd.yw),this.V_a=!0);};c.prototype.WVb=function(){var H;H=this;this.Ib.addEventListener(B.jj.iW,this.gw[B.jj.iW]=function(){return H.cLb();});this.Ib.addEventListener(B.jj.Iq,this.gw[B.jj.Iq]=function(){return H.Z5();});this.la.addEventListener("ended",this.gw.ended=function(){return H.HKb();});this.la.addEventListener("play",this.gw.play=function(){return H.QKb();});this.la.addEventListener("pause",this.gw.pause=function(){return H.OKb();});this.la.addEventListener("playing",this.gw.playing=function(){return H.WKb();});this.Km=!0;this.jg.tta(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Od("vi");l.config.SPa?setTimeout(function(){H.Loa=!0;H.pl();},l.config.SPa):this.Loa=!0;this.zTb();v.fg(function(){return H.pl();});};c.prototype.zTb=function(){var O;function H(){var L;O.j.ac.value === x.Bb.yc && 0 === (null === (L=O.j.Cg) || void 0 === L?void 0:L.V2())?(O.vZa.tB(),L="ensureTimer"):(O.vZa.Vp(),L="stopTimer");O.log.trace("No render timer update: " + L,{presentingState:x.Bb[O.j.ac.value]});}function M(L){var P,R;L=void 0 === L?!0:L;P=O.j.Ma;R=(null === P || void 0 === P?void 0:P.dh) && P.E3();O.j.ac.value == x.Bb.Jg && O.j.state.value == x.Gb.$d && O.j.Cq.value == x.$e.$d && O.j.bm.value == x.$e.$d && !O.j.El && R?(L && O.K1.Vp(),O.K1.tB(),P="ensureTimer"):(O.K1.Vp(),P="stopTimer");O.log.trace("Timer update: " + P,{presentingState:x.Bb[O.j.ac.value],playbackState:x.Gb[O.j.state.value],avBufferingState:x.$e[O.j.Cq.value],textBufferingState:x.$e[O.j.bm.value],autoplayWasBlocked:O.j.El,hasLicense:R,restartTimer:L});}O=this;l.config.IPa && (u.gb(!this.K1),this.K1=n.ha.get(E.QP)(l.config.IPa,function(){var L;L=n.ha.get(p.Y9).ZPa(O.j);O.Ld(L.code,L);}),this.j.ac.addListener(function(){return M();}),this.j.Cq.addListener(function(){return M();}),this.j.bm.addListener(function(){return M();}),this.j.state.addListener(function(){return M();}),this.j.addEventListener(x.W.kXa,function(){return M();}),this.j.addEventListener(x.W.El,function(){return M();}),this.j.addEventListener(x.W.dfa,function(){return M();}),this.j.addEventListener(x.W.EG,function(){return M(!0);}),M());l.config.uZa && (this.vZa=n.ha.get(E.QP)(l.config.uZa,function(){var L;0 === (null === (L=O.j.Cg) || void 0 === L?void 0:L.yB()) && (L=n.ha.get(p.Y9).ZPa(O.j),O.Ld(L.code,L));O.j.ac.removeListener(H);}),this.j.ac.addListener(H),H());};c.prototype.Tub=function(H,M){var O;O=this.j.we;(O=J.Rla(O)?O.bL():void 0) && H.type === f.ic.Hk.Hb && ((H=new I.bI(this.log,{mediaType:I.hm.Hb,url:"http://some-url"},M).na(O))?M=H:!1);return M;};c.prototype.j5=function(){this.Km?this.pl():l.config.llb && this.jg.tta(this.mediaTime);};c.prototype.HTb=function(){!1;this.j.ac.set(x.Bb.Jg);this.z4=!0;this.pl();};c.prototype.ipb=function(){var H;H=this;this.z4 && (!1,this.z4=!1,v.fg(function(){return H.cKb();}));};c.prototype.R2=function(){return this.jg.R2();};c.prototype.cKb=function(){var H,M;H=this.j.BB() || 0;if(this.j.kb.Ol){if(l.config.Tmb){H=H - (this.Ib.Cra + 1) - l.config.Bra;M=this.j.Ma.vp().Jc;H=Math.max(H,M);}}else (H-=l.config.dRb,H=Math.max(H,this.ho.Cma));this.seek(H,x.Jd.xI);};c.prototype.W5=function(H){var M;M=this;this.jg.qSb(H);v.fg(function(){return M.pl();});};c.prototype.Wzb=function(){return {I1:this.I1,K5:this.K5};};c.prototype.cob=function(H){var M;M=this.Ib && this.Ib.ITa();this.j.qt && M && Infinity !== H.A2a && (H=H.A2a + H.Ct,H > this.j.qt.t0a(A.ma) && (this.j.qt=A.uc(H)));return Promise.resolve();};c.prototype.oMb=function(){var H;H=this;this.ho.o6 && (!1,this.Afa() && this.jg.nha(this.mediaTime) && (this.Ib.seek(this.mediaTime),this.ho.o6=!1,v.fg(function(){return H.pl();})));};c.prototype.BWb=function(H){var M;if(H < this.mediaTime){M=this.mediaTime - H;l.config.qMb && H && M > z.vZ && (H={ElementTime:t.Vh(H),MediaTime:t.Vh(this.mediaTime)},M > z.rFa?this.Ld(r.L.Zcb,{sb:Object.assign({Trace:this.Ib.py()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=t.yo(H,0,this.j.qt.ea(A.ma));};c.prototype.Afa=function(){return this.j.Cq.value === x.$e.$d && this.j.bm.value === x.$e.$d;};c.prototype.mpb=function(){var H,M,O;H=this;M=this.j.ac.value;O=M;this.ho.ema?O=x.Bb.Jg:this.la && this.la.ended?M === x.Bb.yc && (O=x.Bb.au):this.Afa() && this.jg.nha(this.mediaTime)?this.Ib.Utb()?O=this.la && this.la.paused?x.Bb.Wh:x.Bb.yc:this.GUb.ol(function(){return H.FUb();}):O=this.j.qt?this.j.UUa(this.mediaTime,this.jg.H1())?x.Bb.Jg:x.Bb.au:x.Bb.Jg;return O;};c.prototype.ZKb=function(){var H;if(this.j.ac.value === x.Bb.Jg){H=this.jg.nVb() > this.jg.H1();this.j.bm.value !== x.$e.$d?this.j.Rk.value?(this.j.fireEvent(x.W.Bx,{cause:d.iEa}),this.log.warn("rebuffer due to timed text",this.j.Rk.value.Kh)):this.j.fireEvent(x.W.LN):H?(this.I1++,this.j.fireEvent(x.W.Bx,{cause:d.Maa})):(this.K5++,this.j.fireEvent(x.W.Bx,{cause:d.Naa}));}};c.prototype.FUb=function(){this.Ej() || (l.config.gKb && this.jg.fKb(),this.pl());};c.prototype.cLb=function(){this.pl();};c.prototype.Z5=function(){this.pl();this.j.fireEvent(x.W.Iq);};c.prototype.HKb=function(){this.log.trace("Video element event: ended");this.pl();};c.prototype.QKb=function(){this.log.trace("Video element event: play");this.pl();};c.prototype.OKb=function(){this.log.trace("Video element event: pause");this.pl();};c.prototype.WKb=function(){this.log.trace("Video element event: playing");this.pl();};c.prototype.Qta=function(){this.Ej() || (this.la && this.la.volume !== this.j.volume.value && (this.la.volume=this.j.volume.value),this.la && this.la.muted !== this.j.muted.value && (this.la.muted=this.j.muted.value));};c.prototype.A8=function(){!this.Ej() && this.la && (this.la.playbackRate=this.j.playbackRate.value);};c.prototype.ora=function(){var H;H=this;this.Ej() || !y.Hc(this.la) || this.la.ended || !this.Loa || !this.VN && void 0 !== this.VN || (this.log.trace("Calling play on element"),Promise.resolve(this.la.play()).then(function(){H.closed || (H.VN=!1,H.xpa=!1,H.la.style.display=null,H.j.El=!1,H.j.fireEvent(x.W.dfa,{j:H.j}));}).catch(function(M){"NotAllowedError" === M.name?(H.log.warn("Playback is blocked by the browser settings",M),H.j.El=!0,H.closed || (H.xpa=!0,H.la.style.display="none",H.j.fireEvent(x.W.El,{player:{play:function(){return H.ora();}}}))):H.closed || (H.VN=!1,H.d0a || (H.d0a=!0,H.log.error("Play promise rejected",M)));}));};c.prototype.MKb=function(){this.ho.Cma=this.j.BB() || 0;};c.prototype.nra=function(){this.Ej() || !y.Hc(this.la) || this.la.ended || !this.Loa || this.VN && void 0 !== this.VN || (this.log.trace("Calling pause on element"),this.la.pause(),this.VN=!0);};c.prototype.$5a=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.oxb();};c.prototype.seek=function(H,M,O,L){var P,R;M=void 0 === M?x.Jd.Iw:M;O=void 0 === O?this.j.va:O;L=void 0 === L?!1:L;R=null === (P=this.j.Ma) || void 0 === P?void 0:P.dh;!this.Ej() && R && (this.j.fireEvent(x.W.EG,{cause:M}),this.ho.tV={time:H,cause:M,va:O,uxb:L},this.j.ac.set(x.Bb.Jg),this.pl());};c.prototype.pMb=function(){var H,M,O,L,P,R,K,Q;if(this.ho.tV){H=this.ho.tV;M=H.time;O=H.cause;L=H.va;P=H.uxb;if(!this.jg.hi() || O === x.Jd.yw){H=this.j.Qq(L).K;R=this.jg.hi()?void 0:this.jg.Dyb();R=this.ho.wAb(M,O,L,P,R);L=R.N5;P=R.Aj;K=R.TMb;R=R.bi;this.jg.Vfa(this.mediaTime);Q=this.mediaTime;M=t.Vh(M);this.j.TA("SEEKING: Requested: (" + H + ":" + O + ":" + M + ") - Actual: (contentPts: " + P + ",playerPts: " + (K + ", newMediaTime: " + L + ")"));this.log.info("Seeking",{Requested:M,Actual:t.Vh(L),Cause:O,Skip:R});O === x.Jd.yw || R || (this.jg.Z1a(),this.jg.lSb());this.mediaTime=L;this.ho.Cma=P;M=this.j.Ug.value;K=this.j.Sf.value;this.j.Ug.set(null);this.j.Sf.set(null);this.$5a(!0);this.ho.tV=void 0;this.ho.o6=!0;this.j.fireEvent(x.W.Zl,{Moa:Q,N5:L,Aj:P,cause:O,skip:R,Ug:M,Sf:K,K:H});R && this.jg.skip(L);}}};c.prototype.Ld=function(H,M,O){this.closed || this.j.Ld(H,M,O);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.jg.close();this.Ib.removeEventListener(B.jj.iW,this.FYa[B.jj.iW]);this.Ib.removeEventListener(B.jj.Iq,this.FYa[B.jj.Iq]);this.la.removeEventListener("ended",this.gw.ended);this.la.removeEventListener("play",this.gw.play);this.la.removeEventListener("pause",this.gw.pause);this.la.removeEventListener("playing",this.gw.playing);g.lf.removeListener(g.Jm,this.LUa[g.Jm]);this.closed=!0;try{l.config.uJb && (this.la.volume=0,this.la.muted=!0);this.nra();this.Ib.close();}catch(H){}this.la=void 0;this.jg.Z1a();}};c.prototype.Ej=function(){return this.closed?!0:y.Hc(this.la)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.UBa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZFa="SeekManagerFactorySymbol";},function(q){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};q.exports={from:function(a,c,f,k){a=new a(c.length);for(var l="function" === typeof f,d=0;d < c.length;++d){a[d]=l?f.call(k,c[d],d,c):c[d];}return a;},set:b};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){var l;l=null !== f && f.apply(this,arguments) || this;l.hy=1536;return l;}c.__extends(k,f);k.Ka=!0;return k;})(a(189).default);b.default=q;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="ac-3";return k;})(q);b.Y8=a;q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="ec-3";return k;})(q);b.b$=q;},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(101);q=a(33);k=f.zD;q=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.parse=function(){this.ec();this.fileSize=this.u.Hd();this.U=this.u.Hd();this.duration=this.u.Hd(!1,!0);this.Goa=this.u.Hd();this.u.Hd();this.Koa=this.u.Hd();this.poa=this.u.ta();this.Hoa=this.u.Hd();this.Xia=this.u.ta();this.u.iz();this.Ae={moof:{offset:this.Goa},sidx:{offset:this.Hoa,size:this.Xia}};this.Ae[f.qP]={offset:this.Koa,size:this.poa};this.u.offset - this.startOffset <= this.length - 24 && (this.Joa=this.u.Hd(),this.joa=this.u.ta(),this.Ioa=this.u.Hd(),this.hoa=this.u.ta(),this.Ae[f.Dw]={offset:this.Joa,size:this.joa},this.Ae[f.Cw]={offset:this.Ioa,size:this.hoa});return !0;};d.Lb=k;d.Ka=!1;return d;})(q.kc);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=a(101);a=a(33);f=q.AD;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){var d,m,n;this.ec();1 <= this.version && this.u.iz();d=this.u.ta();this.Ae={};for(var g=this.startOffset + this.length,h=0;h < d;++h){m=this.u.ll();"uuid" === m && (m=this.u.iz());n=this.u.Hd();this.Ae[m]={offset:g,size:n};g+=n;}return !0;};l.Lb=f;l.Ka=!1;return l;})(a.kc);b.default=a;},function(q){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Qj:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Qj:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Qj:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Qj:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};q.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);k=a(87);q=(function(l){function d(g,h,m,n,r){m=l.call(this,m,n,r) || this;m.ofa=g;m.Wp=h;m.Sa={};return m;}c.__extends(d,l);d.prototype.parse=function(g){var h,m,n,r,p,u;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){m=this.offset;n=this.ta();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};r=k.qn(this.ta());if(null === r)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === r){if(16 > this.view.byteLength - this.offset)break;r=this.iz();}if(0 === h.length && this.Wp.aT(r,m,n))break;if(m + n > this.view.byteLength)break;p=this.ofa[r];u=void 0;if(p){if((u=new p(this,r,m,n,h[0]),(h[0] || this).$r(u),u.parse(g)))this.config.pG && p.Ka?h.unshift(u):this.offset=m + n;else return {done:!1,offset:this.offset,error:"parse error in " + r + " box"};}else this.offset=m + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Vm - 8;){u=h.shift();if(!u.Ds(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.Vm;}if(0 === h.length && this.Wp.uS(r,m,n,u))break;}return !this.Wp.done && (g=this.Wp.endOffset?this.Wp.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,RU:g}:{done:!0,offset:Math.min(this.Wp.endOffset || Infinity,this.offset)};};d.prototype.$r=function(g){f.kc.$r(this,g);};return d;})(a(1122).Gba);b.bD=q;},function(q,b,a){var f;function c(k,l){k=l.indexOf(k);-1 !== k && l.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(101);q=(function(){function k(l){this.endOffset=l;this.done=!1;}k.prototype.aT=function(){return this.done;};k.prototype.uS=function(l,d,g){return this.done=d + g >= this.endOffset;};return k;})();b.CO=q;q=(function(){function k(l,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.rh=l;this.Ux=d;this.QW=g;this.pV=h;this.done=!1;this.Ae={};}k.prototype.aT=function(l,d,g){-1 !== k.Yka.indexOf(l) && (this.Ae[l]={offset:d,size:g});if(-1 !== this.QW.indexOf(l)){if((this.Ae[l]={offset:d,size:g},this.pV))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.rh && -1 !== this.rh.indexOf(l)?(l=1 < this.rh.length?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0)):-1 !== this.Ux.indexOf(l) && (l=this.rh?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0));return this.done;};k.prototype.uS=function(l,d,g,h){var m;m=this;if(-1 !== this.QW.indexOf(l))return this.done=!0;l === f.zD && this.sW(h.Ae);l === f.AD && this.sW(h.Ae);this.rh && c(l,this.rh);c(l,this.Ux);return this.rh && 0 === this.rh.length && !this.Ux.some(function(n){return m.Ae[n];})?this.done=!0:this.done;};k.prototype.sW=function(l){var d;d=this;this.Ae=l;this.endOffset=(this.rh || []).concat(this.Ux).reduce(function(g,h){return d.Ae[h]?(h=d.Ae[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};k.Yka=["moov","sidx"];return k;})();b.y$=q;},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;c=a(13);f=a(63);k=a(24);l=a(3);d=a(18);b.tya=function(g,h,m){function n(p){var u,t;u=p.error || p;t=k.vd(u);m.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.I5a && c.config.iWb?0 <= u.indexOf(c.config.I5a):void 0) && (p && p.stopImmediatePropagation && p.stopImmediatePropagation(),g.Ld(l.L.oeb));}function r(){f.lf.removeListener(f.x3,n);g.removeEventListener(d.W.dg,r);g.removeEventListener(d.W.ot,r);}try{f.lf.addListener(f.x3,n);g.addEventListener(d.W.dg,r);c.config.wDb && g.addEventListener(d.W.ot,r);}catch(p){m.error("exception in exception handler ",p);}};},function(q,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.OXa=void 0;c=a(13);f=a(12);k=a(51);q=a(3);l=a(11);d=a(17);g=a(7);a=a(32);g.ha.get(a.Zg).register(q.L.Dza,function(h){var n,r,p,u,t;function m(){var w;w=l.Aw(k.Hi() / p);if(w != t){for(var v=l.xo(w - t,30);v--;){u.push(0);}(v=l.ln(u.length - 31,0)) && u.splice(0,v);t=w;}u[u.length - 1]++;}n=c.config.nHb;r=-6 / (n - 2 - 2);p=f.Ik;u=[];t=l.Aw(k.Hi() / p);d.fma(n) && (setInterval(m,1E3 / n),b.OXa={Nzb:function(){var x;for(var w=[],v=u.length - 1;v--;){x=u[v];w.unshift(0 >= x?9:1 >= x?8:x >= n - 1?0:l.yi((x - 2) * r + 7));}return w;}});h(f.Ee);});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uaa="PlaybackMilestoneStoreSymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.EDa="PboManifestRequestTransformerSymbol";},function(q,b,a){var f,k,l,d,g;function c(h,m){this.Ib=h;this.j=m;this.lU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.mO=void 0;q=a(1);f=a(3);k=a(0);l=a(17);d=a(29);g=a(7);c.prototype.z2=function(h){this.lU.forEach(function(m){return m(h);});};c.prototype.Ld=function(h,m,n){this.j.Ld(h,m,n);};c.prototype.tkb=function(h){-1 === this.lU.indexOf(h) && this.lU.push(h);};c.prototype.EPb=function(h){h=this.lU.indexOf(h);0 <= h && this.lU.splice(h,1);};c.prototype.JUa=function(h){var m,n;m={};l.Hc(h.code)?m.oa=f.g$(h.code):m.oa=f.M.fj;try{n=h.message.match(/\((\d*)\)/)[1];m.Ve=g.lfa(n,4);}catch(r){}m.sb=d.vd(h);return m;};a=q.__decorate([k.R()],c);b.mO=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.KEa="PlaygraphManagerFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.QEa="PlaygraphPlaybackStrategyFactorySymbol";},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.UEa="PlaygraphStateFactorySymbol";},function(q,b,a){var f;function c(k,l,d,g){var h;h=this;this.xb=k;this.Uj=l;this.Jt=d;this.Pb=g;this.F6=new Map();this.DSb();this.Pb.addListener(f.Rb.loaded,function(){return h.z0a();});}Object.defineProperty(b,"__esModule",{value:!0});b.xD=void 0;f=a(18);c.prototype.C5a=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Nka=function(k,l){var d;d=this;l=void 0 === l?{}:l;return this.Jt.transition(k,l).then(function(){d.xb.Fh=k;});};c.prototype.close=function(k){return this.Jt.close(k);};c.prototype.isReady=function(){return this.Jt.bBb();};c.prototype.qp=function(){return this.Jt.qp();};c.prototype.cl=function(){return this.Jt.cl();};c.prototype.GM=function(k){this.F6.has(k) || this.F6.set(k,this.Jt.zq(this.fnb(k)));return this.F6.get(k);};c.prototype.DSb=function(){var k;k=this;this.Jt.addListener(f.tI.q7,function(){return k.Pb.tc(f.tI.q7);});Object.values(f.Rb).forEach(function(l){k.Jt.addListener(l,function(d){return k.Pb.tc(l,d);});});};c.prototype.mG=function(){this.z0a();};c.prototype.Woa=function(k){this.Jt.GWb({id:k,K:this.xb.Me(k).da,uk:this.xb.vBb(k)});};c.prototype.z0a=function(){var k,l;if(this.isReady()){k=this.xb.Fh;l=this.xb.h3(k);l && !this.F6.has(l) && (this.Woa(k),this.GM(l));}};c.prototype.fnb=function(k){var l,d,g,h;d=this.xb.Me(k);g=this.Uj.kL(d.da);h=null === g || void 0 === g?void 0:g.Fb;g=null === g || void 0 === g?void 0:g.sa;return {id:k,K:d.da,Z:d.xc,uk:null !== (l=null === h || void 0 === h?void 0:h.uk) && void 0 !== l?l:d.Yc,Fb:h,sa:g};};b.xD=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;b.Kya=function(a){var k,l,d,g;function c(){if(d)for(var h;h=k.pop();){h(g);}}function f(h){d=!0;g=h;c();}k=[];return function(h){k.push(h);l || (l=!0,a(f));c();};};},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.p5a=void 0;c=a(71);f=a(12);k=a(13);l=a(47);d=a(51);g=a(7);h=a(3);m=a(24);n=a(69);r=a(11);p=a(121);u=a(32);t=a(36);w=a(34);v=a(20);b.p5a=(function(){var z,B,A,C;function x(E){var F,D,G;F="info";D="";G=g.ha.get(n.ND).BTa();E.X || (F="error",D+="&errorcode=" + (E.errorCode || ""),D+="&errorsubcode=" + (E.oa || ""));D="type=startup&sev=" + F + D + "&" + l.lM(m.Qb({},G,{prefix:"m_"}));!1;y("startup",D,z);}function y(E,F,D){D && B && k.config.r5a[E] && (E=A + "&jsoffms=" + d.Hi() + "&do=" + r.Qe.onLine + "&" + F + "&" + l.lM(m.Qb({},C.bd,{prefix:"im_"})),!1,c.Bf.download({url:D,Lpa:E,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},hF:"track"},f.kj));}B=!1;A="";g.ii("TrackingLog");C=g.ha.get(u.Zg);C.register(h.L.Iza,function(E){var F,D,G;if(B=k.config.q5a && ! !k.config.lta){z=g.ha.get(p.FH).host + k.config.lta;F=g.ha.get(w.Kk);D=g.ha.get(w.kA);G=g.ha.get(v.zd).id;A="cat=cadplayback&dev=" + encodeURIComponent(F.Wx) + "&ep=" + encodeURIComponent(D.sY) + "&ver=" + encodeURIComponent("6.0031.809.911") + "&jssid=" + G + "&browserua=" + r.jA;k.config.HB && (A+="&groupname=" + encodeURIComponent(k.config.HB));k.config.uH && (A+="&uigroupname=" + encodeURIComponent(k.config.uH));F=A;D=g.ha.get(t.CP);D=m.Qb({},D,{prefix:"pi_"});D="&" + l.lM(D);A=F + D;C.pU(x);}E(f.Ee);});return y;})();},function(q,b,a){var f,k,l,d,g;function c(h){var m;f.ii("MediaSourceASE").trace("Inside MediaSourceASE");m=h.tT();this.readyState=g.zc.CLOSED;this.sourceBuffers=m.sourceBuffers;this.addSourceBuffer=function(n){return m.addSourceBuffer(n);};this.w0=function(n){return m.w0(n);};this.removeSourceBuffer=function(n){return m.removeSourceBuffer(n);};this.gp=function(n){return m.gp(n);};this.zW=d++;this.duration=void 0;m.GRb(this.zW);this.readyState=g.zc.OPEN;this.Ub=k.ha.get(l.Hf).cG(g.Ub,{});}Object.defineProperty(b,"__esModule",{value:!0});b.ZBa=void 0;f=a(7);k=a(7);l=a(28);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.qj;},set:function(h){var m;this.qj=h || Infinity;m=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.qj=m;});}});g={zc:{CLOSED:0,OPEN:1,au:2,name:["CLOSED","OPEN","ENDED"]},Ub:{mOa:!0,hZa:!0}};b.ZBa=Object.assign(c,g);},function(q,b,a){var h,m,n,r,p,u,t,w;function c(v){return v.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function f(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function k(v,x,y){var z;if("string" === typeof v)return k.call(this,c(v),x,y);z=0;Object.keys(v).forEach(function(B){var A,C,E;A=p[B];C=v[B];if(A){if(E=u[B] || w[typeof h[A]])try{C=E(C);}catch(F){y && y.error("Failed to convert value '" + C + "' for config '" + B + "' : " + F.toString());return;}E=r[A];this[A]=C;r[A] !== E && (y && y.debug("Config changed for '" + B + "' from " + f(E) + " (" + typeof E + ") to " + f(C) + " (" + typeof C + ")"),++z);}else x?(A=(A=t[B])?A.filter(function(F){return F[0] !== this;},this):[],A.push([this,C]),t[B]=A):y && y.error("Attempt to change undeclared config option '" + B + "'");},this);z && r.emit("changed");return z;}function l(){return Object.keys(p).reduce(function(v,x){var y,z;y=p[x];z=v[y];z?(z.push(x),v[y]=z.sort(function(B,A){return A.length - B.length;})):v[y]=[x];return v;},{});}function d(v,x){return v.hasOwnProperty(x)?f(v[x]):void 0;}function g(v,x){return "undefined" === typeof v?x:v;}b=a(84);a=a(1207).EventEmitter;h={};m=Object.create(h);n=Object.create(m);r=Object.create(n);p={};u={};t={};r.declare=function(v){Object.keys(v).forEach(function(x){var y,z,B,A;y=v[x];z=y[0];B=y[1];A=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var E;if(p.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof B && (B=B()),h[x]=B);p[C]=x;"function" === typeof A && (u[C]=A);if(E=t[C])(E.forEach(function(F){var D,G;D=F[0];G={};G[C]=F[1];k.call(D,G,!1);}),delete t[C]);});});return r;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};r.set=k.bind(m);r.lV=k.bind(n);r.dump=function(v,x){var z,B,A,C;function y(){C && v && v.log("===========================================");}z=Object.keys(t).sort();B={};A=l();x=g(x,!0);Object.keys(p).sort().forEach(function(E){var F,D,G;E=p[E];if(!B[E]){B[E]=!0;F=d(m,E);D=d(n,E);if(x || "undefined" !== typeof F || "undefined" !== typeof D){G=A[E].join(",");G+=" = " + f(r[E]) + " (" + typeof r[E] + ") [";G+=g(D,"<unset>") + ",";G+=g(F,"<unset>") + ",";G+=d(h,E) + "]";C || (C=!0,v && v.log("Current config values"),y());v && v.log(G);}}});(x || z.length) && v && v.log("<undeclared> :",z);y();};r.Hq=function(v){var x,y;x={};y={};Object.keys(p).forEach(function(z){z=p[z];y[z] || (y[z]=!0,x[z]=r[z]);});v && k.call(x,v);return x;};r.W_a=function(){var v;v=l();return Object.getOwnPropertyNames(m).reduce(function(x,y){x[v[y][0]]=m[y];return x;},{});};r.reset=function(){Object.keys(m).forEach(function(v){delete m[v];});};r.ed={};b(a,r);q.exports=Object.freeze(r);},function(q,b,a){var f;function c(k){for(var l="",d=0;d < k.length;d++){l+=k[d].da + "|";}return l;}f=a(293);q.exports={assert:function(k,l){if(!k)throw Error("PlayPredictionModel assertion failed" + (l?" : " + l:""));},p5b:function(k,l,d){Array.prototype.splice.apply(k,[l,0].concat(d));},Uyb:function(k){for(var l=[],d=0;d < k.length;d++){if(k[d].context === f.hP.U8a){l=k[d].list;break;}}return l;},Ayb:function(k){for(var l=[],d=0;d < k.length;d++){if(k[d].context === f.hP.N7a){l=k[d].list;break;}}return l;},Ptb:function(k,l){for(var d=0,g,h,m,n=0,r=k.length - 1;n < r;n++){g=c(k[n].list || []);m=!1;for(var p=0,u=l.length;p < u;p++){if((h=c(l[p].list || []),h == g)){m=!0;break;}}if(!1 === m){d=n;break;}}return d;},vKb:function(k,l,d){for(var g=[],h,m=0;m < Math.min(l,k.length);m++){h=k[m].list || [];g=g.concat(h.slice(0,d));}return g;},uKb:function(k,l){for(var d=[],g,h=0;h < k.length && (g=k[h].list || [],g=g.slice(0,Math.min(g.length,l)),l-=g.length,d=d.concat(g),0 !== l);h++){;}return d;},tKb:function(k,l,d){var g;l < k.length && 0 <= l && (k=k[l].list || [],d < k.length && (g=k[d]));return g;},LRa:function(k){for(var l={},d=k.length,g,h=0;h < d;h++){g=k[h].list || [];for(var m=0;m < g.length;m++){if(g[m].property === f.aI.wP || g[m].property === f.aI.Pwa){l.Mj=h;l.Gl=m;break;}}}void 0 === l.Mj && void 0 === l.Gl && (l.Mj=0,l.Gl=0);return l;}};},function(q,b,a){var l;function c(d,g,h,m,n,r,p){this.mX=m;this.f7a=d;this.tZa=g;this.doa=h;this.uFb=r;this.FC=p;this.split=n;}function f(){this.J={};this.J["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new c("7","8","7","10","1.5",0,0);this.J["7"]=new c("15","16","15","9","4.5",0,0);this.J["15"]=new c("31","32","31","2","5.5",0,0);this.J["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new c("123","124","123","0","0",1,.207298);this.J["124"]=new c("123","124","123","0","0",1,.49076);this.J["64"]=new c("125","126","125","4","40.5",0,0);this.J["125"]=new c("125","126","125","0","0",1,-.00157835);this.J["126"]=new c("125","126","125","0","0",1,.934205);this.J["32"]=new c("65","66","65","135","5.5",0,0);this.J["65"]=new c("127","128","128","4","1272.5",0,0);this.J["127"]=new c("127","128","128","0","0",1,-.510333);this.J["128"]=new c("127","128","128","0","0",1,.18363);this.J["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new c("129","130","129","0","0",1,-.0464542);this.J["130"]=new c("129","130","129","0","0",1,.458833);this.J["16"]=new c("33","34","34","10","2.00001",0,0);this.J["33"]=new c("67","68","67","0","29.5",0,0);this.J["67"]=new c("131","132","131","2","39.5",0,0);this.J["131"]=new c("131","132","131","0","0",1,-.37577);this.J["132"]=new c("131","132","131","0","0",1,.512087);this.J["68"]=new c("133","134","134","140","1.5",0,0);this.J["133"]=new c("133","134","134","0","0",1,.321272);this.J["134"]=new c("133","134","134","0","0",1,-.675396);this.J["34"]=new c("69","70","70","2","24.5",0,0);this.J["69"]=new c("135","136","136","9","28.5",0,0);this.J["135"]=new c("135","136","136","0","0",1,-.0573845);this.J["136"]=new c("135","136","136","0","0",1,-.507455);this.J["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new c("137","138","137","0","0",1,-.503909);this.J["138"]=new c("137","138","137","0","0",1,.450886);this.J["8"]=new c("17","18","17","4","44189.5",0,0);this.J["17"]=new c("35","36","35","2","21.5",0,0);this.J["35"]=new c("71","72","72","0","19.5",0,0);this.J["71"]=new c("139","140","140","9","2.5",0,0);this.J["139"]=new c("139","140","140","0","0",1,.00403497);this.J["140"]=new c("139","140","140","0","0",1,-.312656);this.J["72"]=new c("141","142","141","135","96",0,0);this.J["141"]=new c("141","142","141","0","0",1,-.465786);this.J["142"]=new c("141","142","141","0","0",1,.159633);this.J["36"]=new c("73","74","73","130","89.5",0,0);this.J["73"]=new c("143","144","144","10","4.5",0,0);this.J["143"]=new c("143","144","144","0","0",1,-.76265);this.J["144"]=new c("143","144","144","0","0",1,-.580804);this.J["74"]=new c("145","146","146","10","16.5",0,0);this.J["145"]=new c("145","146","146","0","0",1,.296357);this.J["146"]=new c("145","146","146","0","0",1,-.691659);this.J["18"]=new c("37","38","38","9","1.5",0,0);this.J["37"]=new c("37","38","38","0","0",1,.993951);this.J["38"]=new c("75","76","75","0","19",0,0);this.J["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new c("147","148","147","0","0",1,-.346535);this.J["148"]=new c("147","148","147","0","0",1,-.995745);this.J["76"]=new c("147","148","147","0","0",1,-.99978);this.J["4"]=new c("9","10","9","5","4.5",0,0);this.J["9"]=new c("19","20","19","2","4.5",0,0);this.J["19"]=new c("39","40","39","140","7.5",0,0);this.J["39"]=new c("77","78","78","134","6.5",0,0);this.J["77"]=new c("149","150","150","7","11.5",0,0);this.J["149"]=new c("149","150","150","0","0",1,.729843);this.J["150"]=new c("149","150","150","0","0",1,.383857);this.J["78"]=new c("151","152","151","133","4.5",0,0);this.J["151"]=new c("151","152","151","0","0",1,.39017);this.J["152"]=new c("151","152","151","0","0",1,.0434342);this.J["40"]=new c("79","80","79","133","3.5",0,0);this.J["79"]=new c("153","154","154","8","4.5",0,0);this.J["153"]=new c("153","154","154","0","0",1,-.99536);this.J["154"]=new c("153","154","154","0","0",1,-.00943396);this.J["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new c("155","156","155","0","0",1,.266272);this.J["156"]=new c("155","156","155","0","0",1,.959904);this.J["20"]=new c("41","42","42","10","65.5",0,0);this.J["41"]=new c("81","82","82","7","10.5",0,0);this.J["81"]=new c("157","158","158","2","37.5",0,0);this.J["157"]=new c("157","158","158","0","0",1,-.701873);this.J["158"]=new c("157","158","158","0","0",1,.224649);this.J["82"]=new c("159","160","159","133","9.5",0,0);this.J["159"]=new c("159","160","159","0","0",1,.0955181);this.J["160"]=new c("159","160","159","0","0",1,-.58962);this.J["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new c("161","162","161","135","31",0,0);this.J["161"]=new c("161","162","161","0","0",1,-.229692);this.J["162"]=new c("161","162","161","0","0",1,.88595);this.J["84"]=new c("163","164","164","1","13.5",0,0);this.J["163"]=new c("163","164","164","0","0",1,-.992157);this.J["164"]=new c("163","164","164","0","0",1,.922159);this.J["10"]=new c("21","22","22","4","486",0,0);this.J["21"]=new c("43","44","44","133","4.5",0,0);this.J["43"]=new c("85","86","86","10","4.5",0,0);this.J["85"]=new c("165","166","166","4","158.5",0,0);this.J["165"]=new c("165","166","166","0","0",1,-.127778);this.J["166"]=new c("165","166","166","0","0",1,.955189);this.J["86"]=new c("165","166","166","0","0",1,-.994012);this.J["44"]=new c("87","88","88","1","3.5",0,0);this.J["87"]=new c("167","168","168","135","7",0,0);this.J["167"]=new c("167","168","168","0","0",1,-.997015);this.J["168"]=new c("167","168","168","0","0",1,.400821);this.J["88"]=new c("169","170","169","130","36",0,0);this.J["169"]=new c("169","170","169","0","0",1,-.898638);this.J["170"]=new c("169","170","169","0","0",1,.56129);this.J["22"]=new c("45","46","45","9","2.5",0,0);this.J["45"]=new c("89","90","90","9","1.5",0,0);this.J["89"]=new c("171","172","171","10","10.5",0,0);this.J["171"]=new c("171","172","171","0","0",1,.573986);this.J["172"]=new c("171","172","171","0","0",1,-.627266);this.J["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new c("173","174","173","0","0",1,.925273);this.J["174"]=new c("173","174","173","0","0",1,-.994805);this.J["46"]=new c("91","92","91","136","5.5",0,0);this.J["91"]=new c("175","176","175","10","10.5",0,0);this.J["175"]=new c("175","176","175","0","0",1,.548352);this.J["176"]=new c("175","176","175","0","0",1,-.879195);this.J["92"]=new c("177","178","178","8","14.5",0,0);this.J["177"]=new c("177","178","178","0","0",1,.457305);this.J["178"]=new c("177","178","178","0","0",1,-.998992);this.J["2"]=new c("5","6","5","10","2.5",0,0);this.J["5"]=new c("11","12","11","9","4.5",0,0);this.J["11"]=new c("23","24","24","10","4.00001",0,0);this.J["23"]=new c("47","48","48","133","5.5",0,0);this.J["47"]=new c("93","94","93","3","13.5",0,0);this.J["93"]=new c("179","180","179","138","15.5",0,0);this.J["179"]=new c("179","180","179","0","0",1,.658398);this.J["180"]=new c("179","180","179","0","0",1,-.927007);this.J["94"]=new c("181","182","182","3","15.5",0,0);this.J["181"]=new c("181","182","182","0","0",1,-.111351);this.J["182"]=new c("181","182","182","0","0",1,-.99827);this.J["48"]=new c("95","96","95","7","167",0,0);this.J["95"]=new c("183","184","183","132","36.5",0,0);this.J["183"]=new c("183","184","183","0","0",1,.895161);this.J["184"]=new c("183","184","183","0","0",1,-.765217);this.J["96"]=new c("185","186","186","137","6.00001",0,0);this.J["185"]=new c("185","186","186","0","0",1,-.851095);this.J["186"]=new c("185","186","186","0","0",1,.674286);this.J["24"]=new c("49","50","49","137","5.5",0,0);this.J["49"]=new c("97","98","97","5","23.5",0,0);this.J["97"]=new c("187","188","187","3","28.5",0,0);this.J["187"]=new c("187","188","187","0","0",1,.951654);this.J["188"]=new c("187","188","187","0","0",1,-.993808);this.J["98"]=new c("187","188","187","0","0",1,-.99705);this.J["50"]=new c("187","188","187","0","0",1,-.997525);this.J["12"]=new c("25","26","25","8","8.5",0,0);this.J["25"]=new c("51","52","52","10","4.00001",0,0);this.J["51"]=new c("99","100","100","133","5.5",0,0);this.J["99"]=new c("189","190","190","7","40.5",0,0);this.J["189"]=new c("189","190","190","0","0",1,.151839);this.J["190"]=new c("189","190","190","0","0",1,-.855517);this.J["100"]=new c("191","192","192","133","14.5",0,0);this.J["191"]=new c("191","192","192","0","0",1,.86223);this.J["192"]=new c("191","192","192","0","0",1,.544394);this.J["52"]=new c("101","102","101","135","47.5",0,0);this.J["101"]=new c("193","194","194","4","24.5",0,0);this.J["193"]=new c("193","194","194","0","0",1,.946185);this.J["194"]=new c("193","194","194","0","0",1,.811859);this.J["102"]=new c("193","194","194","0","0",1,-.991561);this.J["26"]=new c("53","54","54","132","6.5",0,0);this.J["53"]=new c("103","104","103","131","85",0,0);this.J["103"]=new c("195","196","196","134","16.5",0,0);this.J["195"]=new c("195","196","196","0","0",1,.0473538);this.J["196"]=new c("195","196","196","0","0",1,-.999401);this.J["104"]=new c("197","198","198","8","15.5",0,0);this.J["197"]=new c("197","198","198","0","0",1,.816129);this.J["198"]=new c("197","198","198","0","0",1,-.99322);this.J["54"]=new c("105","106","105","133","3.5",0,0);this.J["105"]=new c("105","106","105","0","0",1,-.998783);this.J["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new c("199","200","199","0","0",1,.528588);this.J["200"]=new c("199","200","199","0","0",1,-.998599);this.J["6"]=new c("13","14","14","10","7.5",0,0);this.J["13"]=new c("27","28","28","133","7.5",0,0);this.J["27"]=new c("55","56","56","10","4.5",0,0);this.J["55"]=new c("107","108","107","3","3.5",0,0);this.J["107"]=new c("201","202","201","4","17.5",0,0);this.J["201"]=new c("201","202","201","0","0",1,-.379512);this.J["202"]=new c("201","202","201","0","0",1,.15165);this.J["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new c("203","204","203","0","0",1,-.884606);this.J["204"]=new c("203","204","203","0","0",1,.265406);this.J["56"]=new c("109","110","109","136","6.5",0,0);this.J["109"]=new c("205","206","205","4","157.5",0,0);this.J["205"]=new c("205","206","205","0","0",1,-.0142737);this.J["206"]=new c("205","206","205","0","0",1,.691279);this.J["110"]=new c("205","206","205","0","0",1,-.998086);this.J["28"]=new c("57","58","58","138","11.5",0,0);this.J["57"]=new c("111","112","112","2","6.5",0,0);this.J["111"]=new c("207","208","208","7","67.5",0,0);this.J["207"]=new c("207","208","208","0","0",1,.763925);this.J["208"]=new c("207","208","208","0","0",1,-.309645);this.J["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new c("209","210","209","0","0",1,-.306635);this.J["210"]=new c("209","210","209","0","0",1,.556696);this.J["58"]=new c("113","114","113","138","50.5",0,0);this.J["113"]=new c("211","212","212","8","25.5",0,0);this.J["211"]=new c("211","212","212","0","0",1,.508234);this.J["212"]=new c("211","212","212","0","0",1,.793551);this.J["114"]=new c("211","212","212","0","0",1,-.998438);this.J["14"]=new c("29","30","29","134","27.5",0,0);this.J["29"]=new c("59","60","60","7","17.5",0,0);this.J["59"]=new c("115","116","115","135","5.5",0,0);this.J["115"]=new c("213","214","214","137","5.5",0,0);this.J["213"]=new c("213","214","214","0","0",1,.401747);this.J["214"]=new c("213","214","214","0","0",1,.0367503);this.J["116"]=new c("215","216","216","8","5.5",0,0);this.J["215"]=new c("215","216","216","0","0",1,-.0241984);this.J["216"]=new c("215","216","216","0","0",1,-.999046);this.J["60"]=new c("117","118","117","0","12.5",0,0);this.J["117"]=new c("217","218","218","132","5.5",0,0);this.J["217"]=new c("217","218","218","0","0",1,-.997294);this.J["218"]=new c("217","218","218","0","0",1,.210398);this.J["118"]=new c("219","220","219","137","1.5",0,0);this.J["219"]=new c("219","220","219","0","0",1,-.55763);this.J["220"]=new c("219","220","219","0","0",1,.074493);this.J["30"]=new c("61","62","62","133","42.5",0,0);this.J["61"]=new c("119","120","119","135","5.5",0,0);this.J["119"]=new c("221","222","222","4","473.5",0,0);this.J["221"]=new c("221","222","222","0","0",1,-.920213);this.J["222"]=new c("221","222","222","0","0",1,-.17615);this.J["120"]=new c("223","224","224","5","144",0,0);this.J["223"]=new c("223","224","224","0","0",1,-.954295);this.J["224"]=new c("223","224","224","0","0",1,-.382538);this.J["62"]=new c("121","122","121","133","50",0,0);this.J["121"]=new c("225","226","226","10","18.5",0,0);this.J["225"]=new c("225","226","226","0","0",1,-.0731343);this.J["226"]=new c("225","226","226","0","0",1,.755454);this.J["122"]=new c("227","228","228","0","30",0,0);this.J["227"]=new c("227","228","228","0","0",1,.25);this.J["228"]=new c("227","228","228","0","0",1,-.997101);}function k(d,g,h,m,n,r){this.j7=n;this.k1=r;}b=a(526);l=a(292);a={};a.Plb=new (function(){this.jgb=l();this.G=0;this.update=function(){this.G=l() - this.jgb;};this.getValue=function(){return this.G;};this.type="num";})();a.qGb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouAdded" === h.Va[d].context || null;};this.type="cat";})();a.rGb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouLiked" === h.Va[d].context || null;};this.type="cat";})();a.tGb=new (function(){this.getValue=function(d,g,h){return this.G="billboard" === h.Va[d].context || null;};this.type="cat";})();a.uGb=new (function(){this.getValue=function(d,g,h){return this.G="continueWatching" === h.Va[d].context || null;};this.type="cat";})();a.sGb=new (function(){this.getValue=function(d,g,h){return this.G="bigRow" === h.Va[d].context || null;};this.type="cat";})();a.vGb=new (function(){this.getValue=function(d,g,h){return this.G="genre" === h.Va[d].context || null;};this.type="cat";})();a.wGb=new (function(){this.getValue=function(d,g,h){return this.G="netflixOriginals" === h.Va[d].context || null;};this.type="cat";})();a.xGb=new (function(){this.getValue=function(d,g,h){return this.G="newRelease" === h.Va[d].context || null;};this.type="cat";})();a.yGb=new (function(){this.getValue=function(d,g,h){return this.G="popularTitles" === h.Va[d].context || null;};this.type="cat";})();a.zGb=new (function(){this.getValue=function(d,g,h){return this.G="queue" === h.Va[d].context || null;};this.type="cat";})();a.AGb=new (function(){this.getValue=function(d,g,h){return this.G="recentlyAdded" === h.Va[d].context || null;};this.type="cat";})();a.BGb=new (function(){this.getValue=function(d,g,h){return this.G="similars" === h.Va[d].context || null;};this.type="cat";})();a.DGb=new (function(){this.getValue=function(d,g,h){return this.G="trendingNow" === h.Va[d].context || null;};this.type="cat";})();a.EGb=new (function(){this.getValue=function(d,g,h){return this.G="ultraHD" === h.Va[d].context || null;};this.type="cat";})();a.FGb=new (function(){this.getValue=function(d,g,h){return this.G="watchAgain" === h.Va[d].context || null;};this.type="cat";})();a.CGb=new (function(){this.getValue=function(d,g,h){return this.G="topTen" === h.Va[d].context || null;};this.type="cat";})();a.Bmb=new (function(){this.update=function(d){for(var g in d.Va){if("becauseYouAdded" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Cmb=new (function(){this.update=function(d){for(var g in d.Va){if("becauseYouLiked" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Fmb=new (function(){this.update=function(d){for(var g in d.Va){if("billboard" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Hpb=new (function(){this.update=function(d){for(var g in d.Va){if("continueWatching" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Emb=new (function(){this.update=function(d){for(var g in d.Va){if("bigRow" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.$xb=new (function(){this.update=function(d){for(var g in d.Va){if("genre" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.yJb=new (function(){this.update=function(d){for(var g in d.Va){if("netflixOriginals" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.AJb=new (function(){this.update=function(d){for(var g in d.Va){if("newRelease" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.cNb=new (function(){this.update=function(d){for(var g in d.Va){if("popularTitles" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.eo=new (function(){this.update=function(d){for(var g in d.Va){if("queue" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.ROb=new (function(){this.update=function(d){for(var g in d.Va){if("recentlyAdded" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.iTb=new (function(){this.update=function(d){for(var g in d.Va){if("similars" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.NVb=new (function(){this.update=function(d){for(var g in d.Va){if("trendingNow" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.gWb=new (function(){this.update=function(d){for(var g in d.Va){if("ultraHD" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.gYb=new (function(){this.update=function(d){for(var g in d.Va){if("watchAgain" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.xVb=new (function(){this.update=function(d){for(var g in d.Va){if("topTen" === d.Va[g].context){this.G=Math.max(d.Va[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Spb=new (function(){this.getValue=function(d,g,h){return this.G="AR" === h.Ua || null;};this.type="cat";})();a.Tpb=new (function(){this.getValue=function(d,g,h){return this.G="AT" === h.Ua || null;};this.type="cat";})();a.Upb=new (function(){this.getValue=function(d,g,h){return this.G="AU" === h.Ua || null;};this.type="cat";})();a.Vpb=new (function(){this.getValue=function(d,g,h){return this.G="AZ" === h.Ua || null;};this.type="cat";})();a.Wpb=new (function(){this.getValue=function(d,g,h){return this.G="BB" === h.Ua || null;};this.type="cat";})();a.Xpb=new (function(){this.getValue=function(d,g,h){return this.G="BE" === h.Ua || null;};this.type="cat";})();a.Ypb=new (function(){this.getValue=function(d,g,h){return this.G="BO" === h.Ua || null;};this.type="cat";})();a.Zpb=new (function(){this.getValue=function(d,g,h){return this.G="BR" === h.Ua || null;};this.type="cat";})();a.$pb=new (function(){this.getValue=function(d,g,h){return this.G="BS" === h.Ua || null;};this.type="cat";})();a.aqb=new (function(){this.getValue=function(d,g,h){return this.G="CA" === h.Ua || null;};this.type="cat";})();a.bqb=new (function(){this.getValue=function(d,g,h){return this.G="CH" === h.Ua || null;};this.type="cat";})();a.cqb=new (function(){this.getValue=function(d,g,h){return this.G="CL" === h.Ua || null;};this.type="cat";})();a.dqb=new (function(){this.getValue=function(d,g,h){return this.G="CO" === h.Ua || null;};this.type="cat";})();a.eqb=new (function(){this.getValue=function(d,g,h){return this.G="CR" === h.Ua || null;};this.type="cat";})();a.fqb=new (function(){this.getValue=function(d,g,h){return this.G="CW" === h.Ua || null;};this.type="cat";})();a.gqb=new (function(){this.getValue=function(d,g,h){return this.G="DE" === h.Ua || null;};this.type="cat";})();a.hqb=new (function(){this.getValue=function(d,g,h){return this.G="DK" === h.Ua || null;};this.type="cat";})();a.iqb=new (function(){this.getValue=function(d,g,h){return this.G="DM" === h.Ua || null;};this.type="cat";})();a.jqb=new (function(){this.getValue=function(d,g,h){return this.G="DO" === h.Ua || null;};this.type="cat";})();a.kqb=new (function(){this.getValue=function(d,g,h){return this.G="EC" === h.Ua || null;};this.type="cat";})();a.lqb=new (function(){this.getValue=function(d,g,h){return this.G="EE" === h.Ua || null;};this.type="cat";})();a.mqb=new (function(){this.getValue=function(d,g,h){return this.G="EG" === h.Ua || null;};this.type="cat";})();a.nqb=new (function(){this.getValue=function(d,g,h){return this.G="ES" === h.Ua || null;};this.type="cat";})();a.oqb=new (function(){this.getValue=function(d,g,h){return this.G="FI" === h.Ua || null;};this.type="cat";})();a.pqb=new (function(){this.getValue=function(d,g,h){return this.G="FR" === h.Ua || null;};this.type="cat";})();a.qqb=new (function(){this.getValue=function(d,g,h){return this.G="GB" === h.Ua || null;};this.type="cat";})();a.rqb=new (function(){this.getValue=function(d,g,h){return this.G="GF" === h.Ua || null;};this.type="cat";})();a.sqb=new (function(){this.getValue=function(d,g,h){return this.G="GP" === h.Ua || null;};this.type="cat";})();a.tqb=new (function(){this.getValue=function(d,g,h){return this.G="GT" === h.Ua || null;};this.type="cat";})();a.uqb=new (function(){this.getValue=function(d,g,h){return this.G="HK" === h.Ua || null;};this.type="cat";})();a.vqb=new (function(){this.getValue=function(d,g,h){return this.G="HN" === h.Ua || null;};this.type="cat";})();a.wqb=new (function(){this.getValue=function(d,g,h){return this.G="HR" === h.Ua || null;};this.type="cat";})();a.xqb=new (function(){this.getValue=function(d,g,h){return this.G="HU" === h.Ua || null;};this.type="cat";})();a.yqb=new (function(){this.getValue=function(d,g,h){return this.G="ID" === h.Ua || null;};this.type="cat";})();a.zqb=new (function(){this.getValue=function(d,g,h){return this.G="IE" === h.Ua || null;};this.type="cat";})();a.Aqb=new (function(){this.getValue=function(d,g,h){return this.G="IL" === h.Ua || null;};this.type="cat";})();a.Bqb=new (function(){this.getValue=function(d,g,h){return this.G="IN" === h.Ua || null;};this.type="cat";})();a.Cqb=new (function(){this.getValue=function(d,g,h){return this.G="IT" === h.Ua || null;};this.type="cat";})();a.Dqb=new (function(){this.getValue=function(d,g,h){return this.G="JE" === h.Ua || null;};this.type="cat";})();a.Eqb=new (function(){this.getValue=function(d,g,h){return this.G="JM" === h.Ua || null;};this.type="cat";})();a.Fqb=new (function(){this.getValue=function(d,g,h){return this.G="JP" === h.Ua || null;};this.type="cat";})();a.Gqb=new (function(){this.getValue=function(d,g,h){return this.G="KE" === h.Ua || null;};this.type="cat";})();a.Hqb=new (function(){this.getValue=function(d,g,h){return this.G="KN" === h.Ua || null;};this.type="cat";})();a.Iqb=new (function(){this.getValue=function(d,g,h){return this.G="KR" === h.Ua || null;};this.type="cat";})();a.Jqb=new (function(){this.getValue=function(d,g,h){return this.G="LU" === h.Ua || null;};this.type="cat";})();a.Kqb=new (function(){this.getValue=function(d,g,h){return this.G="MK" === h.Ua || null;};this.type="cat";})();a.Lqb=new (function(){this.getValue=function(d,g,h){return this.G="MU" === h.Ua || null;};this.type="cat";})();a.Mqb=new (function(){this.getValue=function(d,g,h){return this.G="MX" === h.Ua || null;};this.type="cat";})();a.Nqb=new (function(){this.getValue=function(d,g,h){return this.G="MY" === h.Ua || null;};this.type="cat";})();a.Oqb=new (function(){this.getValue=function(d,g,h){return this.G="NI" === h.Ua || null;};this.type="cat";})();a.Pqb=new (function(){this.getValue=function(d,g,h){return this.G="NL" === h.Ua || null;};this.type="cat";})();a.Qqb=new (function(){this.getValue=function(d,g,h){return this.G="NO" === h.Ua || null;};this.type="cat";})();a.Rqb=new (function(){this.getValue=function(d,g,h){return this.G="NZ" === h.Ua || null;};this.type="cat";})();a.Sqb=new (function(){this.getValue=function(d,g,h){return this.G="OM" === h.Ua || null;};this.type="cat";})();a.Tqb=new (function(){this.getValue=function(d,g,h){return this.G="PA" === h.Ua || null;};this.type="cat";})();a.Uqb=new (function(){this.getValue=function(d,g,h){return this.G="PE" === h.Ua || null;};this.type="cat";})();a.Vqb=new (function(){this.getValue=function(d,g,h){return this.G="PF" === h.Ua || null;};this.type="cat";})();a.Wqb=new (function(){this.getValue=function(d,g,h){return this.G="PH" === h.Ua || null;};this.type="cat";})();a.Xqb=new (function(){this.getValue=function(d,g,h){return this.G="PK" === h.Ua || null;};this.type="cat";})();a.Yqb=new (function(){this.getValue=function(d,g,h){return this.G="PL" === h.Ua || null;};this.type="cat";})();a.Zqb=new (function(){this.getValue=function(d,g,h){return this.G="PT" === h.Ua || null;};this.type="cat";})();a.$qb=new (function(){this.getValue=function(d,g,h){return this.G="PY" === h.Ua || null;};this.type="cat";})();a.arb=new (function(){this.getValue=function(d,g,h){return this.G="QA" === h.Ua || null;};this.type="cat";})();a.brb=new (function(){this.getValue=function(d,g,h){return this.G="RO" === h.Ua || null;};this.type="cat";})();a.crb=new (function(){this.getValue=function(d,g,h){return this.G="RS" === h.Ua || null;};this.type="cat";})();a.drb=new (function(){this.getValue=function(d,g,h){return this.G="RU" === h.Ua || null;};this.type="cat";})();a.erb=new (function(){this.getValue=function(d,g,h){return this.G="SA" === h.Ua || null;};this.type="cat";})();a.frb=new (function(){this.getValue=function(d,g,h){return this.G="SE" === h.Ua || null;};this.type="cat";})();a.grb=new (function(){this.getValue=function(d,g,h){return this.G="SG" === h.Ua || null;};this.type="cat";})();a.hrb=new (function(){this.getValue=function(d,g,h){return this.G="SV" === h.Ua || null;};this.type="cat";})();a.irb=new (function(){this.getValue=function(d,g,h){return this.G="SX" === h.Ua || null;};this.type="cat";})();a.jrb=new (function(){this.getValue=function(d,g,h){return this.G="TH" === h.Ua || null;};this.type="cat";})();a.krb=new (function(){this.getValue=function(d,g,h){return this.G="TR" === h.Ua || null;};this.type="cat";})();a.lrb=new (function(){this.getValue=function(d,g,h){return this.G="TT" === h.Ua || null;};this.type="cat";})();a.mrb=new (function(){this.getValue=function(d,g,h){return this.G="TW" === h.Ua || null;};this.type="cat";})();a.nrb=new (function(){this.getValue=function(d,g,h){return this.G="US" === h.Ua || null;};this.type="cat";})();a.orb=new (function(){this.getValue=function(d,g,h){return this.G="UY" === h.Ua || null;};this.type="cat";})();a.prb=new (function(){this.getValue=function(d,g,h){return this.G="VE" === h.Ua || null;};this.type="cat";})();a.qrb=new (function(){this.getValue=function(d,g,h){return this.G="ZA" === h.Ua || null;};this.type="cat";})();a.TOb=new (function(){this.getValue=function(d,g,h){return this.G=1 === h.Nh || null;};this.type="cat";})();a.UOb=new (function(){this.getValue=function(d,g,h){return this.G=10 === h.Nh || null;};this.type="cat";})();a.VOb=new (function(){this.getValue=function(d,g,h){return this.G=11 === h.Nh || null;};this.type="cat";})();a.WOb=new (function(){this.getValue=function(d,g,h){return this.G=12 === h.Nh || null;};this.type="cat";})();a.XOb=new (function(){this.getValue=function(d,g,h){return this.G=13 === h.Nh || null;};this.type="cat";})();a.YOb=new (function(){this.getValue=function(d,g,h){return this.G=14 === h.Nh || null;};this.type="cat";})();a.ZOb=new (function(){this.getValue=function(d,g,h){return this.G=15 === h.Nh || null;};this.type="cat";})();a.$Ob=new (function(){this.getValue=function(d,g,h){return this.G=16 === h.Nh || null;};this.type="cat";})();a.aPb=new (function(){this.getValue=function(d,g,h){return this.G=17 === h.Nh || null;};this.type="cat";})();a.bPb=new (function(){this.getValue=function(d,g,h){return this.G=18 === h.Nh || null;};this.type="cat";})();a.cPb=new (function(){this.getValue=function(d,g,h){return this.G=19 === h.Nh || null;};this.type="cat";})();a.dPb=new (function(){this.getValue=function(d,g,h){return this.G=2 === h.Nh || null;};this.type="cat";})();a.ePb=new (function(){this.getValue=function(d,g,h){return this.G=20 === h.Nh || null;};this.type="cat";})();a.fPb=new (function(){this.getValue=function(d,g,h){return this.G=21 === h.Nh || null;};this.type="cat";})();a.gPb=new (function(){this.getValue=function(d,g,h){return this.G=22 === h.Nh || null;};this.type="cat";})();a.hPb=new (function(){this.getValue=function(d,g,h){return this.G=23 === h.Nh || null;};this.type="cat";})();a.iPb=new (function(){this.getValue=function(d,g,h){return this.G=3 === h.Nh || null;};this.type="cat";})();a.jPb=new (function(){this.getValue=function(d,g,h){return this.G=4 === h.Nh || null;};this.type="cat";})();a.kPb=new (function(){this.getValue=function(d,g,h){return this.G=5 === h.Nh || null;};this.type="cat";})();a.lPb=new (function(){this.getValue=function(d,g,h){return this.G=6 === h.Nh || null;};this.type="cat";})();a.mPb=new (function(){this.getValue=function(d,g,h){return this.G=7 === h.Nh || null;};this.type="cat";})();a.nPb=new (function(){this.getValue=function(d,g,h){return this.G=8 === h.Nh || null;};this.type="cat";})();a.oPb=new (function(){this.getValue=function(d,g,h){return this.G=9 === h.Nh || null;};this.type="cat";})();a.tUb=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.vUb=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.uUb=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.wUb=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.dIb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.eIb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.pga);};this.getValue=function(){return this.G;};this.type="num";})();a.jIb=new (function(){this.gQ=this.G=0;this.update=function(d){this.gQ++;this.G=1 * (this.G + d.rowIndex) / this.gQ;};this.getValue=function(){return this.G;};this.type="num";})();a.kIb=new (function(){this.gQ=this.G=0;this.update=function(d){this.gQ++;return this.G=1 * (this.G + d.pga) / this.gQ;};this.getValue=function(){return this.G;};this.type="num";})();a.LNb=new (function(){this.getValue=function(d,g,h){return this.G=h.pga + g;};this.type="num";})();a.MNb=new (function(){this.getValue=function(d,g,h){return this.G=h.rowIndex + d;};this.type="num";})();f.prototype.FC=function(d){return this.FKa(this.J["0"].w2a(d),d);};f.prototype.FKa=function(d,g){return "string" == typeof d?this.FKa(this.J[d].w2a(g),g):d;};c.prototype.w2a=function(d){switch(this.uFb){case 0:switch(d.features[this.mX].type){case "cat":return null === d.features[this.mX].value?this.tZa:"missing" == d.features[this.mX].value?this.doa:this.f7a;case "num":return null === d.features[this.mX].value?this.doa:d.features[this.mX].value < this.split?this.f7a:this.tZa;default:return this.doa;}case 1:return this.FC;default:return this.FC;}};b.declare({NU:["modelSelector","modelone"],apb:["colEpisodeList",5],bDb:["holdDuration",15E3],m2a:["rowFirst",2],oOa:["colFirst",5],o2a:["rowScroll",2],pOa:["colScroll",6],JQb:["rowScrollHorizontal",6],aRb:["searchTop",3],APa:["cwFirst",2],PT:["horizontalItemsFocusedMode",3],wFb:["itemsPerRank",1],VHb:["maxNumberPayloadsStored",10],sYa:["maxNumberTitlesScheduled",5],t4b:["enableDetailedLogging",!0],o7b:["rowStep",20],U3b:["colStep",15],S6b:["pageRows",100],R6b:["pageColumns",75],wna:["maskParamsList",new (function(){var d,g;this.wna=[];this.Ae={};this.j7=20;this.k1=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.j7) + "_" + Math.floor(g / this.k1) in this.Ae) || (this.Ae[Math.floor(d / this.j7) + "_" + Math.floor(g / this.k1)]=1,this.wna.push(new k("grid",10,5,5,Math.floor(d / this.j7),Math.floor(g / this.k1))));}}})().wna],J:["nodes",new f().J],mapping:["mapping",{eIb:"0",kIb:"1",dIb:"2",jIb:"3",Plb:"4",wUb:"5",uUb:"6",vUb:"7",tUb:"8",MNb:"9",LNb:"10",qGb:"11",rGb:"12",tGb:"13",uGb:"14",sGb:"15",vGb:"16",wGb:"17",xGb:"18",yGb:"19",zGb:"20",AGb:"21",BGb:"22",CGb:"23",DGb:"24",EGb:"25",FGb:"26",TOb:"27",UOb:"28",VOb:"29",WOb:"30",XOb:"31",YOb:"32",ZOb:"33",$Ob:"34",aPb:"35",bPb:"36",cPb:"37",dPb:"38",ePb:"39",fPb:"40",gPb:"41",hPb:"42",iPb:"43",jPb:"44",kPb:"45",lPb:"46",mPb:"47",nPb:"48",oPb:"49",Spb:"50",Tpb:"51",Upb:"52",Vpb:"53",Wpb:"54",Xpb:"55",Ypb:"56",Zpb:"57",$pb:"58",aqb:"59",bqb:"60",cqb:"61",dqb:"62",eqb:"63",fqb:"64",gqb:"65",hqb:"66",iqb:"67",jqb:"68",kqb:"69",lqb:"70",mqb:"71",nqb:"72",oqb:"73",pqb:"74",qqb:"75",rqb:"76",sqb:"77",tqb:"78",uqb:"79",vqb:"80",wqb:"81",xqb:"82",yqb:"83",zqb:"84",Aqb:"85",Bqb:"86",Cqb:"87",Dqb:"88",Eqb:"89",Fqb:"90",Gqb:"91",Hqb:"92",Iqb:"93",Jqb:"94",Kqb:"95",Lqb:"96",Mqb:"97",Nqb:"98",Oqb:"99",Pqb:"100",Qqb:"101",Rqb:"102",Sqb:"103",Tqb:"104",Uqb:"105",Vqb:"106",Wqb:"107",Xqb:"108",Yqb:"109",Zqb:"110",$qb:"111",arb:"112",brb:"113",crb:"114",drb:"115",erb:"116",frb:"117",grb:"118",hrb:"119",irb:"120",jrb:"121",krb:"122",lrb:"123",mrb:"124",nrb:"125",orb:"126",prb:"127",qrb:"128",gYb:"129",ROb:"130",iTb:"131",eo:"132",Hpb:"133",$xb:"134",NVb:"135",xVb:"136",Fmb:"137",AJb:"138",gWb:"139",cNb:"140",Bmb:"141",Emb:"142",Cmb:"143",yJb:"144"}],features:["features",a],e3b:["_modelName","tree"],$2b:["_format","xgboost"],d3b:["_itemsToKeep",5],c3b:["_itemsThreshold",null],E3b:["cacheLimit",20]});q.exports={config:b,P5b:k,Z3b:c};},function(q,b,a){q.exports=a(530);},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(531);pb._cad_global={};pb.DEBUG=!1;a(12);a(11);a(17);a(24);a(47);a(86);a(1193);a(523);a(61);a(51);a(21);a(72);a(63);a(1194);a(279);a(322);a(1195);a(499);a(1196);a(496);a(503);a(501);a(502);a(524);a(490);a(491);a(493);a(274);a(273);a(1197);a(13);a(515);a(1198);a(155);a(71);a(497);a(152);a(435);a(436);a(258);a(1199);a(1200);a(461);a(1201);a(455);a(276);a(453);a(275);a(489);a(1202);a(278);a(505);a(186);a(525);a(117);a(1203);a(100);a(1210);a(1211);a(1212);a(1213);a(1215);a(1217);a(504);a(62);a(1218);a(500);a(439);a(498);a(514);a(1219);a(1220);a(291);a(160);a(1221);a(1222);a(1223);a(1225);a(1226);a(494);},function(q,b,a){(function(c){var f;(function(k){var D,G,I,J,H,M,O,L,P;function l(R,K,Q){var N;N=P.get(R);if(!N){if(!Q)return;N=new O();P.set(R,N);}R=N.get(K);if(!R){if(!Q)return;R=new O();N.set(K,R);}return R;}function d(R,K,Q){if(g(R,K,Q))return !0;K=v(K);return null !== K?d(R,K,Q):!1;}function g(R,K,Q){K=l(K,Q,!1);return void 0 !== K && ! !K.has(R);}function h(R,K,Q){if(g(R,K,Q))return m(R,K,Q);K=v(K);return null !== K?h(R,K,Q):void 0;}function m(R,K,Q){K=l(K,Q,!1);return void 0 === K?void 0:K.get(R);}function n(R,K){var Q,da;Q=r(R,K);R=v(R);if(null === R)return Q;K=n(R,K);if(0 >= K.length)return Q;if(0 >= Q.length)return K;R=new L();for(var N=0;N < Q.length;N++){da=Q[N];R.add(da);}for(Q=0;Q < K.length;Q++){da=K[Q];R.add(da);}return z(R);}function r(R,K){var Q;R=l(R,K,!1);Q=[];R && y(R,function(N,da){return Q.push(da);});return Q;}function p(R){return void 0 === R;}function u(R){return Array.isArray?Array.isArray(R):R instanceof Array || "[object Array]" === Object.prototype.toString.call(R);}function t(R){return "object" === typeof R?null !== R:"function" === typeof R;}function w(R){return "symbol" === typeof R?R:String(R);}function v(R){var K,Q;K=Object.getPrototypeOf(R);if("function" !== typeof R || R === M || K !== M)return K;Q=R.prototype;Q=Q && Object.getPrototypeOf(Q);if(null == Q || Q === Object.prototype)return K;Q=Q.constructor;return "function" !== typeof Q || Q === R?K:Q;}function x(R){R=R.next();return R.done?void 0:R;}function y(R,K,Q){var N,da,na;N=R.entries;if("function" === typeof N){N=N.call(R);try{for(;da=x(N);){na=da.value;K.call(Q,na[1],na[0],R);}}finally{da && (R=N["return"]) && R.call(N);}}else (N=R.forEach,"function" === typeof N && N.call(R,K,Q));}function z(R){var K;K=[];y(R,function(Q,N){K.push(N);});return K;}function B(R,K,Q){var N;N=0;return {next:function(){var da;if((R || K) && N < (R || K).length){da=N++;switch(Q){case "key":return {value:R[da],done:!1};case "value":return {value:K[da],done:!1};case "key+value":return {value:[R[da],K[da]],done:!1};}}K=R=void 0;return {value:void 0,done:!0};},"throw":function(da){if(R || K)K=R=void 0;throw da;},"return":function(da){if(R || K)K=R=void 0;return {value:da,done:!0};}};}function A(){var R;R={};return (function(){function K(){this.Ur=[];this.Ro=[];this.VZ=R;this.UZ=-2;}Object.defineProperty(K.prototype,"size",{get:function(){return this.Ur.length;},enumerable:!0,configurable:!0});K.prototype.has=function(Q){return 0 <= this.q_(Q,!1);};K.prototype.get=function(Q){Q=this.q_(Q,!1);return 0 <= Q?this.Ro[Q]:void 0;};K.prototype.set=function(Q,N){Q=this.q_(Q,!0);this.Ro[Q]=N;return this;};K.prototype.delete=function(Q){var N;N=this.q_(Q,!1);if(0 <= N){Q=this.Ur.length;for(N+=1;N < Q;N++){this.Ur[N - 1]=this.Ur[N];this.Ro[N - 1]=this.Ro[N];}this.Ur.length--;this.Ro.length--;this.VZ=R;this.UZ=-2;return !0;}return !1;};K.prototype.clear=function(){this.Ur.length=0;this.Ro.length=0;this.VZ=R;this.UZ=-2;};K.prototype.keys=function(){return B(this.Ur,void 0,"key");};K.prototype.values=function(){return B(void 0,this.Ro,"value");};K.prototype.entries=function(){return B(this.Ur,this.Ro,"key+value");};K.prototype.q_=function(Q,N){var da;if(this.VZ === Q)return this.UZ;da=this.Ur.indexOf(Q);0 > da && N && (da=this.Ur.length,this.Ur.push(Q),this.Ro.push(void 0));return (this.VZ=Q,this.UZ=da);};return K;})();}function C(){return (function(){function R(){this.wl=new O();}Object.defineProperty(R.prototype,"size",{get:function(){return this.wl.size;},enumerable:!0,configurable:!0});R.prototype.has=function(K){return this.wl.has(K);};R.prototype.add=function(K){return (this.wl.set(K,K),this);};R.prototype.delete=function(K){return this.wl.delete(K);};R.prototype.clear=function(){this.wl.clear();};R.prototype.keys=function(){return this.wl.keys();};R.prototype.values=function(){return this.wl.values();};R.prototype.entries=function(){return this.wl.entries();};return R;})();}function E(){var N,da;function R(na,va){for(var ra=0;ra < va;++ra){na[ra]=255 * Math.random() | 0;}return na;}function K(){var na,X;do {na="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):R(new Uint8Array(16),16):R(Array(16),16);na[6]=na[6] & 79 | 64;na[8]=na[8] & 191 | 128;for(var va="",ra=0;16 > ra;++ra){X=na[ra];if(4 === ra || 6 === ra || 8 === ra)va+="-";16 > X && (va+="0");va+=X.toString(16).toLowerCase();}na="@@WeakMap@@" + va;}while(H.has(N,na));N[na]=!0;return na;}function Q(na,va){if(!D.call(na,da)){if(!va)return;Object.defineProperty(na,da,{value:J()});}return na[da];}N=J();da=K();return (function(){function na(){this.wQ=K();}na.prototype.has=function(va){va=Q(va,!1);return void 0 !== va?H.has(va,this.wQ):!1;};na.prototype.get=function(va){va=Q(va,!1);return void 0 !== va?H.get(va,this.wQ):void 0;};na.prototype.set=function(va,ra){Q(va,!0)[this.wQ]=ra;return this;};na.prototype.delete=function(va){va=Q(va,!1);return void 0 !== va?delete va[this.wQ]:!1;};na.prototype.clear=function(){this.wQ=K();};return na;})();}function F(R){R.X2b=1;delete R.Y2b;return R;}D=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;I=(function(){var K;function R(){}K={};R.prototype=K;return new R().__proto__ === K;})();J=G?function(){return F(Object.create(null));}:I?function(){return F({__proto__:null});}:function(){return F({});};(function(R){var K;K=!G && !I;R.has=K?function(Q,N){return D.call(Q,N);}:function(Q,N){return (N in Q);};R.get=K?function(Q,N){return D.call(Q,N)?Q[N]:void 0;}:function(Q,N){return Q[N];};})(H || (H={}));M=Object.getPrototypeOf(Function);O="function" === typeof Map?Map:A();L="function" === typeof Set?Set:C();P=new ("function" === typeof WeakMap?WeakMap:E())();k.Jq=function(R,K,Q,N){var na;if(p(N)){if(p(Q)){if(!u(R))throw new TypeError();if("function" !== typeof K)throw new TypeError();for(Q=R.length - 1;0 <= Q;--Q){if((N=(0,R[Q])(K),!p(N))){if("function" !== typeof N)throw new TypeError();K=N;}}return K;}if(!u(R))throw new TypeError();if(!t(K))throw new TypeError();Q=w(Q);for(N=R.length - 1;0 <= N;--N){(0,R[N])(K,Q);}}else {if(!u(R))throw new TypeError();if(!t(K))throw new TypeError();if(p(Q))throw new TypeError();if(!t(N))throw new TypeError();Q=w(Q);for(var da=R.length - 1;0 <= da;--da){na=(0,R[da])(K,Q,N);if(!p(na)){if(!t(na))throw new TypeError();N=na;}}return N;}};k.xd=function(R,K){return function(Q,N){if(p(N)){if("function" !== typeof Q)throw new TypeError();l(Q,void 0,!0).set(R,K);}else {if(!t(Q))throw new TypeError();N=w(N);l(Q,N,!0).set(R,K);}};};k.wha=function(R,K,Q){var N;if(!t(Q))throw new TypeError();p(N) || (N=w(N));l(Q,N,!0).set(R,K);};k.HCb=function(R,K){var Q;if(!t(K))throw new TypeError();p(Q) || (Q=w(Q));return d(R,K,Q);};k.Wka=function(R,K){var Q;if(!t(K))throw new TypeError();p(Q) || (Q=w(Q));return g(R,K,Q);};k.getMetadata=function(R,K,Q){if(!t(K))throw new TypeError();p(Q) || (Q=w(Q));return h(R,K,Q);};k.V4b=function(R,K,Q){if(!t(K))throw new TypeError();p(Q) || (Q=w(Q));return m(R,K,Q);};k.T4b=function(R,K){if(!t(R))throw new TypeError();p(K) || (K=w(K));return n(R,K);};k.W4b=function(R,K){if(!t(R))throw new TypeError();p(K) || (K=w(K));return r(R,K);};k.c4b=function(R,K,Q){var N;if(!t(K))throw new TypeError();p(Q) || (Q=w(Q));N=l(K,Q,!1);if(p(N) || !N.delete(R))return !1;if(0 < N.size)return !0;R=P.get(K);R.delete(Q);if(0 < R.size)return !0;P.delete(K);return !0;};(function(R){if("undefined" !== typeof R.Reflect){if(R.Reflect !== k)for(var K in k){D.call(k,K) && (R.Reflect[K]=k[K]);}}else R.Reflect=k;})("undefined" !== typeof pb?pb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(f || (f={}));}).call(this,a(294));},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u;c=this && this.__awaiter || (function(t,w,v,x){return new (v || (v=Promise))(function(y,z){function B(E){try{C(x.next(E));}catch(F){z(F);}}function A(E){try{C(x["throw"](E));}catch(F){z(F);}}function C(E){E.done?y(E.value):new v(function(F){F(E.value);}).then(B,A);}C((x=x.apply(t,w || [])).next());});});f=this && this.__generator || (function(t,w){var y,z,B,A,C;function v(E){return function(F){return x([E,F]);};}function x(E){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,B && (A=B[E[0] & 2?"return":E[0]?"throw":"next"]) && !(A=A.call(B,E[1])).done))return A;if((B=0,A))E=[0,A.value];switch(E[0]){case 0:case 1:A=E;break;case 4:return (y.label++,{value:E[1],done:!1});case 5:y.label++;B=E[1];E=[0];continue;case 7:E=y.Tm.pop();y.gn.pop();continue;default:if(!(A=y.gn,A=0 < A.length && A[A.length - 1]) && (6 === E[0] || 2 === E[0])){y=0;continue;}if(3 === E[0] && (!A || E[1] > A[0] && E[1] < A[3]))y.label=E[1];else if(6 === E[0] && y.label < A[1])(y.label=A[1],A=E);else if(A && y.label < A[2])(y.label=A[2],y.Tm.push(E));else {A[2] && y.Tm.pop();y.gn.pop();continue;}}E=w.call(t,y);}catch(F){E=[6,F];B=0;}finally{z=A=0;}}if(E[0] & 5)throw E[1];return {value:E[0]?E[1]:void 0,done:!0};}y={label:0,Oe:function(){if(A[0] & 1)throw A[1];return A[1];},gn:[],Tm:[]};return (C={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});k=a(533);l=a(55);d=a(75);a(41);g=a(295);h=a(534);m=a(541);n=a(543);r=a(103);p=a(130);a(546);u=a(547);q=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + l.T8a);if(void 0 === w.fF)w.fF=d.Hr.GZ;else if(w.fF !== d.Hr.rba && w.fF !== d.Hr.GZ && w.fF !== d.Hr.Request)throw Error("" + l.R8a);if(void 0 === w.BR)w.BR=!1;else if("boolean" !== typeof w.BR)throw Error("" + l.Q8a);if(void 0 === w.YG)w.YG=!1;else if("boolean" !== typeof w.YG)throw Error("" + l.S8a);this.options={BR:w.BR,fF:w.fF,YG:w.YG};this.id=r.id();this.QI=new u.jbb();this.njb=[];this.parent=this.ida=null;this.hhb=new g.faa();}t.prototype.load=function(){var y,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.aJa();for(var x=0;x < w.length;x++){y=w[x];z=v(y.id);y.Eqa(z.UMa,z.F5a,z.LWa,z.g1a);}};t.prototype.pU=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var x,y,z,B,A;return f(this,function(C){switch(C.label){case 0:(x=this.aJa(),y=0,z=w,C.label=1);case 1:if(!(y < z.length))return [3,4];B=z[y];A=x(B.id);return [4,B.Eqa(A.UMa,A.F5a,A.LWa,A.g1a)];case 2:(C.Oe(),C.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};t.prototype.bind=function(w){var v;v=new k.e8a(w,this.options.fF || d.Hr.GZ);this.QI.add(w,v);return new n.g8a(v);};t.prototype.NOb=function(w){this.E5a(w);return this.bind(w);};t.prototype.E5a=function(w){try{this.QI.remove(w);}catch(v){throw Error(l.C8a + " " + p.hL(w));}};t.prototype.dWa=function(w){var v;v=this.QI.VUa(w);!v && this.parent && (v=this.parent.dWa(w));return v;};t.prototype.restore=function(){var w;w=this.njb.pop();if(void 0 === w)throw Error(l.Xbb);this.QI=w.ER;this.ida=w.MIb;};t.prototype.xrb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.$Ia(!1,!1,d.Lw.Fba,w);};t.prototype.getAll=function(w){return this.$Ia(!0,!0,d.Lw.Fba,w);};t.prototype.resolve=function(w){var v;v=this.xrb();v.bind(w).i5a();return v.get(w);};t.prototype.aJa=function(){var z;function w(B){return function(A){A=z.NOb.bind(z)(A);A.mc.iJb=B;return A;};}function v(){return function(B){return z.dWa.bind(z)(B);};}function x(){return function(B){z.E5a.bind(z)(B);};}function y(B){return function(A){A=z.bind.bind(z)(A);A.mc.iJb=B;return A;};}z=this;return function(B){return {UMa:y(B),LWa:v(B),g1a:w(B),F5a:x(B)};};};t.prototype.$Ia=function(w,v,x,y){var z;z=null;w={nmb:w,Gpb:function(B){return B;},QEb:v,key:void 0,ng:y,MUb:x,value:void 0};if(this.ida){if((z=this.ida(w),void 0 === z || null === z))throw Error(l.Qab);}else z=this.sib()(w);return z;};t.prototype.sib=function(){var w;w=this;return function(v){var x;x=h.zM(w.hhb,w,v.QEb,v.MUb,v.ng,v.key,v.value,v.nmb);x=v.Gpb(x);return m.resolve(x);};};return t;})();b.YX=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);f=a(103);q=(function(){function k(l,d){this.id=f.id();this.iea=!1;this.ng=l;this.scope=d;this.type=c.ej.bbb;this.YE=function(){return !0;};this.vK=this.Bv=this.dz=this.IK=this.cache=this.Nl=null;}k.prototype.clone=function(){var l;l=new k(this.ng,this.scope);l.iea=!1;l.Nl=this.Nl;l.vK=this.vK;l.scope=this.scope;l.type=this.type;l.IK=this.IK;l.dz=this.dz;l.YE=this.YE;l.Bv=this.Bv;l.cache=this.cache;return l;};return k;})();b.e8a=q;},function(q,b,a){var d,g,h,m,n,r,p,u,t,w,v,x;function c(y,z,B,A,C){var E,F;E=l(B.$a,C.ng);F=[];E.length === d.B9.xCa && B.$a.options.BR && "function" === typeof C.ng && y.KSa(C.ng).vOa && (B.$a.bind(C.ng).i5a(),E=l(B.$a,C.ng));F=z?E:E.filter(function(D){var G;G=new v.Request(D.ng,B,A,D,C);return D.YE(G);});f(C.ng,F,C,B.$a);return F;}function f(y,z,B,A){switch(z.length){case d.B9.xCa:if(B.sWa())return z;y=r.hL(y);z=g.Vbb;z+=r.pGb(y,B);z+=r.pXa(A,y,l);throw Error(z);case d.B9.mcb:if(!B.isArray())return z;default:if(B.isArray())return z;y=r.hL(y);z=g.j7a + " " + y;z+=r.pXa(A,y,l);throw Error(z);}}function k(y,z,B,A,C,E){var F;if(null === C){z=c(y,z,A,null,E);F=new v.Request(B,A,null,z,E);B=new t.kdb(A,F);A.zkb(B);}else (z=c(y,z,A,C,E),F=C.lLa(E.ng,z,E));z.forEach(function(D){var G,I,J;G=null;if(E.isArray())G=F.lLa(D.ng,D,E);else {if(D.cache)return;G=F;}if(D.type === h.ej.Instance && null !== D.Nl){I=w.czb(y,D.Nl);if(!A.$a.options.YG){J=w.wyb(y,D.Nl);if(I.length < J)throw (D=g.l7a(w.getFunctionName(D.Nl)),Error(D));}I.forEach(function(H){k(y,!1,H.ng,A,G,H);});}});}function l(y,z){var B,A;B=[];A=y.QI;A.VUa(z)?B=A.get(z):null !== y.parent && (B=l(y.parent,z));return B;}Object.defineProperty(b,"__esModule",{value:!0});d=a(535);g=a(55);h=a(75);m=a(41);n=a(296);r=a(130);p=a(536);u=a(64);t=a(537);w=a(538);v=a(540);x=a(298);b.M4b=function(y){return y.QI;};b.zM=function(y,z,B,A,C,E,F,D){void 0 === D && (D=!1);z=new p.Dwa(z);B=new u.Metadata(B?m.rD:m.fP,C);A=new x.EZ(A,"",C,B);void 0 !== E && (E=new u.Metadata(E,F),A.xd.push(E));try{return (k(y,D,C,z,null,A),z);}catch(G){throw (n.zWa(G) && z.zM && r.Dob(z.zM.mra),G);}};b.V3b=function(y,z,B,A){B=new x.EZ(h.Lw.Fba,"",z,new u.Metadata(B,A));y=new p.Dwa(y);return new v.Request(z,y,null,[],B);};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.B9={x0b:2,xCa:0,mcb:1};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);q=(function(){function f(k){this.id=c.id();this.$a=k;}f.prototype.zkb=function(k){this.zM=k;};return f;})();b.Dwa=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kdb=(function(){return function(a,c){this.tM=a;this.mra=c;};})();},function(q,b,a){var d,g,h,m,n,r;function c(p,u,t,w){var v,x,y,z,A,C,E,F,D,G,I,J;v=p.KSa(t);x=v.vOa;if(void 0 === x)throw Error(g.tbb + " " + u + ".");v=v.sXb;y=Object.keys(v);z=0 === t.length && 0 < y.length?y.length:t.length;y=[];for(var B=0;B < z;B++){A=B;C=w;E=u;F=x;D=v[A.toString()] || [];G=l(D);I=!0 !== G.cj;F=F[A];J=G.l || G.fG;F=J?J:F;F instanceof d.M$ && (F=F.qWb());if(I){I=F === Function;I=F === Object || I || void 0 === F;if(!C && I)throw Error(g.ubb + " argument " + A + " in class " + E + ".");A=new r.EZ(h.Lw.Cwa,G.PW,F);A.xd=D;D=A;}else D=null;null !== D && y.push(D);}p=f(p,t);return y.concat(p);}function f(p,u){var y,z,B;for(var t=p.YAb(u),w=[],v=0,x=Object.keys(t);v < x.length;v++){y=x[v];z=t[y];B=l(t[y]);y=new r.EZ(h.Lw.twa,B.PW || y,B.l || B.fG);y.xd=z;w.push(y);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (p=f(p,u),w=w.concat(p));return w;}function k(p,u){var t,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=n.getFunctionName(u);t=c(p,t,u,!0);w=t.map(function(v){return v.xd.filter(function(x){return x.key === m.RP;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:k(p,u);}return 0;}function l(p){var u;u={};p.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[m.fP],fG:u[m.rD],PW:u[m.TY],cj:u[m.RP]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(297);g=a(55);h=a(75);m=a(41);n=a(130);b.getFunctionName=n.getFunctionName;r=a(298);b.czb=function(p,u){var t;t=n.getFunctionName(u);return c(p,t,u,!1);};b.wyb=k;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c){this.DN=c;}a.prototype.startsWith=function(c){return 0 === this.DN.indexOf(c);};a.prototype.endsWith=function(c){var f;f=c.split("").reverse().join("");c=this.DN.split("").reverse().join("");return this.startsWith.call({DN:c},f);};a.prototype.contains=function(c){return -1 !== this.DN.indexOf(c);};a.prototype.equals=function(c){return this.DN === c;};a.prototype.value=function(){return this.DN;};return a;})();b.sdb=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);q=(function(){function f(k,l,d,g,h){this.id=c.id();this.ng=k;this.tM=l;this.Yy=d;this.target=h;this.cga=[];this.ER=Array.isArray(g)?g:[g];this.gQb=null === d?new Map():null;}f.prototype.lLa=function(k,l,d){k=new f(k,this.tM,this,l,d);this.cga.push(k);return k;};return f;})();b.Request=q;},function(q,b,a){var k,l,d,g,h;function c(m){return function(n){var r,p,u,t,w;r=n.ER;p=n.cga;u=n.target && n.target.isArray();t=!n.Yy || !n.Yy.target || !n.target || !n.Yy.target.KHb(n.target.ng);if(u && t)return p.map(function(v){return c(m)(v);});u=null;if(!n.target.sWa() || 0 !== r.length){w=r[0];r=w.scope === l.Hr.rba;t=w.scope === l.Hr.Request;if(r && w.iea)return w.cache;if(t && null !== m && m.has(w.id))return m.get(w.id);if(w.type === l.ej.Awa)u=w.cache;else if(w.type === l.ej.Function)u=w.cache;else if(w.type === l.ej.Bwa)u=w.Nl;else if(w.type === l.ej.Lxa && null !== w.vK)u=f("toDynamicValue",w.ng,function(){return w.vK(n.tM);});else if(w.type === l.ej.l$ && null !== w.IK)u=f("toFactory",w.ng,function(){return w.IK(n.tM);});else if(w.type === l.ej.mFa && null !== w.dz)u=f("toProvider",w.ng,function(){return w.dz(n.tM);});else if(w.type === l.ej.Instance && null !== w.Nl)u=h.sQb(w.Nl,p,c(m));else throw (p=g.hL(n.ng),Error(k.Mab + " " + p));"function" === typeof w.Bv && (u=w.Bv(n.tM,u));r && (w.cache=u,w.iea=!0);t && null !== m && !m.has(w.id) && m.set(w.id,u);return u;}};}function f(m,n,r){try{return r();}catch(p){if(d.zWa(p))throw Error(k.F8a(m,n.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});k=a(55);l=a(75);d=a(296);g=a(130);h=a(542);b.resolve=function(m){return c(m.zM.mra.gQb)(m.zM.mra);};},function(q,b,a){var k,l,d;function c(g,h,m){var n;h=h.filter(function(r){return null !== r.target && r.target.type === l.Lw.twa;});n=h.map(m);h.forEach(function(r,p){r=r.target.name.value();g[r]=n[p];});return g;}function f(g,h){var m;if(Reflect.HCb(d.zP,g)){m=Reflect.getMetadata(d.zP,g);try{h[m.value]();}catch(n){throw Error(k.bdb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});k=a(55);l=a(75);d=a(41);b.sQb=function(g,h,m){var n;n=null;0 < h.length?(n=h.filter(function(r){return null !== r.target && r.target.type === l.Lw.Cwa;}).map(m),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,h,m)):n=new g();f(g,n);return n;};},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(75);k=a(544);l=a(299);q=(function(){function d(g){this.mc=g;}d.prototype.to=function(g){this.mc.type=f.ej.Instance;this.mc.Nl=g;return new k.xva(this.mc);};d.prototype.i5a=function(){if("function" !== typeof this.mc.ng)throw Error("" + c.Sab);this.to(this.mc.ng);};d.prototype.si=function(g){this.mc.type=f.ej.Awa;this.mc.cache=g;this.mc.vK=null;this.mc.Nl=null;new l.$C(this.mc);};d.prototype.RC=function(g){this.mc.type=f.ej.Lxa;this.mc.cache=null;this.mc.vK=g;this.mc.Nl=null;return new k.xva(this.mc);};d.prototype.rVb=function(g){this.mc.type=f.ej.Bwa;this.mc.Nl=g;new l.$C(this.mc);};d.prototype.sf=function(g){this.mc.type=f.ej.l$;this.mc.IK=g;new l.$C(this.mc);};d.prototype.sVb=function(g){if("function" !== typeof g)throw Error(c.Pab);this.si(g);this.mc.type=f.ej.Function;};d.prototype.g5a=function(g){this.mc.type=f.ej.l$;this.mc.IK=function(h){return function(){return h.$a.get(g);};};new l.$C(this.mc);};d.prototype.WW=function(g){this.mc.type=f.ej.mFa;this.mc.dz=g;new l.$C(this.mc);};d.prototype.tVb=function(g){this.RC(function(h){return h.$a.get(g);});};return d;})();b.g8a=q;},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(545);f=a(192);k=a(193);q=(function(){function l(d){this.mc=d;this.ZP=new k.C9(this.mc);this.Wba=new f.QX(this.mc);this.nIa=new c.f8a(d);}l.prototype.$=function(){return this.nIa.$();};l.prototype.tla=function(){return this.nIa.tla();};l.prototype.when=function(d){return this.ZP.when(d);};l.prototype.xX=function(){return this.ZP.xX();};l.prototype.Bv=function(d){return this.Wba.Bv(d);};return l;})();b.xva=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);f=a(299);q=(function(){function k(l){this.mc=l;}k.prototype.$=function(){this.mc.scope=c.Hr.rba;return new f.$C(this.mc);};k.prototype.tla=function(){this.mc.scope=c.Hr.GZ;return new f.$C(this.mc);};return k;})();b.f8a=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zZb=(function(){function a(){}a.of=function(c,f){var k;k=new a();k.ER=c;k.MIb=f;return k;};return a;})();},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);q=(function(){function f(){this.wl=new Map();}f.prototype.add=function(k,l){var d;if(null === k || void 0 === k)throw Error(c.sP);if(null === l || void 0 === l)throw Error(c.sP);d=this.wl.get(k);void 0 !== d?(d.push(l),this.wl.set(k,d)):this.wl.set(k,[l]);};f.prototype.get=function(k){if(null === k || void 0 === k)throw Error(c.sP);k=this.wl.get(k);if(void 0 !== k)return k;throw Error(c.hAa);};f.prototype.remove=function(k){if(null === k || void 0 === k)throw Error(c.sP);if(!this.wl.delete(k))throw Error(c.hAa);};f.prototype.VUa=function(k){if(null === k || void 0 === k)throw Error(c.sP);return this.wl.has(k);};f.prototype.clone=function(){var k;k=new f();this.wl.forEach(function(l,d){l.forEach(function(g){return k.add(d,g.clone());});});return k;};return f;})();b.jbb=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);b.ad=(function(){return function(f){this.id=c.id();this.Eqa=f;};})();b.lva=(function(){return function(f){this.id=c.id();this.Eqa=f;};})();},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(41);b.R=function(){return function(k){var l;if(Reflect.Wka(f.raa,k))throw Error(c.$9a);l=Reflect.getMetadata(f.x9a,k) || [];Reflect.wha(f.raa,l,k);return k;};};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(64);f=a(88);b.F4a=function(k,l){return function(d,g,h){var m;m=new c.Metadata(k,l);"number" === typeof h?f.fH(d,g,h,m):f.OW(d,g,m);};};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);k=a(88);b.jZa=function(l){return function(d,g,h){var m;m=new f.Metadata(c.hA,l);"number" === typeof h?k.fH(d,g,h,m):k.OW(d,g,m);};};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);k=a(88);b.optional=function(){return function(l,d,g){var h;h=new f.Metadata(c.GCa,!0);"number" === typeof g?k.fH(l,d,g,h):k.OW(l,d,h);};};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);k=a(88);b.cj=function(){return function(l,d,g){var h;h=new f.Metadata(c.RP,!0);k.fH(l,d,g,h);};};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);k=a(88);b.fG=function(l){return function(d,g,h){var m;m=new f.Metadata(c.rD,l);"number" === typeof h?k.fH(d,g,h,m):k.OW(d,g,m);};};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(64);k=a(88);b.PW=function(l){return function(d,g,h){var m;m=new f.Metadata(c.TY,l);k.fH(d,g,h,m);};};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(41);k=a(64);b.s0a=function(){return function(l,d){d=new k.Metadata(f.zP,d);if(Reflect.Wka(f.zP,l.constructor))throw Error(c.Hbb);Reflect.wha(f.zP,d,l.constructor);};};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gZa=function(a){return function(c){return function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.forEach(function(l){return a.bind(l).tVb(c);});};};};},function(q,b,a){var d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C;function c(E,F){E=E.mv || E.xL?t.$Sa(F):E.ZT?v.iTa(F):E.w4?w.RTa(F):E.EL?x.hUa(F):u.GSa(F);this.sY=E.sY;this.O9=E.O9;}function f(E){this.Ud=E;}function k(E){var F;F=m.Kaa.call(this) || this;E.ZT?Object.assign(F,v.hTa()):E.w4?Object.assign(F,w.QTa()):E.mv || E.xL?Object.assign(F,t.ZSa()):E.EL?Object.assign(F,x.gUa()):Object.assign(F,u.FSa(E));return F;}function l(E){this.data=E.ZT?v.kTa(E):E.w4?w.TTa():E.mv || E.xL?t.bTa(E):E.EL?x.jUa():u.ISa(E);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.y8a=b.x8a=b.w8a=b.v8a=void 0;q=a(1);d=a(0);g=a(34);h=a(131);m=a(559);n=a(161);r=a(302);p=a(195);u=a(560);t=a(561);w=a(562);v=a(563);x=a(564);y=a(565);z=a(566);Xa.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},G5:{configurable:!0,enumerable:!0,get:function(){return this.data.G5;}},kp:{configurable:!0,enumerable:!0,get:function(){return this.data.kp;}},Kn:{configurable:!0,enumerable:!0,get:function(){return this.data.Kn;}},SK:{configurable:!0,enumerable:!0,get:function(){return this.data.SK;}},Wx:{configurable:!0,enumerable:!0,get:function(){return this.data.Wx;}},Dha:{configurable:!0,enumerable:!0,get:function(){return this.data.Dha;}},NPa:{configurable:!0,enumerable:!0,get:function(){return this.data.NPa;}},ana:{configurable:!0,enumerable:!0,get:function(){return this.data.ana;}},qS:{configurable:!0,enumerable:!0,get:function(){return this.data.qS;}},$ta:{configurable:!0,enumerable:!0,get:function(){return this.data.$ta;}},y0:{configurable:!0,enumerable:!0,get:function(){return this.data.y0;}},TV:{configurable:!0,enumerable:!0,get:function(){return this.data.TV;}}});B=l;B=q.__decorate([d.R(),q.__param(0,d.l(n.Vz))],B);b.v8a=B;ka(k,m.Kaa);A=k;A=q.__decorate([d.R(),q.__param(0,d.l(n.Vz))],A);b.w8a=A;f.prototype.apply=function(){this.Ud.ZT?Object.assign(this,v.jTa(this.Ud)):this.Ud.w4?Object.assign(this,w.STa(this.Ud)):this.Ud.mv || this.Ud.xL?Object.assign(this,t.aTa(this.Ud)):this.Ud.EL?Object.assign(this,x.iUa(this.Ud)):Object.assign(this,u.HSa(this.Ud));return this;};C=f;C=q.__decorate([d.R(),q.__param(0,d.l(n.Vz))],C);b.x8a=C;c=q.__decorate([d.R(),q.__param(0,d.l(n.Vz)),q.__param(1,d.l(g.Kk))],c);b.y8a=c;b.platform=new d.ad(function(E){E(g.Kk).to(B).$();E(h.BP).to(A).$();E(r.aEa).to(C).$();E(g.kA).to(c).$();E(p.Laa).sf(function(F){return function(){var D;D=F.$a.get(n.Vz);return D.mv || D.xL?{Nb:function(G,I,J){return new z.Kba(G,I,J);},request:y.ZHa}:D.EL?{Nb:function(G,I,J){return new (a(567))(G,I,J);},request:a(568)}:{};};});});},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Kaa=void 0;c=a(5);f=a(49);k=a(194);l=a(50);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Kaa=function(){this.MMa=this.RJ=k.kw.NY;this.Ora=!0;this.YA=[];this.hw=[];this.rC=this.yK=!1;this.$v=[l.Or.P9,l.Or.Ldb,l.Or.iI];this.Xe=void 0;this.gia=!0;this.g2=!1;this.oR=f.ca(288E4);this.qR=f.ca(335544320);this.My=c.uc(15E3);this.SHb=f.ca(6291456);this.ML=1E3;this.Lfa=!0;this.bta=d;this.MN=f.ca(0);this.k8=c.uc(0);this.TT=!0;};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.GSa=b.HSa=b.FSa=b.ISa=void 0;c=a(25);f=a(50);k=a(132);b.ISa=function(l){return Object.assign(Object.assign({},k.YK()),{kp:l.DWa?"T":l.wL?"C":"M",Kn:l.DWa?"NFCDTS-01-":l.pma?"NFCDCH-02-":l.$la?"NFCDCH-MC-":l.wL?"NFCDCH-01-":l.rEb?"NFCDCH-AP-":l.sEb?"NFCDCH-AT-":"NFCDCH-LX-",Wx:l.wL?"chromeos-cadmium":"chrome-cadmium",TV:l.wL});};b.FSa=function(l){var d;d=Object.assign(Object.assign({},k.WK()),{yK:!0,rC:!0});l.wL && (d.hw=[].concat(ca(f.O.n$),ca(f.O.k9),ca(f.O.IHa),ca(f.O.Bba),ca(f.O.Cba),ca(f.O.r$),ca(f.O.q$)));return d;};b.HSa=function(l){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Bi.LH,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= l.ks && (d=Object.assign(Object.assign({},d),{enableVP9:!0}));80 <= l.ks && (d=Object.assign(Object.assign({},d),{enableMediaCapabilities:!0}));l.wL && 89 <= l.ks && (d=Object.assign(Object.assign({},d),{enableHEVC:!0,enablePRK:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));return d;};b.GSa=function(l){return k.XK(l);};},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.$Sa=b.aTa=b.ZSa=b.bTa=void 0;c=a(25);f=a(104);k=a(50);l=a(194);d=a(132);b.bTa=function(g){return Object.assign(Object.assign({},d.YK()),{kp:g.mv?"D":"H",Kn:g.mv?g.$la?"NFCDIE-04-":"NFCDIE-03-":"NFCDIE-02-",Wx:"edge-cadmium",y0:!1,TV:!1});};b.ZSa=function(){return Object.assign(Object.assign({},d.WK()),{RJ:pb.crypto?l.kw.NY:l.kw.gAa,MMa:pb.crypto?l.kw.NY:l.kw.gAa,YA:[k.je.hD,k.je.iD,k.je.wO,k.je.xO],hw:[].concat(ca(k.O.n$),ca(k.O.k9),ca(k.O.IHa),ca(k.O.Bba),ca(k.O.Cba),ca(k.O.r$),ca(k.O.q$),ca(k.O.Xwa),ca(k.O.Wwa)),Xe:void 0,TT:!1});};b.aTa=function(g){var h,m,n,r,p,u,t;h={nudgeSourceBuffer:!0,audioCapabilityDetectorType:c.Wt.Bw,videoCapabilityDetectorType:c.Bi.Bw,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};m=g.xL;n=g.mv;r=g.pma;p=pb.MSMediaKeys && pb.MSMediaKeys.isTypeSupported(f.Ob.lu,"video/mp4");u=pb.MSMediaKeys && pb.MSMediaKeys.isTypeSupported(f.Ob.df,"video/mp4");u={prepareCadmium:!0,enableLdlPrefetch:!p || u,licenseRenewalRequestDelay:5E3,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};t={audioCapabilityDetectorType:c.Wt.Zt,videoCapabilityDetectorType:c.Bi.LH,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.Ob.VHa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:[k.je.hD,k.je.iD],videoProfiles:[k.O.XH,k.O.gD,k.O.IO,k.O.JO],enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};m && (14 <= g.ks && (h=Object.assign(Object.assign(Object.assign({},h),u),{microsoftEnableDeviceInfo:!0,microsoftAvcHighRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= g.ks && (h=Object.assign(Object.assign({},h),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= g.ks && (h=Object.assign(Object.assign({},h),{microsoftHwdrmRequiresHevc:!1})),17 <= g.ks && (h=Object.assign(Object.assign({},h),{enableDDPlusAtmos:!0})));n && (h=Object.assign(Object.assign({},h),u),r && (h=Object.assign(Object.assign({},h),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),p?(h=Object.assign(Object.assign({},h),{microsoftEnableDeviceInfo:!1,microsoftAvcHighRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0}),93 <= g.ks && (h=Object.assign(Object.assign({},h),{keySystemList:[f.Ob.mdb,f.Ob.ndb],useTypescriptEme:!0,enableCDMAttestedDescriptors:!0}))):h=Object.assign(Object.assign({},h),t));return h;};b.$Sa=function(g){return d.XK(g);};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.RTa=b.STa=b.QTa=b.TTa=void 0;c=a(25);f=a(132);b.TTa=function(){return Object.assign(Object.assign({},f.YK()),{kp:"O",Kn:"NFCDOP-01-",Wx:"opera-cadmium"});};b.QTa=function(){return Object.assign(Object.assign({},f.WK()),{yK:!0,rC:!0});};b.STa=function(k){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Bi.LH,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= k.ks && (l=Object.assign(Object.assign({},l),{enableVP9:!0}));return l;};b.RTa=function(k){return f.XK(k);};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.iTa=b.jTa=b.hTa=b.kTa=void 0;c=a(25);f=a(132);b.kTa=function(k){return Object.assign(Object.assign({},f.YK()),{kp:"F",Kn:k.$la?"NFCDFF-MC-":k.pma?"NFCDFF-02-":"NFCDFF-LX-",Wx:"firefox-cadmium"});};b.hTa=function(){return Object.assign(Object.assign({},f.WK()),{yK:!0,rC:!0});};b.jTa=function(k){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableGetHeadersAndMediaPrefetch:!0,enableLdlPrefetch:!0,enableUsingHeaderCount:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.Bi.LH,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};58 <= k.ks && (l=Object.assign(Object.assign({},l),{enableVP9:!0,preciseSeeking:!0}));return l;};b.iTa=function(k){return f.XK(k);};},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.hUa=b.iUa=b.gUa=b.jUa=void 0;c=a(5);f=a(25);k=a(104);l=a(50);d=a(132);b.jUa=function(){return Object.assign(Object.assign({},d.YK()),{kp:"S",Kn:"NFCDSF-01-",Wx:"safari-cadmium"});};b.gUa=function(){return Object.assign(Object.assign({},d.WK()),{YA:[l.je.hD,l.je.iD,l.je.EI],hw:[].concat(ca(l.O.n$),ca(l.O.k9),ca(l.O.Bba),ca(l.O.Cba),ca(l.O.r$),ca(l.O.q$),ca(l.O.Xwa),ca(l.O.Wwa)),Xe:k.Ob.I$a,My:c.uc(7E3)});};b.iUa=function(g){var h;h={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,appendInitSegmentAfterLicense:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.Bi.Zt,enableSeamless:!0};d.aU(g,10,12,2) && (h=Object.assign(Object.assign({},h),{keySystemId:"com.apple.fps.3_0",enableGetHeadersAndMediaPrefetch:!0,defaultHeaderCacheSize:15,enableUsingHeaderCount:!0,prepareCadmium:!0}));d.aU(g,10,13,6) && (h=Object.assign(Object.assign({},h),{enableLdlPrefetch:!0}));d.aU(g,10,15,5) && (h=Object.assign(Object.assign({},h),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));d.aU(g,10,15,6) && (h=Object.assign(Object.assign({},h),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));d.IWa(g,9) && (h=Object.assign(Object.assign({},h),{maxDecoderBufferMilliseconds:31E3}));return h;};b.hUa=function(g){return d.XK(g);};},function(q,b,a){var f;function c(k,l,d,g){this.log=k;this.yF=l;this.jz=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;f=a(3);c.prototype.ig=function(k){var l;l=this;(this.context.We || this.context.qk) && this.log.trace("Requesting license",{drmType:k.Jn});return this.yF(k).catch(function(d){l.log.error("Unable to get the Playready license",d);if(l.context.e8b)throw d;throw {X:!1,code:f.L.cI,jc:d.jc,wd:d.wd,Bm:d.Bm,Dj:d.message || d.Dj,EK:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Dj)};});};c.prototype.release=function(k){var l;l=this;this.log.trace("Requesting stop data");return this.jz(k).catch(function(d){l.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.jc,extCode:d.wd,edgeCode:d.Bm,message:d.message || d.Dj});throw {X:!1,code:f.L.eba,jc:d.jc,wd:d.wd,Bm:d.Bm,Dj:d.message || d.Dj,message:"Unable to release the PlayReady license. " + (d.message || d.Dj)};});};b.ZHa=c;pb._cad_global.WindowsDrmRequests=c;},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Kba=void 0;c=a(3);f=a(191);k=a(196);l=a(28);d=a(76);g=a(35);h=a(25);m=a(65);(function(){var z;function n(B,A,C){var E;E=this;this.log=B;this.Sm=A || y.bind(this);this.context=C;this.rV=this.challenge=this.keySystem=this.keySessionId=this.tb=this.mediaKeys=void 0;this.bd={};this.Oma=this.Csa=!1;this.eV=t.bind(this);this.rV=void 0;this.fua=new Promise(function(F,D){E.dra=F;E.Fqa=D;});this.fua.catch(function(F){E.log.error("wait for license rejected",F);});f.jd.get(h.qw).W2().then(function(F){(E.context.We || E.context.qk) && E.log.debug("DRIVERINFO: ",F);}).catch(function(F){E.log.error("DRIVERINFO",F);});this.Rm=function(F,D){E.Fqa(F,D);E.context.onerror(F,D);};this.Toa=function(){E.dra();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function r(){return f.jd.get(g.Rh);}function p(){return f.jd.get(l.Hf);}function u(B){var A,C;A=f.jd.get(k.uba);C="";B.forEach(function(E){C+="<KeyID>" + E + "</KeyID>";});B='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";A=new Uint8Array(A.o4a(B));(this.context.We || this.context.qk) && this.log.trace("LICENSE: proactive license cdm data",{xml:B,b64:r().encode(A)});return A;}function t(B){var A;A=B.target.error?B.target.error.msExtendedCode:void 0;this.log.error("Received " + B.type + " event",{sessionId:this.tb.sessionId,systemCode:A});if(this.context.onerror)this.context.onerror(z.af.oq,z.oA.Kr,A);this.tb=void 0;}function w(B,A,C){var F,D,G;for(var E=2;E < arguments.length;++E){;}E="";D=B.length;for(F=0;F < D;F++){G=B[F];0 < G && (E+=String.fromCharCode(G));}D="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){G=arguments[F];if(0 > E.search(G))return;G="(?:[^:].*:|)" + G;D="[\\s\\S]*<" + G + "[^>]*>" + D + "</" + G + ">[\\s\\S]*";}if(E=E.match(new RegExp(D)))return E[1];}function v(B,A,C,E){var F,D;F=B.target && B.target.sessionId;D=r().decode(w(B.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + B.type + " event",{keySystem:B.target && B.target.keySystem,sessionId:F});(C.context.We || C.context.qk || C.context.Kz) && C.log.debug("LICENSE: License challenge",r().encode(D));C.keySessionId=F;B={Qf:A,messageType:"license-request",Jn:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",zj:[{data:D,sessionId:F}]};12 === C.state && (C.Sm("lc"),D={data:D,Jn:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.rG || (C.rV=D));C.context.ml.ig(B).then(function(G){if(12 === C.state && (C.Sm("lr"),C.Toa(),!C.context.rG))(C.sV=G.Ni[0].data,C.state=13,E({X:!0,state:C.state}));else if(C.tb)return x(C,G.Ni[0].data,C.tb).then(function(){C.state=30;E({X:!0,state:C.state});});}).catch(function(G){E(p().cG(G,{state:C.state}));});}function x(B,A,C){B.o4() && B.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:r().encode(A)});return new Promise(function(E,F){try{B.tb.update(A);E(void 0);B.o4() && B.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(D){F({X:!1,code:z.af.fZ,message:"Unable to update the EME.",sb:p().vd(D)});}});}function y(B){this.context.wa && (this.bd[B]=this.context.wa.getTime(),this.log.trace("Milestone: " + B + ", " + this.bd[B]));}z={};z.af=c.L;z.oA=c.M;n.prototype.Pq=function(){return this.keySystem;};n.prototype.a6a=function(B,A){B.log && (this.log=B.log);B.Sm && (this.Sm=B.Sm);A.ml && (this.context.ml=A.ml);A.onerror && (this.context.onerror=A.onerror);};n.prototype.create=function(B){var A;A=this;return (B?Promise.resolve(B):f.jd.get(h.qw).Pq()).then(function(C){A.Sm("lg");A.log.trace("Creating the media keys",{keySystem:C});A.keySystem=C;try{if(!pb.MSMediaKeys.isTypeSupported(C,"video/mp4"))return Promise.reject({code:z.af.xP});}catch(E){return Promise.reject({code:z.af.xP});}if(A.context.EV)C=Promise.reject({X:!1,code:z.af.EO,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{A.mediaKeys=new pb.MSMediaKeys(C);}catch(E){C=Promise.reject({X:!1,code:z.af.TCa,message:"create MSMediaKeys(" + C + ") failed",sb:p().vd(E)});break a;}try{A.context.la && A.context.la.msSetMediaKeys(A.mediaKeys);}catch(E){C=Promise.reject({X:!1,code:z.af.mI,message:"set MSMediaKeys failed",sb:p().vd(E)});break a;}C=Promise.resolve({X:!0,mediaKeys:A.mediaKeys});}return C;});};n.prototype.close=function(){if(this.tb){this.log.info("Closing the session",{sessionId:this.tb.sessionId});this.tb.removeEventListener("mskeyerror",this.eV);try{this.tb.close();}catch(B){this.log.error("Failed to close the key sessions",B);}this.tb=void 0;}};n.prototype.ig=function(B,A,C){var E;if(1 < A.length)return Promise.reject({code:z.af.ZCa});if(0 === A.length)return Promise.reject({code:z.af.XCa});A=A[0];E=this;E.context.We && E.log.trace("LICENSE: Setting license");return E.context.EV?Promise.reject({X:!1,code:z.af.Sxa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,D){var G,I,J,H,M,O,L;try{I=function(P){E.tb && (E.tb.removeEventListener("mskeymessage",H),E.tb.removeEventListener("mskeyadded",M),E.tb.removeEventListener("mskeyerror",O),E.tb.addEventListener("mskeyerror",E.eV));P.state=11;P.X?F(P):(E.close(),D(P));};J=function(P){var R,K;R=[];K=Array.prototype.map.call(P,function(N){return N?String.fromCharCode(N):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(K)R.push(K[1]);else {P=w(P,"KIDS");K=/VALUE="(.+?)">/g;for(var Q=K.exec(P);null != Q;){R.push(Q[1]);Q=K.exec(P);}}return R;};H=function(P){G && clearTimeout(G);v(P,B,E,I);};M=function(P){(E.context.We || E.context.qk) && E.log.trace("LICENSE: Received " + P.type + " event",{keySystem:P.target.keySystem,sessionId:P.target.sessionId});I({X:!0});};O=function(P){var R,K;G && clearTimeout(G);if(P.target && P.target.error)(R=P.target.error.systemCode,K=P.target.error.code);R={code:z.af.oq,jc:z.oA.Kr,wd:R?f.jd.get(d.lw).rF(R,4):K,details:p().vd(P),cause:P.target && P.target.error,c8:R,n2:K};E.log.error("LICENSE: Received " + P.type + " event",{sessionId:E.tb && E.tb.sessionId,keySystem:P.target.keySystem,systemCode:R.c8,code:R.n2});E.Sm("le");E.Rm && E.Rm(z.af.oq,R);I({X:!1,code:z.af.oq,jc:z.oA.Kr,wd:R.wd,message:"Received a key error.",sb:R.details,cause:R.cause});};E.log.trace("LICENSE: Executing prefix based EME");(E.context.We || E.context.qk) && E.log.debug("LICENSE: PSSH",r().encode(A));E.nv || (E.nv=J(A));if(C){L=u.call(E,E.nv);E.tb=E.mediaKeys.createSession("video/mp4",new Uint8Array(0),L);}else E.tb=E.mediaKeys.createSession("video/mp4",A,null);(E.context.We || E.context.qk) && E.log.debug("LICENSE: Created the media keys sessions",{keySystem:E.tb.keySystem,sessionId:E.tb.sessionId});E.tb.addEventListener("mskeymessage",H);E.tb.addEventListener("mskeyadded",M);E.tb.addEventListener("mskeyerror",O);E.context.jGb && (G=setTimeout(function(){I({X:!1,code:z.af.yP,jc:z.oA.u$a});},E.context.jGb));}catch(P){D({code:z.af.yP,jc:z.oA.fj});}});})();};n.prototype.CG=function(){var B;(this.context.We || this.context.qk) && this.log.trace("LICENSE: Renewing license");B=[new Uint8Array(0)];return this.ig(m.gq.L$.Co,B,!0);};n.prototype.C0=function(B){this.sV || this.log.error("pending license must exist at this point");this.context.rG=!0;try{B && (this.context.la=B,this.context.la.msSetMediaKeys(this.mediaKeys));}catch(A){return Promise.reject({X:!1,code:z.af.mI,message:"setMediaKeys failed",sb:p().vd(A)});}return x(this,this.sV,this.tb);};n.prototype.qRa=function(B){var A,C;A=this;A.log.trace("Releasing the license of current session",JSON.stringify(B));C={ba:B.ba,ee:B.ee};return new Promise(function(E,F){(function(){A.context.ml.release.call(A.context.ml,C).then(function(){var D;A.log.trace("successfully released the license",JSON.stringify(B));D={X:!0};A.close();D.X?E(D):F(D);}).catch(function(D){A.log.error("Unable to release the license",{sessionId:A.keySessionId,code:D.code,subCode:D.jc,extCode:D.wd,edgeCode:D.Bm,message:D.Dj});A.close();D.X?E(D):F(D);});})();});};n.prototype.o4=function(){return this.context.We || this.context.qk;};b.Kba=n;pb._cad_global.WindowsEmeSession=b.Kba;})();},function(q,b,a){var v,x,y,z,B,A,C,E,F,D,G,I;function c(J,H,M){var O;O=this;this.log=J;this.Sm=H || w.bind(this);this.context=M;this.rV=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.bd={};this.Oi=void 0;this.url="";this.Oma=this.Csa=!1;this.eV=m.bind(this);this.mg=this.rV=void 0;this.fua=new Promise(function(L,P){O.dra=L;O.Fqa=P;});this.Rm=function(L,P){O.Fqa(L,P);O.context.onerror(L,P);};this.Toa=function(){O.dra();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function f(){return v.ha.get(B.ru);}function k(){return v.ha.get(z.Rh);}function l(){return v.ha.get(x.Hf);}function d(J){return (/com.apple.fps/).test(J) && !(/com.apple.fps.2_0/).test(J);}function g(J){var H;J=(function(M){var L,P;function O(R,K,Q,N){var da,na;da=new Uint8Array("piff" == K?88:72);na=new D.AO(da);na.Qz(12);na.Pz("frma");na.Pz(R);na.Qz(20);na.Pz("schm");na.CX(0);na.CX(0);na.Pz(K);na.Qz(Q);"piff" == K?(na.Qz(56),na.Pz("schi"),na.Qz(48),na.Pz("uuid"),na.BX([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(na.Qz(40),na.Pz("schi"),na.Qz(32),na.Pz("tenc"));na.CX(0);na.CX(0);na.Qz(264);na.BX(N);return da;}L=O("avc1","piff",65537,M);L=f().decode(k().encode(L));M=O("avc1",G.Xz,65536,M);M=f().decode(k().encode(M));P=new Uint8Array(7 + L.length + 8 + M.length + 5);P.set([91,10,32,32,32,32,34],0);P.set(L,7);P.set([34,44,10,32,32,32,32,34],7 + L.length);P.set(M,7 + L.length + 8);P.set([34,10,32,32,93],7 + L.length + 8 + M.length);return P;})(J);H=new Uint8Array(13 + J.length + 2);H.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);H.set(J,13);H.set([10,125],13 + J.length);return H;}function h(J){var H;J=J.subarray(14,30);J=String.fromCharCode.apply(null,J);J=k().decode(J);J=J.subarray(4);H=new Uint8Array(16);H.set(J);return H;}function m(J){var H;H=n(J);this.log.error("LICENSE Error: Received event: " + J.type,{sessionId:this.tb?this.tb.sessionId:void 0,keySystem:J.target.keySystem,systemCode:H.c8,code:H.n2});this.Rm && this.Rm(I.af.oq,H);this.tb=void 0;}function n(J){var H,M;if(J.target.error)(H=J.target.error.systemCode,M=J.target.error.code);return {code:I.af.oq,jc:I.oA.Kr,wd:H?v.ha.get(y.lw).rF(H,4):M,details:l().vd(J),cause:J.target.error,c8:H,n2:M};}function r(J,H,M,O){var L,P,R;L=J.target.sessionId;P=J.message;R=l().qs(P,f().decode("certificate"));M.Oma=H === F.gq.L$.kn;M.state=R?2:12;M.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:L});(M.context.We || M.context.qk || M.context.Kz) && M.log.debug("LICENSE: License challenge",k().encode(P));M.keySessionId=L;J={Li:M.Li,Qf:H,messageType:"license-request",Jn:(/clearkey/i).test(M.keySystem)?"clearkey":"fps",zj:[{data:P,sessionId:L}]};12 === M.state && (M.Sm("lc"),P={data:P,Jn:(/clearkey/i).test(M.keySystem)?"clearkey":"fps"},M.context.rG || (M.rV=P));M.context.ml.ig(J).then(function(K){if(12 === M.state && (M.Sm("lr"),M.Toa(),!M.context.rG))(M.sV=K.Ni[0].data,M.state=13,O({X:!0,state:M.state}));else if(M.tb)return (K=t(M,R,K.Ni[0].data,M.tb),2 === M.state?K:K.then(function(){M.state=30;O({X:!0,state:M.state});}));}).catch(function(K){O(l().cG(K,{state:M.state}));});}function p(J,H,M){H.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:J.target.sessionId});M({X:!0});}function u(J,H,M){var O;O=n(J);H.Rm && H.Rm(I.af.oq,O);H.log.error("LICENSE Error: Received event: " + J.type,{sessionId:H.tb?H.tb.sessionId:void 0,keySystem:J.target.keySystem,systemCode:O.c8,code:O.n2});M({X:!1,code:I.af.oq,jc:I.oA.Kr,wd:O.wd,message:"Received a key error.",sb:O.details,cause:O.cause});}function t(J,H,M,O){O={sessionId:O.sessionId};J.o4() && (O.license=k().encode(M));J.log.trace("calling keysession update",O);return new Promise(function(L,P){function R(){J.tb.removeEventListener("webkitkeyadded",R);L(void 0);}try{H || J.tb.addEventListener("webkitkeyadded",R);J.tb.update(M);H && L(void 0);}catch(K){P({X:!1,code:I.af.fZ,message:"Unable to update the EME.",e:K});}});}function w(J){this.bd[J]=v.ha.get(A.zd).Zb().ea(C.ma);this.log.trace("Milestone: " + J + ", " + this.bd[J]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(7);b=a(3);x=a(28);y=a(76);z=a(35);B=a(77);A=a(20);C=a(5);E=a(11);F=a(65);D=a(162);G=a(66);I={};I.af=b.L;I.oA=b.M;c.prototype.Pq=function(){return this.keySystem;};c.prototype.a6a=function(J,H){J.log && (this.log=J.log);J.Sm && (this.Sm=J.Sm);H.ml && (this.context.ml=H.ml);H.onerror && (this.context.onerror=H.onerror);};c.prototype.create=function(J){var H;H=this;H.Sm("lg");H.log.trace("CREATE: Creating the media keys",{keySystem:J});H.keySystem=J;return H.context.EV?Promise.reject({X:!1,code:I.af.EO,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function M(){var O,L;O=l().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");L=O.lastChild;H.mg=O;H.context.la=E.De.createElement("VIDEO");L?H.mg.insertBefore(H.context.la,L):H.mg.appendChild(H.context.la);}return new Promise(function(O,L){function P(R){(H.context.We || H.context.qk || H.context.Kz) && H.log.trace("CREATE: Received event: " + R.type,{readyState:R.target.readyState,duration:R.target.duration});try{H.mediaKeys=new pb.WebKitMediaKeys(J);H.context.la.webkitSetMediaKeys(H.mediaKeys);O({X:!0,mediaKeys:H.mediaKeys});}catch(K){H.log.error("CREATE: Exception on webkitSetMediaKeys",K);L({X:!1,code:I.af.yP,sb:l().vd(K)});}}if(d(H.keySystem))try{H.mediaKeys=new pb.WebKitMediaKeys(J);H.context.la && (H.log.trace("LICENSE: calling setmediakeys on video element"),H.context.la.webkitSetMediaKeys(H.mediaKeys));O({X:!0,mediaKeys:H.mediaKeys});}catch(R){L({X:!1,code:I.af.yP,sb:l().vd(R)});}else (H.mediaKeys=new pb.WebKitMediaKeys(J),H.context.la?(H.log.trace("LICENSE: calling setmediakeys on video element"),H.context.la.webkitSetMediaKeys(H.mediaKeys)):(M(),H.Oi=new E.BD(),H.Oi.addEventListener("sourceopen",P),H.url=URL.createObjectURL(H.Oi),H.context.la.src=H.url),O({X:!0,mediaKeys:H.mediaKeys}));});})();};c.prototype.close=function(){this.tb && (this.log.info("Closing the session",{sessionId:this.tb.sessionId}),this.tb.removeEventListener("webkitkeyerror",this.eV),this.tb.close(),this.tb=void 0);};c.prototype.ig=function(J,H){var M;if(1 < H.length)return Promise.reject({code:I.af.ZCa});if(0 === H.length)return Promise.reject({code:I.af.XCa});H=H[0];M=this;M.context.We && M.log.trace("LICENSE: Setting license",{initData:k().encode(H)});return M.context.EV?Promise.reject({X:!1,code:I.af.Sxa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(O,L){var R,K,Q;function P(N){M.tb && (M.tb.removeEventListener("webkitkeymessage",R),M.tb.removeEventListener("webkitkeyadded",K),M.tb.removeEventListener("webkitkeyerror",Q),M.tb.addEventListener("webkitkeyerror",M.eV));N.X?O(N):(M.close(),L(N));}R=function(N){r(N,J,M,P);};K=function(N){p(N,M,P);};Q=function(N){u(N,M,P);};d(M.keySystem) && (M.Li=h(H),H=g(M.Li));M.log.trace("LICENSE: Executing prefix based EME");M.context.We | M.context.qk && M.log.debug("LICENSE: PSSH",k().encode(H));M.tb=M.mediaKeys.createSession("video/mp4",H,null);(M.context.We || M.context.qk) && M.log.debug("LICENSE: Created the media keys sessions",{keySystem:M.tb.keySystem,sessionId:M.tb.sessionId});M.tb.addEventListener("webkitkeymessage",R);M.tb.addEventListener("webkitkeyadded",K);M.tb.addEventListener("webkitkeyerror",Q);});})();};c.prototype.CG=function(){var J;J=this;return J.Csa?Promise.resolve({X:!0}):new Promise(function(H,M){var L,P,R;function O(K){J.tb && (J.tb.removeEventListener("webkitkeymessage",L),J.tb.removeEventListener("webkitkeyadded",P),J.tb.removeEventListener("webkitkeyerror",R));K.X?H(K):(M(K),J.close());}L=function(K){r(K,F.gq.L$.Co,J,O);};P=function(K){p(K,J,O);H({X:!0});};R=function(K){u(K,J,O);};J.Oma=!1;J.tb.addEventListener("webkitkeymessage",L);J.tb.addEventListener("webkitkeyadded",P);J.tb.addEventListener("webkitkeyerror",R);J.tb.update(f().decode("renew"));});};c.prototype.C0=function(J){this.sV || this.log.error("pending license must exist at this point");this.context.rG=!0;try{J && (this.context.la=J,this.log.trace("calling setmediakeys on video element"),this.context.la.webkitSetMediaKeys(this.mediaKeys));}catch(H){return new Promise(function(M,O){O({X:!1,code:I.af.mI,message:"setMediaKeys failed",sb:l().vd(H)});});}return t(this,!1,this.sV,this.tb);};c.prototype.qRa=function(J){var H,M;H=this;H.log.trace("Releasing the license of the current session",JSON.stringify(J));H.Csa=!0;M={ba:J.ba,ee:J.ee};return new Promise(function(O,L){(function(){H.context.ml.release.call(H.context.ml,M).then(function(){var P;H.log.trace("successfully released the license",JSON.stringify(J));P={X:!0};P.X?O(P):(H.close(),L(P));}).catch(function(P){H.log.error("RELEASE: Unable to get the release the license",{sessionId:H.tb?H.tb.sessionId:void 0,code:P.code,subCode:P.jc,extCode:P.wd,edgeCode:P.Bm,message:P.Dj});P.X?O(P):(H.close(),L(P));});})();});};c.prototype.o4=function(){return this.context.We || this.context.qk;};q.exports=c;},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r,p){this.log=m;this.yF=n;this.jz=r;this.context=p;}Object.defineProperty(b,"__esModule",{value:!0});f=a(3);k=a(7);l=a(28);d=a(77);g=a(35);h=a(66);c.prototype.ig=function(m){var n,r;n=this;(this.context.We || this.context.qk) && this.log.debug("Requesting a license",m);if(k.ha.get(l.Hf).qs(k.ha.get(d.ru).decode("certificate"),m.zj[0].data)){n.log.trace("Requesting Fairplay cert data.");r=Promise.resolve({Ni:[{sessionId:m.zj[0].sessionId,data:k.ha.get(g.Rh).decode(h.j$)}]});}else r=k.ha.get(l.Hf).qs(k.ha.get(d.ru).decode("content"),m.zj[0].data)?Promise.resolve({Ni:[{sessionId:m.zj[0].sessionId,data:m.Li}]}):(function(){n.log.trace("Requesting license",{drmType:m.Jn});return n.yF(m).catch(function(p){n.log.error("Unable to get the Fairplay license",p);throw {code:f.L.cI,jc:p.jc,wd:p.wd,Bm:p.Bm,Dj:p.message || p.Dj,EK:p.data,message:"Unable to send the Fairplay license request. " + (p.message || p.Dj),cause:p};});})();return r;};c.prototype.release=function(m){var n;n=this;this.log.trace("Requesting stop data");return this.jz(m).catch(function(r){n.log.error("Unable to release the FairPlay license",{code:r.code,subCode:r.jc,extCode:r.wd,edgeCode:r.Bm,message:r.message || r.Dj});throw {X:!1,code:f.L.eba,jc:r.jc,wd:r.wd,Bm:r.Bm,Dj:r.message || r.Dj,message:"Unable to release the FairPlay license. " + (r.message || r.Dj),cause:r};});};q.exports=c;},function(q,b,a){var l,d,g,h,m,n,r,p;function c(u,t,w){var v;v=this;this.is=u;this.en=t;this.config=w;this.aw=function(){return {version:v.version,drmData:v.Z1.map(function(x){return x.aw();})};};this.jja=function(x){var y;v.is.Bn(x) && (x=f(x));1 === x.version && (x=k(v.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new p.nY(z);});}catch(z){throw new m.$c(g.L.$H,g.M.Wz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !v.is.$h(x.version))throw new m.$c(g.L.$H,g.M.Wz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new m.$c(g.L.$H,g.M.Pva,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.sr=new n.D$(2,this.config.yS,this.is.Bn(this.config.yS),this.en,this.aw);}function f(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new m.$c(g.L.$H,g.M.Wz);return {version:1,drmData:[u]};}function k(u,t){if(u.tx(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var v;v=w.keySessionIds;return new p.nY({keySystemId:w.keySystemId,keySessionData:(v && 0 < v.length?v:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).aw();})};throw new m.$c(g.L.$H,g.M.Wz);}Object.defineProperty(b,"__esModule",{value:!0});b.gwa=void 0;q=a(1);l=a(0);d=a(68);g=a(3);h=a(26);m=a(42);n=a(304);r=a(78);p=a(198);c.prototype.a1a=function(){return this.FTb();};c.prototype.oLa=function(u){return this.sr.add(u);};c.prototype.VV=function(u){return this.sr.remove(u,function(t,w){return t.ba === w.ba;});};c.prototype.toString=function(){return JSON.stringify(this.aw(),null,"  ");};c.prototype.FTb=function(){var u;u=this;this.e1a || (this.e1a=new Promise(function(t,w){u.sr.load(u.jja).then(function(){t();}).catch(function(v){v.oa && v.cause?w(new m.$c(g.L.$H,v.oa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.e1a;};Xa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.sr.version;}},Z1:{configurable:!0,enumerable:!0,get:function(){return this.sr.Qu;}}});a=c;a=q.__decorate([l.R(),q.__param(0,l.l(h.Gf)),q.__param(1,l.l(r.Rz)),q.__param(2,l.l(d.bu))],a);b.gwa=a;},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.O0a=void 0;c=a(3);f=a(90);k=a(120);l=a(197);b.O0a=function(g){l.wK.parent=g.$a;return function(){d || (d=new Promise(function(h,m){try{h(l.wK.get(k.Dxa));}catch(n){m(new f.pg(c.L.tab,c.M.Oab,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(q,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;a.prototype.XUa=function(){return void 0 !== this.mediaKeys;};a.prototype.setMediaKeys=function(c){this.mediaKeys=c;};a.prototype.FPb=function(){this.XUa() && (this.mediaKeys=void 0);};b.TBa=a;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u,t,w){this.kF=r;this.Bc=p;this.UL=t;this.Sl=w;this.log=u.Cb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.iwa=void 0;q=a(1);f=a(0);k=a(120);l=a(35);d=a(8);g=a(134);h=a(79);m=a(133);n=a(573);c.prototype.ska=function(r){var p;p=this;return Promise.all([this.kF(),this.Pzb(),this.Sl.ly()]).then(function(u){var t,w;t=aa(u);u=t.next().value;w=t.next().value;t=t.next().value;return u.Txb({type:r,initData:w,context:{Xe:t.keySystem}},p.UL());}).then(function(u){var t;t=aa(u);u=t.next().value;t=t.next().value;t=p.Bc.encode(t.data[0]);p.log.trace("Challenge generated",t);return {Nb:u,Sfa:t};});};c.prototype.Pzb=function(){var r;r=this;return this.Sl.Gs().then(function(p){switch(p){case m.jn.oF:return n.J$a;case m.jn.zC:return n.ldb;default:return n.zeb;}}).then(function(p){return p.map(r.Bc.decode);});};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.oY)),q.__param(1,f.l(l.Rh)),q.__param(2,f.l(d.Kb)),q.__param(3,f.l(g.lP)),q.__param(4,f.l(h.gu))],a);b.iwa=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zeb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.J$a=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.ldb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;q=a(0);c=a(15);f=a(575);k=a(37);l=a(38);d=a(576);g=a(306);h=a(578);m=a(164);n=a(579);r=a(68);p=a(580);b.config=new q.ad(function(u){u(c.dd).sf(function(){return function(){return pb._cad_global.config;};});u(k.L9).to(f.zwa).$();u(k.km).to(f.JHa).$();u(k.gP).to(f.Zza).$();u(l.gm).to(d.Nya).$();u(g.uCa).to(h.tCa).$();u(m.Hya).to(n.Gya).$();u(r.bu).to(p.aya).$();});},function(q,b,a){var l,d,g,h,m;function c(){this.Ox={};this.k2a=0;}function f(n,r,p,u,t){this.debug=n;this.vy=r;this.$U=p;this.Bg=u;this.O6=t;}function k(n,r,p){this.vy=n;this.$U=r;this.O6=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Zza=b.JHa=b.zwa=void 0;q=a(1);l=a(0);d=a(91);g=a(8);h=a(135);m=a(305);a=a(37);k=q.__decorate([l.R(),q.__param(0,l.l(a.gP)),q.__param(1,l.l(h.CZ)),q.__param(2,l.l(m.bba))],k);b.zwa=k;f=q.__decorate([l.R(),q.__param(0,l.l(d.Yt)),q.__param(1,l.l(a.gP)),q.__param(2,l.l(h.CZ)),q.__param(3,l.l(g.Kb)),q.__param(4,l.l(m.bba))],f);b.JHa=f;c.prototype.AIb=function(n){this.Ox=Object.assign({},this.Ox,n);this.k2a++;};Xa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Ox;}},i7:{configurable:!0,enumerable:!0,get:function(){return this.k2a;}}});a=q.__decorate([l.R()],c);b.Zza=a;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u){r=d.ff.call(this,r,void 0 === u?"GeneralConfigImpl":u) || this;r.jk=p;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=b.DK=void 0;q=a(1);f=a(5);k=a(0);l=a(44);d=a(45);g=a(38);h=a(37);a=a(131);m={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.DK=function(r,p){return r.b1a(m[p] || p,g.vw);};ka(c,d.ff);Xa.Object.defineProperties(c.prototype,{DK:{configurable:!0,enumerable:!0,get:function(){return g.vw.rdb;}},Dsa:{configurable:!0,enumerable:!0,get:function(){return f.Wg(8);}},HB:{configurable:!0,enumerable:!0,get:function(){return "";}},YJ:{configurable:!0,enumerable:!0,get:function(){return "";}},uH:{configurable:!0,enumerable:!0,get:function(){return "";}},J4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},D0:{configurable:!0,enumerable:!0,get:function(){return !0;}},TT:{configurable:!0,enumerable:!0,get:function(){return this.jk.TT;}},cwb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ud:{configurable:!0,enumerable:!0,get:function(){return {};}},i2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},kma:{configurable:!0,enumerable:!0,get:function(){return !1;}},N8:{configurable:!0,enumerable:!0,get:function(){return !1;}},St:{configurable:!0,enumerable:!0,get:function(){return !1;}},IS:{configurable:!0,enumerable:!0,get:function(){return !0;}},MC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Zu:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.vw.XGa,g.vw.bAa].indexOf(this.DK);}}});n=c;q.__decorate([l.config(b.DK,"environment")],n.prototype,"DK",null);q.__decorate([l.config(l.vk,"storageTimeout")],n.prototype,"Dsa",null);q.__decorate([l.config(l.string,"groupName")],n.prototype,"HB",null);q.__decorate([l.config(l.string,"canaryGroupName",!0)],n.prototype,"YJ",null);q.__decorate([l.config(l.string,"uiGroupName")],n.prototype,"uH",null);q.__decorate([l.config(l.ud,"testIndexDBForCorruptedDatabase")],n.prototype,"J4a",null);q.__decorate([l.config(l.ud,"applyIndexedDbOpenWorkaround")],n.prototype,"D0",null);q.__decorate([l.config(l.ud,"ignoreIdbOpenError")],n.prototype,"TT",null);q.__decorate([l.config(l.ud,"executeStorageMigration")],n.prototype,"cwb",null);q.__decorate([l.config(l.object(),"browserInfo")],n.prototype,"Ud",null);q.__decorate([l.config(l.ud,"retryAllMslRequestsOnError")],n.prototype,"i2a",null);q.__decorate([l.config(l.ud,"isTestAccount")],n.prototype,"kma",null);q.__decorate([l.config(l.ud,"vuiCommandLogging")],n.prototype,"N8",null);q.__decorate([l.config(l.ud,"useRangeHeader")],n.prototype,"St",null);q.__decorate([l.config(l.ud,"enableMilestoneEventList")],n.prototype,"IS",null);q.__decorate([l.config(l.object,"storageRules")],n.prototype,"MC",null);n=q.__decorate([k.R(),q.__param(0,k.l(h.km)),q.__param(1,k.l(a.BP)),q.__param(2,k.l(h.vO)),q.__param(2,k.optional())],n);b.Nya=n;},function(q,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.qaa=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.qaa=a;},function(q,b,a){var f,k,l,d;function c(g,h){return l.ff.call(this,g,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;q=a(1);f=a(0);k=a(44);l=a(45);a=a(37);ka(c,l.ff);Xa.Object.defineProperties(c.prototype,{o6a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;q.__decorate([k.config(k.ud,"useNetworkMonitor")],d.prototype,"o6a",null);d=q.__decorate([f.R(),q.__param(0,f.l(a.km)),q.__param(1,f.l(a.vO)),q.__param(1,f.optional())],d);b.tCa=d;},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p,u){n=d.ff.call(this,n,void 0 === u?"FtlProbeConfigImpl":u) || this;n.hh=r;n.wa=p;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Gya=void 0;q=a(1);f=a(40);k=a(0);l=a(5);d=a(45);g=a(121);h=a(44);a=a(37);ka(c,d.ff);Xa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.lja + (-1 === this.lja.indexOf("?")?"?":"&") + "monotonic=" + this.wa.bZa + "&device=web";}},T3a:{configurable:!0,enumerable:!0,get:function(){return l.hb;}},cja:{configurable:!0,enumerable:!0,get:function(){return "";}},lja:{configurable:!0,enumerable:!0,get:function(){return this.hh.endpoint + "/ftl/probe" + (this.cja?"?force=" + this.cja:"");}}});m=c;q.__decorate([h.config(h.ud,"ftlEnabled")],m.prototype,"enabled",null);q.__decorate([h.config(h.vk,"ftlStartDelay")],m.prototype,"T3a",null);q.__decorate([h.config(h.string,"ftlEndpointForceParam")],m.prototype,"cja",null);q.__decorate([h.config(h.url,"ftlEndpoint")],m.prototype,"lja",null);m=q.__decorate([k.R(),q.__param(0,k.l(a.km)),q.__param(1,k.l(g.FH)),q.__param(2,k.l(f.wi)),q.__param(3,k.l(a.vO)),q.__param(3,k.optional())],m);b.Gya=m;},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r){m=k.ff.call(this,m,void 0 === r?"EmeConfigImpl":r) || this;m.Ud=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.aya=void 0;q=a(1);f=a(0);k=a(45);l=a(37);d=a(5);g=a(44);a=a(161);ka(c,k.ff);Xa.Object.defineProperties(c.prototype,{VVa:{configurable:!0,enumerable:!0,get:function(){return this.Ud.fWa || this.Ud.ZT || this.Ud.EL?!0:!1;}},$B:{configurable:!0,enumerable:!0,get:function(){return d.Wg(5);}},rpa:{configurable:!0,enumerable:!0,get:function(){return d.Wg(10);}},yS:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},ZS:{configurable:!0,enumerable:!0,get:function(){return !1;}},Iv:{configurable:!0,enumerable:!0,get:function(){return !0;}},YLa:{configurable:!0,enumerable:!0,get:function(){return d.Wg(30);}},ZLa:{configurable:!0,enumerable:!0,get:function(){return d.Wg(30);}},bMa:{configurable:!0,enumerable:!0,get:function(){return d.Wg(30);}},$La:{configurable:!0,enumerable:!0,get:function(){return d.Wg(30);}},cMa:{configurable:!0,enumerable:!0,get:function(){return d.Wg(30);}},Pra:{configurable:!0,enumerable:!0,get:function(){return "";}},p_a:{configurable:!0,enumerable:!0,get:function(){return this.Ud.mv?!1:!0;}},q_a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;q.__decorate([g.config(g.ud,"initializeKeySystemAtStartup")],h.prototype,"VVa",null);q.__decorate([g.config(g.vk,"licenseRenewalRequestDelay")],h.prototype,"$B",null);q.__decorate([g.config(g.vk,"persistedReleaseDelay")],h.prototype,"rpa",null);q.__decorate([g.config(g.string,"drmPersistKey")],h.prototype,"yS",null);q.__decorate([g.config(g.ud,"forceLimitedDurationLicense")],h.prototype,"ZS",null);q.__decorate([g.config(g.ud,"prepareCadmium")],h.prototype,"Iv",null);q.__decorate([g.config(g.vk,"apiCloseTimeout")],h.prototype,"YLa",null);q.__decorate([g.config(g.vk,"apiCreateMediaKeysTimeout")],h.prototype,"ZLa",null);q.__decorate([g.config(g.vk,"apiSetServerCertificateTimeout")],h.prototype,"bMa",null);q.__decorate([g.config(g.vk,"apiGenerateRequestTimeout")],h.prototype,"$La",null);q.__decorate([g.config(g.vk,"apiUpdateTimeout")],h.prototype,"cMa",null);q.__decorate([g.config(g.string,"serverCertificate")],h.prototype,"Pra",null);q.__decorate([g.config(g.ud,"outputRestrictedIsFatal")],h.prototype,"p_a",null);q.__decorate([g.config(g.ud,"outputRestrictedIsFatalForUhd")],h.prototype,"q_a",null);h=q.__decorate([f.R(),q.__param(0,f.l(l.km)),q.__param(1,f.l(a.Vz)),q.__param(2,f.l(l.vO)),q.__param(2,f.optional())],h);b.aya=h;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.DQa=void 0;q=a(0);c=a(120);f=a(582);k=a(79);l=a(583);d=a(308);g=a(591);b.DQa=new q.ad(function(h){h(c.Dxa).to(f.Cxa).$();h(k.gu).to(l.SBa).$();h(d.cya).to(g.bya);});},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v;function c(x,y,z,B,A,C,E,F,D,G){var I;I=this;this.vc=y;this.dz=z;this.config=B;this.Oq=A;this.Wub=C;this.XJ=E;this.Sl=F;this.UL=D;this.Vl=G;this.lUb=function(J,H){var M;I.Vl.mark(v.Da.wY,J.li.ba,"generate-challenge");M=!1;H.ZRb(function(O){M || (M=!0,I.Vl.mark(v.Da.vY,J.li.ba,"generate-challenge"));I.yF(J,H,O).then(function(L){H.sLa(L);I.inb(H);}).catch(function(L){return H.ukb(L);});});};this.log=x.Cb("DrmServices");this.Oq().Cr && this.XJ.a1a().then(function(){I.sPb();}).catch(function(J){I.log.error("Unable to load the persisted DRM data",J);});this.config.VVa && this.Sl.ly().then(function(J){return I.dPa(J,{Xe:J.keySystem},h.Th.Co,D()).then(function(H){return H.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=void 0;q=a(1);f=a(0);k=a(8);l=a(46);d=a(307);g=a(69);h=a(59);m=a(68);n=a(199);r=a(198);p=a(308);u=a(15);t=a(79);w=a(134);v=a(65);c.prototype.Txb=function(x,y){return this.bF(x.context,x.type,y).then(function(z){return z.Wxb(x.initData).then(function(B){return [z,{Jn:z.Gs(),data:B.zj}];});});};c.prototype.ig=function(x,y){var z;z=this;this.log.info("Requesting challenges",this.xTa(x,x.type));return this.bF(x.context,x.type,y).then(function(B){z.$Ya(x,B);return B.Xxb(x.initData).then(function(){return B;});});};c.prototype.$Ya=function(x,y){y.gSb(x.li);this.lUb(x,y);};c.prototype.release=function(x,y){var z;z=this;this.log.info("Releasing server license",this.pUa(x));return this.dBb(x).then(function(){var B;B=Object.assign({active:!1,Xe:x.context.Xe,ee:[]},x.li);z.XJ.VV(B);y.FPb();return x;});};c.prototype.xTa=function(x,y){return {movieId:x.li.K,xid:x.li.ba,type:h.Mma(y)};};c.prototype.pUa=function(x){return {movieId:x.li?x.li.K:void 0,xid:x.li?x.li.ba:void 0,keySessionId:x.ky()};};c.prototype.yF=function(x,y,z){this.log.info("Sending license request",this.xTa(x,z.Qf));return this.dz.ig({ba:x.li.ba,Ti:x.li.Ti,Y1:[x.li.Kl],zj:[{sessionId:y.ky() || "session",data:z.zj}],Qf:z.Qf,Jn:y.Gs(),MNa:z.MNa,BU:x.li.BU,Fj:x.li.Fj});};c.prototype.dBb=function(x){this.log.info("Sending release request",this.pUa(x));return this.dz.release({ba:x.li.ba,ee:x.ee});};c.prototype.bF=function(x,y,z){var B;B=this;return this.Sl.ly().then(function(A){return B.dPa(A,x,y,z);});};c.prototype.dPa=function(x,y,z,B){return this.Wub.create().then(function(A){return A.createSession(y,x,B,z).then(function(){return A;});});};c.prototype.rPb=function(x){var y;y=this;return this.dz.release({ba:x.ba,ee:x.ee}).catch(function(z){y.log.error("Unable to send release data to the server",z);});};c.prototype.sPb=function(){var x;x=this;this.vc.Oj(this.config.rpa,function(){x.log.trace("Removing cached sessions",{"count:":x.XJ.Z1.length});x.XJ.Z1.filter(function(y){return !y.active;}).reduce(function(y,z){return y.then(function(){return x.rPb(z);}).then(function(){return x.XJ.VV(z);});},Promise.resolve(void 0));});};c.prototype.inb=function(x){var y;if(x.ky() && x.li){y=new r.nY();y.Xe=x.context.Xe;y.ee=x.ee;y.ba=x.li.ba;y.K=x.li.K;this.XJ.oLa(y);}};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(l.lj)),q.__param(2,f.l(d.Bxa)),q.__param(3,f.l(m.bu)),q.__param(4,f.l(u.dd)),q.__param(5,f.l(p.cya)),q.__param(6,f.l(n.I9)),q.__param(7,f.l(t.gu)),q.__param(8,f.l(w.lP)),q.__param(9,f.l(g.oP))],a);b.Cxa=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E;function c(F,D,G,I,J,H,M,O,L,P){this.Yq=F;this.te=D;this.wh=G;this.Fi=I;this.Bc=J;this.is=H;this.PU=M;this.config=O;this.hp=L;this.ki=P;this.log=this.Yq.Cb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.SBa=void 0;q=a(1);f=a(0);k=a(3);l=a(8);d=a(90);g=a(133);h=a(584);m=a(585);n=a(586);r=a(201);p=a(28);u=a(76);t=a(35);w=a(26);v=a(36);x=a(587);y=a(589);z=a(77);B=a(15);A=a(104);C=a(68);a=a(70);c.prototype.ly=function(){this.promise || (this.promise=this.MQb());return this.promise;};c.prototype.Srb=function(F){var D;D=this;return new Promise(function(G,I){var J,H;J=A.Ob.Hja(F);H=D.dTa(J);J=D.XSa(J);H.bQb(F,J.mka()).then(function(M){D.log.trace("Created the media keys system access",{keySystem:F,supportedconfig:M.getConfiguration?JSON.stringify(M.getConfiguration()):void 0});G(M);}).catch(function(M){D.log.error("Unable to create the media key system access object",{keySystem:F,error:M.message});I(new d.pg(k.L.Nxa,k.M.fj,void 0,"Unable to create media keys system access. " + M.message,M));});});};c.prototype.Gs=function(){var F;F=this;return this.ly().then(function(D){return F.YSa(D);});};c.prototype.ozb=function(){var F,D;F=this;D=this.config().VWa || [this.config().Xe];if(1 < D.length)return this.ly().then(function(G){return F.YSa(G);}).then(function(G){return A.Ob.WSa(G);});D=A.Ob.Hja(D[0]);return Promise.resolve(A.Ob.WSa(D));};c.prototype.pzb=function(){var F;F=this;return this.Gs().then(function(D){return F.XSa(D);});};c.prototype.rzb=function(){var F;F=this;return this.Gs().then(function(D){return F.dTa(D);});};c.prototype.YSa=function(F){return A.Ob.Hja(F.keySystem);};c.prototype.XSa=function(F){switch(F){case g.jn.zC:return new h.Zxa(this.Fi,this.Bc);case g.jn.oF:return new y.WFa(this.Fi,this.Bc,this.wh,this.ki);default:return new n.rwa(this.Fi,this.hp,this.config);}};c.prototype.dTa=function(F){switch(F){case g.jn.zC:return new m.YEa(this.PU,this.is,this.Bc,this.te,this.hp,this.wh);case g.jn.oF:return new x.Bya(this.PU,this.is,this.Bc,this.te,this.hp,this.wh);default:return new r.pu(this.PU,this.is,this.Bc,this.te,this.hp,this.wh);}};c.prototype.MQb=function(){var F,D;F=this;D=(this.config().VWa || [this.config().Xe]).map(function(G){return function(){return F.Srb(G);};});return this.NQb(D);};c.prototype.NQb=function(F){return F.reduce(function(D,G){return D.then(function(I){return Promise.resolve(I);}).catch(function(){return G();});},Promise.reject(Error("keySystem missing")));};E=c;E=q.__decorate([f.R(),q.__param(0,f.l(l.Kb)),q.__param(1,f.l(p.Hf)),q.__param(2,f.l(z.ru)),q.__param(3,f.l(u.lw)),q.__param(4,f.l(t.Rh)),q.__param(5,f.l(w.Gf)),q.__param(6,f.l(v.lI)),q.__param(7,f.l(B.dd)),q.__param(8,f.l(C.bu)),q.__param(9,f.l(a.ku))],E);b.SBa=E;},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u){this.Fi=p;this.Bc=u;}Object.defineProperty(b,"__esModule",{value:!0});b.Zxa=void 0;q=a(1);f=a(0);k=a(3);l=a(76);d=a(35);g=a(200);h=a(90);m=a(60);n=a(42);r=a(66);c.prototype.m1=function(){return !0;};c.prototype.cfa=function(){return !1;};c.prototype.Mfa=function(){return !1;};c.prototype.qT=function(){return r.Xz;};c.prototype.xja=function(){return r.SCa;};c.prototype.mka=function(){return [{initDataTypes:[this.qT()],audioCapabilities:[{contentType:g.gI}],videoCapabilities:[{contentType:g.zw}],sessionTypes:["temporary"]}];};c.prototype.Mla=function(){Promise.reject(new n.$c(k.L.c$));};c.prototype.Iga=function(p){var u;u=new Uint8Array(p.message);u=this.yia(u,"PlayReadyKeyMessage","Challenge");u=this.Bc.decode(u);return {type:p.type,sessionId:p.target.sessionId,ZF:[u],messageType:p.messageType};};c.prototype.Mx=function(p){var u,t,w;u=new h.pg(k.L.oq);t=p.code;null != t && void 0 !== t?(t=parseInt(t,10),u.jc=1 <= t && 9 >= t?k.M.Kr + t:k.M.Kr):u.jc=p instanceof m.qq?k.M.FO:k.M.fj;try{w=(/\((\d+)\)/).exec(p.message);u.wd=this.Fi.rF(Number(w && w[1]),4);}catch(v){}u.pS(p);return u;};c.prototype.yia=function(p,u){var w,v,x;for(var t=1;t < arguments.length;++t){;}for(t=1;t < arguments.length;t++){;}t="";v=p.length;for(w=0;w < v;w++){x=p[w];0 < x && (t+=String.fromCharCode(x));}v="\\s*(.*)\\s*";for(w=arguments.length - 1;0 < w;w--){x=arguments[w];if(0 > t.search(x))return "";x="(?:[^:].*:|)" + x;v="[\\s\\S]*<" + x + "[^>]*>" + v + "</" + x + ">[\\s\\S]*";}return (t=t.match(new RegExp(v)))?t[1]:"";};c.prototype.bL=function(){};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(l.lw)),q.__param(1,f.l(d.Rh))],a);b.Zxa=a;},function(q,b,a){var f,k,l,d;function c(){return k.pu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;q=a(1);f=a(0);k=a(201);l=a(90);d=a(3);ka(c,k.pu);c.prototype.z1=function(g,h,m,n,r){this.C1a(m);this.A1a(n);this.y1a(r);this.Sgb=this.fb;this.fb=g.createSession(h);this.vLa(m);this.rLa(n);this.pLa(r);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function g(m){return m && m.sessionId?m.close().then(function(){return m=void 0;}):Promise.resolve();}h=this;this.oga=void 0;return this.fb?g(this.fb).then(function(){g(h.Sgb);}):Promise.reject(new l.pg(d.L.Mxa,d.M.SH,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,h){this.initDataType=g;this.initData=h;return k.pu.prototype.generateRequest.call(this,g,h);};a=q.__decorate([f.R()],c);b.YEa=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p;function c(u,t,w){this.Fi=u;this.hp=t;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;q=a(1);f=a(0);k=a(3);l=a(76);d=a(200);g=a(90);h=a(60);m=a(68);n=a(15);r=a(42);p=a(66);c.prototype.m1=function(){return !0;};c.prototype.cfa=function(){return !0;};c.prototype.Mfa=function(){return !0;};c.prototype.qT=function(){return p.Xz;};c.prototype.xja=function(){return this.hp.Pra?this.hp.Pra:p.xeb;};c.prototype.mka=function(){var u,t;u=[{contentType:d.zw,robustness:p.IY},{contentType:d.zw,robustness:p.VFa},{contentType:d.zw,robustness:p.nba}];t=[{contentType:d.zw,robustness:p.nba}];return [{initDataTypes:[this.qT()],persistentState:"required",videoCapabilities:this.config().$Ra?t:u}];};c.prototype.Mla=function(){Promise.reject(new r.$c(k.L.c$));};c.prototype.Iga=function(u){return {type:u.type,sessionId:u.target.sessionId,ZF:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Mx=function(u){var t,w,v;t=new g.pg(k.L.oq);w=u.code;null != w && void 0 !== w?(w=parseInt(w,10),t.jc=1 <= w && 9 >= w?k.M.Kr + w:k.M.Kr):t.jc=u instanceof h.qq?k.M.FO:k.M.fj;try{v=u.message.match(/\((\d*)\)/)[1];t.wd=this.Fi.rF(v,4);}catch(x){}t.pS(u);return t;};c.prototype.bL=function(){};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(l.lw)),q.__param(1,f.l(m.bu)),q.__param(2,f.l(n.dd))],a);b.rwa=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u;function c(t,w,v,x,y,z){t=k.pu.call(this,t,w,v,x,y,z) || this;t.Bc=v;t.Rd=x;t.hp=y;t.wh=z;t.nVa=new l.Aya(t.Bc,t.Rd,t.wh);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Bya=void 0;q=a(1);f=a(0);k=a(201);l=a(588);d=a(36);g=a(26);h=a(35);m=a(28);n=a(68);r=a(77);p=a(309);u=a(310);ka(c,k.pu);c.prototype.generateRequest=function(t,w){var v,x,y;v=this;try{x=w.map(function(z){return v.nVa.aAb(z);});this.IVa=x.map(function(z){return v.Bc.encode(z);});y=this.nVa.Apb(x);return k.pu.prototype.generateRequest.call(this,t,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(t,w,v){var x,y,z,B,A;x=this;if(v)try{y=this.wh.encode(t[0]);z=JSON.parse(y).RESPONSES.map(function(C){var E;E=u.yZ.p4a(C.ID);return {keyID:w === p.PD.xFa?x.IVa[x.IVa.length - 1]:v[E],payload:C.PAYLOAD};});if(w === p.PD.Request){B=z.map(function(C){return C.keyID;});v.forEach(function(C){B.includes(C) || z.push({keyID:C,error:1});});}A=JSON.stringify(z);t=[this.wh.decode(A)];}catch(C){return Promise.reject(C);}return k.pu.prototype.update.call(this,t,w);};c.prototype.CG=function(){return k.pu.prototype.update.call(this,[this.wh.decode("renew")],p.PD.Request);};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(d.lI)),q.__param(1,f.l(g.Gf)),q.__param(2,f.l(h.Rh)),q.__param(3,f.l(m.Hf)),q.__param(4,f.l(n.bu)),q.__param(5,f.l(r.ru))],a);b.Bya=a;},function(q,b){function a(c,f,k){var l;l=this;this.Bc=c;this.Rd=f;this.wh=k;this.aAb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=l.Bc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.K$a={Xz:1667591779,rZb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;a.prototype.Apb=function(c){var f;f=this.K$a.Xz;c=c.map(function(k){return {z5b:"",KFb:k,Tea:k,wTb:k,HXb:[1]};});return this.qHb(f,c);};a.prototype.pHb=function(c){var f;f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,c);return this.ona("fpsi",[f]);};a.prototype.oHb=function(c,f,k,l){c=[this.ona("fkri",[c])];f.byteLength && c.push(this.vU("fkai",[f]));k.byteLength && c.push(this.vU("fkcx",[k]));l.length && c.push(this.vU("fkvl",[new Uint8Array(new Uint32Array(l).buffer)]));return this.vU("fpsk",c);};a.prototype.qHb=function(c,f){var k,d;k=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.pHb(c)];for(var l in f){d=f[l];c.push(this.oHb(d.KFb,d.Tea,d.wTb,d.HXb));}f=this.vU("fpsd",c);l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,f.byteLength);return this.ona("pssh",[k,l,f]);};a.prototype.ona=function(c,f){var k,l,d;k=0;for(d in f){k+=f[d].byteLength;}k=new Uint8Array(12 + k);l=new DataView(k.buffer);d=0;l.setUint32(d,k.byteLength);d+=4;k.set(this.wh.decode(c),d);d+=4;l.setUint32(d,0);d+=4;for(var g in f){c=f[g];k.set(c,d);d+=c.byteLength;}return k;};a.prototype.vU=function(c,f){var k,l;k=0;for(l in f){k+=f[l].byteLength;}k=new Uint8Array(8 + k);l=0;new DataView(k.buffer).setUint32(l,k.byteLength);l+=4;k.set(this.wh.decode(c),l);l+=4;for(var d in f){c=f[d];k.set(c,l);l+=c.byteLength;}return k;};b.Aya=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t;function c(w,v,x,y){this.Fi=w;this.Bc=v;this.wh=x;this.ki=y;}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;q=a(1);f=a(0);k=a(3);l=a(76);d=a(77);g=a(90);h=a(60);m=a(35);n=a(66);r=a(311);p=a(42);u=a(70);t=a(310);c.prototype.m1=function(){return !1;};c.prototype.cfa=function(){return !1;};c.prototype.Mfa=function(){return !0;};c.prototype.qT=function(){return n.Xz;};c.prototype.xja=function(){return n.j$;};c.prototype.mka=function(){return [{initDataTypes:[n.Xz],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.Mla=function(w){w.CG();};c.prototype.Iga=function(w){var v,x;v=[];if(w.messageType === r.Y$ || w.messageType === r.X$){if(w.messageType === r.Y$){x=this.wh.encode(new Uint8Array(w.message));v=JSON.parse(x);x=v.map(function(y){return y.keyID;});v=v.map(function(y){return y.payload;});}else v=[this.Bc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(y){return y && y.length;}))throw new p.$c(k.L.Rxa);v=this.pVb(v);v=this.wh.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,ZF:[v],messageType:w.messageType,nv:x};};c.prototype.Mx=function(w){var v,x,y,z;x=null === (v=w.target) || void 0 === v?void 0:v.error;if(x)(y=x.systemCode,z=x.code);v=new g.pg(k.L.oq,w instanceof h.qq?k.M.FO:k.M.Kr,y?this.Fi.rF(y,4):z,"",x);v.pS(w);return v;};c.prototype.pVb=function(w){w=w.map(function(v,x){return {ID:t.yZ.LDb(x),PAYLOAD:v};});return {VERSION:this.ki.l1?3:1,CHALLENGES:w};};c.prototype.bL=function(w,v){var x,y;x=this;if(v && this.ki.l1)try{y=this.wh.encode(v[0]);return JSON.parse(y).RESPONSES.sort(function(z,B){return z.ID > B.ID?1:-1;}).map(function(z){var B;B=t.yZ.p4a(z.ID);z=x.Bc.decode(z.DHB).subarray(4,12);B=x.Bc.decode(w[B]).subarray(0,8);return {from:z,to:B};});}catch(z){throw new g.pg(k.L.Pcb,void 0,void 0,void 0,z);}};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(l.lw)),q.__param(1,f.l(m.Rh)),q.__param(2,f.l(d.ru)),q.__param(3,f.l(u.ku))],a);b.WFa=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lZ=void 0;b.lZ=function(){var a;a=this;this.promise=new Promise(function(c,f){a.resolve=c;a.reject=f;});};},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u,t,w,v){this.Yq=r;this.Pa=p;this.Bc=u;this.config=t;this.co=w;this.Sl=v;}Object.defineProperty(b,"__esModule",{value:!0});b.bya=void 0;q=a(1);f=a(0);k=a(8);l=a(20);d=a(35);g=a(68);h=a(60);m=a(311);a=a(79);c.prototype.create=function(){var r;r=this;return Promise.all([this.Sl.rzb(),this.Sl.pzb(),this.Sl.Gs()]).then(function(p){var u,t;u=aa(p);p=u.next().value;t=u.next().value;u=u.next().value;return new m.dya(r.Yq,r.Pa,r.Bc,r.config,p,t,u,r.co);});};n=c;n=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(l.zd)),q.__param(2,f.l(d.Rh)),q.__param(3,f.l(g.bu)),q.__param(4,f.l(h.Gw)),q.__param(5,f.l(a.gu))],n);b.bya=n;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R;Object.defineProperty(b,"__esModule",{value:!0});b.rXa=void 0;c=a(593);f=a(618);k=a(627);l=a(630);d=a(636);g=a(639);h=a(642);m=a(654);n=a(664);r=a(668);p=a(670);u=a(1005);t=a(1007);w=a(1011);v=a(1023);x=a(1030);y=a(1037);z=a(1040);B=a(1046);A=a(197);C=a(1054);E=a(1055);F=a(1062);D=a(1075);G=a(1081);I=a(1083);J=a(1090);H=a(1143);M=a(1165);O=a(1169);L=a(1173);P=a(1186);R=a(1189);b.rXa=function(K){K.load(c.Jx,g.hH,f.DXa,h.zm,k.ZYa,l.Ca,d.F6a,m.storage,n.ME,r.vNa,p.WXa,u.lC,t.ei,w.CXa,v.mZa,x.lSa,y.P0a,z.uG,B.zQa,A.eme,C.crypto,E.te,F.pd,D.Ma,G.dZa,I.R_a,J.j,H.sOa,M.transports,O.Mi,L.Lh,P.zMa,R.sa);};},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za,V,T,ja,Ia,wa,Sa,Ua,$a,Za,mb,db,Ta,Ca,La,Ma,Va,ib,yb,Eb,Hb,Ob;Object.defineProperty(b,"__esModule",{value:!0});b.Jx=void 0;q=a(0);c=a(36);f=a(40);k=a(46);l=a(92);d=a(136);g=a(594);h=a(595);m=a(596);n=a(597);r=a(77);p=a(76);u=a(35);t=a(28);w=a(26);v=a(93);x=a(60);y=a(314);z=a(598);B=a(315);A=a(599);C=a(600);E=a(601);F=a(190);D=a(316);G=a(602);I=a(196);J=a(106);H=a(603);M=a(20);O=a(317);L=a(604);P=a(605);R=a(91);K=a(606);Q=a(8);N=a(313);da=a(607);na=a(69);va=a(608);ra=a(318);X=a(609);ta=a(610);za=a(107);V=a(11);T=a(611);ja=a(320);Ia=a(321);wa=a(612);Sa=a(322);Ua=a(15);$a=a(34);Za=a(137);mb=a(323);db=a(161);Ta=a(613);Ca=a(324);La=a(325);Ma=a(165);Va=a(614);ib=a(326);yb=a(615);Eb=a(203);Hb=a(616);Ob=a(617);b.Jx=new q.ad(function(Cb){Cb(c.CP).RC(function(){return {};}).$();Cb(c.mD).si(JSON);Cb(c.WHa).si(pb);Cb(d.OGa).si(Math);Cb(c.DAa).si(V.WY);Cb(c.Gaa).si(V.iu);Cb(c.DHa).si(V.jA);Cb(c.Ywa).si(Date);Cb(c.lI).si(V.Qe);Cb(c.Kbb).si(V.BD);Cb(N.vwa).to(da.uwa).$();Cb(M.zd).to(H.Mua).$();Cb(f.wi).to(n.wwa).$();Cb(k.lj).to(g.XFa).$();Cb(l.cA).to(h.Sza).$();Cb(x.Gw).to(E.lFa).$();Cb(d.sZ).to(m.tFa).$();Cb(mb.baa).to(Ob.OBa).$();Cb(R.Yt).to(P.dxa).$();Cb(R.bxa).to(K.axa).$();Cb(r.ru).to(z.EHa).$();Cb(p.lw).to(B.A9).$();Cb(u.Rh).to(A.wva).$();Cb(t.Hf).to(C.FHa).$();Cb(w.Gf).si(F.lD);Cb(Ca.HO).to(La.rya).$();Cb(v.sya).to(D.Wj).tla();Cb(v.lY).to(D.Wj).$();Cb(v.nxa).to(D.Wj).$();Cb(v.m$).to(D.Wj).$();Cb(I.uba).to(J.nA).$();Cb(O.Mwa).to(L.Lwa).$();Cb(na.ND).to(va.yba).$();Cb(na.oP).to(va.yba).$();Cb("Factory<LoggerFactory>").g5a(Q.Kb);Cb(ra.Y9).to(X.exa).$();Cb(za.yI).sf(function(Kb){return function(Vb){return new ta.ZGa(Kb.$a.get(M.zd),Kb.$a.get(k.lj),Vb);};});Cb(ib.Zwa).sf(function(Kb){return function(Vb){return new yb.$wa(Kb.$a.get(k.lj),Vb);};});Cb(T.aba).rVb(ja.$aa);Cb(T.pdb).sf(function(Kb){var Vb;Vb=Kb.$a.get(T.aba);return function(){return new Vb(!1);};});Cb(T.qdb).sf(function(Kb){var Vb;Vb=Kb.$a.get(T.aba);return function(){return new Vb(!0);};});Cb(Ia.BHa).sf(function(){return function(Kb){return new wa.CHa(Kb);};});Cb(Za.DP).sf(function(Kb){return function(Vb,mc,Dc){return new Sa.BEa(Kb.$a.get(R.Yt),Kb.$a.get(Ua.dd),Kb.$a.get($a.Kk),Kb.$a.get(mb.baa),Vb,mc,Dc);};});Cb(y.ICa).sf(function(){return function(Kb){return new G.JCa(Kb);};});Cb(db.Vz).to(Ta.Mva);Cb(Ma.QP).sf(function(Kb){return function(Vb,mc){return new Va.jHa(Kb.$a.get(k.lj),Vb,mc);};});Cb(Eb.kya).to(Hb.jya).$();});},function(q,b,a){var k,l,d,g;function c(h){this.NN=h;l.Vn(this,"timers");}function f(h,m){this.NN=h;this.Rnb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;q=a(1);k=a(0);l=a(56);d=a(36);g=a(5);f.prototype.cancel=function(){this.Rnb(this.NN);};c.prototype.ol=function(h){return this.Oj(g.hb,h);};c.prototype.Oj=function(h,m){var n;n=this.NN.setTimeout(m,h.ea(g.ma));return new f(this.NN,function(r){r.clearTimeout(n);});};c.prototype.l7=function(h,m){var n;n=this.NN.setInterval(m,h.ea(g.ma));return new f(this.NN,function(r){r.clearInterval(n);});};a=c;a=q.__decorate([k.R(),q.__param(0,k.l(d.WHa))],a);b.XFa=a;},function(q,b,a){var f,k,l,d,g;function c(h,m){this.wa=h;this.random=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Sza=void 0;q=a(1);k=a(0);l=a(5);d=a(40);a=a(136);c.prototype.lB=function(){return this.wa.Ue.ea(l.nn) * f.awa + Math.floor(this.random.random() * f.awa);};g=f=c;g.awa=1E8;g=f=q.__decorate([k.R(),q.__param(0,k.l(d.wi)),q.__param(1,k.l(a.sZ))],g);b.Sza=g;},function(q,b,a){var f,k;function c(l){this.IUb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;q=a(1);f=a(0);a=a(136);c.prototype.random=function(){return this.IUb.random();};c.prototype.W0a=function(l,d){if("number" !== typeof l)(d=l.end,l=l.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(l + this.random() * (d - l));};k=c;k=q.__decorate([f.R(),q.__param(0,f.l(a.OGa))],k);b.tFa=k;},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p,u){var t;t=this;this.config=n;this.Msb=r;this.Pb=p;this.performance=u;this.eLb=function(w){t.K2a=w.Ba(t.Ue);};f.Vn(this,"date");f.Vn(this,"performance");this.hlb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.K2a=k.hb;this.Pb.addListener(m.F$.M2a,this.eLb);}Object.defineProperty(b,"__esModule",{value:!0});b.wwa=void 0;q=a(1);f=a(56);k=a(5);l=a(0);d=a(36);g=a(313);h=a(93);m=a(18);Xa.Object.defineProperties(c.prototype,{Ue:{configurable:!0,enumerable:!0,get:function(){return this.bZa?k.timestamp(this.performance.timing.navigationStart + this.performance.now()):k.uc(this.Msb.now());}},x7:{configurable:!0,enumerable:!0,get:function(){return this.Ue.add(this.K2a);}},bZa:{configurable:!0,enumerable:!0,get:function(){return this.config.q6a && this.hlb;}}});a=c;a=q.__decorate([l.R(),q.__param(0,l.l(g.vwa)),q.__param(1,l.l(d.Ywa)),q.__param(2,l.l(h.m$)),q.__param(3,l.l(d.Gaa)),q.__param(3,l.optional())],a);b.wwa=a;},function(q,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;q=a(1);a=a(0);c.prototype.encode=function(l){return f.bia(l);};c.prototype.decode=function(l){return f.mha(l);};c.bia=function(l){if(!l)throw new TypeError("Invalid byte array");for(var d=0,g,h=l.length,m="";d < h;){g=l[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (l[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((l[d++] & 63) << 6) + (l[d++] & 63);else throw Error("unsupported utf8 character");m+=String.fromCharCode(g);}return m;};c.mha=function(l){var d,g,h,m,n;d=l.length;g=0;m=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=l.charCodeAt(h);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(h=0;h < d;h++){n=l.charCodeAt(h);128 > n?g[m++]=n:(2048 > n?g[m++]=192 | n >>> 6:(g[m++]=224 | n >>> 12,g[m++]=128 | n >>> 6 & 63),g[m++]=128 | n & 63);}return g;};k=f=c;k=f=q.__decorate([a.R()],k);b.EHa=k;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wva=void 0;q=a(1);a=a(0);k=Array.prototype.slice;l=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};h={};m={};n=/\s+/g;[l,k].forEach(function(r){var u;for(var p=r.length;p--;){u=r[p];d[u]=p << 18;g[u]=p << 12;h[u]=p << 6;m[u]=p;}});c.prototype.encode=function(r){return f.bia(r,l,"=");};c.prototype.decode=function(r){return f.mha(r);};c.mha=function(r){var p,u,t;r=r.replace(n,"");p=r.length;u=r.charAt(p - 1);"=" !== u && "." !== u || p--;u=r.charAt(p - 1);"=" !== u && "." !== u || p--;u=3 * (p >> 2);t=0;switch(p % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(u + t);for(var w=0,v=0,x;v < u;){x=d[r[w++]] + g[r[w++]] + h[r[w++]] + m[r[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");p[v++]=x >>> 16;p[v++]=x >>> 8 & 255;p[v++]=x & 255;}if(0 < t && (x=d[r[w++]] + g[r[w++]],p[v++]=x >>> 16,1 < t && (x+=h[r[w++]],p[v++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < t?255:65535)))))throw Error("bad base64");return p;};c.bia=function(r,p,u){for(var t="",w=0,v=r.length,x=v - 2,y;w < x;){y=(r[w++] << 16) + (r[w++] << 8) + r[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");t+=p[y >>> 18] + p[y >>> 12 & 63] + p[y >>> 6 & 63] + p[y & 63];}if(w == x){y=(r[w++] << 8) + r[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");t+=p[y >>> 10] + p[y >>> 4 & 63] + p[y << 2 & 63] + u;}else if(w == v - 1){y=r[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");t+=p[y >>> 2] + p[y << 4 & 63] + u + u;}return t;};k=f=c;k=f=q.__decorate([a.R()],k);b.wva=k;},function(q,b,a){var f,k,l,d;function c(g,h){this.is=g;this.Fi=h;}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;q=a(1);f=a(0);a(3);k=a(26);l=a(76);d=a(11);c.prototype.cG=function(g,h,m){var n,r,p,u;n=this;if(h)if(m){r=m.NL;p=m.prefix;u=m.Vy;this.uB(h,function(t,w){if(!u || n.is.eg(w))g[(p || "") + (r?t.toLowerCase():t)]=w;});}else this.uB(h,function(t,w){g[t]=w;});return g;};c.prototype.uB=function(g,h){for(var m in g){g.hasOwnProperty(m) && h(m,g[m]);}};c.prototype.qs=function(g,h){if(g.length == h.length){for(var m=g.length;m--;){if(g[m] != h[m])return !1;}return !0;}return !1;};c.prototype.LOa=function(g,h){if(g.length != h.length)return !1;g.sort();h.sort();for(var m=g.length;m--;){if(g[m] !== h[m])return !1;}return !0;};c.prototype.vd=function(g){var h,m,n;if(g){h=g.stack;m=g.number;n=g.message;n || (n="" + g);h?(g="" + h,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;m && (g+="\nnumber:" + m);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.zja=function(g){return this.getFunctionName(g.constructor);};c.prototype.Eoa=function(g){var h,m;h=this;m="";this.is.tx(g) || this.is.VLa(g)?m=Array.prototype.reduce.call(g,function(n,r){return n + (32 <= r && 128 > r?String.fromCharCode(r):".");},""):this.is.So(g)?m=g:this.uB(g,function(n,r){m+=(m?", ":"") + "{" + n + ": " + (h.is.t0(r)?h.getFunctionName(r) || "function":r) + "}";});return "[" + this.zja(g) + " " + m + "]";};c.prototype.createElement=function(g,h,m,n){var r;r=d.De.createElement(g);h && (r.style.cssText=h);m && (r.innerHTML=m);n && this.uB(n,function(p,u){r.setAttribute(p,u);});return r;};c.prototype.Iwb=function(g,h){return function(m){return m[g] === h;};};c.prototype.oV=function(g){var h;h={};(g || "").split("&").forEach(function(m){var n,r;m=m.trim();n=m.indexOf("=");if(0 <= n){r=decodeURIComponent(m.substr(0,n)).toLowerCase();h[r]=decodeURIComponent(m.substr(n + 1));}else h[m.toLowerCase()]=void 0;});return h;};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.Gf)),q.__param(1,f.l(l.lw))],a);b.FHa=a;},function(q,b,a){var f,k,l;function c(d){this.vc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;q=a(1);f=a(0);k=a(46);l=a(60);c.prototype.Op=function(d,g){var h;h=this;return new Promise(function(m,n){var r;r=h.vc.Oj(d,function(){n(new l.qq(d));});g.then(function(p){m(p);r.cancel();}).catch(function(p){n(p);r.cancel();});});};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.lj))],a);b.lFa=a;},function(q,b,a){var f;function c(k){this.dyb=k;this.B3=!1;this.R3=this.Ef=this.JN=0;this.UT=!1;this.S3=0;}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;f=a(17);c.prototype.ykb=function(k){k < this.JN && (this.Ef+=this.JN);this.JN=k;this.B3=!0;};c.prototype.Vyb=function(){if(this.B3)return this.UT?this.S3 - this.R3:this.Ef + this.JN - this.R3;};c.prototype.refresh=function(){var k;k=this.dyb();f.xa(k) && this.ykb(k);};c.prototype.xTb=function(){this.UT || (this.B3 && (this.S3=this.Ef + this.JN),this.UT=!0);};c.prototype.OTb=function(){this.UT && (this.B3 && (this.R3+=this.Ef + this.JN - this.S3),this.S3=0,this.UT=!1);};b.JCa=c;},function(q,b,a){var f,k,l,d;function c(g,h){this.wa=g;this.K2=this.wa.Ue.ea(l.ma) - 1;this.dHb=this.M4=0;this.id="" + h.lB();}Object.defineProperty(b,"__esModule",{value:!0});b.Mua=void 0;q=a(1);f=a(0);k=a(40);l=a(5);a=a(92);c.prototype.Zb=function(){var g,h;g=this.wa.Ue.ea(l.ma) - this.K2;if(g < this.M4){h=this.M4 + 1;this.K2-=h - g;g=h;}this.M4=g;return l.uc(this.M4);};c.prototype.hAb=function(){return this.dHb++;};Xa.Object.defineProperties(c.prototype,{TF:{configurable:!0,enumerable:!0,get:function(){return l.uc(this.K2);}}});d=c;d=q.__decorate([f.R(),q.__param(0,f.l(k.wi)),q.__param(1,f.l(a.cA))],d);b.Mua=d;},function(q,b,a){var f,k,l,d;function c(g,h){this.is=g;this.te=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Lwa=void 0;q=a(1);k=a(0);l=a(26);a=a(28);c.prototype.encode=function(g){var h,m;h=this;m="";this.te.uB(g,function(n,r){n=h.ZQa(n) + "=" + h.ZQa(r);m=m?m + ("," + n):n;});return m;};c.prototype.ZQa=function(g){return this.is.gF(g)?this.is.$h(g)?"" + g:this.is.So(g)?(g=g.replace(f.Cqa,this.una.bind(this)),!f.DOb.test(g) && f.wJb.test(g) && (g='"' + g + '"'),g):this.is.aR(g)?"" + g:this.is.dea(g)?"NaN":"":"";};c.prototype.una=function(g){return f.map[g];};d=f=c;d.map={'"':'""',"\r":"","\n":" "};d.Cqa=/(?!^.+)["\r\n](?=.+$)/g;d.DOb=/["].*["]/g;d.wJb=/[", ]/;d=f=q.__decorate([k.R(),q.__param(0,k.l(l.Gf)),q.__param(1,k.l(a.Hf))],d);b.Lwa=d;},function(q,b,a){var f,k,l,d;function c(g,h,m){this.config=g;this.bb=h;this.ya=m.Cb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.dxa=void 0;q=a(1);f=a(0);k=a(26);l=a(91);a=a(8);c.prototype.assert=function(){};c.prototype.zlb=function(g,h){this.assert(this.bb.gF(g),h);};c.prototype.Alb=function(g,h){this.assert(this.bb.eg(g),h);};c.prototype.G0=function(g,h){this.assert(this.bb.So(g),h);};c.prototype.Glb=function(g,h){this.assert(this.bb.Bn(g),h);};c.prototype.Elb=function(g,h){this.assert(this.bb.So(g) || null === g || void 0 === g,h);};c.prototype.Sea=function(g,h){this.assert(this.bb.$h(g),h);};c.prototype.Clb=function(g,h){this.assert(this.bb.Fea(g),h);};c.prototype.Flb=function(g,h){this.assert(this.bb.mR(g),h);};c.prototype.Dlb=function(g,h){this.assert(this.bb.bR(g),h);};c.prototype.ylb=function(g,h){this.assert(this.bb.aR(g),h);};c.prototype.Blb=function(g,h){this.assert(this.bb.t0(g),h);};c.prototype.kEb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=q.__decorate([f.R(),q.__param(0,f.l(l.bxa)),q.__param(1,f.l(k.Gf)),q.__param(2,f.l(a.Kb))],d);b.dxa=d;},function(q,b,a){var f,k,l,d;function c(g){g=k.lO.call(this,g,"DebugConfigImpl") || this;g.a4b=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;q=a(1);f=a(44);k=a(45);l=a(0);a=a(37);ka(c,k.lO);Xa.Object.defineProperties(c.prototype,{Umb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;q.__decorate([f.config(f.ud,"breakOnError")],d.prototype,"Umb",null);d=q.__decorate([l.R(),q.__param(0,l.l(a.L9))],d);b.axa=d;},function(q,b,a){var f,k,l,d;function c(g){return k.lO.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uwa=void 0;q=a(1);f=a(44);k=a(45);l=a(0);a=a(37);ka(c,k.lO);Xa.Object.defineProperties(c.prototype,{q6a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;q.__decorate([f.config(f.ud,"usePerformanceApi")],d.prototype,"q6a",null);d=q.__decorate([l.R(),q.__param(0,l.l(a.L9))],d);b.uwa=d;},function(q,b,a){var f,k,l,d;function c(g,h){this.Pa=g;this.entries=new Set();this.ya=h.Cb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.yba=void 0;q=a(1);f=a(0);k=a(20);l=a(5);a=a(8);c.prototype.mark=function(g,h,m){g={name:g,wr:this.Pa.Zb()};h && (g.ba=h);m && (g.Bj=m);this.entries.add(g);return g;};c.prototype.Uja=function(){var g;g=[];this.entries.forEach(function(h){return g.push(h);});return g;};c.prototype.DTa=function(g){return this.Uja().filter(function(h){return h.ba === g;});};c.prototype.BTa=function(){var g;g={};try{g=this.Uja().filter(function(h){return !h.ba;}).reduce(function(h,m){h[m.name]=m.wr.ea(l.ma);return h;},{});}catch(h){this.ya.error(" getMapOfCommonMarks exception",h);}return g;};c.prototype.B1a=function(g){var h;h=this;this.Uja().forEach(function(m){m.ba === g && h.entries.delete(m);});};d=c;d=q.__decorate([f.R(),q.__param(0,f.l(k.zd)),q.__param(1,f.l(a.Kb))],d);b.yba=d;},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u){this.Pa=p;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.exa=void 0;q=a(1);k=a(0);l=a(20);d=a(42);g=a(3);h=a(18);m=a(5);n=a(11);a=a(319);c.prototype.ZPa=function(p){var u,t,w,v,x,y,z,B,A,C;u=this;v=p.mediaTime.value;x=p.Cq.value;y=p.ac.value;z=p.state.value;B={segmentId:p.eka(),mediaTime:v,segmentTime:p.BB(),bufferingState:f.anb[x],presentingState:f.ONb[y],playbackState:f.OMb[z],mseBuffersBusy:this.wBb(p),intBuffersBusy:this.Vzb(p),tabVisible:this.JUb(),decodedFrameCount:this.ftb(p),videoElementInDom:this.PXb(p),lastVideoSync:this.Pa.Zb().Ba(m.uc(p.LW)).ea(m.ma)};A=y === h.Bb.Jg?p.kb.Ol?this.config.k_a:this.config.j_a:this.config.WYa;if(x !== h.$e.$d){if((x=g.M.g9a,this.dNa(B.mseBuffersBusy,B.intBuffersBusy)))C=f.tva;}else (y !== h.Bb.yc?x=g.M.i9a:(x=g.M.h9a,(y=p.Cg) && 0 === y.V2() && (C=f.Deb)),(y=p.Cg) && y.Ib.sourceBuffers.forEach(function(E){var F,D;F=f.Fd[E.mediaType];B[F + "Ranges"]=E.S2();try{D=E.buffered();}catch(G){D=void 0;}D && 0 !== D.length?(E=1E3 * D.end(0) - v,B[F + "Undecoded"]=E,1 < D.length && (C=f.Z7a),v < 1E3 * D.start(0) || v > 1E3 * D.end(0)?C=f.$7a:E < A.ea(m.ma)?C=f.a8a:u.dNa(B.mseBuffersBusy,B.intBuffersBusy) && (C=f.tva)):(B[F + "Undecoded"]=0,C=f.Y7a);}));y=p.M1a.wUa();z=v === (null === (t=y.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);B.lastRepositionCausedTimeout=z;B.trackChangeInProgress=null === (w=p.Ma) || void 0 === w?void 0:w.pH;Object.assign(B,y);p="";try{p=JSON.stringify(B);}catch(E){p="Cannot stringify details: " + E;}return new d.$c(g.L.UCa,x,C,void 0,void 0,void 0,p,void 0);};c.prototype.wBb=function(p){var u;if(p.Ib){u={};p.Ib.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.Vzb=function(p){var u;if(p.Ib){u={};p.Ib.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.hi()};});return u;}};c.prototype.JUb=function(){return !n.De.hidden;};c.prototype.ftb=function(p){return (p=p.Cg) && (p=p.Ib.la) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};c.prototype.PXb=function(p){if(p=p.Cg)if(p=p.Ib.la)return n.De.body.contains(p);return !1;};c.prototype.dNa=function(p,u){var t,w,v,x;return !((null === (t=p.audio) || void 0 === t?void 0:t.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=p.video) || void 0 === v?void 0:v.updating) === (null === (x=u.video) || void 0 === x?void 0:x.updating));};r=f=c;r.Y7a="1";r.Z7a="2";r.$7a="3";r.tva="4";r.a8a="5";r.Deb="6";r.Fd=["Audio","Video"];r.anb=["","NORMAL","BUFFERING","STALLED"];r.ONb=["","WAITING","PLAYING ","PAUSED","ENDED"];r.OMb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];r=f=q.__decorate([k.R(),q.__param(0,k.l(l.zd)),q.__param(1,k.l(a.iaa))],r);b.exa=r;},function(q,b,a){var f,k,l,d;function c(g,h,m){var n;n=this;this.Lf=g;this.vc=h;this.v1=m;this.pM=function(r){n.Wi=void 0;n.YVb(r || n.v1);};this.XWa=l.uc(-this.v1.ea(l.ma));}Object.defineProperty(b,"__esModule",{value:!0});b.ZGa=void 0;q=a(1);f=a(0);k=a(20);l=a(5);a=a(46);c.prototype.ol=function(g){this.wra=g;this.Wi=this.Wi || this.fg(this.pM);};c.prototype.kh=function(){this.Wi && this.Wi.cancel();this.Wi=void 0;};c.prototype.YVb=function(g){var h,m;h=this.Lf.Zb();if(this.wra){m=g.Ba(h.Ba(this.XWa));0 >= m.Wk(l.hb)?(g=this.wra,this.wra=void 0,this.XWa=h,g()):this.Wi=this.Wi || this.vc.Oj(m,this.pM.bind(this,g));}};c.prototype.fg=function(g){return this.vc.Oj(l.hb,g);};d=c;d=q.__decorate([f.R(),q.__param(0,f.l(k.zd)),q.__param(1,f.l(a.lj))],d);b.ZGa=d;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.aba="PrioritizedSetOfListsSymbol";b.pdb="PrioritizedSetOfListsFactorySymbol";b.qdb="PrioritizedSetOfSetsFactorySymbol";},function(q,b){function a(){this.searchParams={};}function c(f){this.Sk=f;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.CHa=void 0;c.prototype.toString=function(){return this.href;};Xa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Sk + this.searchParams.toString();}}});b.CHa=c;a.prototype.get=function(f){return this.searchParams[f];};a.prototype.set=function(f,k){this.searchParams[f]=k;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(f,k,l){var d;d=aa(k);k=d.next().value;d=d.next().value;return "" + f + (0 == l?"?":"&") + k + "=" + d;},"");};},function(q,b,a){var f,k,l,d,g;function c(h,m){this.Ud=this.mwb(h,m.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=b.Mva=void 0;q=a(1);f=a(0);k=a(15);l=a(37);a=a(36);c.prototype.t3=function(h,m){var n;if(m=this.VBb(m))switch(h){case g.lna:n=0 < m.length?Number(m[0]):0;break;case g.YYa:n=1 < m.length?Number(m[1]):0;break;case g.M_a:n=2 < m.length?Number(m[2]):0;break;case g.i7:n=3 < m.length?Number(m[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.VBb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.uL=function(h){return this.Ud.name === h;};c.prototype.CL=function(h){return this.Ud.Xy.name === h;};c.prototype.iWa=function(h){return this.Ud.Rka === h;};c.prototype.mwb=function(h,m){return Object.assign(Object.assign({Rka:this.owb(h,m)},this.lwb(h,m)),{Xy:this.pwb(h,m)});};c.prototype.owb=function(h,m){return m && m.Rka?m.Rka:(/Android.*Chrome\/[.0-9]* Mobile/).test(h)?k.eP.phone:(/Android.*Chrome\/[.0-9]* /).test(h)?k.eP.E4a:k.eP.opb;};c.prototype.lwb=function(h,m){return m && m.name && m.version?{name:m.name,version:m.version}:(/OPR/).test(h)?{name:k.vo.opera,version:""}:(m=h.match(/Edge\/(\d*)\./))?{name:k.vo.Mq,version:m[1]}:(m=h.match(/Edg\/(\d*)\./))?{name:k.vo.AQa,version:m[1]}:(m=h.match(/Chrome\/(\d*)\./))?{name:k.vo.ega,version:m[1]}:(m=h.match(/Firefox\/(\d*)\./))?{name:k.vo.SRa,version:m[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:k.vo.q2a,version:h[1]}:{name:k.vo.ega,version:""};};c.prototype.pwb=function(h,m){return m && m.Xy && m.Xy.name && m.Xy.version?{name:m.Xy.name,version:m.Xy.version}:(/CrOS/).test(h)?{name:k.Ao.XNa,version:""}:(/Tesla/).test(h)?{name:k.Ao.I4a,version:""}:(m=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:k.Ao.NXa,version:m[1] + "." + m[2] + "." + m[3]}:(/Windows NT/).test(h)?{name:k.Ao.lua,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:k.Ao.A0,version:""}:(/Linux/).test(h)?{name:k.Ao.oGb,version:""}:{name:k.Ao.lua,version:""};};Xa.Object.defineProperties(c.prototype,{fWa:{configurable:!0,enumerable:!0,get:function(){return this.uL(k.vo.ega);}},xL:{configurable:!0,enumerable:!0,get:function(){return this.uL(k.vo.Mq);}},mv:{configurable:!0,enumerable:!0,get:function(){return this.uL(k.vo.AQa);}},ZT:{configurable:!0,enumerable:!0,get:function(){return this.uL(k.vo.SRa);}},w4:{configurable:!0,enumerable:!0,get:function(){return this.uL(k.vo.opera);}},EL:{configurable:!0,enumerable:!0,get:function(){return this.uL(k.vo.q2a);}},rEb:{configurable:!0,enumerable:!0,get:function(){return this.CL(k.Ao.A0) && this.iWa(k.eP.phone);}},sEb:{configurable:!0,enumerable:!0,get:function(){return this.CL(k.Ao.A0) && this.iWa(k.eP.E4a);}},wL:{configurable:!0,enumerable:!0,get:function(){return this.CL(k.Ao.XNa);}},$la:{configurable:!0,enumerable:!0,get:function(){return this.CL(k.Ao.NXa);}},DWa:{configurable:!0,enumerable:!0,get:function(){return this.CL(k.Ao.I4a);}},pma:{configurable:!0,enumerable:!0,get:function(){return this.CL(k.Ao.lua);}},ks:{configurable:!0,enumerable:!0,get:function(){return this.t3(g.lna,this.Ud.version);}},yLb:{configurable:!0,enumerable:!0,get:function(){return this.t3(g.lna,this.Ud.Xy.version);}},zLb:{configurable:!0,enumerable:!0,get:function(){return this.t3(g.YYa,this.Ud.Xy.version);}},ALb:{configurable:!0,enumerable:!0,get:function(){return this.t3(g.M_a,this.Ud.Xy.version);}}});d=c;d=q.__decorate([f.R(),q.__param(0,f.l(a.DHa)),q.__param(1,f.l(l.gP))],d);b.Mva=d;(function(h){h[h.lna=0]="major";h[h.YYa=1]="minor";h[h.M_a=2]="patch";h[h.i7=3]="revision";})(g=b.KHa || (b.KHa={}));},function(q,b,a){var f,k,l;function c(d,g,h){this.vc=d;this.kVb=g;this.FF=h;}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;q=a(1);f=a(46);k=a(0);l=a(5);c.prototype.tB=function(){this.Wi || (this.Wi=this.vc.Oj(l.uc(this.kVb),this.FF));};c.prototype.Vp=function(){this.Wi && this.Wi.cancel();this.Wi=void 0;};a=c;a=q.__decorate([k.R(),q.__param(0,k.l(f.lj))],a);b.jHa=a;},function(q,b,a){var f,k;function c(l,d){this.vc=l;this.v1=d;}Object.defineProperty(b,"__esModule",{value:!0});b.$wa=void 0;q=a(1);f=a(0);a=a(46);c.prototype.ol=function(l){this.kh();this.Wi=this.vc.Oj(this.v1,l);};c.prototype.kh=function(){this.Wi && this.Wi.cancel();this.Wi=void 0;};k=c;k=q.__decorate([f.R(),q.__param(0,f.l(a.lj))],k);b.$wa=k;},function(q,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jya=void 0;q=a(1);f=a(0);k=a(203);c.prototype.CK=function(l,d){var g;g=this;l && Object.entries(d).forEach(function(h){var m,n,r;m=aa(h);h=m.next().value;m=m.next().value;if(g.AEb(m)){n=aa(m);m=n.next().value;r=n.next().value;n=l[m];Array.isArray(n)?(g.xha(l,h,m),n.forEach(function(p){g.CK(p,r);})):m === k.TD?Object.values(l).forEach(function(p){g.CK(p,r);}):(g.xha(l,h,m),"object" === typeof n && g.CK(n,r));}else g.xha(l,h,m);});};c.prototype.AEb=function(l){return Array.isArray(l);};c.prototype.xha=function(l,d,g){l.hasOwnProperty(d) || d === g || Object.defineProperty(l,d,{get:function(){return l[g];},enumerable:!1});};a=q.__decorate([f.R()],c);b.jya=a;},function(q,b,a){var f,k,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;q=a(1);f=a(15);k=a(12);a=a(0);c.prototype.Gs=function(){return this.zEb()?k.Fxa:(/widevine/i).test(this.config().Xe)?k.a$:(/fps/i).test(this.config().Xe)?"fairplay":k.pY;};c.prototype.zEb=function(){return (/clearkey/i).test(this.config().Xe);};l=c;l=q.__decorate([a.R(),q.__param(0,a.l(f.dd))],l);b.OBa=l;},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.DXa=void 0;c=a(619);f=a(620);q=a(0);k=a(108);l=a(8);d=a(625);b.DXa=new q.ad(function(g){g(l.Kb).to(f.XAa).$();g(k.eI).to(c.YAa).$();g(l.R$).to(d.KAa).$();});},function(q,b,a){function c(){this.G3a={};this.cn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.YAa=void 0;q=a(1);a=a(0);c.prototype.V6=function(f,k){k && (this.G3a[f]=k,this.cn=Object.values(this.G3a));};a=q.__decorate([a.R()],c);b.YAa=a;},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p){this.Pa=n;this.cn=r;this.Xma=p;}Object.defineProperty(b,"__esModule",{value:!0});b.XAa=void 0;q=a(1);f=a(204);k=a(0);l=a(622);d=a(20);g=a(108);h=a(8);m=a(623);c.prototype.Cb=function(n,r,p,u,t){p=void 0 === p?this.cn:p;return r?new l.qEa(this.Pa,this.Xma,p,r,n):t?new m.Wua(this.Pa,this.Xma,p,n,u || "",t):new f.dI(this.Pa,this.Xma,p,n);};a=c;a=q.__decorate([k.R(),q.__param(0,k.l(d.zd)),q.__param(1,k.l(g.eI)),q.__param(2,k.l(h.R$))],a);b.XAa=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.pNa=void 0;b.pNa=function(a,c){var k;a=a.gAb();for(var f=0;f < c.length;++f){k=c[f];void 0 != k && null != k && (k.Kh && (k=k.Kh),k.constructor === Uint8Array?a.Kkb(k):"MediaRequest" === k.constructor.name?a.wkb(k):"string" === typeof k?a.Ikb(k):"function" === typeof k?a.pkb(k):k instanceof Error?a.mkb(k):k instanceof Object?a.xkb(k):a.Lkb(k));}return a.ek();};},function(q,b,a){var f,k,l;function c(d,g,h,m,n){d=l.dI.call(this,d,g,h,n) || this;d.j=m;f.Vn(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;f=a(56);k=a(327);l=a(204);ka(c,l.dI);c.prototype.Pga=function(d){return new c(this.Pa,this.V0,this.cn,this.j,d);};c.prototype.RA=function(d,g,h){d=new k.Q$(d,this.Gn,this.Pa.Zb(),g,h,this.j.index);g=aa(this.cn.cn);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d,this.j);}};b.qEa=c;},function(q,b,a){var f,k;function c(l,d,g,h,m,n){l=f.dI.call(this,l,d,g,h) || this;l.groups=m;Array.isArray(n)?l.prefix=n:n && "string" === typeof n && (l.prefix=[],l.prefix.push(n));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Wua=void 0;f=a(204);k=a(624);ka(c,f.dI);c.prototype.RA=function(l,d,g){l=new k.Vua(l,this.Gn,this.Pa.Zb(),d,g,this.prefix);d=aa(this.cn.cn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(l);}};c.prototype.Pga=function(l){return new c(this.Pa,this.V0,this.cn,l,this.groups,this.prefix);};b.Wua=c;},function(q,b,a){var f,k;function c(l,d,g,h,m,n,r){this.level=l;this.Gn=d;this.timestamp=g;this.message=h;this.Sb=m;this.prefix=n;this.index=void 0 === r?0:r;}Object.defineProperty(b,"__esModule",{value:!0});b.Vua=void 0;f=a(5);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.j8=function(l,d){l=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.iUb(! !l));return (this.timestamp.ea(f.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.Gn + "| " + l;};c.prototype.iUb=function(l){var m;for(var d=this.Sb.length,g="",h=0;h < d;++h){m=this.Sb[h].Dt;h && g.length && (g+=" ");if("object" === typeof m){if(null === m)g+="null";else if(m instanceof Error)g+=this.hUb(m,l);else try{g+=JSON.stringify(m);}catch(n){g+=this.gUb(m);}}else g+=m;}return g;};c.prototype.hUb=function(l,d){return l.toString() + (l.stack && !d?"\n" + l.stack:"") + "\n";};c.prototype.gUb=function(l){var d;d=[];return JSON.stringify(l,function(g,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.Vua=c;},function(q,b,a){var f,k,l,d;function c(g,h){this.Bc=g;this.te=h;}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;q=a(1);f=a(0);k=a(626);l=a(35);a=a(28);c.prototype.gAb=function(){return new k.LAa(this.Bc,this.te);};d=c;d=q.__decorate([f.R(),q.__param(0,f.l(l.Rh)),q.__param(1,f.l(a.Hf))],d);b.KAa=d;},function(q,b,a){var r,p,u;function c(t,w){this.Bc=t;this.te=w;this.Sb=[];}function f(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function k(t){return n.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function l(t,w){w=n.call(this,w,function(v){return {Base64:t.encode(v)};}) || this;w.Bc=t;return w;}function d(t,w){w=n.call(this,w,function(v){return v();}) || this;w.te=t;return w;}function g(t){return n.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function h(t,w,v){w=n.call(this,w,v) || this;w.te=t;return w;}function m(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function n(t,w){this.Dt=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;q=a(1);r=a(0);p=a(28);a=a(35);n.prototype.NS=function(t){return this.Dt === t;};ka(m,n);m.prototype.mH=function(t,w){return w?"":"\r\n" + this.Dt;};ka(h,n);h.prototype.mH=function(){var t;t="";this.te.uB(this.value,function(w,v){try{t+=", " + w + ": " + v;}catch(x){try{t+=", " + w + ": " + JSON.stringify(v);}catch(y){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};ka(g,n);g.prototype.mH=function(t){var w;w="\r\n" + this.Dt.message;t || (w+="\r\n" + this.Dt.stack);return w;};ka(d,n);d.prototype.mH=function(){var t;t="";this.te.uB(this.value,function(w,v){t+=", " + w + ": " + v;});return t.replace(/[\r\n]+ */g," ");};ka(l,n);l.prototype.mH=function(t,w){return this.Dt && !w?"\r\n" + this.Bc.encode(this.Dt):"";};ka(k,n);k.prototype.mH=function(){return this.Dt?this.Dt.toJSON():"";};ka(f,n);f.prototype.mH=function(){return ", " + (this.Dt.toString?"" + this.Dt.toString():"");};c.prototype.Ikb=function(t){this.Sb.push(new m(t));};c.prototype.xkb=function(t){this.Sb.push(new h(this.te,t));};c.prototype.mkb=function(t){this.Sb.push(new g(t));};c.prototype.pkb=function(t){this.Sb.push(new d(this.te,t));};c.prototype.Kkb=function(t){this.Sb.push(new l(this.Bc,t));};c.prototype.wkb=function(t){this.Sb.push(new k(t));};c.prototype.Lkb=function(t){this.Sb.push(new f(t));};c.prototype.ek=function(){return this.Sb;};u=c;u=q.__decorate([r.R(),q.__param(0,r.l(a.Rh)),q.__param(1,r.l(p.Hf))],u);b.LAa=u;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.ZYa=void 0;q=a(0);c=a(328);f=a(628);b.ZYa=new q.ad(function(k){k(c.kCa).to(f.jCa).$();});},function(q,b,a){var f,k,l;function c(d){this.vc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jCa=void 0;q=a(1);f=a(0);k=a(629);a=a(46);c.prototype.ePa=function(d,g){return new k.lCa(this.vc,d,g);};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(a.lj))],l);b.jCa=l;},function(q,b){function a(c,f,k){this.vc=c;this.config=f;this.getTime=k;}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;a.prototype.observe=function(c,f){var k;k=this;this.cancel();this.Wi=this.vc.l7(this.config.bUa(),function(){k.getTime() >= c && (k.cancel(),f());});};a.prototype.cancel=function(){this.Wi && (this.Wi.cancel(),this.Wi=void 0);};b.lCa=a;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ca=void 0;q=a(0);c=a(205);f=a(329);k=a(631);l=a(634);d=a(332);g=a(635);b.Ca=new q.ad(function(h){h(c.pba).to(k.fGa).$();h(f.dGa).to(l.cGa).$();h(d.nHa).to(g.mHa).$();});},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w;function c(v,x,y,z,B,A,C,E,F,D){this.Pa=v;this.Bg=x;this.bM=y;this.SXb=z;this.wV=B;this.vc=A;this.NJ=C;this.Xm=E;this.sia=F;this.Rd=D;}Object.defineProperty(b,"__esModule",{value:!0});b.fGa=void 0;q=a(1);f=a(0);k=a(20);l=a(8);d=a(328);g=a(137);h=a(330);m=a(331);n=a(632);r=a(633);p=a(94);u=a(46);t=a(325);a=a(28);c.prototype.Wrb=function(v,x,y){return new n.gGa(this.Pa,this.Bg,this.bM,this.SXb,x,v,this.Xm,this.wV,this.Rd,this.sia,y);};c.prototype.trb=function(v,x){return new r.Lva(this.Bg,v,x,this.bM,this.vc,this.NJ);};w=c;w=q.__decorate([f.R(),q.__param(0,f.l(k.zd)),q.__param(1,f.l(l.Kb)),q.__param(2,f.l(d.kCa)),q.__param(3,f.l(m.OHa)),q.__param(4,f.l(h.mEa)),q.__param(5,f.l(u.lj)),q.__param(6,f.l(p.iO)),q.__param(7,f.l(g.DP)),q.__param(8,f.l(t.HO)),q.__param(9,f.l(a.Hf))],w);b.fGa=w;},function(q,b,a){var d,g,h;function c(m,n,r,p,u,t,w,v,x,y,z){var B;B=this;this.Pa=m;this.bM=r;this.Dpa=p;this.config=u;this.xb=t;this.Xm=w;this.wV=v;this.Rd=x;this.Uj=z;this.Zvb=Object.values(d.Rb).map(function(A){return {event:A,FF:function(C){return B.Pb.tc(A,C);}};});this.Pb=y.create();this.DC=[];this.log=n.Cb("SegmentManager");this.Via=!0;this.mg=this.Rd.createElement("div",h.fba);}function f(m,n,r,p,u,t,w,v,x,y,z){var B;B=this;this.log=m;this.config=n;this.sKb=r;this.Dpa=p;this.Xm=u;this.wV=t;this.Jt=w;this.P=v;this.mg=x;this.xb=y;this.Uj=z;this.ZJ=function(){B.pC && (B.pC.cancel(),B.pC=void 0);};this.Qka=function(A){B.log.trace("Received the transition event",{movieId:A.K});B.KOb();};this.Qma=function(){};this.log.debug("Constructing session data",k(v));this.mVb=new Promise(function(A){B.KOb=A;});}function k(m){return {movieId:m.K};}function l(m){return JSON.stringify({movieId:m.K,startPts:m.Z,logicalEnd:m.uk,params:m.Fb?{trackingId:m.Fb.Ek,authParams:m.Fb.K0,sessionParams:m.Fb.jo,disableTrackStickiness:m.Fb.Iha,uiPlayStartTime:m.Fb.x8,loadImmediately:m.Fb.Q4,playbackState:m.Fb.playbackState?{currentTime:m.Fb.playbackState.currentTime,volume:m.Fb.playbackState.volume,muted:m.Fb.playbackState.muted,playbackRate:m.Fb.playbackState.playbackRate}:void 0,pin:m.Fb.X_a,heartbeatCooldown:m.Fb.bla,uiLabel:m.Fb.Zd,uxLabels:m.Fb.G8}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;d=a(18);g=a(5);h=a(12);f.prototype.load=function(m){var n,r;n=this;this.log.trace("Loading new segment",k(this.P));this.T=this.Dpa.Qga(this.config,this.wV,this.Xm,this.P,this.xb,this.Uj);this.T.addEventListener(d.Rb.qL,function(p){n.log.trace("Segment is inactive",k(n.P));n.Jt.close(n.Xm(p.errorCode));});this.T.addEventListener(d.Rb.closed,this.ZJ);if(m)(this.log.debug("Pausing background segment",k(this.P)),this.T.addEventListener(d.Rb.gma,this.Qka),this.T.pause());else {this.mg.appendChild(this.T.qp());r=function(p){n.Qka(p);n.T.removeEventListener(d.Rb.loaded,r);};this.T.addEventListener(d.Rb.loaded,r);}};f.prototype.observe=function(){var m,n,r;m=this;this.log.trace("Observing segment",l(this.P));if(this.pC)this.log.trace("Segment is currently observing",k(this.P));else if(this.P.Fb && this.P.Fb.Q4)this.Qma(this);else {n=this.sKb.ePa(this.config,function(){var p;if(m.T){p=m.T.j.mediaTime.value;if(p)return p;}return 0;});r=this.tnb(this.P);this.log.trace("Adding a moment to watch",{time:r});n.observe(r,function(){m.log.trace("Segment has reached its loading point",k(m.P));m.Qma(m);m.ZJ();});}};f.prototype.close=function(m){this.log.info("Closing segment",{segment:l(this.P),error:m});return this.T?(this.T.removeEventListener(d.Rb.gma,this.Qka),this.T.close(m)):Promise.resolve();};f.prototype.hLb=function(m){this.Qma=m;};f.prototype.tnb=function(m){var n,r;n=m.uk;m=m.Fb?m.Fb.Q4:!1;r=0;n && !m && (r=n - this.config.zTa(),r < this.config.CTa() && (m=n - this.config.CTa(),r=n - m / 2));return r;};c.prototype.bBb=function(){return this.Ng && this.Ng.T?this.Ng.T.isReady():!1;};c.prototype.qp=function(){return this.mg;};c.prototype.cl=function(){if(!this.Ng || !this.Ng.T)throw Error("Player not ready");return this.Ng.T;};c.prototype.GWb=function(m){var n,r;r=this.Kia(m);r?this.b6a(r,m):this.xb.Me(m.id) || this.log.error("Tried to update a non-existent segment",{segment:l(m),currentMovieId:this.Ng.P.K,queuedMovieIds:this.DC.map(function(p){return p.P.K;}),xid:null === (n=this.Ng.T) || void 0 === n?void 0:n.CB()});};c.prototype.zq=function(m){var n;this.log.info("Adding segment",l(m));if(this.Via){this.log.trace("First segment, loading",k(m));n=this.tXa(m);this.Via=!1;}else (this.log.trace("Subsequent segment, caching",k(m)),(n=this.Kia(m))?this.b6a(n,m):(n=this.createSession(m),this.DC.push(n),this.Ng.observe()));return n?n.mVb:null;};c.prototype.transition=function(m,n){var r,p,u;p=this.jG;u=null === p || void 0 === p?void 0:p.T;if(p && u)return (this.jG=void 0,this.log.info("Transitioning segment",l(p.P)),u.n3a(this.Pa.Zb().ea(g.ma)),this.v5a(p,n));n=null === p || void 0 === p?void 0:p.P;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Ng.P.K,xid:null === (r=this.Ng.T) || void 0 === r?void 0:r.CB(),nextSegmentId:m,currentSegment:l(this.Ng.P),nextSegment:n?l(n):void 0,queuedMovieIds:this.DC.map(function(t){return t.P.K;})});return Promise.reject();};c.prototype.close=function(m){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.Ng.P)),nextSession:this.jG?JSON.stringify(k(this.jG.P)):void 0});m=[this.Ng.close(m)];this.jG && m.push(this.jG.close());return Promise.all(m).then(function(){n.jG=void 0;n.DC=[];n.Via=!0;});};c.prototype.addListener=function(m,n,r){this.Pb.addListener(m,n,r);};c.prototype.removeListener=function(m,n){this.Pb.removeListener(m,n);};c.prototype.b6a=function(m,n){this.GLb(m.P,n);this.log.trace("Overwrote existing segment data",l(m.P));};c.prototype.tXa=function(m){var n,r;n=this;this.log.info("Loading the next episode",k(m));if(this.Ng){this.config.tja()[m.K]=m.Z;r=this.Kia(m);}else r=this.createSession(m);if(r)return (this.log.trace("Found the next session",k(m)),r.hLb(function(p){n.W4a(p);}),this.Ng?(this.log.trace("Subsequent playback, caching player and pausing",k(m)),this.jG=r,r.load(!0)):(this.log.trace("First playback transitioning immediately",k(m)),r.load(!1),this.v5a(r)),r);this.log.warn("Unable to find the session, make sure to add it before loading",k(m));};c.prototype.v5a=function(m,n){var r,p,u,t,w;n=void 0 === n?{}:n;t=m.T?null === (r=m.T) || void 0 === r?void 0:r.getError():"missing player";if(t)return (null === (p=m.T) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Ng.P.K,mid:m.P.K,error:t,xid:null === (u=m.T) || void 0 === u?void 0:u.CB()}),Promise.reject());this.log.trace("Playing episode",k(m.P));r=this.Ng;this.Ng=m;m=this.Ng.T;m.T2a(!1);this.yX(m,r?r.T:void 0);if(r && r.T){w=r.T.qp();p=m.qp();w.style.display="none";r=r.close();this.mg.appendChild(p);r.then(function(){w.parentElement && w.parentElement.removeChild(w);});p.style.display="block";m.oy().DWb(n);m.BW();m.play();}return Promise.resolve();};c.prototype.W4a=function(m){var n,r,p,u,t;if(this.DC.length && m.T){n=m.T.j.mediaTime.value;r=this.DC[0];p=this.Ng.P.uk;u=this.Ng.P.Fb?this.Ng.P.Fb.Q4:!1;if(p || u){u?t=0:p && (t=p - this.config.zTa());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",k(r.P)),this.tXa(r.P),this.DC.splice(0,1),this.W4a(m));}}};c.prototype.Kia=function(m){return this.Ng.P.K === m.K?this.Ng:this.DC.find(function(n){return n.P.K === m.K;});};c.prototype.GLb=function(m,n){m.Z=n.Z || m.Z;m.uk=n.uk || m.uk;m.Fb=n.Fb || m.Fb;m.sa=n.sa || m.sa;};c.prototype.createSession=function(m){return new f(this.log,this.config,this.bM,this.Dpa,this.Xm,this.wV,this,m,this.mg,this.xb,this.Uj);};c.prototype.yX=function(m,n){this.Zvb.forEach(function(r){n && n.removeEventListener(r.event,r.FF);m.addEventListener(r.event,r.FF);});this.Pb.tc(d.tI.q7);};b.gGa=c;},function(q,b,a){var l,d,g,h;function c(m,n,r,p,u,t){var w;w=this;this.T=n;this.j=r;this.bM=p;this.vc=u;this.NJ=t;this.ZJ=function(){w.pC && (w.pC.cancel(),w.pC=void 0);};this.log=m.Cb("SegmentManager",this.j);this.Ca=new Map();this.j.kb.Ol && (this.j.addEventListener(g.W.NG,function(v){return w.qC(v);}),this.j.addEventListener(g.W.closed,this.ZJ));}function f(m,n){this.id=m;this.dga=n;}function k(m,n,r,p){return d.$c.call(this,m,r,void 0,void 0,void 0,n,void 0,p) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Lva=void 0;l=a(3);d=a(42);g=a(18);h=a(5);ka(k,d.$c);k.prototype.toString=function(){return this.code + "-" + this.jc + " : " + this.message + "\n" + JSON.stringify(this.data);};f.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.xc,contentEndPts:this.Yc};};Xa.Object.defineProperties(f.prototype,{xc:{configurable:!0,enumerable:!0,get:function(){return this.dga.startTimeMs;}},Yc:{configurable:!0,enumerable:!0,get:function(){return this.dga.endTimeMs;}},Uy:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.dga.next);}}});c.prototype.qC=function(m){var n;n=this;!1;0 === this.Ca.size && Object.entries(this.j.jT()).forEach(function(r){var p;p=aa(r);r=p.next().value;p=p.next().value;n.Ca.set(r,new f(r,p));});this.fa=this.Ca.get(m.segmentId);};c.prototype.play=function(m){this.Nv && (this.Nv=void 0);this.ZJ();this.log.trace("Playing segment",m);return this.rWa(m)?this.HMb(m):this.uV(m);};c.prototype.eo=function(m){this.log.trace("Queueing segment",m);return this.rWa(m)?this.zOb(m):this.BOb(m);};c.prototype.ti=function(m,n){var r,p;r=this;p=this.j.Ma;if(null === p || void 0 === p || !p.dh)return Promise.reject(this.getError(l.L.sva,"ASE session manager is not yet initialized",l.M.z9,{segmentId:m,updates:n}));this.log.trace("Updating next segment weights",m,n);return new Promise(function(u,t){try{p.RN(m,n);r.j.fireEvent(g.W.Kta,{va:m,TWb:n});u();}catch(w){t(r.getError(l.L.sva,"updateNextSegmentWeights threw an exception",l.M.X7a,{segmentId:m,updates:n,error:w}));}});};c.prototype.rWa=function(m){return this.fa?void 0 !== this.j.jT()[this.fa.id].next[m]:!1;};c.prototype.ika=function(){var m;m=this.j.Ma;if(null === m || void 0 === m?0:m.dh)return m.vp().Pd;};c.prototype.WAb=function(){var m;m=this.j.Ma;if(null === m || void 0 === m?0:m.dh)return m.vp().id;};c.prototype.Pyb=function(m){var n;n=this.j.Ma;if(null === n || void 0 === n?0:n.dh)return (m=n.iT(m)) && m.Ke;};c.prototype.HMb=function(m){var n,r;n=this;r=this.j.Ma;return null !== r && void 0 !== r && r.dh?this.fa && 1 === this.fa.Uy.length?this.uV(m):this.j.Cg?void 0 === this.Pyb(m)?(this.log.error("playNextSegment: branchOffset missing",{segment:m}),this.uV(m)):new Promise(function(p,u){var y,z,B,A,C,E;function t(){!B && z && y && (E.cancel(),B=!0,n.log.trace("Telling ASE to choose the next segment",{id:m,stopped:z,repositioned:y,completed:B}),r.ns(m,!1,!0)?(p(),B=!0):(B=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:m}),n.uV(m).then(p).catch(u)));}function w(){y=!0;n.log.trace("Player is repositioned",{id:m,stopped:z,repositioned:y,completed:B});n.j.removeEventListener(g.W.Zl,w);t();}function v(){n.j.removeEventListener(g.W.EG,v);r.stop();}function x(){z=!0;n.log.trace("ASE is stopped",{id:m,stopped:z,repositioned:y,completed:B});r.removeEventListener("stop",x);t();}y=!1;z=!1;B=!1;A=n.Ca.get(m);C=n.ika();if(void 0 === C)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:m}),n.uV(m));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:m,seekTo:C,currentSegment:n.fa,nextSegment:A},null,"  "));n.j.fireEvent(g.W.O5,{Fh:n.fa && n.fa.id,UU:m});r.addEventListener("stop",x);n.j.addEventListener(g.W.EG,v);n.j.addEventListener(g.W.Zl,w);E=n.vc.Oj(h.Wg(10),function(){B=!0;E.cancel();u(n.getError(l.L.kO,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.M.T7a,{id:m,stopped:z,repositioned:y,completed:B}));});n.T.seek(C,g.Jd.HD);}):(this.log.warn("MediaPresenter is not initialized",m),Promise.reject(this.getError(l.L.kO,"MediaPresenter is not initialized",l.M.U7a,{id:m}))):Promise.reject(this.getError(l.L.kO,"ASE session manager is not yet initialized",l.M.z9,{id:m}));};c.prototype.uV=function(m){var n;n=this.Ca.get(m);return n?this.hW(n,l.L.kO):Promise.reject(this.getError(l.L.kO,"Unable to find the separated segment",l.M.rva,{id:m}));};c.prototype.zOb=function(m){var n;n=this.j.Ma;if(null === n || void 0 === n || !n.dh)return Promise.reject(this.getError(l.L.HH,"ASE session manager is not yet initialized",l.M.z9,{id:m}));this.j.fireEvent(g.W.O5,{Fh:this.fa && this.fa.id,UU:m});if(n.ns(m,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:m});return Promise.reject(this.getError(l.L.HH,"ASE chooseNextSegment failed",l.M.R7a,{id:m}));};c.prototype.BOb=function(m){var n,r;n=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:m,mid:this.j.K,srcsegment:this.WAb()});if(this.Nv)return Promise.reject(this.getError(l.L.HH,"Unable to queue a non-next segment because there is currently already a segment queued",l.M.W7a,{currentSegment:this.fa?this.fa.id:void 0,queuedSegment:this.Nv.id,failedSegment:m}));if(!this.fa)return Promise.reject(this.getError(l.L.HH,"Unable to queue a non-next segment because there is no currently playing segment",l.M.S7a,{nextSegmentid:m}));r=this.Ca.get(m);if(!r)return Promise.reject(this.getError(l.L.HH,"Unable to find the separated segment",l.M.rva,{nextSegmentid:m,currentSegmentId:this.fa.id}));this.Nv={id:m,promise:new Promise(function(p,u){var t;n.pC=n.bM.ePa({bUa:function(){return h.uc(100);}},function(){return n.T.j.mediaTime.value || 0;});t=n.ika() - 500;n.log.trace("Adding moment for queued segment",{segment:m,pts:t});n.pC.observe(t,function(){n.log.trace("Moment has arrived",{segment:m,currentSegment:n.fa.id,playerEndPts:n.ika(),pts:t});n.Nv=void 0;n.ZJ();n.hW(r,l.L.HH).then(p).catch(u);});})};this.Nv.promise.catch(function(p){n.j.Ld(p.code,p);});return Promise.resolve();};c.prototype.hW=function(m,n){var r;r=this;return new Promise(function(p,u){var t;try{t=m.xc;!1;r.T.seek(t,g.Jd.Iw);p();}catch(w){u(r.getError(n,"Seek threw an exception",l.M.V7a,{id:m.id,error:w}));}});};c.prototype.getError=function(m,n,r,p){this.log.warn(n,p);return new k(m,n,r,p);};b.Lva=c;},function(q,b,a){var k,l;function c(){}function f(d,g,h,m,n){this.debug=d;this.version=g;this.DFb=h;this.EMb=m;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;q=a(1);k=a(0);l=a(5);f.prototype.Izb=function(){return this.config().HB;};f.prototype.tja=function(){return this.config().$Ma;};f.prototype.bUa=function(){return l.uc(this.config().bNb);};f.prototype.zTa=function(){return this.config().QGb;};f.prototype.CTa=function(){return this.config().CHb;};c.prototype.xB=function(d,g,h,m,n){return new f(d,g,h,m,n);};a=q.__decorate([k.R()],c);b.cGa=a;},function(q,b,a){var f,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.mHa=void 0;q=a(1);f=a(0);a=a(15);c.prototype.gOb=function(l,d,g){var h,m;if(this.config().BRb){h=l.metrics;if(void 0 !== h && h.segment !== h.srcsegment){m=l.playlistSegment || void 0;d.rU.transition({isBranching:void 0 === m || void 0,isPlaygraph:m,mid:d.K,xid:d.ba,srcxid:g.ba,srcmid:g.K,segment:l.segmentId,srcsegment:h.srcsegment,srcsegmentduration:h.srcsegmentduration,srcoffset:h.srcoffset,seamlessRequested:h.seamlessRequested,transitionType:h.transitionType,transitionTypeAtRequest:h.transitionTypeAtRequest,nextExitPositionAtRequest:h.nextExitPositionAtRequest,delayToTransition:h.delayToTransition,durationOfTransition:h.durationOfTransition,atRequest:h.atRequest,atTransition:h.atTransition,discard:h.discard});}}};k=c;k=q.__decorate([f.R(),q.__param(0,f.l(a.dd))],k);b.mHa=k;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.F6a=void 0;q=a(0);c=a(331);f=a(637);b.F6a=new q.ad(function(k){k(c.OHa).to(f.NHa).$();});},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t;function c(w){this.jd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.NHa=void 0;q=a(1);f=a(0);k=a(89);l=a(28);d=a(26);g=a(8);h=a(93);m=a(205);n=a(333);r=a(638);p=a(206);u=a(80);t=a(334);c.prototype.Qga=function(w,v,x,y,z,B){return new r.cAa(this.jd.get(l.Hf),this.jd.get(d.Gf),this.jd.get(g.Kb),this.jd.get(h.sya),this.jd.get(m.pba),this.jd.get(p.Faa),this.jd.get(u.h$),this.jd.get(t.uDa),this.jd.get(n.oxa),w,v,x,y,z,B);};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.$za))],a);b.NHa=a;},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r,p,u,t,w,v,x,y,z,B,A,C,E){var F;F=this;this.te=m;this.bb=n;this.Pb=p;this.pt=t;this.UR=w;this.nSa=v;this.config=y;this.Xm=B;this.P=A;this.j=z.create(A.K,A.Wl,x,C,E,A.Fb,A.id);this.j.background=!0;this.j.sa=A.sa;this.log=r.Cb("VideoPlayer",this.j);this.T_a=[];this.ended=!1;this.yX();this.j.state.addListener(function(D){D.newValue === k.Gb.$d && F.oe(k.Rb.gma,{movieId:A.K});});this.j.kb.Ol && (this.SJ=u.trb(this,this.j),this.j.addEventListener(k.W.NG,function(D){D=D.segmentId;F.$Fb !== D && (F.$Fb=D,F.oe(k.Rb.mRb,{segmentId:D}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.cAa=void 0;f=a(3);k=a(18);l=a(5);d=a(11);g=a(80);h=a(24);c.prototype.isReady=function(){return this.j.state.value === k.Gb.$d;};c.prototype.sAb=function(){return this.j.K;};c.prototype.CB=function(){return this.j.ba;};c.prototype.qp=function(){return this.j.mg;};c.prototype.oy=function(){return this.j;};c.prototype.UB=function(){return this.j.Hv.value;};c.prototype.WEb=function(){return this.j.paused.value;};c.prototype.DEb=function(){return this.ended;};c.prototype.hi=function(){var m;m=this.j.Dfa.value;return m?{networkStalled:! !m.M7,stalled:! !m.M7,progress:m.progress,progressRollback:! !m.mOb}:null;};c.prototype.getError=function(){var m;m=this.j.Zk;return m?m.gta():null;};c.prototype.Eyb=function(){var m;m=(this.MSa() || 0) + this.j.ySa();return Math.min(m,this.LSa());};c.prototype.MSa=function(){return this.j.BB();};c.prototype.LSa=function(){return this.j.Lx.ea(l.ma);};c.prototype.XBb=function(){return this.j.Lz?{width:this.j.Lz.width,height:this.j.Lz.height}:null;};c.prototype.Aja=function(){var u;if(this.j.so){for(var m,n=0;n < this.j.so.length;n++){for(var r=this.j.so[n],p=0;p < r.streams.length;p++){u=r.streams[p];this.bb.$h(u.Wga) && this.bb.$h(u.D1) && this.bb.$h(u.C1) && this.bb.$h(u.B1) && 0 < u.D1 && (u=u.B1 / u.C1,m=this.bb.$h(m)?Math.min(m,u):u);}}return m;}};c.prototype.Wyb=function(){return this.j.Aja();};c.prototype.Zxb=function(m){var n,r;return (null === (n=this.j.sa) || void 0 === n?0:n.Fj.rT("generateScreenshots"))?this.nSa.np(this.log,this.j.sa.Fj,m):(n=null === (r=this.j.kb) || void 0 === r?void 0:r.Ep)?this.nSa.Of(this.log,Object.assign({packageId:n},m)):Promise.reject("Unknown packageId");};c.prototype.fzb=function(){return this.gzb(this.j.Eha);};c.prototype.myb=function(){var m;m=this;return this.j.Yo?this.j.Yo.map(function(n){return m.CF(n);}).filter(function(n){return null !== n;}):[];};c.prototype.CUa=function(m){var n,r;n=this;r=m && this.j.Yo.find(function(p){return n.CF(p) === m;}) || this.j.Bd.value;return null === r?[]:r.cm.map(function(p){return n.CF(p);}).filter(function(p){return null !== p;});};c.prototype.REb=function(){return this.j.muted.value;};c.prototype.aCb=function(){return this.j.volume.value;};c.prototype.lyb=function(){return this.CF(this.j.Bd.value);};c.prototype.BUa=function(){return this.CF(this.j.Nc.value);};c.prototype.uEb=function(){return ! !this.j.background;};c.prototype.bSb=function(m){this.j.muted.set(! !m);};c.prototype.xSb=function(m){this.j.volume.set(this.jKb(m));};c.prototype.hSb=function(m){this.j.playbackRate.set(m);};c.prototype.up=function(){return this.j.playbackRate.value;};c.prototype.IRb=function(m){var n,r;n=this;r=this.j.Yo.find(function(p){return n.CF(p) === m;});r?this.j.Bd.set(r):this.log.error("Invalid setAudioTrack call");};c.prototype.m3a=function(m){var p;if(null !== this.j.Bd.value){for(var n=this.j.Bd.value.cm,r=0;r < n.length;r++){p=n[r];if(!m && null === p){this.j.Nc.set(null);return;}if(this.CF(p) === m){this.log.info("Setting Timed Text, profile: " + p.profile);this.j.Nc.set(p);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.T2a=function(m){this.j.background=m;};c.prototype.BW=function(){this.j.BW();};c.prototype.addEventListener=function(m,n,r){this.Pb.addListener(m,n,r);};c.prototype.removeEventListener=function(m,n){this.Pb.removeListener(m,n);};c.prototype.EM=function(){};c.prototype.load=function(){var m;m=this;this.loaded || (this.loaded=!0,this.j.load(function(n,r){try{m.oe(k.Rb.UGb,void 0,!0);n.sa && (n.sa.Wc.R6a && m.oe(k.Rb.hYb,n.sa.Wc.R6a,!0),n.sa.Wc.ym && m.oe(k.Rb.lRb,{segmentMap:n.sa.Wc.ym},!0));r({X:!0});}catch(p){r({oa:f.M.fj,sb:m.te.vd(p)});}}));};c.prototype.close=function(m){var n;n=this;this.kOa || (this.kOa=new Promise(function(r){m?n.j.aK(m,r):n.j.close(r);}));return this.kOa;};c.prototype.play=function(){this.j.El?this.j.fireEvent(k.W.s2a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(k.W.w6a)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(k.W.uXb));};c.prototype.seek=function(m,n,r,p){this.j.Cg?this.j.Cg.seek(m,n,r,p):this.j.NE=m;};c.prototype.IMb=function(m){return this.SJ?(this.log.trace("Playing a segment",m),this.SJ.play(m)):Promise.resolve();};c.prototype.AOb=function(m){return this.SJ?(this.log.trace("Queueing a segment",m),this.SJ.eo(m)):Promise.resolve();};c.prototype.ti=function(m,n){return this.SJ?(this.log.trace("Updating next segment weights",m,n),this.SJ.ti(m,n)):Promise.resolve();};c.prototype.dX=function(){this.j.dX();};c.prototype.r3=function(){var m;m=this.j.Yp.r3();return {bounds:m.GR,margins:m.Zq,size:m.size,visibility:m.visibility};};c.prototype.uW=function(m){var n,r,p;n=m.bounds;r=m.margins;p=m.size;m=m.visibility;this.j.TW && (n && this.j.TW.csa(n),r && this.j.TW.dsa(r),"boolean" === typeof m && this.j.TW.esa(m));this.j.Yp && p && this.j.Yp.rSb(p);};c.prototype.n3a=function(m){this.j.dm=m;};c.prototype.NBb=function(m){return this.j.Cz && this.j.Cz.Gzb(m) || null;};c.prototype.eyb=function(){return this.te.cG({playerver:this.config.version,jssid:this.config.DFb,groupName:this.config.Izb(),xid:this.j.ba,pbi:this.j.index},this.config.EMb,{prefix:"pi_"});};c.prototype.NDb=function(m){this.j.Ld(f.L.y$a,f.M.jm,m);};c.prototype.KGb=function(m,n,r,p){if(!this.bb.WLa(m))throw Error("invalid url");this.T_a.push({url:m,name:n,hmb:r,options:p});this.J0a();};c.prototype.oUa=function(){var m,n,r,p,u,t,w,v;m={};n=this.j.a4a;try{if((this.j.Zk && (m.errorCode=this.j.Zk.S1,m.errorType=n?"endplay":"startplay"),m.playdelay=h.mk(this.j.Ifa()),m.xid=this.j.ba,this.j.sa && this.bb.So(this.j.sa.Wc.Ep) && (m.packageId=Number(this.j.sa.Wc.Ep)),m.auth=this.j.pyb(),n)){m.totaltime=this.j.ao?this.gy(this.j.ao.ET()):0;m.abrdel=this.j.ao?this.j.ao.sSa():0;r=this.j.Cg;p=r?r.uF():null;this.bb.$h(p) && (m.totdfr=p);p=r?r.lT():null;this.bb.$h(p) && (m.totcfr=p);u=r?r.Wzb():null;u && (m.rbfrs_decoder=u.I1,m.rbfrs_network=u.K5);m.rbfrs_delay=this.j.ao?this.j.ao.Ola:0;m.init_vbr=this.j.b4;t=this.zT();this.bb.gF(t) && (m.pdltime=t);w=this.j.Sf.value;v=w && w.stream;v && (m.vbr=v.bitrate,m.vdlid=v.Dd);m.bufferedTime=this.j.ySa();}}catch(x){this.log.error("error capturing session summary",x);}return m;};c.prototype.MS=function(m){this.j.kb.jo && (this.j.kb.jo.userEngageAction=1);return this.bb.$h(this.j.mediaTime.value)?(m=Object.assign(Object.assign({},this.pt.create(this.j)),{action:m}),this.UR(g.wo.MS).np(this.log,this.j.sa.Fj,m).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.jc,errorExternalCode:n.wd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.gzb=function(m){return {register:m.register.bind(m),notifyUpdated:m.KZa.bind(m),getModel:m.qAb.bind(m),getGroups:m.a3.bind(m),addEventListener:m.addEventListener.bind(m),removeEventListener:m.removeEventListener.bind(m),getTime:m.getTime.bind(m)};};c.prototype.CF=function(m){var n;if(null !== m){n=m.rOb=m.rOb || ({trackId:m.trackId,bcp47:m.wm,displayName:m.displayName,trackType:m.po,rawTrackType:m.MM,channels:m.channels});m.Rn && (n.isImageBased=!0);this.YEb(m) && (n.isNative=m.isNative,n.surroundFormatLabel=m.Z7);this.ZEb(m) && (n.isNoneTrack=m.AL(),n.isForcedNarrative=m.s4());n.subType=m.FN;n.variant=m.variant;return n;}return null;};c.prototype.YEb=function(m){return "undefined" !== typeof m.isNative;};c.prototype.ZEb=function(m){return "undefined" !== typeof m.AL && "undefined" !== typeof m.s4;};c.prototype.jKb=function(m){return 0 <= m?1 >= m?m:1:0;};c.prototype.gy=function(m){return this.bb.$h(m)?(m / 1E3).toFixed(0):"";};c.prototype.oe=function(m,n,r){n=n || ({});n.target=this;this.Pb.tc(m,n,!r);};c.prototype.yX=function(){var m;m=this;this.j.addEventListener(k.W.Ysa,function(){m.oe(k.Rb.Iq);});this.j.addEventListener(k.W.M5a,function(){m.oe(k.Rb.oWb);});this.j.addEventListener(k.W.i5,function(){m.oe(k.Rb.lNa);});this.j.addEventListener(k.W.Zl,function(){m.oe(k.Rb.lNa);});this.j.addEventListener(k.W.qL,function(n){m.oe(k.Rb.qL,{errorCode:n});});this.j.addEventListener(k.W.dfa,function(n){m.oe(k.Rb.imb,n.j);});this.j.addEventListener(k.W.El,function(n){m.oe(k.Rb.jmb,n);});this.j.Hv.addListener(function(){m.oe(k.Rb.$Mb);});this.j.paused.addListener(function(){m.oe(k.Rb.fMb);});this.j.muted.addListener(function(){m.oe(k.Rb.vJb);});this.j.volume.addListener(function(){m.oe(k.Rb.aYb);});this.j.ac.addListener(function(){m.U5a();});this.j.state.addListener(function(){m.U5a();});this.j.Dfa.addListener(function(n){m.RGb || m.j.state.value != k.Gb.$d || n.newValue || (m.RGb=!0,m.oe(k.Rb.loaded),setTimeout(function(){m.log.debug.bind(m.log,"summary ",m.oUa());}));m.oe(k.Rb.Efa);});this.j.Bd.addListener(function(n){m.oe(k.Rb.xR);n.oldValue && n.newValue && n.oldValue.cm == n.newValue.cm || m.oe(k.Rb.kH);setTimeout(function(){var r;if(null !== m.j.Bd.value && null !== m.j.Nc.value){r=m.j.Bd.value.cm;0 <= r.indexOf(m.j.Nc.value) || (m.log.info("Changing timed text track to match audio track"),m.j.Nc.set(r[0]));}},0);});this.j.Nc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || m.oe(k.Rb.Az);});this.j.addEventListener(k.W.kH,function(){m.oe(k.Rb.kH);});this.j.addEventListener(k.W.bX,function(){m.oe(k.Rb.bX);});this.j.state.addListener(function(n){switch(n.newValue){case k.Gb.$d:m.oe(k.Rb.Pub);m.oe(k.Rb.TXb);m.oe(k.Rb.EMa);m.oe(k.Rb.kH);m.oe(k.Rb.TGb);m.J0a();m.nYb();break;case k.Gb.CLOSING:m.j.Zk && m.oe(k.Rb.aWa,m.j.Zk);break;case k.Gb.CLOSED:(m.oe(k.Rb.closed),m.Pb.kh());}});};c.prototype.nYb=function(){var m;m=this;this.j.Yp.addEventListener("showsubtitle",function(n){m.oe(k.Rb.bTb,n,!0);});this.j.Yp.addEventListener("removesubtitle",function(n){m.oe(k.Rb.KPb,n,!0);});};c.prototype.J0a=function(){if(this.j.state.value == k.Gb.$d){for(var m,n,r;n=this.T_a.shift();){m=this.j.Yp.mea(n.url,n.name,n.options);n.hmb && (r=m);}r && this.j.Nc.set(r);}};c.prototype.U5a=function(){var m;m=this.j.state.value == k.Gb.$d && this.j.ac.value == k.Bb.au;this.ended !== m && (this.ended=m,this.j.TA("Ended changed: " + m),(m || this.j.state.value === k.Gb.CLOSING) && this.oe(k.Rb.Lvb));};c.prototype.zT=function(){var m,n;try{m=/playercore.*js/;n=d.iu.getEntriesByType("resource").filter(function(r){return null !== m.exec(r.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(r){}};b.cAa=c;},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.hH=void 0;q=a(0);c=a(640);f=a(641);k=a(335);l=a(336);b.hH=new q.ad(function(d){d(l.dHa).to(c.cHa);d(k.aHa).si(new f.$Ga());d(l.bHa).sf(function(g){return function(){return g.$a.get(l.dHa);};});});},function(q,b,a){var f,k,l,d;function c(g){this.config=g;this.msa=k.hb;this.wN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;q=a(1);f=a(0);k=a(49);l=a(5);a=a(335);c.prototype.Is=function(){var h;for(var g;0 < this.wN.length;){g=this.wN.shift();this.nLa(g);}g=void 0 === this.wS || void 0 === this.jF?l.hb:this.jF.Ba(this.wS);h=g.KWa()?0:this.msa.ea(k.aD) / g.ea(l.ma);return {$sa:Math.floor(h),j4b:g.ea(l.ma)};};c.prototype.kkb=function(g){this.msa=this.msa.add(g.size);this.wN.push(g.yub);for(this.wN.sort(function(h,m){return h.start.Wk(m.start);});this.wN.length > this.config.zub;){g=this.wN.shift();this.nLa(g);}};c.prototype.nLa=function(g){void 0 === this.wS && (this.wS=g.start);void 0 !== this.jF && 0 > this.jF.Wk(g.start) && (this.wS=this.wS.add(g.start.Ba(this.jF)));if(void 0 === this.jF || 0 > this.jF.Wk(g.end))this.jF=g.end;};d=c;d=q.__decorate([f.R(),q.__param(0,f.l(a.aHa))],d);b.cHa=d;},function(q,b,a){function c(f){this.zub=void 0 === f?10:f;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;q=a(1);a=a(0);c=q.__decorate([a.R()],c);b.$Ga=c;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F;Object.defineProperty(b,"__esModule",{value:!0});b.zm=void 0;q=a(0);c=a(25);f=a(15);k=a(643);l=a(138);d=a(139);g=a(644);h=a(207);m=a(645);n=a(337);r=a(338);p=a(646);u=a(208);t=a(11);w=a(343);v=a(650);x=a(344);y=a(651);z=a(211);B=a(652);A=a(345);C=a(36);E=a(342);F=a(653);b.zm=new q.ad(function(D){D(d.MP).to(g.sGa).$();D(c.qw).to(k.hxa).$();D(h.eAa).to(m.dAa).$();D(r.kwa).to(p.jwa).$();D(h.bEa).si({isTypeSupported:t.BD && t.BD.isTypeSupported});D(u.WX).si(pb.cast || null);D(u.lwa).si(pb.castReceiverEme || null);D(n.wya).RC(function(G){return {xzb:function(){return G.$a.get(C.CP);}};});D(l.OH).RC(function(G){return G.$a.get(f.dd);});D(w.MBa).to(v.JBa).$();D(E.IBa).to(F.HBa).$();D(x.LBa).to(y.KBa).$();D(z.i$).to(B.vya).$();D(A.hFa).si(pb);});},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r){this.config=m;this.HNa=n;this.DMb=r;this.hOb=this.ksb();}Object.defineProperty(b,"__esModule",{value:!0});b.hxa=void 0;q=a(1);f=a(25);k=a(138);l=a(0);d=a(50);g=a(337);a=a(338);c.prototype.xUa=function(m){return this.rSa().yUa(m);};c.prototype.zUa=function(m){return this.Ks().yUa(m);};c.prototype.rSa=function(){this.Xea && this.Xea.type == this.config().Yea || (this.Xea=this.HNa.srb(this.config().Yea));return this.Xea;};c.prototype.Ks=function(){this.J8 && this.J8.type == this.config().K8 || (this.J8=this.HNa.ysb(this.config().K8),this.J8.nea(this.DMb.xzb()));return this.J8;};c.prototype.Mzb=function(m){var p;if(!m || !m.length)return f.ce.xY;m=this.Ywb(m);for(var n=[f.ce.KP,f.ce.xY,f.ce.AI,f.ce.xw,f.ce.Ir,f.ce.YC,f.ce.QD,f.ce.Fk],r=n.length;r--;){p=n[r];if((0,this.hOb[p])(m))return p;}return f.ce.KP;};c.prototype.Zv=function(m){return this.Ks().Zv(m);};c.prototype.Ex=function(m){return this.Ks().Ex(m);};c.prototype.Pq=function(){return this.Ks().Pq();};c.prototype.W2=function(){return this.Ks().W2();};c.prototype.IW=function(){return this.Ks().IW();};c.prototype.GW=function(){return this.rSa().GW();};c.prototype.Y7=function(){return this.Ks().Y7();};c.prototype.JW=function(){return this.Ks().JW();};c.prototype.VK=function(m){return this.Ks().VK(m);};c.prototype.dL=function(){return this.Ks().dL();};c.prototype.k3=function(){return this.Ks().k3();};c.prototype.Ywb=function(m){var n;n={};m.filter(function(r){return "video" === r.type;}).forEach(function(r){n[r.Mg]="";});return Object.keys(n);};c.prototype.ksb=function(){var m;m={};m[f.ce.Fk]=function(n){return n.some(function(r){return -1 < r.indexOf("av1");});};m[f.ce.YC]=function(n){return n.some(function(r){return -1 < r.indexOf("hpl");});};m[f.ce.QD]=function(n){return n.some(function(r){return -1 < r.indexOf("vp9");});};m[f.ce.Ir]=function(n){return n.some(function(r){return -1 < r.indexOf("hevc-dv");});};m[f.ce.xw]=function(n){return n.some(function(r){return -1 < r.indexOf("hevc-hdr");});};m[f.ce.AI]=function(n){return n.some(function(r){return -1 < r.indexOf("hevc-main10-L") || -1 < r.indexOf("hevc-main-L");});};m[f.ce.xY]=(function(n,r){var p;p={};n.forEach(function(u){return p[u]=1;});n=aa(r);for(r=n.next();!r.done;r=n.next()){if(p[r.value])return !0;}return !1;}).bind(null,[d.O.gD]);m[f.ce.KP]=function(){return !0;};return m;};h=c;h=q.__decorate([l.R(),q.__param(0,l.l(k.OH)),q.__param(1,l.l(a.kwa)),q.__param(2,l.l(g.wya))],h);b.hxa=h;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u){this.zm=r;this.bb=p;this.q4a=u;this.Ojb="video/mp4;codecs={0}";this.afb="audio/mp4;codecs={0}";r=this.zm.VK(k.ce.Ir);this.Njb=d.Sd.sPa(r);}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;q=a(1);k=a(25);l=a(0);d=a(140);g=a(26);h=a(196);m=a(339);n=a(12);c.prototype.A1=function(r){r=this.zm.Mzb(r);r=this.bb.gF(r)?r:k.ce.KP;return this.q4a.format(this.Ojb,this.Njb[r]);};c.prototype.x1=function(r){if(0 === r.length)return this.q4a.format(this.afb,d.Sd.FX);r=m.pva[r[0].Mg] || f.uua;return r === f.uua?n.gI:r === f.y7a?n.gBa:n.fBa;};a=f=c;a.uua="AAC";a.y7a="XHEAAC";a=f=q.__decorate([l.R(),q.__param(0,l.l(k.qw)),q.__param(1,l.l(g.Gf)),q.__param(2,l.l(h.uba))],a);b.sGa=a;},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r){this.config=m;this.OPa=n;this.cast=r;}Object.defineProperty(b,"__esModule",{value:!0});b.dAa=void 0;q=a(1);f=a(0);k=a(207);l=a(138);d=a(25);g=a(208);h=a(210);c.prototype.jPa=function(){switch(this.config().K8){case d.Bi.J9:return g.K9.Lga(this.OPa,this.cast);case d.Bi.Bw:return h.gA.Lga(this.config);default:return this.OPa;}};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(l.OH)),q.__param(1,f.l(k.bEa)),q.__param(2,f.l(g.WX))],a);b.dAa=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B;function c(A,C,E,F,D,G,I,J,H,M,O){this.EWa=A;this.cast=C;this.config=E;this.vc=F;this.wa=D;this.is=G;this.Sl=I;this.Yq=J;this.platform=H;this.Bc=M;this.xv=O;}Object.defineProperty(b,"__esModule",{value:!0});b.jwa=void 0;q=a(1);f=a(0);k=a(25);l=a(207);d=a(138);g=a(208);h=a(647);m=a(648);n=a(166);r=a(341);p=a(46);u=a(40);t=a(26);w=a(649);v=a(79);x=a(8);y=a(34);z=a(35);a=a(342);c.prototype.srb=function(A){var C;C=this.EWa.jPa();switch(A){case k.Wt.Bw:return new h.hCa(this.config,C,this.is,this.platform,this.xv);default:return new r.mY(this.config,C,this.xv);}};c.prototype.ysb=function(A){var C;C=this.EWa.jPa();switch(A){case k.Bi.J9:A=new g.K9(this.config,C,this.is,this.cast,this.xv);break;case k.Bi.LH:A=new w.swa(this.config,C,this.is,this.Sl,this.Yq,this.wa,this.xv);break;case k.Bi.Bw:A=new m.nBa(this.config,C,this.is,this.vc,this.wa,this.Yq,this.Bc,this.xv);break;default:A=new n.bq(this.config,C,this.is,this.xv);}return A;};B=c;B=q.__decorate([f.R(),q.__param(0,f.l(l.eAa)),q.__param(1,f.l(g.WX)),q.__param(2,f.l(d.OH)),q.__param(3,f.l(p.lj)),q.__param(4,f.l(u.wi)),q.__param(5,f.l(t.Gf)),q.__param(6,f.l(v.gu)),q.__param(7,f.l(x.Kb)),q.__param(8,f.l(y.Kk)),q.__param(9,f.l(z.Rh)),q.__param(10,f.l(a.IBa))],B);b.jwa=B;},function(q,b,a){var f,k,l,d,g;function c(h,m,n,r,p){h=d.mY.call(this,h,m,p) || this;h.is=n;h.platform=r;h.type=f.Wt.Bw;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;f=a(25);k=a(50);l=a(104);d=a(341);g=a(210);ka(c,d.mY);c.prototype.GW=function(){return Promise.resolve(this.config().FS && this.fB(l.Ob.lu,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.cF=function(){var h;h={};h[k.je.hD]="mp4a.40.2";h[k.je.iD]="mp4a.40.2";"browser" === this.platform.Dha?this.config().FS && (h[k.je.wO]={jh:"avc1",keySystem:l.Ob.lu,features:["audio-endpoint-codec=DD+JOC"]},h[k.je.xO]={jh:"avc1",keySystem:l.Ob.lu,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().MQa && (h[k.je.wO]="ec-3"),this.config().LQa && (h[k.je.M9]="ec-3"),this.config().FS && (h[k.je.xO]={jh:"avc1",keySystem:l.Ob.lu,features:["audio-endpoint-codec=DD+JOC"]}));return h;};c.prototype.DRa=function(h){var m;m=this;h=h.filter(function(n){var u;for(var r=aa(m.Kv),p=r.next();!p.done;p=r.next()){if(p.value.test(n))return !0;}r=aa(m.Ym);for(p=r.next();!p.done;p=r.next()){if(p.value.test(n))return !1;}n=m.bqa[n];r=[];u=l.Ob.lu;if(n)return (m.is.So(n)?p=n:(r=n.features,p=n.jh,u=n.keySystem),m.fB(u,p,r));});return Promise.resolve(h);};c.prototype.fB=function(h,m,n){h=g.gA.y1(h,m,n);return this.Ex(h);};b.hCa=c;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E;function c(F,D,G,I,J,H,M,O){F=k.bq.call(this,F,D,G,O) || this;F.vc=I;F.wa=J;F.Yq=H;F.Bc=M;F.xv=O;F.type=l.Bi.Bw;F.tO="hvc1";F.G8a="avc1";F.c0a={};F.log=F.Yq.Cb("MicrosoftVideoCapabilityDetector");F.DTb();F.HW && F.config().FIb?F.vQa=F.Jrb():(F.vQa=Promise.resolve(""),F.config().HIb?F.Orb():F.config().GIb && F.Nrb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;f=a(50);k=a(166);l=a(25);q=a(106);d=a(104);g=a(5);h=a(315);m=a(140);n=a(210);r=a(66);p=a(209);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");B=["hdcp=1"];A=["hdcp=2"];C=new q.nA();E=new h.A9();ka(c,k.bq);c.prototype.VK=function(F){return F === l.ce.Ir && this.config().eXb?m.Sd.KO:k.bq.prototype.VK.call(this,F);};c.prototype.Zv=function(F){switch(F){case l.gj.oD:return this.z4a();case l.gj.eu:return this.FV;default:return Promise.resolve(!1);}};c.prototype.Pq=function(){var D;function F(){return D.HW?D.oDb?D.z4a().then(function(G){return Promise.resolve(G?d.Ob.df:d.Ob.pI);}):Promise.resolve(d.Ob.pI):D.AUb?Promise.resolve(d.Ob.pI):Promise.resolve(d.Ob.lu);}D=this;this.keySystem || (this.keySystem=F());return this.keySystem;};c.prototype.W2=function(){return this.vQa;};c.prototype.IW=function(){return Promise.resolve({result:this.y4a(),reason:"is-type-supported"});};c.prototype.JW=function(){return this.HW && this.B4a()?this.FV:Promise.resolve(!1);};c.prototype.Y7=function(){return Promise.resolve(this.x4a()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.nea=function(F){this.$n=F;Object.assign(this.$n,this.c0a);F.itshwdrm=this.HW;F.itsqhd=this.A4a();F.itshevc=this.B4a();F.itshdr=this.y4a();F.itsdv=this.x4a();this.Mta();};c.prototype.kR=function(F,D){(this.$n?this.$n:this.c0a)[F]=D;};c.prototype.dL=function(){var F;F=this;return this.Zv(l.gj.eu).then(function(D){return D?F.cS(l.gj.eu):F.Zv(l.gj.oD).then(function(G){return G?F.cS(l.gj.oD):F.cS(void 0);});});};c.prototype.k3=function(){return this.Pq().then(function(F){return F === d.Ob.df?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.LK=function(F){var D;D=this;return this.Pq().then(function(G){var I,J,H;if(D.bFb(G,F))return !1;I=D.bqa[F];if(I){J=[];if(D.is.So(I))H=I;else (J=I.features,H=I.jh,G=I.keySystem);return D.fB(G,H,J);}return !1;});};c.prototype.cF=function(){var F;F=k.bq.prototype.cF.call(this);F[f.O.UP]=F[f.O.CI]=F[f.O.BI]=F[f.O.IZ]={jh:"vp09.00.11.08.02",keySystem:d.Ob.df,features:u};F[f.O.AY]=F[f.O.zY]={jh:"hev1.2.6.L90.B0",keySystem:d.Ob.df,features:t};F[f.O.CY]=F[f.O.BY]={jh:"hev1.2.6.L93.B0",keySystem:d.Ob.df,features:t};F[f.O.EY]=F[f.O.DY]={jh:"hev1.2.6.L120.B0",keySystem:d.Ob.df,features:t};F[f.O.GY]=F[f.O.FY]={jh:"hev1.2.6.L123.B0",keySystem:d.Ob.df,features:t};F[f.O.XO]=F[f.O.WO]={jh:"hev1.2.6.L150.B0",keySystem:d.Ob.df,features:t};F[f.O.ZO]=F[f.O.YO]={jh:"hev1.2.6.L153.B0",keySystem:d.Ob.df,features:t};F[f.O.MO]=F[f.O.LO]={jh:"hev1.2.6.L90.B0",keySystem:d.Ob.df,features:v};F[f.O.OO]=F[f.O.NO]={jh:"hev1.2.6.L93.B0",keySystem:d.Ob.df,features:v};F[f.O.PO]=F[f.O.ZH]={jh:"hev1.2.6.L120.B0",keySystem:d.Ob.df,features:v};F[f.O.RO]=F[f.O.QO]={jh:"hev1.2.6.L123.B0",keySystem:d.Ob.df,features:x};F[f.O.TO]=F[f.O.SO]={jh:"hev1.2.6.L150.B0",keySystem:d.Ob.df,features:x};F[f.O.VO]=F[f.O.UO]={jh:"hev1.2.6.L153.B0",keySystem:d.Ob.df,features:x};F[f.O.bY]=F[f.O.aY]={jh:"hev1.2.6.L90.B0",keySystem:d.Ob.df,features:y};F[f.O.dY]=F[f.O.cY]={jh:"hev1.2.6.L93.B0",keySystem:d.Ob.df,features:y};F[f.O.eY]=F[f.O.zO]={jh:"hev1.2.6.L120.B0",keySystem:d.Ob.df,features:y};F[f.O.gY]=F[f.O.fY]={jh:"hev1.2.6.L123.B0",keySystem:d.Ob.df,features:z};F[f.O.iY]=F[f.O.hY]={jh:"hev1.2.6.L150.B0",keySystem:d.Ob.df,features:z};F[f.O.kY]=F[f.O.jY]={jh:"hev1.2.6.L153.B0",keySystem:d.Ob.df,features:z};return F;};c.prototype.fB=function(F,D,G){F=n.gA.y1(F,D,G);return this.Ex(F);};c.prototype.A4a=function(){return this.fB(d.Ob.df,this.tO,t);};c.prototype.y4a=function(){return this.fB(d.Ob.df,this.tO,v);};c.prototype.x4a=function(){return this.fB(d.Ob.df,this.tO,y);};c.prototype.B4a=function(){return this.fB(d.Ob.df,this.tO,w);};c.prototype.z4a=function(){var F;F=this;return this.FV.then(function(D){return D?Promise.resolve(D):F.M0a;});};c.prototype.Mta=function(){this.$n && (this.$n.itshdcp=JSON.stringify({hdcp1:this.bVa,time1:this.T4a - this.X3a,hdcp2:this.cVa,time2:this.U4a - this.Y3a}));};c.prototype.DTb=function(){var F;F=this;this.HW?(this.FV=this.aUa(this.config().KYa,this.config().JIb,function(){var D;D=F.Kzb();return ["maybe" !== D,D];}).then(function(D){return "probably" === D;}),this.M0a=this.FV.then(function(D){return D?!0:F.aUa(F.config().KYa,F.config().IIb,function(){var G;G=F.Jzb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;});})):(this.M0a=Promise.resolve(!0),this.FV=Promise.resolve(!1));};c.prototype.aUa=function(F,D,G){var I;I=this;return new Promise(function(J){var H,M,O,L;H=aa(G());M=H.next().value;H=H.next().value;if(M)return J(H);O=I.vc.l7(g.uc(F),function(){var P,R;P=aa(G());R=P.next().value;P=P.next().value;R && (O.cancel(),L.cancel(),J(P));});L=I.vc.Oj(g.uc(D),function(){O.cancel();L.cancel();J("timeout");});});};c.prototype.Jzb=function(){var F;F=n.gA.y1(d.Ob.pI,this.G8a,B).split("|");this.bVa=n.gA.Rsa(F[0],F[1]);this.T4a=this.wa.Ue.ea(g.ma);this.X3a=this.X3a || this.T4a;this.Mta();return this.bVa;};c.prototype.Kzb=function(){var F;F=n.gA.y1(d.Ob.df,this.tO,A).split("|");this.cVa=n.gA.Rsa(F[0],F[1]);this.U4a=this.wa.Ue.ea(g.ma);this.Y3a=this.Y3a || this.U4a;this.Mta();return this.cVa;};c.prototype.Jrb=function(){var F;F=this;return this.Oga(d.Ob.df,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (r.SCa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(D){F.log.debug("DriverInfo: " + D);return D;}).catch(function(D){F.kR("itsDriverInfo","exception");F.log.error("DriverInfo exception",D);throw D;});};c.prototype.Nrb=function(){var F;F=this;this.Oga(d.Ob.lu,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(D){var G;G=String.fromCharCode.apply(void 0,F.Bc.decode(D));F.kR("itsHardwareInfo",G);F.log.debug("HardwareInfo: " + G);return D;}).catch(function(D){F.kR("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",D);throw D;});};c.prototype.Orb=function(){var F;F=this;this.Oga(d.Ob.lu,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(D){var G;G=String.fromCharCode.apply(void 0,F.Bc.decode(D));F.kR("itsHardwareReset",G);F.log.debug("ResetHardwareDRMDisabled: " + G);return D;}).catch(function(D){F.kR("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",D);throw D;});};c.prototype.Oga=function(F,D){var G;G=this;return new Promise(function(I,J){var R,K,Q;function H(N){try{L(N.target,"Unexpectedly got an mskeyerror event: 0x" + E.rF(N && N.target && N.target.error && N.target.error.O7b || 0,4));}catch(da){L(N.target,da);}}function M(N){L(N.target,"Unexpectedly got an mskeyadded event");}function O(N){var da;try{da=G.yia(N.message,"PlayReadyKeyMessage","Challenge");P(N.target);I(da);}catch(na){L(N.target,na);}}function L(N,da){G.log.error("PlayReadyChallenge error",{cdmData:D});P(N);J(da);}function P(N){N.removeEventListener("mskeymessage",O);N.removeEventListener("mskeyadded",M);N.removeEventListener("mskeyerror",H);Q && Q.cancel();}try{R=new Uint8Array(C.o4a(D));K=new pb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),R);K.addEventListener("mskeymessage",O);K.addEventListener("mskeyadded",M);K.addEventListener("mskeyerror",H);Q=G.vc.Oj(g.uc(1E3),function(){L(K,Error("timeout"));});}catch(N){J(N);}});};c.prototype.yia=function(F,D){var I,J,H;for(var G=1;G < arguments.length;++G){;}G="";J=F.length;for(I=0;I < J;I++){H=F[I];0 < H && (G+=String.fromCharCode(H));}J="\\s*(.*)\\s*";for(I=arguments.length - 1;0 < I;I--){H=arguments[I];if(0 > G.search(H))return;H="(?:[^:].*:|)" + H;J="[\\s\\S]*<" + H + "[^>]*>" + J + "</" + H + ">[\\s\\S]*";}if(G=G.match(new RegExp(J)))return G[1];};c.prototype.bFb=function(F,D){return p.Ff.YC.test(D) && this.config().EIb && F !== d.Ob.pI && !this.config().rC;};Xa.Object.defineProperties(c.prototype,{oDb:{configurable:!0,enumerable:!0,get:function(){return this.config().ivb && (!this.config().KIb || this.A4a());}},HW:{configurable:!0,enumerable:!0,get:function(){try{return this.Ex(d.Ob.df + '|video/mp4;codecs="' + m.Sd.WH + '"');}catch(F){return !1;}}},AUb:{configurable:!0,enumerable:!0,get:function(){try{return this.Ex(d.Ob.pI);}catch(F){return !1;}}}});b.nBa=c;c.tH='video/mp4;codecs="{0},mp4a";';},function(q,b,a){var f,k,l,d;function c(g,h,m,n,r,p,u){g=f.bq.call(this,g,h,m,u) || this;g.Sl=n;g.Yq=r;g.wa=p;g.xv=u;g.type=k.Bi.LH;g.log=g.Yq.Cb("ChromeVideoCapabilityDetector");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.swa=void 0;f=a(166);k=a(25);l=a(5);d=a(66);ka(c,f.bq);c.prototype.Zv=function(g){switch(g){case k.gj.eu:return this.zUb;default:return Promise.resolve(!1);}};c.prototype.dL=function(){var g;g=this;return this.Zv(k.gj.eu).then(function(h){return h?k.gj.eu:void 0;}).then(function(h){return g.cS(h);});};c.prototype.nea=function(g){this.$n=g;};c.prototype.tFb=function(g){var h;return !(null === (h=g.getConfiguration().videoCapabilities) || void 0 === h || !h.some(function(m){return (null === m || void 0 === m?void 0:m.robustness) === d.IY;}));};c.prototype.Z5a=function(){var g;if(this.$n){g=this.dVa && this.fVa && this.dVa.Ba(this.fVa).ea(l.ma);this.$n.itshdcp=JSON.stringify({hdcp2:this.Ns,time2:g});}};Xa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.GYa || (this.GYa=this.Sl.ly().then(function(g){return g.createMediaKeys();}));return this.GYa;}},zUb:{configurable:!0,enumerable:!0,get:function(){var g;g=this;this.Ssa || (this.config().jvb?this.Ssa=Promise.all([this.Sl.ly(),this.mediaKeys]).then(function(h){var m;m=aa(h);h=m.next().value;m=m.next().value;if(!g.tFb(h))return (g.Ns="not HW_SECURE_DECODE",g.log.trace("hdcpStatus: " + g.Ns),!1);if(m && m.getStatusForPolicy)return (g.fVa=g.wa.Ue,m.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(n){g.dVa=g.wa.Ue;g.Ns=n;g.log.trace("hdcpStatus: " + g.Ns);return "usable" === g.Ns;}));g.Ns="not available";g.log.trace("hdcpStatus: " + g.Ns);return !1;}).catch(function(h){g.Ns="exception";g.log.error("Exception in supportsHdcpLevel",{hdcpStatus:g.Ns},h);return !1;}).then(function(h){g.Z5a();return h;}):(this.Ns="not enabled",this.log.trace("hdcpStatus: " + this.Ns),this.Z5a(),this.Ssa=Promise.resolve(!1)));return this.Ssa;}}});b.swa=c;},function(q,b,a){var f,k;function c(l){this.navigator=l;this.EYa=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=void 0;q=a(1);f=a(0);a=a(36);c.prototype.Cia=function(l){return this.EYa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:l.contentType,width:l.width,height:l.height,bitrate:l.bitrate,framerate:l.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=c;k=q.__decorate([f.R(),q.__param(0,f.l(a.lI))],k);b.JBa=k;},function(q,b,a){var f,k,l;function c(d,g){this.mediaCapabilities=d;this.log=g.Cb("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.KBa=void 0;q=a(1);f=a(343);k=a(8);a=a(0);c.prototype.Cia=function(d){var g,h,m;g=this;h={Ub:void 0};if(this.mediaCapabilities.EYa){m={contentType:'video/mp4;codecs="avc1.640028"',width:d.width,height:d.height,bitrate:1E3 * d.bitrate,framerate:24};this.mediaCapabilities.Cia(m).then(function(n){return h.Ub=Object.assign(Object.assign({},n),m);}).catch(function(n){return g.log.error("Error calling MediaCapabilities API",n);});}return h;};l=c;l=q.__decorate([a.R(),q.__param(0,a.l(f.MBa)),q.__param(1,a.l(k.Kb))],l);b.KBa=l;},function(q,b,a){var f,k,l;function c(d){this.KNb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vya=void 0;q=a(1);f=a(0);k=a(211);a=a(345);c.prototype.Awb=function(){var d,g;d={PS:k.Yz.reb};g=this.KNb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var m;d.PS=h.value?k.Yz.gFa:k.Yz.Dua;if(d.PS === k.Yz.Dua){m=function(){h.value && (d.PS=k.Yz.gFa);h.removeEventListener("change",m);};h.addEventListener("change",m);}}).catch(function(){d.PS=k.Yz.Error;});return d;};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(a.hFa))],l);b.vya=l;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u,t){this.config=r;this.navigator=p;this.Yq=u;this.Lna=t;this.type=k.Bi.Zt;this.BMa={};this.D6a={};this.log=this.Yq.Cb("MediaCapabilityDetector");this.BMa=this.rrb();this.D6a=this.xsb();}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;q=a(1);f=a(0);k=a(25);l=a(50);d=a(8);g=a(36);h=a(79);m=a(138);n=a(66);c.prototype.LK=function(r){var p;p=this;return this.Lna.ly().then(function(u){return p.Mwb(r,u);}).catch(function(){return !1;});};c.prototype.KEb=function(r){return ! !r.colorGamut || ! !r.hdrMetadataType || ! !r.transferFunction;};c.prototype.Wla=function(){return pb.matchMedia("(dynamic-range: high)").matches;};c.prototype.Mwb=function(r,p){var u,t,w,v;u=this;try{t={type:"media-source"};w=this.BMa[r];v=this.D6a[r];if(w)t.audio=w;else if(v){t.video=v;if(this.KEb(v) && !this.Wla())return Promise.resolve(!1);p && (t.keySystemConfiguration=this.bAb(p));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(t).then(function(x){var y;x.configuration || (x.configuration=t);y=u.mFb(t,x);y?u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(x)):u.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(x));return y;}).catch(function(x){u.log.error("mediaCapabilities.decodingInfo failed",x);return !1;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.bAb=function(r){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:r.keySystem},(r=this.mAb(r)) && (this.keySystemConfiguration.video={robustness:r}));return this.keySystemConfiguration;};c.prototype.mAb=function(r){return [n.IY,n.VFa,n.nba].find(function(p){var u;return null === (u=r.getConfiguration().videoCapabilities) || void 0 === u?void 0:u.some(function(t){return t.robustness === p;});});};c.prototype.rrb=function(){var r,p;r={};p={contentType:"audio/mp4;codecs=mp4a.40.2"};r[l.je.hD]=p;r[l.je.Zya]=p;r[l.je.iD]=p;r[l.je.EI]=p;p={contentType:"audio/mp4;codecs=ec-3"};r[l.je.wO]=p;r[l.je.M9]=p;r[l.je.xO]=p;return r;};c.prototype.xsb=function(){var r,p,u,t,w,v,x,y,z,B,A,C,E;r={};p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};u={contentType:'video/mp4; codecs="dvh1.05.04"'};t={width:1920,height:1080};w={width:3840,height:2160};v=Object.assign(Object.assign({},t),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:2E7,framerate:60});t=Object.assign(Object.assign({},w),{bitrate:25E6,framerate:30});w=Object.assign(Object.assign({},w),{bitrate:4E7,framerate:60});y={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};z={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),v);r[l.O.Rya]=B;r[l.O.IO]=B;r[l.O.JO]=B;r[l.O.o$]=B;B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),v);r[l.O.IZ]=B;r[l.O.BI]=B;r[l.O.CI]=B;r[l.O.UP]=B;B=Object.assign(Object.assign({},p),v);A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),t);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),w);r[l.O.zY]=B;r[l.O.BY]=B;r[l.O.DY]=B;r[l.O.FY]=A;r[l.O.WO]=C;r[l.O.YO]=E;r[l.O.AY]=B;r[l.O.CY]=B;r[l.O.EY]=B;r[l.O.GY]=A;r[l.O.XO]=C;r[l.O.ZO]=E;B=Object.assign(Object.assign(Object.assign({},p),v),y);A=Object.assign(Object.assign(Object.assign({},p),x),y);C=Object.assign(Object.assign(Object.assign({},p),t),y);p=Object.assign(Object.assign(Object.assign({},p),w),y);r[l.O.LO]=B;r[l.O.NO]=B;r[l.O.ZH]=B;r[l.O.QO]=A;r[l.O.SO]=C;r[l.O.UO]=p;r[l.O.MO]=B;r[l.O.OO]=B;r[l.O.PO]=B;r[l.O.RO]=A;r[l.O.TO]=C;r[l.O.VO]=p;v=Object.assign(Object.assign(Object.assign({},u),v),z);x=Object.assign(Object.assign(Object.assign({},u),x),z);t=Object.assign(Object.assign(Object.assign({},u),t),z);u=Object.assign(Object.assign(Object.assign({},u),w),z);r[l.O.aY]=v;r[l.O.cY]=v;r[l.O.zO]=v;r[l.O.fY]=x;r[l.O.hY]=t;r[l.O.jY]=u;r[l.O.bY]=v;r[l.O.dY]=v;r[l.O.eY]=v;r[l.O.gY]=x;r[l.O.iY]=t;r[l.O.kY]=u;return r;};c.prototype.mFb=function(r,p){return r.video && this.config().gNb?p.supported && p.powerEfficient:p.supported;};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(m.OH)),q.__param(1,f.l(g.lI)),q.__param(2,f.l(d.Kb)),q.__param(3,f.l(h.gu))],a);b.HBa=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;q=a(0);c=a(346);f=a(78);k=a(167);l=a(655);d=a(349);g=a(656);h=a(348);m=a(168);n=a(657);r=a(659);p=a(660);u=a(661);t=a(78);w=a(350);v=a(663);b.storage=new q.ad(function(x){x(k.rCa).sf(function(){return function(){return pb.localStorage;};});x(k.uza).sf(function(){return function(){return pb.indexedDB;};});x(w.eCa).to(v.dCa).$();x(t.Rz).to(u.Lua).$();x(d.CAa).to(g.BAa).$();x(c.MY).to(r.Vza).$();x(m.Xza).to(n.Wza).$();x(f.EGa).to(l.Gwa).$();x(m.tza).to(n.sza).$();x(m.E$).to(n.Yza).$();x(h.Iwa).to(p.Hwa).$();});},function(q,b,a){var f,k,l,d,g;function c(h,m,n){this.co=m;this.config=n;this.ya=h.Cb(d.tba);}Object.defineProperty(b,"__esModule",{value:!0});b.Gwa=void 0;q=a(1);f=a(0);k=a(8);l=a(60);d=a(347);a=a(348);c.prototype.validate=function(h){return this.config.enabled?this.config.timeout?this.co.Op(this.config.timeout,this.mQa(h)):this.mQa(h):Promise.resolve();};c.prototype.mQa=function(h){var m;m=this;return new Promise(function(n,r){return h.save("indexdb-test","true",!0).then(function(){return h.load("indexdb-test").then(function(p){"true" !== p.value && r();m.ya.debug("save/load test passed");h.remove("indexdb-test").then(function(){n();}).catch(function(){m.ya.error("Failed to remove testValue");n();});});}).catch(function(p){return r(p);});});};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(l.Gw)),q.__param(2,f.l(a.Iwa))],g);b.Gwa=g;},function(q,b,a){var f,k,l;function c(d){this.vC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;q=a(1);f=a(0);k=a(3);a=a(167);c.prototype.load=function(d){var g;g=this;return new Promise(function(h,m){var n,r;try{n=g.vC.getItem(d);if(n){r=n;if("{" === n[0])try{r=JSON.parse(n) || n;}catch(p){}h({key:d,value:r});}else m({oa:k.M.mA});}catch(p){m({oa:k.M.TFa,cause:p});}});};c.prototype.save=function(d,g,h){var m;m=this;return new Promise(function(n,r){if(h && m.vC.getItem(d))n(!1);else try{"string" === typeof g?m.vC.setItem(d,g):m.vC.setItem(d,JSON.stringify(g));n(!0);}catch(p){r({oa:k.M.UFa,cause:p});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(h,m){try{g.vC.removeItem(d);h();}catch(n){m({oa:k.M.mba,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(a.Zbb))],l);b.BAa=l;},function(q,b,a){var l,d,g,h,m,n,r,p,u,t,w,v;function c(x,y,z,B,A,C){this.config=y;this.iS=z;this.en=B;this.FXb=A;this.Dk=C;this.ya=x.Cb(n.tba);}function f(x,y){this.config=x;this.UW=y;}function k(x,y,z,B,A){this.config=y;this.UW=z;this.Dk=A;this.ya=x.Cb(n.tba);this.iS=new Promise(function(C,E){var F;try{F=B();F?C(F):E({oa:m.M.vza});}catch(D){E({oa:m.M.LY,cause:D});}});}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=b.Wza=b.sza=void 0;q=a(1);l=a(0);d=a(8);g=a(658);h=a(167);m=a(3);n=a(347);r=a(346);p=a(60);u=a(78);t=a(69);w=a(168);v=a(65);k.prototype.create=function(){this.dha || (this.dha=this.fK());return this.dha;};k.prototype.gp=function(x){var y;y=this;this.dha=null;return this.UW.Op(this.config.timeout,new Promise(function(z,B){x.close();y.delete(x.name).then(function(){z();}).catch(function(A){B(A);});})).catch(function(z){return z instanceof p.qq?Promise.reject({oa:m.M.LY}):z.oa?Promise.reject(z):Promise.reject({oa:m.M.LY,cause:z});});};k.prototype.delete=function(x){var y;y=this;return this.UW.Op(this.config.timeout,new Promise(function(z,B){y.iS.then(function(A){var C;C=A.deleteDatabase(x);C.onsuccess=function(){z();};C.onerror=function(){B({oa:m.M.LY,cause:C.error});};}).catch(function(A){B(A);});}));};k.prototype.fK=function(){var x,y;x=this;return this.UW.Op(this.config.timeout,new Promise(function(z,B){if(x.config.ksa)return B({oa:x.config.ksa});x.iS.then(function(A){x.Dk.mark(v.nj.hab);y=A.open(x.config.name,x.config.version);if(!y)return B({oa:m.M.wza});y.onblocked=function(){x.Dk.mark(v.nj.eab);B({oa:m.M.aab});};y.onupgradeneeded=function(){var C;x.Dk.mark(v.nj.oab);C=y.result;try{C.createObjectStore(x.config.aV,{keyPath:"name"});}catch(E){x.ya.error("Exception while creating object store",E);}};y.onsuccess=function(C){var E,F;x.Dk.mark(v.nj.nab);try{E=C.target.result;F=E.objectStoreNames.length;x.ya.trace("objectstorenames length ",F);if(0 === F){x.ya.error("invalid indexedDb state, deleting");x.Dk.mark(v.nj.gab);try{E.close();}catch(D){}A.deleteDatabase(x.config.name);setTimeout(function(){B({oa:m.M.$$a});},1);return;}}catch(D){x.ya.error("Exception while inspecting indexedDb objectstorenames",D);}z(y.result);};y.onerror=function(){x.Dk.mark(v.nj.fab);x.ya.error("IndexedDB open error",y.error);B({oa:m.M.bab,cause:y.error});};}).catch(function(A){B(A);});})).catch(function(z){if(z instanceof p.qq){try{y && y.readyState && x.Dk.mark("readyState-" + y.readyState);}catch(B){}if(x.config.D0 && y && "done" === y.readyState){if(x.AXb(y))return (x.Dk.mark(v.nj.lab),Promise.resolve(y.result));x.Dk.mark(v.nj.kab);}x.Dk.mark(v.nj.jab);return Promise.reject({oa:m.M.dab});}if(z.oa)return Promise.reject(z);x.Dk.mark(v.nj.iab);x.ya.error("IndexedDB open exception occurred",z);return Promise.reject({oa:m.M.cab,cause:z});});};k.prototype.AXb=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.Dk.mark(v.nj.mab);this.ya.error("failed to check open request state",y);}return !1;};a=k;a=q.__decorate([l.R(),q.__param(0,l.l(d.Kb)),q.__param(1,l.l(r.MY)),q.__param(2,l.l(p.Gw)),q.__param(3,l.l(h.uza)),q.__param(4,l.l(t.ND))],a);b.sza=a;f.prototype.create=function(x){return Promise.resolve(new g.Uza(this.config,this.UW,x));};a=f;a=q.__decorate([l.R(),q.__param(0,l.l(r.MY)),q.__param(1,l.l(p.Gw))],a);b.Wza=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.dS || (this.dS=this.fK(this.FXb));return this.dS;};c.prototype.fK=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,B){y.Dk.mark(v.nj.Rdb);y.iS.create().then(function(A){y.en.create(A).then(function(C){Promise.all(x.map(function(E){return E.validate(C);})).then(function(){y.storage=C;z(y.storage);}).catch(function(E){y.ya.debug("DB validation failed, cause: " + E);y.config.URa?(y.ya.debug("Fixing corrupt DB"),y.iS.gp(A).then(function(){y.ya.error("Invalid database deleted, creating new database.");y.fK().then(function(F){y.ya.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.ya.error("Couldn't delete invalid database.");B(F);})):(y.ya.debug("Ignoring invalid DB due to config"),y.storage=C,z(y.storage));});}).catch(function(C){B(C);});}).catch(function(A){B(A);});});};a=c;a=q.__decorate([l.R(),q.__param(0,l.l(d.Kb)),q.__param(1,l.l(r.MY)),q.__param(2,l.l(w.tza)),q.__param(3,l.l(w.Xza)),q.__param(4,l.fG(u.EGa)),q.__param(5,l.l(t.ND))],a);b.Yza=a;},function(q,b,a){var k,l,d;function c(g,h,m){this.config=g;this.co=h;this.vC=m;}function f(g,h){this.reason=g;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Uza=b.uFa=void 0;k=a(3);l=a(60);(function(g){g[g.laa=0]="NoData";g[g.Error=1]="Error";g[g.zI=2]="Timeout";})(d=b.uFa || (b.uFa={}));c.prototype.load=function(g){var h;h=this;return new Promise(function(m,n){h.o2("get",!1,g).then(function(r){m({key:g,value:r});}).catch(function(r){var p;p=k.M.TFa;switch(r.reason){case d.laa:p=k.M.mA;break;case d.zI:p=k.M.Sdb;}n({oa:p,cause:r.cause});});});};c.prototype.save=function(g,h,m){var n;n=this;return new Promise(function(r,p){n.o2(m?"add":"put",!0,{name:g,data:h}).then(function(){r(!m);}).catch(function(u){var t;t=k.M.UFa;switch(u.reason){case d.zI:t=k.M.Vdb;}p({oa:t,cause:u.cause});});});};c.prototype.remove=function(g){var h;h=this;return new Promise(function(m,n){h.o2("delete",!0,g).then(function(){m();}).catch(function(r){var p;p=k.M.mba;switch(r.reason){case d.zI:p=k.M.SFa;}n({oa:p,cause:r.cause});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(h,m){g.o2("clear",!0,"").then(function(){h();}).catch(function(n){var r;r=k.M.mba;switch(n.reason){case d.zI:r=k.M.SFa;}m({oa:r,cause:n.cause});});});};c.prototype.loadAll=function(){var g;g=this;return this.co.Op(this.config.timeout,new Promise(function(h,m){var n,r,p;if(g.config.jsa)m(new f(g.config.jsa));else {n=[];r=g.vC.transaction(g.config.aV,"readonly");p=r.objectStore(g.config.aV).openCursor();r.onerror=function(){m(new f(d.Error,p.error));};p.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){m(new f(d.Error,t));}else h(n);};p.onerror=function(){m(new f(d.Error,p.error));};}})).catch(function(h){return h instanceof l.qq?Promise.reject(new f(d.zI,h)):h instanceof f?Promise.reject(h):Promise.reject(new f(d.Error,h));});};c.prototype.o2=function(g,h,m){var n;n=this;return this.co.Op(this.config.timeout,new Promise(function(r,p){var u,t;u=n.vC.transaction(n.config.aV,h?"readwrite":"readonly");t=u.objectStore(n.config.aV)[g](m);u.onerror=function(){p(new f(d.Error,t.error));};t.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?r(v.data):p(new f(d.laa));}catch(x){p(new f(d.laa,x));}else r(void 0);};t.onerror=function(){p(new f(d.Error,t.error));};})).catch(function(r){return r instanceof l.qq?Promise.reject(new f(d.zI,r)):r instanceof f?Promise.reject(r):Promise.reject(new f(d.Error,r));});};b.Uza=c;},function(q,b,a){var f,k,l,d,g;function c(h,m){h=l.ff.call(this,h,"IndexedDBConfigImpl") || this;h.config=m;h.version=1;h.aV="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;q=a(1);f=a(0);k=a(44);l=a(45);d=a(38);a=a(37);ka(c,l.ff);Xa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Zu?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Dsa;}},D0:{configurable:!0,enumerable:!0,get:function(){return this.config.D0;}},ksa:{configurable:!0,enumerable:!0,get:function(){return 0;}},jsa:{configurable:!0,enumerable:!0,get:function(){return 0;}},URa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;q.__decorate([k.config(k.Fz,"simulateIdbOpenError")],g.prototype,"ksa",null);q.__decorate([k.config(k.Fz,"simulateIdbLoadAllError")],g.prototype,"jsa",null);q.__decorate([k.config(k.ud,"fixInvalidDatabase")],g.prototype,"URa",null);g=q.__decorate([f.R(),q.__param(0,f.l(a.km)),q.__param(1,f.l(d.gm))],g);b.Vza=g;},function(q,b,a){var f,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Hwa=void 0;q=a(1);f=a(0);a=a(38);Xa.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Dsa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.J4a;}}});k=c;k=q.__decorate([f.R(),q.__param(0,f.l(a.gm))],k);b.Hwa=k;},function(q,b,a){var k,l,d,g,h,m,n;function c(r,p,u,t){this.ya=r;this.config=p;this.pDb=u;this.Rna=t;this.XE={mem:{storage:this.Rna,key:"mem"}};this.MC=this.config.MC;}function f(r,p,u,t){this.Bg=r;this.en=p;this.Rna=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.m9=b.Lua=void 0;q=a(1);k=a(0);l=a(3);d=a(168);g=a(8);h=a(350);m=a(662);a=a(38);f.prototype.create=function(){this.dS || (this.dS=this.fK());return this.dS;};f.prototype.fK=function(){this.jlb=new c(this.Bg.Cb("AppStorage"),this.config,this.en,this.Rna);return this.jlb.create();};n=f;n=q.__decorate([k.R(),q.__param(0,k.l(g.Kb)),q.__param(1,k.l(d.E$)),q.__param(2,k.l(h.eCa)),q.__param(3,k.l(a.gm))],n);b.Lua=n;c.prototype.create=function(){var r;r=this;return this.Prb().then(function(p){if(!r.Pnb(p,r.config.TT))throw r.KJb(p);return r;});};c.prototype.load=function(r){var p;p=this;return new Promise(function(u,t){p.kT(r).storage.load(r).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.save=function(r,p,u){var t;t=this;return new Promise(function(w,v){t.kT(r).storage.save(r,p,u).then(function(x){w(x);}).catch(function(x){v(x);});});};c.prototype.remove=function(r){var p;p=this;return new Promise(function(u,t){p.kT(r).storage.remove(r).then(function(){u();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var r;r=this;return new Promise(function(p,u){r.x1a("mem").then(function(){return r.x1a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){p();}).catch(function(t){r.ya.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var r,p;r=this;p=[];return this.qXa("mem").then(function(u){p=p.concat(u);return r.qXa("idb");}).catch(function(u){r.jFb(u) || r.ya.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return p=p.concat(u);}).catch(function(u){r.ya.error("load all failed",u);throw u;});};c.prototype.Prb=function(){var r;r=this;return this.pDb.create().then(function(p){r.XE.idb={storage:p,key:"idb"};}).catch(function(p){r.ya.error("idb failed to load",p);return p || ({oa:l.M.jm});});};c.prototype.Pnb=function(r,p){return !r || r && p?!0:!1;};c.prototype.KJb=function(r){var p;p="";r && (p+=r.oa);return {oa:p};};c.prototype.x1a=function(r){return (r=this.XE[r])?r.storage.removeAll():Promise.resolve();};c.prototype.qXa=function(r){return (r=this.XE[r])?r.storage.loadAll():Promise.resolve([]);};c.prototype.Twb=function(r){for(var p in this.MC){if(r.startsWith(p))return this.MC[p];}return this.MC[m.u9a];};c.prototype.kT=function(r){var p,u;p=this;this.Twb(r).every(function(t){return p.XE[t]?(u=p.XE[t],!1):!0;});if(!u){this.ya.error("component not found for storageKey",{RTb:r,u3b:Object.keys(this.XE),rules:this.MC});u=this.XE.mem;}this.ya.trace("component found for key",{storageKey:r,componentKey:u.key});return u;};c.prototype.jFb=function(r){return (r && (r.oa || r.errorSubCode)) === l.M.mA;};b.m9=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.u9a="__default_rule_key__";},function(q,b,a){var f,k,l;function c(d){this.Bg=d;this.gG={};this.ya=this.Bg.Cb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;q=a(1);f=a(0);k=a(3);a=a(8);c.prototype.load=function(d){var g;if(this.gG.hasOwnProperty(d)){g=this.gG[d];this.ya.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.ya.debug("Storage entry not found",{key:d});return Promise.reject({oa:k.M.mA});};c.prototype.save=function(d,g,h){if(h && this.gG.hasOwnProperty(d))return Promise.resolve(!1);this.gG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.gG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.gG).map(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;return {key:g,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.gG={};return Promise.resolve();};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(a.Kb))],l);b.dCa=l;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.ME=void 0;q=a(0);c=a(351);f=a(352);k=a(353);l=a(665);d=a(666);g=a(667);b.ME=new q.ad(function(h){h(c.Dva).to(l.Cva).$();h(f.Bva).to(d.yva).$();h(k.Ava).to(g.zva).$();});},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p,u,t){this.N0=r;this.bb=p;this.Kmb=u;this.config=t;this.ya=n.Cb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Cva=void 0;q=a(1);f=a(0);k=a(352);l=a(353);d=a(8);g=a(26);h=a(5);a=a(15);c.prototype.Qkb=function(n){var r,p;r=n.kb.playbackState && n.kb.playbackState.currentTime;p=this.Syb(n.K);r=this.bb.gF(r)?h.uc(r):p;if(this.bb.eg(r))(this.ya.info("Overriding bookmark",{From:n.wH.ea(h.ma),To:r.ea(h.ma)}),n=Object.assign({},n,{wH:r}));else if(this.tDb(n))return (this.ya.trace("Ignoring bookmark because it's too close to beginning"),h.Wg(0));return n.wH.bma()?(this.ya.trace("Ignoring bookmark because it's negative"),h.Wg(0)):this.sDb(n)?(this.ya.trace("Ignoring bookmark because it's too close to end"),h.Wg(0)):this.rDb(n)?(this.ya.trace("Ignoring bookmark because it's too close to the end to start decoding"),h.Wg(0)):n.wH;};c.prototype.tDb=function(n){return 0 > n.wH.Wk(this.Nja(n));};c.prototype.Nja=function(n){return this.aNa(this.N0.Nja(),n.s6);};c.prototype.sDb=function(n){return 0 < n.wH.Wk(this.Oja(n));};c.prototype.Oja=function(n){var r;r=n.kb.Ol?this.N0.Ozb():this.N0.Oja();return n.s6.Ba(this.aNa(r,n.s6));};c.prototype.rDb=function(n){return 0 < n.wH.Wk(this.uzb(n));};c.prototype.uzb=function(n){var r;r=n.kb.Ol?this.config().i_a:this.config().oG;return n.s6.Ba(h.uc(r));};c.prototype.Syb=function(n){var r;n=this.N0.tja()[n];r=-1;this.bb.So(n)?r=parseInt(n):this.bb.$h(n) && (r=n);if(this.bb.mR(r))return h.uc(r);};c.prototype.aNa=function(n,r){return this.Kmb.fUb(n,r);};m=c;m=q.__decorate([f.R(),q.__param(0,f.l(d.Kb)),q.__param(1,f.l(k.Bva)),q.__param(2,f.l(g.Gf)),q.__param(3,f.l(l.Ava)),q.__param(4,f.l(a.dd))],m);b.Cva=m;},function(q,b,a){var f,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.yva=void 0;q=a(1);f=a(0);a=a(15);c.prototype.Nja=function(){return this.xB().Lmb;};c.prototype.Oja=function(){return this.xB().Mmb;};c.prototype.Ozb=function(){return this.xB().Nmb;};c.prototype.tja=function(){return this.xB().$Ma;};c.prototype.xB=function(){return this.config();};k=c;k=q.__decorate([f.R(),q.__param(0,f.l(a.dd))],k);b.yva=k;},function(q,b,a){var f,k,l;function c(d){this.bb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zva=void 0;q=a(1);f=a(0);k=a(26);l=a(5);c.prototype.fUb=function(d,g){var h,m;h=parseFloat(d);m=0;"%" === d[d.length - 1] && this.bb.$h(h)?m=Math.round(h * g.ea(l.ma) / 100):(d=parseInt(d),this.bb.mR(d) && (m=d));return l.uc(Math.min(m,g.ea(l.ma)));};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.Gf))],a);b.zva=a;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.vNa=void 0;q=a(0);c=a(354);f=a(669);b.vNa=new q.ad(function(k){k(c.Tva).to(f.Sva).$();});},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u,t,w,v,x){this.config=p;this.lC=t;this.profile=w;this.s8=v;this.NR=x;this.log=u.Cb("CDMAttestedDescriptor");this.ESa(n.hu.EP);}Object.defineProperty(b,"__esModule",{value:!0});b.Sva=void 0;q=a(1);f=a(0);k=a(15);l=a(8);d=a(141);g=a(212);h=a(89);m=a(163);n=a(38);r=a(59);c.prototype.ESa=function(p){var u;u=this;return this.s8.F7(p)?this.config().evb?this.CSa().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.lXa || (!1,u.lXa=u.NR.ska(r.Th.kn));return u.lXa;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.Nb.close();return null === t || void 0 === t?void 0:t.Sfa;}).then(function(t){return Promise.all([Promise.resolve(t),u.CSa()]);}).then(function(t){var w;t=aa(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.lC().then(function(t){t.OU.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.CSa=function(){var p;p=this;return this.lC().then(function(u){return (u=u.OU.getServiceTokens(p.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.dd)),q.__param(1,f.l(l.Kb)),q.__param(2,f.l(d.pP)),q.__param(3,f.l(h.GP)),q.__param(4,f.l(g.HZ)),q.__param(5,f.l(m.VX))],a);b.Sva=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w;Object.defineProperty(b,"__esModule",{value:!0});b.WXa=void 0;q=a(0);c=a(355);f=a(671);k=a(356);l=a(702);d=a(366);g=a(367);h=a(369);m=a(703);n=a(370);r=a(704);p=a(143);u=a(705);t=a(372);w=a(706);b.WXa=new q.ad(function(v){v(k.uBa).to(l.tBa).$();v(c.wBa).to(f.vBa).$();v(d.CEa).si(function(x){for(var y=[],z=0;z < arguments.length;++z){y[z - 0]=arguments[z];}z=a(217).MD;return new (Function.prototype.bind.apply(z,[null].concat(ca(y))))();});v(g.lHa).si(function(x){for(var y=[],z=0;z < arguments.length;++z){y[z - 0]=arguments[z];}z=a(439).hwa;return new (Function.prototype.bind.apply(z,[null].concat(ca(y))))();});v(h.BBa).sf(function(){return function(x){return new m.CBa(x);};});v(n.ABa).to(r.zBa).$();v(p.kP).to(u.rBa).$();v(t.qBa).to(w.pBa).$();});},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t;function c(w,v,x,y,z){this.Bg=w;this.config=v;this.Hpa=x;this.pta=y;this.o8=z;}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;q=a(1);f=a(0);k=a(8);l=a(356);d=a(672);g=a(697);h=a(698);m=a(699);n=a(700);r=a(701);p=a(366);u=a(367);a=a(368);c.prototype.create=function(w){var v,x;v=this.Bg.Cb("ManifestParser",w);x=new d.pwa(v,this.config);return new h.xBa(x,new g.YGa(v,this.config,w,x,this.Hpa),new m.vHa(v,w,this.pta),new n.ova(v,this.config,w,this.o8),new r.THa(v,this.o8));};t=c;t=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(l.uBa)),q.__param(2,f.l(p.CEa)),q.__param(3,f.l(a.tHa)),q.__param(4,f.l(u.lHa))],t);b.vBa=t;},function(q,b,a){var f;function c(k,l){this.log=k;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.pwa=void 0;f=a(122);c.prototype.A_a=function(k,l,d){var g,h,m,n,r;g=this;h=this.config.Pfa;m=this.config.Ofa;k=aa(f.mt(function(p){return (!h.length || 0 <= h.indexOf(p.id)) && 0 > m.indexOf(p.id);},k || []));n=k.next().value;k.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});r=n.map(function(p){var u;u=(l?l.find(function(t){return t.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,Eg:p.Eg,type:p.type,Sma:p.key,u5b:p.LXa,location:{id:u.key,Eg:u.Eg,level:u.level,weight:u.weight,Uk:[]}};});r.sort(function(p,u){return p.Eg - u.Eg;});r.forEach(function(p){return p.location.Uk=r.filter(function(u){return u.Sma === p.Sma;});});this.log.trace("Transformed cdns",{Count:r.length});if(d && !r.length)throw Error("no valid cdns");return r;};b.pwa=c;},function(q,b,a){var c;b=a(169);c=a(674);a=b(function(f,k,l){return c(function(d,g,h){return f(g,h);},k,l);});q.exports=a;},function(q,b,a){var c,f;b=a(169);c=a(357);f=a(675);a=b(function h(l,d,g){return f(function(m,n,r){return c(n) && c(r)?h(l,n,r):l(m,n,r);},d,g);});q.exports=a;},function(q,b,a){var c;b=a(169);c=a(213);a=b(function(f,k,l){var d,g;d={};for(g in k){c(g,k) && (d[g]=c(g,l)?f(g,k[g],l[g]):k[g]);}for(g in l){c(g,l) && !c(g,d) && (d[g]=l[g]);}return d;});q.exports=a;},function(q,b,a){var c;b=a(358);c=a(685);a=a(695);a=c([b,a]);q.exports=a;},function(q){q.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(q){q.exports=function(b,a){for(var c=0,f=a.length,k=[];c < f;){b(a[c]) && (k[k.length]=a[c]);c+=1;}return k;};},function(q,b,a){var c,f;b=a(123);c=a(360);f=a(680);a=b(function(k){return c(k)?!0:!k || "object" !== typeof k || f(k)?!1:1 === k.nodeType?! !k.length:0 === k.length?!0:0 < k.length?k.hasOwnProperty(0) && k.hasOwnProperty(k.length - 1):!1;});q.exports=a;},function(q){q.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(q){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,f){return this.f(c,f);};return a;})();q.exports=function(a){return new b(a);};},function(q,b,a){var c;c=a(215);b=a(57)(function(f,k){return c(f.length,function(){return f.apply(k,arguments);});});q.exports=b;},function(q,b,a){var c,f;b=a(57);c=a(361);f=(function(){function k(l,d){this.DX=d;this.f=l;}k.prototype["@@transducer/init"]=c.mb;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(l,d){return this.f(d)?this.DX["@@transducer/step"](l,d):l;};return k;})();a=b(function(k,l){return new f(k,l);});q.exports=a;},function(q,b,a){var c,f;c=a(213);f=Object.prototype.toString;q.exports=function(){return "[object Arguments]" === f.call(arguments)?function(k){return "[object Arguments]" === f.call(k);}:function(k){return c("callee",k);};};},function(q,b,a){var c;b=a(123);c=a(686);a=b(function(f){return c(function(){return Array.prototype.slice.call(arguments,0);},f);});q.exports=a;},function(q,b,a){var c,f,k,l,d;b=a(57);c=a(363);f=a(364);k=a(688);l=a(689);d=a(694);a=b(function(g,h){return f(d(k,0,l("length",h)),function(){var m,n;m=arguments;n=this;return g.apply(n,c(function(r){return r.apply(n,m);},h));});});q.exports=a;},function(q,b,a){var f,k;function c(l,d,g){return function(){var p;for(var h=[],m=0,n=l,r=0;r < d.length || m < arguments.length;){if(r < d.length && (!k(d[r]) || m >= arguments.length))p=d[r];else (p=arguments[m],m+=1);h[r]=p;k(p) || --n;r+=1;}return 0 >= n?g.apply(this,h):f(n,c(l,h,g));};}f=a(215);k=a(170);q.exports=c;},function(q,b,a){b=a(57)(function(c,f){return f > c?f:c;});q.exports=b;},function(q,b,a){var c,f;b=a(57);c=a(690);f=a(692);a=b(function(k,l){return c(f(k),l);});q.exports=a;},function(q,b,a){var c,f,k,l,d,g;b=a(57);c=a(359);f=a(363);k=a(214);l=a(691);d=a(364);g=a(362);a=b(c(["fantasy-land/map","map"],l,function(h,m){switch(Object.prototype.toString.call(m)){case "[object Function]":return d(m.length,function(){return h.call(this,m.apply(this,arguments));});case "[object Object]":return k(function(n,r){n[r]=h(m[r]);return n;},{},g(m));default:return f(h,m);}}));q.exports=a;},function(q,b,a){var c,f;b=a(57);c=a(361);f=(function(){function k(l,d){this.DX=d;this.f=l;}k.prototype["@@transducer/init"]=c.mb;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(l,d){return this.DX["@@transducer/step"](l,this.f(d));};return k;})();a=b(function(k,l){return new f(k,l);});q.exports=a;},function(q,b,a){var c;b=a(57);c=a(693);a=b(function(f,k){return c([f],k);});q.exports=a;},function(q,b,a){b=a(57)(function(c,f){for(var k=0;k < c.length;){if(null == f)return;f=f[c[k]];k+=1;}return f;});q.exports=b;},function(q,b,a){b=a(169);a=a(214);a=b(a);q.exports=a;},function(q,b,a){var c,f;c=a(696);b=a(57);f=a(358);a=b(function(k,l){return f(c(k),l);});q.exports=a;},function(q){q.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(q,b,a){var f,k,l,d;function c(g,h,m,n,r){this.log=g;this.config=h;this.j=m;this.Qfa=n;this.Hpa=r;}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;f=a(50);k=a(11);l=a(142);d=a(216);c.prototype.ZLb=function(g){var h;h=this;g=g.map(function(m){var n,r,p;n=h.IVb(m);!1 !== m.BL || n.length || h.log.error("track without downloadables",h.ATa(m));!0 !== m.Vla || n.length || h.log.error("forced track without downloadables",h.ATa(m));r={};p=[];0 < n.length && (r=n[0],r.profile == f.Or.iI && (r=h.oRb(n),!1),p=h.Qfa.A_a(m.Znb,void 0,!1));m=h.Hpa(h.j,m.ht,m.id,r.Dd,r.urls || ({}),p,m.language,m.I4,l.FZ[m.po.toLowerCase()] || l.rq.oI,m.FN,m.variant,m.MM.toUpperCase(),r.profile,h.oAb(r) || ({}),m.BL,m.Vla,m.v4,m.Os);h.log.trace("Transformed timed text track",m);return m;});this.log.trace("Transformed timed text tracks",{Count:g.length});return g;};c.prototype.gVb=function(g){var h,m;h=this;m=this.config.dja;if(m){if(g=aa(g.filter(function(n){return n.wm == m || n.trackId == m;})).next().value)return g;}else if(this.j.E2 && (g=aa(g.filter(function(n){return n.trackId == h.j.E2;})).next().value))return g;};c.prototype.IVb=function(g){var h,m;h=this;m=g.Cub;g=Object.entries(g.bWb || ({})).map(function(n){var r;r=aa(n);n=r.next().value;r=r.next().value;return {Dd:m[n],profile:n,size:r.size || 0,priority:h.mzb(n,r),offset:r.Una || 0,vMb:r.width,Y_a:r.height,urls:r.Xx};});g.sort(function(n,r){return n.priority - r.priority;});return g;};c.prototype.mzb=function(g,h){var m,n;m=this.config.$v.indexOf(g);h=h.size;n=this.config.MN;return g === f.Or.P9 && 0 < n && h > n?this.config.$v.length + 1:0 <= m?m:this.config.$v.length;};c.prototype.oAb=function(g){if(g.profile === f.Or.iI)return {offset:g.offset,length:g.size,e7:{width:g.vMb,height:g.Y_a}};};c.prototype.oRb=function(g){var h,m;h=this.config.sla || d.DZ.hka();m=aa(g.filter(function(n){return n.profile === f.Or.iI;}).filter(function(n){return n.Y_a === h;})).next().value;if(m)return m;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.ju.height,intendedResolution:h});return g[0];};c.prototype.ATa=function(g){return {isNone:g.BL,isForced:g.Vla,bcp47:g.language,id:g.ht};};b.YGa=c;},function(q,b){function a(c,f,k,l,d){this.Qfa=c;this.K4a=f;this.RVb=k;this.GMa=l;this.I6a=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xBa=void 0;a.prototype.ULb=function(c){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x;f=c.Wc;c=this.Qfa.A_a(f.Kt,f.Un,!0);k=this.K4a.ZLb(f.jVb);l=this.RVb.$Lb(f.UVb);d=this.GMa.MLb(f.IMa,f.media,k);g=this.I6a.aMb(f.Nz);h=this.WLb(f,d,k);m=h[0];n=g[0];r=this.GMa.$lb(d) || m.Bd || d[0];m=this.K4a.gVb(r.cm) || m.Nc || r.cm[0];p=this.I6a.XLb(f.Nz);u=f.Ti;t=f.Sob;w=f.MT;v=f.Kl;x=f.IMa.findIndex(function(y){return y.ht == r.trackId;});f=f.Nz.findIndex(function(y){return y.ht == n.trackId;});return {Bt:p,Uk:c,Yo:d,so:g,cm:k,Dz:l,Ti:u,FRb:t,XB:w,Kl:v,jtb:x,rtb:f,D6:h,qha:n,lS:r,pha:m};};a.prototype.WLb=function(c,f,k){var l,d;l=[];d=c.PPa[0];l.push({Bd:f.find(function(g){return g.NF === d.KE;}),Nc:k.find(function(g){return g.NF === d.qUb;}),Y6b:0});return l;};b.xBa=a;},function(q,b){function a(c,f,k){this.log=c;this.j=f;this.pta=k;}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;a.prototype.$Lb=function(c){var f;f=this;c=(c || []).filter(function(k){return k.urls && 0 < k.urls.length;}).map(function(k){return f.pta(f.j,k.id,k.height,k.width,k.AMb,k.BMb,k.size,k.Os,{unknown:k.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(k,l){return k.size - l.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.vHa=a;},function(q,b,a){var f,k,l,d,g;function c(h,m,n,r){h=k.mP.call(this,h,r) || this;h.config=m;h.j=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.ova=void 0;f=a(339);k=a(365);l=a(122);d=a(81);g=a(142);ka(c,k.mP);c.prototype.MLb=function(h,m,n){var r,p,u,t;r=this;p=aa(l.mt(function(w){return w.BL;},h));h=p.next().value;p=p.next().value;p=aa(l.mt(function(w){return w.streams && 0 < w.streams.length;},p));u=p.next().value;p.next().value.forEach(function(w){return r.log.warn("Audio track is missing streams",r.IUa(w));});t=this.config.Qsa;p=aa(l.mt(function(w){return 0 === t.length || 0 <= t.indexOf(w.po);},u));u=p.next().value;p.next().value.forEach(function(w){return r.log.warn("Audio track is not supported",r.IUa(w));});h=[].concat(ca(u),ca(h)).map(function(w){var v,x;x=w.po;x={type:d.Uh.audio,FN:w.FN,variant:w.variant,trackId:w.ht,NF:w.kta,po:g.FZ[x.toLowerCase()] || g.rq.oI,MM:x,wm:w.language,displayName:w.I4,channels:w.channels,L3b:w.channels,cm:r.gyb(w.ht,m,n),Kh:{Bcp47:w.language,TrackId:w.ht},streams:[],isNative:w.isNative,AL:w.BL,Z7:w.Z7};x.streams=r.t5a(w.streams,x);r.log.trace("Transformed audio track",x,{StreamCount:x.streams.length,AllowedTimedTextTracks:x.cm.length});x.$ob=f.pva[null === (v=x.streams[0]) || void 0 === v?void 0:v.Mg];return x;});if(!h.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:h.length});return h;};c.prototype.$lb=function(h){var m,n;m=this;n=this.config.$ia;if(n){if(h=aa(h.filter(function(r){return r.wm == n || r.trackId == n;})).next().value)return h;}else if(this.j.D2 && (h=aa(h.filter(function(r){return r.trackId == m.j.D2;})).next().value))return h;};c.prototype.IUa=function(h){return {language:h.I4,bcp47:h.language,type:h.po};};c.prototype.gyb=function(h,m,n){return m.filter(function(r){return r.Fg.Tb === h;}).map(function(r){return r.Fg.tl;}).map(function(r){return n.find(function(p){return p.trackId === r;});}).filter(Boolean);};b.ova=c;},function(q,b,a){var f,k,l,d;function c(g,h){return k.mP.call(this,g,h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;f=a(122);k=a(365);l=a(81);d=a(142);ka(c,k.mP);c.prototype.aMb=function(g){var h,m;h=this;g=aa(f.mt(function(n){return n.streams && 0 < n.streams.length;},g));m=g.next().value;g.next().value.forEach(function(n){return h.log.warn("Video track is missing streams",{trackId:n.ht});});g=m.map(function(n){var r;r=n.po;r={type:l.Uh.video,trackId:n.ht,NF:n.kta,po:d.FZ[r.toLowerCase()] || d.rq.oI,MM:r,streams:[],Kh:{},zt:n.zt};r.streams=h.t5a(n.streams,r);h.log.trace("Transformed video track",{StreamCount:r.streams.length});return r;});if(!g.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:g.length});return g;};c.prototype.XLb=function(g){var h;h=g.map(function(m){return m.zt;}).filter(Boolean);h=[].concat.apply([],ca(h)).map(function(m){return m.ca;});g=g.map(function(m){return m.Qha;}).filter(Boolean).map(function(m){return m.ca;});return 0 < h.length?h:g;};b.THa=c;},function(q,b,a){var f,k,l,d,g,h;function c(m,n){m=k.ff.call(this,m,"ManifestParserConfigImpl") || this;m.jk=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;q=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(131);h=a(49);ka(c,k.ff);Xa.Object.defineProperties(c.prototype,{Qsa:{configurable:!0,enumerable:!0,get:function(){return [];}},$ia:{configurable:!0,enumerable:!0,get:function(){return "";}},Pfa:{configurable:!0,enumerable:!0,get:function(){return [];}},Ofa:{configurable:!0,enumerable:!0,get:function(){return [];}},dja:{configurable:!0,enumerable:!0,get:function(){return "";}},sla:{configurable:!0,enumerable:!0,get:function(){return 0;}},MN:{configurable:!0,enumerable:!0,get:function(){return this.jk.MN.ea(h.Xt);}},$v:{configurable:!0,enumerable:!0,get:function(){return this.jk.$v;}}});a=c;q.__decorate([d.config(d.U7,"supportedAudioTrackTypes")],a.prototype,"Qsa",null);q.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"$ia",null);q.__decorate([d.config(d.zta,"cdnIdWhiteList")],a.prototype,"Pfa",null);q.__decorate([d.config(d.zta,"cdnIdBlackList")],a.prototype,"Ofa",null);q.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"dja",null);q.__decorate([d.config(d.Fz,"imageSubsResolution")],a.prototype,"sla",null);q.__decorate([d.config(d.Fz,"timedTextSimpleFallbackThreshold")],a.prototype,"MN",null);q.__decorate([d.config(d.U7,"timedTextProfiles")],a.prototype,"$v",null);a=q.__decorate([f.R(),q.__param(0,f.l(l.km)),q.__param(1,f.l(g.BP))],a);b.tBa=a;},function(q,b){function a(c){this.Mc=c;this.sb=JSON.stringify(this.jAb());}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;a.prototype.jAb=function(){var c;c=[];(!this.Mc.Uk || 0 >= this.Mc.Uk.length) && c.push({error:"No CDN."});this.Mc.lS || c.push({error:"No default audio track.",foundTracks:this.Lja(this.Mc.Yo)});this.Mc.qha || c.push({error:"No default video track.",foundTracks:this.Lja(this.Mc.so)});this.Mc.pha || c.push({error:"No default subtitle track.",foundTracks:this.Lja(this.Mc.cm)});return c;};a.prototype.Lja=function(c){return c && 0 < c.length?c.map(function(f){return f.trackId;}):"No tracks found.";};b.CBa=a;},function(q,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;q=a(1);f=a(0);k=a(216);c.prototype.decode=function(l){var d,g;d=this.qBb(l.cdns);g=this.wzb(l);return {movieId:l.movieId,packageId:l.packageId,duration:l.runtime,locations:this.Tja(l.locations),servers:d,audio_tracks:this.getAudioTracks(l.audioTracks),video_tracks:this.getVideoTracks(l.videoTracks,l.videoEncrypted?l.psshb64:void 0),cdnResponseData:l.cdnResponseData,isSupplemental:l.isSupplemental,choiceMap:l.branchMap,watermarkInfo:l.watermark,drmVersion:0,playbackContextId:l.playbackContextId,bookmark:l.bookmark.position / 1E3,hasDrmProfile:!0,hasDrmStreams:l.videoEncrypted,hasClearProfile:!1,hasClearStreams:!l.videoEncrypted,defaultTrackOrderList:this.azb(l),timedtexttracks:this.KBb(l.textTracks,d),media:this.nAb(l.media),trickplays:this.PBb(l.trickPlayTracks),drmContextId:l.drmContextId,dpsid:null,isBranching:! !l.branchMap,clientIpAddress:l.clientIpAddress,drmType:"",expiration:g.expiration,urlExpirationDuration:g.z6a,manifestExpirationDuration:g.z6a,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:"",type:"standard"};};c.prototype.azb=function(l){var d,g,h;d=aa(l.defaultMedia.split("|"));g=d.next().value;h=d.next().value;d=d.next().value;return [{mediaId:l.defaultMedia,audioTrackId:g,videoTrackId:h,subtitleTrackId:d,preferenceOrder:0}];};c.prototype.Tja=function(l){return l?l.map(function(d){return {key:d.id,rank:d.rank,level:d.level,weight:d.weight};}):[];};c.prototype.qBb=function(l){return l?l.map(function(d){return {name:d.name,type:d.type,id:Number(d.id),key:d.locationId,rank:d.rank,lowgrade:d.isLowgrade};}):[];};c.prototype.KUa=function(l){return Object.entries(l).map(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;return {cdn_id:Number(d),url:g};});};c.prototype.getAudioTracks=function(l){var d;d=this;return l?l.map(function(g){var h;h=g.downloadables;return {type:0,channels:g.channels,language:g.bcp47,languageDescription:g.language,trackType:g.trackType,streams:d.jyb(h,g),channelsFormat:g.channelsLabel,surroundFormatLabel:g.channelsLabel,profile:h && h.length?h[0].contentProfile:void 0,rawTrackType:g.trackType.toLowerCase(),new_track_id:g.id,track_id:g.id,id:g.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,isNoneTrack:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};c.prototype.jyb=function(l,d){var g;g=this;return l?(l=l.map(function(h){return {type:0,trackType:d.trackType,content_profile:h.contentProfile,downloadable_id:h.downloadableId,bitrate:h.bitrate,language:d.bcp47,urls:g.KUa(h.urls),isDrm:! !h.isEncrypted,new_stream_id:h.id,size:h.size,channels:d.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),l.sort(function(h,m){return h.bitrate - m.bitrate;}),l):[];};c.prototype.getVideoTracks=function(l,d){var g;g=this;return l?l.map(function(h){return {type:1,trackType:"PRIMARY",streams:g.WBb(h.downloadables,h.trackType),profile:"",new_track_id:h.id,track_id:h.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:! !d,hasClearProfile:!1,hasClearStreams:!d,drmHeader:d && d.length?{bytes:d[0],checksum:"",keyId:d[0].substr(d.length - 25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};c.prototype.WBb=function(l,d){var g;g=this;return l?(l=l.map(function(h){return {type:1,trackType:d,content_profile:h.contentProfile,downloadable_id:h.downloadableId,bitrate:h.bitrate,urls:g.KUa(h.urls),pix_w:h.width,pix_h:h.height,res_w:h.width,res_h:h.height,hdcp:h.hdcpVersions,vmaf:h.vmaf,size:h.size,isDrm:h.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:h.framerate_value,framerate_scale:h.framerate_scale,crop_x:h.cropParamsX,crop_y:h.cropParamsY,crop_w:h.cropParamsWidth,crop_h:h.cropParamsHeight};}),l.sort(function(h,m){return h.bitrate - m.bitrate;}),l):[];};c.prototype.KBb=function(l,d){var g;g=this;return l?l.map(function(h){return {type:"timedtext",trackType:"SUBTITLES" === h.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:h.trackType.toLowerCase(),language:h.bcp47 || null,languageDescription:h.language,new_track_id:h.id,id:h.id,isNoneTrack:h.isNone,isForcedNarrative:h.isForced,downloadableIds:g.FBb(h.downloadables),ttDownloadables:g.GBb(h.downloadables),isLanguageLeftToRight:! !h.isLanguageLeftToRight,cdnlist:d};}):[];};c.prototype.FBb=function(l){return l?l.reduce(function(d,g){d[g.contentProfile]=g.downloadableId;return d;},{}):{};};c.prototype.VAb=function(l){var d;d=k.DZ.hka();l=l.filter(function(g){return g.isImage;});return 0 === l.length?d:0 < l.filter(function(g){return g.pixHeight === d;}).length?d:Math.min.apply(Math,ca(l.map(function(g){return g.pixHeight;})));};c.prototype.GBb=function(l){var d;if(l){d=this.VAb(l);return l.reduce(function(g,h){h.isImage && h.pixHeight !== d || (g[h.contentProfile]={size:h.size,textKey:null,isImage:h.isImage,midxOffset:h.offset,height:h.pixHeight,width:h.pixWidth,downloadUrls:h.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return g;},{});}return {};};c.prototype.nAb=function(l){return l?l.map(function(d){return {id:d.mediaId,tracks:{AUDIO:d.tracks.find(function(g){return "AUDIO" === g.type;}).id,VIDEO:d.tracks.find(function(g){return "VIDEO" === g.type;}).id,TEXT:d.tracks.find(function(g){return "TEXT" === g.type;}).id}};}):[];};c.prototype.PBb=function(l){var d;if(l){d=[];l.map(function(g){g.downloadables.map(function(h){d.push({downloadable_id:h.downloadableId,size:h.size,urls:Object.values(h.urls),id:h.id,interval:h.interval,pixelsAspectY:h.pixWidth,pixelsAspectX:h.pixHeight,width:h.resWidth,height:h.resHeight});});});return d;}return [];};c.prototype.wzb=function(l){var d;d=0;l.videoTracks.forEach(function(g){g.downloadables && g.downloadables.forEach(function(h){d=d?Math.min(h.validFor,d):h.validFor;});});l.audioTracks.forEach(function(g){g.downloadables && g.downloadables.forEach(function(h){d=d?Math.min(h.validFor,d):h.validFor;});});return {z6a:1E3 * d,expiration:l.clientGenesis + 1E3 * d};};c.prototype.encode=function(){throw Error("encode not supported");};a=q.__decorate([f.R()],c);b.zBa=a;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u,t){this.wa=r;this.AHb=p;this.nGb=u;this.xHb=t;}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;q=a(1);f=a(370);k=a(0);l=a(40);d=a(5);g=a(371);h=a(372);m=a(42);n=a(3);c.prototype.create=function(r){var p;if(this.SEb(r))throw m.$c.pYb(n.L.V$,n.M.Wdb,r);p=this.nGb();this.NEb(r)?(r.clientGenesis=r.clientGenesis || this.wa.Ue.ea(d.ma),r=this.AHb.decode(r),p.skb(r)):p.qea(r.links);this.xHb.CK(r);return {Wc:r,Fj:p,oWa:!1,nWa:!1};};c.prototype.SEb=function(r){return ("type" in r) && "muxed" === r.type;};c.prototype.NEb=function(r){return ("runtime" in r) && ! !r.runtime;};a=c;a=q.__decorate([k.R(),q.__param(0,k.l(l.wi)),q.__param(1,k.l(f.ABa)),q.__param(2,k.l(g.yDa)),q.__param(3,k.l(h.qBa))],a);b.rBa=a;},function(q,b,a){var f,k;function c(l){this.Pvb=l;this.yHb={Jn:"drmType",o4b:"drmVersion",expiration:"expiration",y5b:"isUsingLegacyBatchingAPI",ME:"bookmark",K:"movieId",Ep:"packageId",duration:"duration",Ti:"playbackContextId",PPa:["defaultTrackOrderList",{TL:"mediaId",j8b:"videoTrackId",qUb:"subtitleTrackId",KE:"audioTrackId",X6b:"preferenceOrder"}],Kl:"drmContextId",BCb:"hasDrmProfile",ACb:"hasClearProfile",MT:"hasDrmStreams",Tka:"hasClearStreams",Un:["locations",{Eg:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Kt:["servers",{id:"id",name:"name",type:"type",Eg:"rank",LXa:"lowgrade",oub:["dns",{host:"host",mEb:"ipv4",nEb:"ipv6",txb:"forceLookup"}],key:"key"}],IMa:["audio_tracks",{type:"type",FN:"subType",variant:"variant",po:"trackType",ht:"new_track_id",kta:"track_id",iOb:"profileType",NTb:"stereo",profile:"profile",channels:"channels",language:"language",gob:"channelsFormat",Z7:"surroundFormatLabel",I4:"languageDescription",g4b:"disallowedSubtitleTracks",b4b:"defaultTimedText",isNative:"isNative",BL:"isNoneTrack",streams:["streams",{Mha:"downloadable_id",size:"size",ZR:"content_profile",po:"trackType",bitrate:"bitrate",By:"isDrm",urls:["urls",{JNa:"cdn_id",url:"url"}],BJb:"new_stream_id",type:"type",channels:"channels",gob:"channelsFormat",Z7:"surroundFormatLabel",language:"language",t3b:"audioKey"}],$ob:"codecName",MM:"rawTrackType",id:"id"}],Nz:["video_tracks",{po:"trackType",ht:"new_track_id",type:"type",kta:"track_id",BCb:"hasDrmProfile",ACb:"hasClearProfile",MT:"hasDrmStreams",Tka:"hasClearStreams",streams:["streams",{Mha:"downloadable_id",size:"size",ZR:"content_profile",po:"trackType",bitrate:"bitrate",By:"isDrm",urls:["urls",{JNa:"cdn_id",url:"url"}],BJb:"new_stream_id",type:"type",U6b:"peakBitrate",Ytb:"dimensionsCount",Ztb:"dimensionsLabel",$_a:"pix_w",Z_a:"pix_h",pQb:"res_w",oQb:"res_h",Fsb:"crop_x",Gsb:"crop_y",Esb:"crop_w",Dsb:"crop_h",Exb:"framerate_value",Dxb:"framerate_scale",H7b:"startByteOffset",zb:"vmaf"}],iOb:"profileType",NTb:"stereo",profile:"profile",Ytb:"dimensionsCount",Ztb:"dimensionsLabel",Qha:["drmHeader",{ca:"bytes",yob:"checksum",Li:"keyId"}],zt:["prkDrmHeaders",{ca:"bytes",yob:"checksum",Li:"keyId",e7:["resolution",{height:"height",width:"width"}]}],fv:"flavor",k5b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",yMb:"pixelAspectX",zMb:"pixelAspectY",S5b:"maxCroppedWidth",R5b:"maxCroppedHeight",T5b:"maxCroppedX",U5b:"maxCroppedY",a6b:"max_framerate_value",$5b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",o6b:"minCroppedWidth",n6b:"minCroppedHeight",p6b:"minCroppedX",q6b:"minCroppedY",ig:["license",{kGb:"licenseResponseBase64",a7b:"providerSessionToken",m4b:"drmSessionId",links:["links",{}]}]}],INa:["cdnResponseData",{SG:"sessionABTestCell",Dv:"pbcid"}],ym:["choiceMap",{hg:"initialSegment",type:"type",da:"viewableId",Ca:["segments",{TD:[k.TD,{xc:"startTimeMs",Yc:"endTimeMs",next:["next",{TD:[k.TD,{weight:"weight"}]}],Ki:"defaultNext",av:"exitZones"}]}]}],VDb:["initialHeader",{Y:["fragments",{Aa:"endPts"}]}],media:["media",{id:"id",Fg:["tracks",{Tb:"AUDIO",tl:"TEXT",Hb:"VIDEO"}]}],jVb:["timedtexttracks",{po:"trackType",ht:"new_track_id",type:"type",FN:"subType",variant:"variant",MM:"rawTrackType",I4:"languageDescription",language:"language",id:"id",BL:"isNoneTrack",Vla:"isForcedNarrative",Cub:["downloadableIds",{}],Znb:["cdnlist",{id:"id",name:"name",type:"type",Eg:"rank",LXa:"lowgrade",oub:["dns",{host:"host",mEb:"ipv4",nEb:"ipv6",txb:"forceLookup"}],key:"key"}],bWb:["ttDownloadables",{TD:[k.TD,{size:"size",P7b:"textKey",c5b:"hashValue",b5b:"hashAlgo",t5b:"isImage",Una:"midxOffset",MYa:"midxSize",height:"height",width:"width",Xx:["downloadUrls",{}]}]}],v4:"isLanguageLeftToRight",Os:"headIdentDuration"}],UVb:["trickplays",{Mha:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",BMb:"pixelsAspectY",AMb:"pixelsAspectX",width:"width",height:"height",Os:"headIdentDuration"}],R6a:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],l4b:"dpsid",Ol:"isBranching",k8b:"viewableType",type:"type",WB:"isSupplemental",Sob:"clientIpAddress",d8b:"urlExpirationDuration",M5b:"manifestExpirationDuration",I7b:["steeringAdditionalInfo",{J7b:"steeringId",p3b:"additionalGroupNames",K7b:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;q=a(1);f=a(0);k=a(203);c.prototype.CK=function(l){this.Pvb.CK(l,this.yHb);};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.kya))],a);b.pBa=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.wc=b.Vq=void 0;(function(c){c[c.zi=0]="STOPPED";c[c.Sc=1]="BUFFERING";c[c.ef=2]="REBUFFERING";c[c.Zj=3]="STREAMING";c[c.NP=4]="TRACK_SWITCH";})(a || (a={}));b.wc=a;b.Vq=function(c){return c === a.Sc || c === a.ef || c === a.NP;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(2);q.__exportStar(a(719),b);q.__exportStar(a(720),b);q.__exportStar(a(721),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kaa=void 0;q=b.kaa || (b.kaa={});q[q.HAVE_NOTHING=0]="HAVE_NOTHING";q[q.Zz=1]="HAVE_SOMETHING";q[q.ww=2]="HAVE_MINIMUM";q[q.YH=3]="HAVE_ENOUGH";},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;q=a || (a={});q[q.Ig=0]="STARTING";q[q.Sc=1]="BUFFERING";q[q.ef=2]="REBUFFERING";q[q.yc=3]="PLAYING";q[q.pq=4]="STOPPING";q[q.zi=5]="STOPPED";q[q.Wh=6]="PAUSED";b.ja=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(2);q.__exportStar(a(741),b);q.__exportStar(a(742),b);q.__exportStar(a(743),b);q.__exportStar(a(744),b);q.__exportStar(a(745),b);q.__exportStar(a(746),b);q.__exportStar(a(747),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(749),b);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Mw=void 0;q=b.Mw || (b.Mw={});q[q.Icb=0]="PLAYGRAPH_CHANGED";q[q.Jcb=1]="PLAYGRAPH_UNCHANGED";q[q.Wbb=2]="NO_MATCHING_SEGMENT_FOUND";q[q.x$a=3]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";q[q.w$a=4]="EXISTING_SEGMENT_START_TIME_MISMATCHED";q[q.Hdb=5]="SEGMENT_EXTENSION_NOT_SUPPORTED";q[q.k7a=6]="APPENDED_PAST_TRUNCATION_POINT";},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hva=void 0;c=a(14);q=(function(){function f(k){this.config=k;}f.prototype.Dm=function(k,l){return this.config.T7 || l !== c.wc.Zj?k.filter(function(d){return d.ev;}):k;};return f;})();b.hva=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RD=void 0;q=a(2);c=a(19);f=q.__importDefault(a(4));k=a(374);a=(function(){function l(d){this.console=d;this.LPa=[];this.XMa={};this.$Pa=!1;}l.prototype.Qp=function(d,g){this.LPa=d;void 0 !== g?this.XMa[g]=d:this.$Pa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.$Pa=!0);};l.prototype.Dm=function(d){var g,h,m,n,r;g=this;if(0 === d.length)return d;n=d[0].da;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=f.default.ws) || void 0 === h?void 0:h.call(f.default,n);}catch(p){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + p),d);}r=null !== (m=this.XMa[n]) && void 0 !== m?m:this.LPa;c.ka && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(r));d=d.filter(function(p){return k.Kea(p.profile,p.bitrate,r,g.console).inRange;});c.ka && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return l;})();b.RD=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jva=void 0;q=(function(){function a(c){var f;f=this;c.EN && c.EN.enabled && c.EN.profiles && c.EN.profiles.length && "keepLowest" === c.EN.action && (this.TWa={},c.EN.profiles.forEach(function(k){return f.TWa[k]=!0;}));}a.prototype.Dm=function(c){var f,k;f={};k=this.TWa;return void 0 === k?c:c.filter(function(l){return !k[l.profile] || (f[l.profile]?!1:f[l.profile]=!0);});};return a;})();b.jva=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fva=void 0;q=(function(){function a(c){this.config=c;}a.prototype.Dm=function(c){var f;f=this.config;return c.filter(function(k){return !(void 0 !== k.zb && (k.zb < f.bG || k.zb > f.fYa) || (void 0 === k.zb || 0 >= f.bG) && k.bitrate < f.Vna || (void 0 === k.zb || Infinity === f.fYa) && k.bitrate > f.LHb);});};return a;})();b.fva=q;},function(q,b,a){var f;function c(k,l){l=Math.max(k,l);return isNaN(l)?k || -Infinity:l;}Object.defineProperties(b,{__esModule:{value:!0}});b.Rua=void 0;f=a(14);q=(function(){function k(l){this.config=l;this.R6=0;this.state=f.wc.zi;this.XYa=c(l.Vna,l.r5);this.coa=c(l.bG,l.HU);}k.prototype.Dm=function(l,d){var g;g=this;if(d !== this.state){this.state=d;if(d === f.wc.Sc || d === f.wc.NP)return l;d === f.wc.ef && this.h1a();}return l.filter(function(h){return !(void 0 !== h.zb && h.zb < g.coa || (void 0 === h.zb || 0 > g.coa) && h.bitrate < g.XYa);});};k.prototype.h1a=function(){++this.R6;this.coa=c(this.config.bG,this.config.HU - this.config.QIb * this.R6);this.XYa=this.config.Vna || -Infinity;};return k;})();b.Rua=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eva=void 0;c=a(30);q=(function(){function f(k){this.config=k;}f.prototype.MSb=function(k){return k % 100 + 1 <= this.config.opa;};f.prototype.Dm=function(k){var l,d,g,h,m,n,r,p,u,t,w;r=Number(null === (l=k[0]) || void 0 === l?void 0:l.K);if(!(this.config.f2 && this.MSb(r) && 0 < this.config.g7.length))return k;l=k.length;p=null !== (d=k[l - 1].f7) && void 0 !== d?d:0;if(d=c.wg(this.config.g7,function(v){return v.h7b >= p && v.e2a <= p;})){for(r=0;r < l;r++){u=k[Math.max(r - 1,0)];t=k[r];if(!((null !== (g=t.f7) && void 0 !== g?g:0) < d.e2a || (null !== (h=u.f7) && void 0 !== h?h:0) < d.e2a)){w=null !== (m=t.zb) && void 0 !== m?m:Infinity;u=null !== (n=u.zb) && void 0 !== n?n:Infinity;if(!(u < d.t6b || u < d.s6b && t.bitrate < d.maxBitrate || !w && t.bitrate < d.Q5b))break;}}return k.slice(0,r);}return k;};return f;})();b.eva=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.T$=b.v9=void 0;c=a(30);b.v9={Dm:function(f){return f.filter(function(k){return k.kv && !k.JB;});}};b.T$={Dm:function(f){return (f=c.wg(f,function(k){return ! !k.kv && !k.JB;}))?[f]:[];}};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LD=void 0;c=a(375);q=(function(){function f(k,l){void 0 === l && (l=!1);this.Nnb=l;this.filters=[];Array.isArray(k)?k.forEach(this.and.bind(this)):this.and(k);}f.prototype.and=function(k){k !== c.CD && this.filters.push({filter:k,HOa:!0});return this;};f.prototype.or=function(k){this.filters.push({filter:k,HOa:!1});return this;};f.prototype.Dm=function(k,l){return this.filters.reduce(function(d,g){g.HOa?d=g.filter.Dm(d,l):0 === d.length && (d=g.filter.Dm(k,l));return d;},k);};return f;})();b.LD=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.U$=void 0;b.U$={Dm:function(a){return [a[0]];}};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aF=b.$E=void 0;c=a(95);b.$E=function(f,k){k && (null === f || void 0 === f?0:f.wVa) && (k=new c.LD(k).or(c.CD));return new c.LD(c.v9).and(null !== k && void 0 !== k?k:c.CD).or(c.T$).or(c.U$);};b.aF=function(f,k){k && f.wVa && (k=new c.LD(k).or(c.CD));return new c.LD(c.v9).and(new c.hva(f)).and(new c.fva(f)).and(new c.Rua(f)).and(new c.jva(f)).and(f.f2?new c.eva(f):c.CD).and(null !== k && void 0 !== k?k:c.CD).or(c.T$).or(c.U$);};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Gua=void 0;c=a(2);q=(function(f){function k(l,d){l=f.call(this,k.Uxb(l,d)) || this;l.Yfb=d;l.name="AggregateError";return l;}c.__extends(k,f);k.Uxb=function(l,d){return d.reduce(function(g,h){return g + "\n" + h;},l);};Object.defineProperties(k.prototype,{k2:{get:function(){return this.Yfb;},enumerable:!1,configurable:!0}});return k;})(Error);b.Gua=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.odb=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.hg,segments:a.etb(c.Ca)},void 0 !== c.Yd?{transitionType:c.Yd}:{});};a.encode=function(c){return Object.assign({hg:c.initialSegment,Ca:a.Ivb(c.segments)},void 0 !== c.transitionType?{Yd:c.transitionType}:{});};a.Ivb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.Hvb(c[k]);return f;},{});};a.Hvb=function(c){return Object.assign({da:c.viewableId,xc:c.startTimeMs},c.endTimeMs?{Yc:c.endTimeMs}:{},c.defaultNext?{Ki:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Yd:c.transitionType}:{},c.next?{next:a.Fvb(c.next)}:{},c.exitZones?{av:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.Fvb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.Gvb(c[k]);return f;},{});};a.Gvb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Yd:c.transitionType}:{});};a.etb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.dtb(c[k]);return f;},{});};a.dtb=function(c){return Object.assign({viewableId:c.da,startTimeMs:c.xc},c.Yc?{endTimeMs:c.Yc}:{},c.Ki?{defaultNext:c.Ki}:{},c.weight?{weight:c.weight}:{},c.Yd?{transitionType:c.Yd}:{},c.next?{next:a.btb(c.next)}:{},c.av?{exitZones:c.av}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.btb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.ctb(c[k]);return f;},{});};a.ctb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Yd?{transitionType:c.Yd}:{});};return a;})();},function(q,b,a){var l;function c(d){return Object.keys(d).reduce(function(g,h){var m,n;m=d[h];n=m.weight;m=m.transitionType || m.transitionHint;h=g[h]={};void 0 !== n && (h.weight=n);m && (h.Yd=m);return g;},{});}function f(d,g){return !(!d || -1 === d.bja.indexOf(g));}function k(d){var g,h;g=Object.keys(d);h=g.length;return h?g.reduce(function(m,n){return m + (d[n].weight || 0);},0) / h:void 0;}Object.defineProperty(b,"__esModule",{value:!0});l=a(221);b.gB=function(d,g){var h,m,n,r,p;h=void 0 === g?{}:g;g=h.Fd;m=h.hg;n=h.Ca;r=f(h.config,d.viewableId);h=new l.rI();p=n || d.segments;h.rW(null !== m && void 0 !== m?m:d.initialSegment).e3a(null !== g && void 0 !== g?g:d.mediaTypes).fsa(r?"immediate":d.transitionType).i3a(Object.keys(p).reduce(function(u,t){var w,v,x,y;w=p[t];x=w.weight;if(null === x || void 0 === x){x=w.next && (r || (null === (y=w.exitZones) || void 0 === y?0:y.length))?k(w.next):void 0;}y={da:d.viewableId,xc:w.startTimeMs,Yc:(v=w.endTimeMs,null !== v && void 0 !== v?v:Infinity),Yd:w.transitionHint,av:w.exitZones,weight:x};w.defaultNext && (y.Ki=w.defaultNext);w.next && (y.next=c(w.next));u[t]=y;return u;},{}));return h.ek();};},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(221);b.XG=function(f,k,l){var d;d=new c.rI();d.rW(k).fsa("lazy").e3a(l).zq(k,{da:f,xc:0,Yc:Infinity});return d.ek();};},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oBa=void 0;c=a(2);f=a(16);k=a(222);l=a(796);q=c.__importDefault(a(4));d=a(803);q=new q.default.Console("ASEJS","media|asejs");q.trace.bind(q);g=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];q=(function(h){function m(n,r){var p;p=h.call(this) || this;p.I=n;p.Tg=new d.tAa(n,r);n.AK && p.KOa(r);p.Ag=new f.zh();g.forEach(function(u){p.Ag.on(p.Tg,u,function(t){return p.emit(u,t);});p.ko && p.Ag.on(p.ko,u,function(t){return p.emit(u,t);});});return p;}c.__extends(m,h);Object.defineProperties(m.prototype,{Jb:{get:function(){return this.Tg.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Om:{get:function(){return this.Tg.Om;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lt:{get:function(){return this.Tg.Lt;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uz:{get:function(){return this.Tg.uz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mma:{get:function(){return this.Tg.mma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{HC:{get:function(){return this.Tg.HC;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mf:{get:function(){return this.Tg.mf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mh:{get:function(){return this.Tg.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pla:{get:function(){return this.Tg.pla;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sU:{get:function(){return this.Tg.sU.bind(this.Tg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{O2:{get:function(){return this.Tg.O2.bind(this.Tg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{X0:{get:function(){var n;n=this;return function(){n.cra();n.Tg.X0();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gfa:{get:function(){var n;n=this;return function(){n.cra();n.Tg.Gfa();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dx:{get:function(){var n;n=this;return function(){n.cra();n.Tg.Dx();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xo:{get:function(){var n;n=this;return function(r,p,u){var t;null === (t=n.mf) || void 0 === t?void 0:t.Xo(r,p,u);};},enumerable:!1,configurable:!0}});m.prototype.KOa=function(n){return this.ko=new (a(926).kGa)(this.I,this.Dx,this.Xo,n);};m.prototype.mb=function(n,r,p,u,t,w,v,x){void 0 === v && (v=262144);void 0 === x && (x=1048576);this.Tg.mb(n,r,p,u,t,w);this.ko?this.ko.mb(n,r,p,u,t,w,v,x):this.$Wa={Rlb:n,NXb:r,Vu:p,uz:u,HC:t,mIb:w,Zea:v,cua:x};};m.prototype.tW=function(n,r,p){this.Tg.tW(n,r,p);this.ko?this.ko.tW(n,r,p):this.eXa={cUb:n,uz:r,HC:p};};m.prototype.createSession=function(n,r,p,u,t,w,v,x,y,z){var B,A,C,E,F;B=this;x || (x=this.Tg.config);if(x.AK && !this.ko){A=this.KOa(this.Tg.QC);g.forEach(function(D){B.Ag.on(B.ko,D,function(G){return B.emit(D,G);});});if(this.$Wa){C=this.$Wa;E=C.uz;F=C.HC;A.mb(C.Rlb,C.NXb,C.Vu,E,F,C.mIb,C.Zea,C.cua);}this.eXa && (F=this.eXa,C=F.cUb,E=F.uz,F=F.HC,A.tW(C,E,F));}return this.ko && x && x.kX?(x.Aq || x.hG || this.Tg.Dx(),this.ko.createSession(n,r,p,u,t,w,v,x,y,z)):this.Tg.createSession(n,r,p,u,t,w,v,x,y,z);};m.prototype.addEventListener=function(n,r){this.addListener(n,r);return !0;};m.prototype.removeEventListener=function(n,r){this.removeListener(n,r);return !0;};m.prototype.wb=function(){var n;this.Ag.clear();this.Tg.wb();null === (n=this.ko) || void 0 === n?void 0:n.wb();k.MH.reset();};m.prototype.cra=function(){var n,r;this.I.Aq || this.I.hG || (null === (n=this.ko) || void 0 === n?void 0:n.Ma.state) !== l.Gr.OPEN || (null === (r=this.ko) || void 0 === r?void 0:r.Ma.xt.reset());};return m;})(f.EventEmitter);b.oBa=q;},function(q){function b(c,f,k,l){c.trace(":",k,":",l);f(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,f,k,l){k=l?k.bind(l):k;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addListener)c.addListener(f,k);else if("function" === typeof c.addEventListener)c.addEventListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,l;k=f[0];l=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,f):"function" === typeof k.removeListener && k.removeListener(l,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};q.exports=a;},function(q,b,a){q.exports={udb:a(774),eZb:a(775)};},function(q,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function f(g){this.He=null;this.mm=g;this.size=0;}function k(g){return null !== g && g.red;}function l(g,h){var m;m=g.Qg(!h);g.Rp(!h,m.Qg(h));m.Rp(h,g);g.red=!0;m.red=!1;return m;}function d(g,h){g.Rp(!h,l(g.Qg(!h),!h));return l(g,h);}b=a(377);c.prototype.Qg=function(g){return g?this.right:this.left;};c.prototype.Rp=function(g,h){g?this.right=h:this.left=h;};f.prototype=new b();f.prototype.yp=function(g){var h,m,n,r,p,u,t,w,v;h=!1;if(null === this.He)(this.He=new c(g),h=!0,this.size++);else {m=new c(void 0);n=0;r=0;p=null;u=m;t=null;w=this.He;for(u.right=this.He;;){null === w?(w=new c(g),t.Rp(n,w),h=!0,this.size++):k(w.left) && k(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(k(w) && k(t)){v=u.right === p;w === t.Qg(r)?u.Rp(v,l(p,!r)):u.Rp(v,d(p,!r));}v=this.mm(w.data,g);if(0 === v)break;r=n;n=0 > v;null !== p && (u=p);p=t;t=w;w=w.Qg(n);}this.He=m.right;}this.He.red=!1;return h;};f.prototype.remove=function(g){var h,m,t,w,v;if(null === this.He)return !1;h=new c(void 0);m=h;m.right=this.He;for(var n=null,r,p=null,u=1;null !== m.Qg(u);){t=u;r=n;n=m;m=m.Qg(u);w=this.mm(g,m.data);u=0 < w;0 === w && (p=m);if(!k(m) && !k(m.Qg(u)))if(k(m.Qg(!u)))(r=l(m,u),n.Rp(t,r),n=r);else if(!k(m.Qg(!u)) && (w=n.Qg(!t),null !== w))if(k(w.Qg(!t)) || k(w.Qg(t))){v=r.right === n;k(w.Qg(t))?r.Rp(v,d(n,t)):k(w.Qg(!t)) && r.Rp(v,l(n,t));t=r.Qg(v);t.red=!0;m.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,w.red=!0,m.red=!0);}null !== p && (p.data=m.data,n.Rp(n.right === m,m.Qg(null === m.left)),this.size--);this.He=h.right;null !== this.He && (this.He.red=!1);return null !== p;};q.exports=f;},function(q,b,a){function c(k){this.data=k;this.right=this.left=null;}function f(k){this.He=null;this.mm=k;this.size=0;}b=a(377);c.prototype.Qg=function(k){return k?this.right:this.left;};c.prototype.Rp=function(k,l){k?this.right=l:this.left=l;};f.prototype=new b();f.prototype.yp=function(k){if(null === this.He)return (this.He=new c(k),this.size++,!0);for(var l=0,d=null,g=this.He;;){if(null === g)return (g=new c(k),d.Rp(l,g),ret=!0,this.size++,!0);if(0 === this.mm(g.data,k))return !1;l=0 > this.mm(g.data,k);d=g;g=g.Qg(l);}};f.prototype.remove=function(k){var l,d,n;if(null === this.He)return !1;l=new c(void 0);d=l;d.right=this.He;for(var g=null,h=null,m=1;null !== d.Qg(m);){g=d;d=d.Qg(m);n=this.mm(k,d.data);m=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,g.Rp(g.right === d,d.Qg(null === d.left)),this.He=l.right,this.size--,!0):!1;};q.exports=f;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nq=b.zdb=void 0;c=a(2);f=a(378);q=(function(){function k(l,d){this.G=l;this.sy=d?[d]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(l){-1 === this.sy.indexOf(l) && (this.sy=this.sy.slice(),this.sy.push(l));};k.prototype.removeListener=function(l){l=this.sy.indexOf(l);-1 !== l && (this.sy=this.sy.slice(),this.sy.splice(l,1));};return k;})();b.zdb=q;q=(function(k){function l(d,g){return k.call(this,d,g) || this;}c.__extends(l,k);l.iua=function(d,g,h){return new f.paa(d,g,h,!1);};Object.defineProperties(l.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});l.prototype.set=function(d){var g;g=this.G;g !== d && (this.G=d,this.sy.forEach(function(h){return h({oldValue:g,newValue:d});}));};return l;})(q);b.nq=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qCa=void 0;c=a(30);f=a(6);q=(function(){function k(){this.data={};}Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{size:{get:function(){var l;l=this;return Object.keys(this.data).reduce(function(d,g){return d + l.data[g].length;},0);},enumerable:!1,configurable:!0}});k.prototype.get=function(l){var d;return null !== (d=this.data[l]) && void 0 !== d?d:[];};k.prototype.has=function(l,d){return (l=this.data[l])?void 0 === d?!0:-1 !== l.indexOf(d):!1;};k.prototype.count=function(l){return (l=this.data[l])?l.length:0;};k.prototype.keys=function(){return Object.keys(this.data);};k.prototype.values=function(){var l;l=this;return c.flatten(this.keys().map(function(d){return l.data[d];}));};k.prototype.set=function(l,d){(this.data[l] || (this.data[l]=[])).push(d);return this;};k.prototype.clear=function(){this.data={};};k.prototype.delete=function(l,d){var g,h;g=this.data[l];if(void 0 === g)return !1;if(void 0 === d)return (f.assert(1 === arguments.length),delete this.data[l],!0);h=g.indexOf(d);if(-1 === h)return !1;1 === g.length?delete this.data[l]:g.splice(h,1);return !0;};k.prototype.forEach=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;this.keys().forEach(function(h){return g.data[h].forEach(function(m){return l(m,h,g);});});};k.prototype.reduce=function(l,d,g){var h,m;h=this;l=void 0 !== g?l.bind(g):l;m=d;this.forEach(function(n,r){m=l(m,n,r,h);});return m;};k.prototype.map=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;return c.flatten(this.keys().map(function(h){return g.data[h].map(function(m){return l(m,h,g);});}));};k.prototype.filter=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;return c.flatten(this.keys().map(function(h){return g.data[h].filter(function(m){return l(m,h,g);});}));};return k;})();b.qCa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ORa=void 0;b.ORa=function(a,c){return a.filter(function(f){var k,l;f=null !== (l=null !== (k=f.Ui) && void 0 !== k?k:f.yy) && void 0 !== l?l:f.uh;return ! !f && f.Fy(c);}).pop();};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oGa=b.nGa=void 0;c=a(30);q=(function(){function f(k){this.G=k;this.listeners=[];this.hV=[];}Object.defineProperties(f.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});f.prototype.set=function(k){var l;this.G=k;l=this.hV;this.hV=[];this.listeners.forEach(function(d){return d(k);});l.forEach(function(d){return d(k);});};f.prototype.d2a=function(){this.G=void 0;};f.prototype.on=function(k){this.listeners=this.listeners.concat([k]);void 0 !== this.G && k(this.G);};f.prototype.once=function(k){void 0 !== this.G?k(this.G):this.hV.push(k);};f.prototype.mM=function(k){this.listeners=this.listeners.filter(function(l){return l !== k;});this.hV=this.hV.filter(function(l){return l !== k;});};return f;})();b.nGa=q;q=(function(){function f(){this.listeners=[];}f.prototype.on=function(k,l){this.listeners.push({signal:k,listener:l});k.on(l);};f.prototype.once=function(k,l){var d,g;d=this;if(void 0 === k.value){g=function(h){d.remove(k,l);l(h);};this.listeners.push({signal:k,listener:l,X6a:g});k.once(g);}else k.once(l);};f.prototype.mM=function(k,l){var d,g;g=c.wg(this.listeners,function(h){return h.signal === k && h.listener === l;});void 0 !== g && k.mM(null !== (d=g.X6a) && void 0 !== d?d:g.listener);this.remove(k,l);};f.prototype.removeAllListeners=function(){this.listeners.forEach(function(k){var l,d;l=k.listener;d=k.X6a;return k.signal.mM(null !== d && void 0 !== d?d:l);});this.listeners=[];};f.prototype.remove=function(k,l){this.listeners=this.listeners.filter(function(d){return d.signal !== k || d.listener !== l;});};return f;})();b.oGa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uWa=void 0;b.uWa=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KPa=void 0;b.KPa=function(a){return JSON.parse(JSON.stringify(a));};},function(q,b,a){var f;function c(k,l,d){var g,m,n;if(k === l || !d.NC && k == l)return !0;if(typeof k !== typeof l)return !1;if(k && "object" === typeof k){for(var h in k){if(!c(k[h],l[h],d))return !1;}if(!d.lob){m=Object.keys(k);n=Object.keys(l).filter(function(t){return 0 > m.indexOf(t);});try{for(var r=f.__values(n),p=r.next();!p.done;p=r.next()){if((h=p.value,!c(k[h],l[h],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{p && !p.done && (g=r.return) && g.call(r);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.itb=void 0;f=a(2);b.itb=function(k,l,d){void 0 === d && (d={});d=f.__assign({NC:!1,lob:!1},d);return c(k,l,d);};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BZ=void 0;q=(function(){function a(){this.count=0;this.max=this.min=this.Ea=NaN;}Object.defineProperties(a.prototype,{fr:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ea=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ea+=(c - this.Ea) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ea};};return a;})();b.BZ=q;},function(q,b,a){var f;function c(k){this.eN=new Uint16Array(k.length);for(var l=0;l < k.length;++l){this.eN[l]=k.charCodeAt(l);}}f=new (a(4).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(k){var l;l=this.eN.length;if(void 0 === this.eN)f.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",g=0;g < k.length;++g){d+=String.fromCharCode(this.eN[g % l] ^ k.charCodeAt(g));}return encodeURIComponent(d);}};c.prototype.decrypt=function(k){var l,d;l="";d=this.eN.length;k=decodeURIComponent(k);for(var g=0;g < k.length;g++){l+=String.fromCharCode(this.eN[g % d] ^ k.charCodeAt(g));}return l;};q.exports=c;},function(q){function b(a,c){this.Ea=a;this.vi=c;}b.prototype.Mpa=function(a){var c,f,k,l,g,h;c=this.Ea;f=Math.sqrt(2 * this.vi);a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {k=1 > a?a:2 - a;l=Math.sqrt(-2 * Math.log(k / 2));l=-.70711 * ((2.30753 + .27061 * l) / (1 + l * (.99229 + .04481 * l)) - l);for(var d=0;2 > d;d++){g=Math.abs(l);h=1 / (1 + g / 2);g=h * Math.exp(-g * g - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));g=(0 <= l?g:2 - g) - k;l+=g / (1.1283791670955126 * Math.exp(-(l * l)) - l * g);}a=1 > a?l:-l;}return c - f * a;};q.exports=b;},function(q,b,a){var k,l,d,g;function c(h,m,n){k.call(this,h,m,n);}function f(h,m){l.call(this,new c(h,m,!1));}k=a(787);l=a(788);d=a(110).ryb;g=a(110).UBb;c.prototype=Object.create(k.prototype);c.prototype.Ea=function(){return Math.floor(8 * d(this.Ad) / this.qd);};c.prototype.vi=function(){return Math.floor(64 * g(this.Ad) / (this.qd * this.qd));};c.prototype.get=function(){return {Ea:this.Ea(),vi:this.vi(),D3b:this.Ad.length};};c.prototype.toString=function(){return "bsw(" + this.HJ + "," + this.qd + "," + this.wj + ")";};f.prototype=Object.create(l.prototype);f.prototype.setInterval=function(h){this.YI.setInterval(h);};q.exports=f;},function(q){function b(a,c,f){this.HJ=a;this.wj=Math.floor((a + c - 1) / c);this.qd=c;this.Iib=f;this.reset();}b.prototype.shift=function(){this.Ad.shift();this.Dh.shift();};b.prototype.update=function(a,c){this.Ad[a]+=c;};b.prototype.push=function(a){this.Ad.push(0);this.Dh.push(a?a:0);this.ib+=this.qd;};b.prototype.add=function(a,c,f,k){var l,d;if(null === this.ib){l=Math.max(Math.floor((f - c + this.qd - 1) / this.qd),1);for(this.ib=c;this.Ad.length < l;){this.push(k);}}for(;this.ib < f;){if((this.push(k),this.Iib))for(;1 < this.Ad.length && f + k - (this.ib - this.qd * this.Ad.length + this.Dh[0]) > this.HJ;){this.shift();}else this.Ad.length > this.wj && this.shift();}if(c > this.ib - this.qd)this.update(this.Ad.length - 1,a);else if(c == f)(k=this.Ad.length - Math.max(Math.ceil((this.ib - f) / this.qd),1),0 <= k && this.update(k,a));else for(k=1;k <= this.Ad.length;++k){l=this.ib - k * this.qd;d=l + this.qd;if(!(l > f)){if(d < c)break;this.update(this.Ad.length - k,Math.round(a * (Math.min(d,f) - Math.max(l,c)) / (f - c)));}}for(;this.Ad.length > this.wj;){this.shift();}};b.prototype.reset=function(){this.Ad=[];this.Dh=[];this.ib=null;};b.prototype.setInterval=function(a){this.wj=Math.floor((a + this.qd - 1) / this.qd);};q.exports=b;},function(q){function b(a){this.YI=a;this.ve=0;this.DJ=null;}b.prototype.add=function(a,c,f){null !== this.DJ && c > this.DJ && (this.ve+=c - this.DJ,this.DJ=null);this.YI.add(a,c - this.ve,f - this.ve,this.ve);};b.prototype.stop=function(a){null === this.DJ && (this.DJ=a);};b.prototype.Ppa=function(a,c){return this.YI.Ppa(a,c);};b.prototype.get=function(){return this.YI.get();};b.prototype.reset=function(){this.YI.reset();};b.prototype.toString=function(){return this.YI.toString();};q.exports=b;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p;function c(u){this.Kfb=u;}b=a(381);f=b.f$a;k=b.d$a;l=a(225).e$a;d=a(225).yeb;g=a(382);h=a(383);m=a(384).WGa;n=a(790);r=a(791);p=a(385);c.prototype.constructor=c;c.prototype.create=function(u,t){var w,v,x,y;w=this.Kfb[u];v=t[u];x={};w && Object.keys(w).forEach(function(z){x[z]=w[z];});v && Object.keys(v).forEach(function(z){x[z]=v[z];});switch(x.type){case "slidingwindow":y=new l(x.mw);break;case "discontiguous-ewma":y=new k(x.mw);break;case "wssl":y=new d(x.mw,x.max_n);break;case "iqr":y=new g(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":y=new h(x);break;case "discrete-ewma":y=new f(x.hl);break;case "tdigest-history":y=new m(x);break;case "iqr-history":y=new n(x);break;case "avtp":y=new p();break;case "entropy":y=new r(x);}y && (y.type=x.type);return y;};q.exports=c;},function(q,b,a){var f;function c(){this.tj=void 0;this.JA=0;}f=a(10);c.prototype.getState=function(){return 0 !== this.JA && this.tj?{p25:this.tj.gl,p50:this.tj.Jj,p75:this.tj.il,c:this.JA}:null;};c.prototype.Ce=function(k){if(!(!f.ob(k) && f.has(k,"p25") && f.has(k,"p50") && f.has(k,"p75") && f.has(k,"c") && f.isFinite(k.p25) && f.isFinite(k.p50) && f.isFinite(k.p75) && f.isFinite(k.c)))return (this.tj=void 0,this.JA=0,!1);this.tj={gl:k.p25,Jj:k.p50,il:k.p75};this.JA=k.c;};c.prototype.get=function(){return {q6:this.tj,cN:this.JA};};c.prototype.set=function(k,l){this.tj=k;this.JA=l;};c.prototype.reset=function(){this.tj=void 0;this.JA=0;};c.prototype.toString=function(){return "IQRHist(" + this.tj + "," + this.JA + ")";};q.exports=c;},function(q,b,a){var f;function c(k){var l,d;l=k.sw;d=k.mw;this.GJ=l;this.Xba={uhd:k.uhdl,hd:k.hdl};this.wj=Math.max(Math.ceil(1 * l / d),1);this.nhb=k.mins || 1;f.call(this,l,d);this.reset();}f=a(145);new (a(4).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.flush=function(){this.Ad.map(function(k,l){this.DLa(k,this.nja(l));},this);};c.prototype.lnb=function(){var k,l,d,g,h,m,n,t;k=this.Xba;for(l in k){if(k.hasOwnProperty(l)){d=k[l];g=this.Uda[l];h=this.Tda[l];if(g.first){m=g.first;n=g.xG;void 0 !== n && (h[m][n]+=1);g.first=void 0;}g=[];m=0;d=n=d.length + 1;for(var r=0;r < n;r++){for(var p=0,u=0;u < d;u++){p+=h[u][r];}m+=p;g.push(p);}p=-1;if(m > this.nhb){for(r=p=0;r < n;r++){if(0 < g[r])for(u=0;u < d;u++){t=h[u][r];0 < t && (p-=t * Math.log(1 * t / g[r]));}}p/=m * Math.log(2);}this.vca[l]=p;}}return this.vca;};c.prototype.DLa=function(k,l){var m,n;for(var d=this.wj,g=this.Xba;this.j_.length >= d;){this.j_.shift();}for(;this.k_.length >= d;){this.k_.shift();}this.j_.push(k);this.k_.push(l);k=this.j_.reduce(function(r,p){return r + p;},0);l=this.k_.reduce(function(r,p){return r + p;},0);if(0 < l){k=8 * k / l;for(var h in g){if(g.hasOwnProperty(h)){l=this.Uda[h];d=this.Tda[h];m=this.vOb(k,g[h]);n=l.xG;void 0 !== n?d[m][n]+=1:l.first=m;l.xG=m;}}}};c.prototype.vOb=function(k,l){for(var d=0;d < l.length && k > l[d];){d+=1;}return d;};c.prototype.shift=function(){this.DLa(this.Ad[0],this.nja(0));f.prototype.shift.call(this);};c.prototype.reset=function(){var k,l,d,g,h,m,n;this.Uda={};this.j_=[];this.k_=[];this.Tda={};this.vca={};k=this.Xba;for(l in k){if(k.hasOwnProperty(l)){d=this.Tda;g=l;m=void 0;n=Array(m);m=h=k[l].length + 1;for(var r=0;r < m;r++){n[r]=Array(h);for(var p=0;p < h;p++){n[r][p]=0;}}d[g]=n;this.Uda[l]={first:void 0,xG:void 0};this.vca[l]=0;}}f.prototype.reset.call(this);};q.exports=c;},function(q,b,a){var f,k;function c(l){this.I=l;this.zQ();}f=a(10);k=a(4).default;new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var l;l=this.getState();k.storage.set("nh",l);};c.prototype.GTb=function(){this.zE || (this.zE=!0,this.dx=k.time.aa());};c.prototype.QTb=function(){var l;if(this.zE){l=k.time.aa();this.ix+=l - this.dx;this.dx=l;this.zE=!1;this.yQ=null;}};c.prototype.bWa=function(l,d){this.zE && (d > this.dx && (this.ix+=d - this.dx,this.dx=d),null === this.yQ || l > this.yQ) && (l=d - l,this.kJ.push([this.ix - l,l]),this.Cjb(),this.yQ=d);};c.prototype.Cjb=function(){var l;l=this.ix - this.I.zJb;this.kJ=this.kJ.filter(function(d){return d[0] > l;});};c.prototype.zQ=function(){var l;l=k.storage.get("nh");this.Kda(l) || (this.dx=k.time.aa(),this.ix=0,this.zE=!1,this.yQ=null,this.kJ=[]);};c.prototype.Kda=function(l){if(!(l && f.has(l,"t") && f.has(l,"s") && f.has(l,"i") && f.xa(l.t) && f.xa(l.s) && f.isArray(l.i)))return !1;this.dx=k.time.zoa(1E3 * l.t);this.ix=1E3 * l.s;this.zE=!1;this.kJ=l.i.map(function(d){return [1E3 * d[0],d[1]];});this.yQ=null;return !0;};c.prototype.getState=function(){return this.zE?{t:k.time.now() / 1E3 | 0,s:(this.ix + (k.time.aa() - this.dx)) / 1E3 | 0,i:this.kJ.map(function(l){return [l[0] / 1E3 | 0,l[1]];})}:{t:k.time.eoa(this.dx) / 1E3 | 0,s:this.ix / 1E3 | 0,i:this.kJ.map(function(l){return [l[0] / 1E3 | 0,l[1]];})};};q.exports=c;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fya=void 0;q=a(2);c=a(794);new (q.__importDefault(a(4)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var E00;function f(k){var F00;F00=2;for(;F00 !== 4;){switch(F00){case 2:var C9b="1";C9b+="SI";C9b+="YbZrNJ";C9b+="C";C9b+="p9";this.xla=k;this.by={};C9b;F00=4;break;}}}E00=2;for(;E00 !== 7;){switch(E00){case 3:f.prototype.Is=function(){var K00;K00=2;for(;K00 !== 1;){switch(K00){case 2:return this.PC.get();break;}}};f.prototype.P5a=function(k){var L00,l,d;L00=2;for(;L00 !== 5;){switch(L00){case 2:(l=Object.keys(this.by),d=this.by[l[0]]);1 === l.length && !1 === d.v2?(this.PC.start(k,d.gg),this.iR=d.gg):1 < l.length && this.iR && (l=this.by[this.iR],this.PC.stop(k,this.iR),l.v2=!1,this.iR=void 0);L00=5;break;}}};return f;break;case 2:f.prototype.reset=function(){var G00;G00=2;for(;G00 !== 1;){switch(G00){case 2:this.PC=new c.owa();G00=1;break;case 4:this.PC=new c.owa();G00=5;break;G00=1;break;}}};f.prototype.WM=function(k,l){var H00;H00=2;for(;H00 !== 1;){switch(H00){case 2:l.gg && (this.xla?this.PC.start(k,l.gg):1 === l.type && (this.by[l.gg]?this.by[l.gg].rX+=1:this.by[l.gg]={gg:l.gg,rX:1,v2:!1},this.P5a(k)));H00=1;break;}}};f.prototype.$V=function(k,l){var I00,d;I00=2;for(;I00 !== 9;){switch(I00){case 1:I00=this.xla?5:4;break;case 4:d=this.by[l.gg];1 === l.type && d && (--d.rX,0 === d.rX && (d.v2 && this.PC.stop(k,l.gg),d.v2=!1,delete this.by[l.gg]),this.P5a(k));I00=9;break;case 2:I00=l.gg?1:9;break;case 5:this.PC.stop(k,l.gg);I00=9;break;}}};f.prototype.SA=function(k,l,d,g){var J00;J00=2;for(;J00 !== 1;){switch(J00){case 2:g.gg && (this.xla?this.PC.add(k,l,d,g.gg):this.iR === g.gg && this.PC.add(k,l,d,g.gg));J00=1;break;}}};E00=3;break;}}})();b.fya=a;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.owa=void 0;c=a(2).__importDefault(a(385));q=(function(){var M00;M00=2;function f(){var N00;N00=2;for(;N00 !== 5;){switch(N00){case 2:var Z9b="1";Z9b+="SIYb";Z9b+="ZrN";Z9b+="J";Z9b+="Cp9";this.R_={};Z9b;N00=5;break;}}}for(;M00 !== 9;){switch(M00){case 4:f.prototype.get=function(){var R00,k,l,d,g,h,m;R00=2;for(;R00 !== 8;){switch(R00){case 1:R00=g < l.length?5:9;break;case 2:(k=this.R_,l=Object.keys(k),d=[],g=0);R00=1;break;case 9:return d;break;case 5:(h=l[g],m=k[h].get());m && d.push({cdnid:h,avtp:m.Ea,tm:m.V1});R00=3;break;case 3:g++;R00=1;break;}}};return f;break;case 2:f.prototype.add=function(k,l,d,g){var O00,h;O00=2;for(;O00 !== 4;){switch(O00){case 2:h=this.R_;void 0 === h[g] && (h[g]=new c.default());h[g].add(k,l,d);O00=4;break;}}};f.prototype.start=function(k,l){var P00,d;P00=2;for(;P00 !== 4;){switch(P00){case 2:d=this.R_;void 0 === d[l] && (d[l]=new c.default());d[l].start(k);P00=4;break;}}};f.prototype.stop=function(k,l){var Q00,d;Q00=2;for(;Q00 !== 5;){switch(Q00){case 2:d=this.R_;void 0 !== d[l] && d[l].stop(k);Q00=5;break;}}};M00=4;break;}}})();b.owa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dDa=void 0;q=(function(){var S00;S00=2;function a(){var T00;T00=2;for(;T00 !== 4;){switch(T00){case 2:var X9b="1SIYbZ";X9b+="r";X9b+="NJC";X9b+="p9";this.nV=[0,0];this.YW=[0,0];X9b;T00=4;break;}}}for(;S00 !== 3;){switch(S00){case 2:a.prototype.reset=function(){var U00;U00=2;for(;U00 !== 5;){switch(U00){case 2:this.nV=[0,0];this.YW=[0,0];U00=5;break;}}};a.prototype.SA=function(c,f,k,l,d){var V00;V00=2;for(;V00 !== 5;){switch(V00){case 2:this.YW[l.type]+=c;V00=1;break;case 1:d && (this.nV[l.type]+=c);V00=5;break;}}};a.prototype.j3=function(){var W00;W00=2;for(;W00 !== 1;){switch(W00){case 2:return {bytesRequestedPacingVideo:this.nV[1],bytesRequestedPacingAudio:this.nV[0],bytestotalVideo:this.YW[1],bytestotalAudio:this.YW[0]};break;}}};return a;break;}}})();b.dDa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ae=void 0;q=a(2);q.__exportStar(a(386),b);q.__exportStar(a(797),b);q.__exportStar(a(226),b);q.__exportStar(a(798),b);q.__exportStar(a(799),b);q.__exportStar(a(800),b);q.__exportStar(a(801),b);q.__exportStar(a(802),b);c=a(54);Object.defineProperties(b,{ae:{enumerable:!0,get:function(){return c.ae;}}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.tAa=void 0;c=a(2);f=c.__importStar(a(10));q=a(16);k=c.__importDefault(a(27));l=c.__importDefault(a(804));d=c.__importDefault(a(4));g=a(227);h=a(222);c.__importDefault(a(224));m=c.__importDefault(a(805));a(387);n=a(6);r=a(808);p=a(911);u=new d.default.Console("ASEJS","media|asejs");t=u.trace.bind(u);w=u.warn.bind(u);q=(function(v){var X00;X00=2;for(;X00 !== 26;){switch(X00){case 6:Object.defineProperties(x.prototype,{mh:{get:function(){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:return this.ZZ.mh;break;}}},enumerable:!1,configurable:!0}});X00=14;break;case 3:Object.defineProperties(x.prototype,{uz:{get:function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return this.b0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mma:{get:function(){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 4:return -f.ga(this.OKa);break;d10=1;break;case 2:return !f.ga(this.OKa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{HC:{get:function(){var e10;e10=2;for(;e10 !== 1;){switch(e10){case 2:return this.KKa;break;}}},enumerable:!1,configurable:!0}});X00=7;break;case 2:c.__extends(x,v);Object.defineProperties(x.prototype,{Jb:{get:function(){var Z00;Z00=2;for(;Z00 !== 1;){switch(Z00){case 2:return this.ZZ.Jb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Om:{get:function(){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:return this.ZZ.Om;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Lt:{get:function(){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 2:return this.Hda;break;}}},enumerable:!1,configurable:!0}});X00=3;break;case 7:Object.defineProperties(x.prototype,{mf:{get:function(){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 2:return this.zu;break;case 4:return this.zu;break;f10=1;break;}}},enumerable:!1,configurable:!0}});X00=6;break;case 14:Object.defineProperties(x.prototype,{pla:{get:function(){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:return this.rib;break;case 4:return this.rib;break;h10=1;break;}}},enumerable:!1,configurable:!0}});x.prototype.mb=function(y,z,B,A,C,E){var i10,F,D;i10=2;for(;i10 !== 11;){switch(i10){case 2:(F=this,D=this.config);h.MH.reset();0 < D.$s && (!f.ga(y) && y > D.$s && (y=D.$s),z > D.$s && (z=D.$s));f.ga(y) && (this.OKa=z);i10=3;break;case 3:this.b0=A;this.KKa=C;l.default(D);i10=7;break;case 7:this.ZZ=h.MH.UTa(D,this.QC);this.Hda=new m.default(D);i10=14;break;case 12:this.Qca=!0;i10=11;break;case 13:var V9b="medi";V9b+="aca";V9b+="c";V9b+="h";V9b+="e";var d9b="c";d9b+="a";d9b+="cheEvi";d9b+="c";d9b+="t";var P9b="f";P9b+="lushed";P9b+="Byt";P9b+="es";var w9b="d";w9b+="iscar";w9b+="de";w9b+="dB";w9b+="ytes";var a9b="pr";a9b+="ebu";a9b+="ffst";a9b+="at";a9b+="s";(z=new p.kza(this,D,B,E),y=function(G){var j10;j10=2;for(;j10 !== 1;){switch(j10){case 4:F.emit(G.type,G);j10=2;break;j10=1;break;case 2:F.emit(G.type,G);j10=1;break;}}},z.addListener(a9b,y),z.addListener(w9b,y),z.addListener(P9b,y),z.addListener(d9b,y),(D.Wta || D.Vta) && z.addListener(V9b,function(G){var k10;k10=2;for(;k10 !== 1;){switch(k10){case 2:var K9b="med";K9b+="iacach";K9b+="e";F.emit(K9b,G);k10=1;break;}}}),this.zu=z);i10=12;break;case 14:i10=D.SN || D.D8?13:12;break;}}};x.prototype.tW=function(y,z,B){var l10;l10=2;for(;l10 !== 4;){switch(l10){case 2:this.OKa=y;this.b0=z || 0;this.KKa=B || 0;l10=4;break;}}};x.prototype.createSession=function(y,z,B,A,C,E,F,D,G,I){var m10;m10=2;for(;m10 !== 4;){switch(m10){case 1:return (D=D || this.config,this.Jb.reset(),this.Om.GTb(),this.Hda.reset(),void 0 === E && (E=this.O2(y,z)),f.ga(this.b0) && (this.b0=d.default.Mn()[k.default.Za.Hb] <= D.WIb?0:D.$M),y=new r.jGa(this,y,I,z,B,A,C,E,F,D,G),this.uE.push(y),y);break;case 2:m10=this.Qca?1:5;break;case 7:w("");m10=8;break;m10=4;break;case 5:var g9b="open: streamingManag";g9b+="er not initte";g9b+="d";w(g9b);m10=4;break;}}};X00=10;break;case 17:x.prototype.Gfa=function(){var s10,y;s10=2;for(;s10 !== 5;){switch(s10){case 2:null === (y=this.zu) || void 0 === y?void 0:y.VRa();s10=5;break;}}};x.prototype.Dx=function(){var t10,y;t10=2;for(;t10 !== 5;){switch(t10){case 2:null === (y=this.zu) || void 0 === y?void 0:y.Otb();t10=5;break;}}};x.prototype.wb=function(){var u10;u10=2;for(;u10 !== 6;){switch(u10){case 2:var N9b="Attempted to destruct ";N9b+="M";N9b+="anager befo";N9b+="re all Sessions removed";n.assert(0 === this.uE.length,N9b);this.Qca=!1;delete this.ZZ;delete this.Hda;u10=3;break;case 3:delete this.QC;this.Dx();delete this.zu;h.MH.reset();u10=6;break;}}};return x;break;case 10:x.prototype.sU=function(y,z){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return this.zu && (y=this.zu.sU(y,z))?y:!1;break;}}};x.prototype.Mib=function(y){var o10,z;o10=2;for(;o10 !== 4;){switch(o10){case 2:var T9b="can't find sessio";T9b+="n in array, movi";T9b+="eId:";this.Jb.pN(null);z=this.uE.indexOf(y);f.ga(z)?w(T9b,y.me.N.K):(this.uE.splice(z,1),0 === this.uE.length && this.Om.QTb(),this.Om.save(),this.mh.save());o10=4;break;}}};x.prototype.O2=function(y,z,B){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 4:return g.GTa(y,z,B);break;q10=1;break;case 2:return g.GTa(y,z,B);break;}}};x.prototype.X0=function(){var r10,y;r10=2;for(;r10 !== 5;){switch(r10){case 2:null === (y=this.zu) || void 0 === y?void 0:y.flush();r10=5;break;}}};X00=17;break;}}function x(y,z){var Y00,B;Y00=2;for(;Y00 !== 13;){switch(Y00){case 2:var B9b="D";B9b+="EBU";B9b+="G";B9b+=":";var x9b="nf";x9b+="-ase ver";x9b+="sion:";B=v.call(this) || this;B.config=y;B.QC=z;y=a(428);t(x9b,y,B9b,!1);B.Qca=!1;B.rib=!1;Y00=7;break;case 7:var s9b="1";s9b+="SIYbZrNJ";s9b+="Cp9";B.uE=[];s9b;return B;break;}}}})(q.EventEmitter);b.tAa=q;},function(q,b,a){var f,k,l,d;function c(g){var h;h=nrdp.ei.F7b.match(/android-(\d*)/);h?23 < h[1]?g.Psa=!1:(h=nrdp.ei.X1b.ss.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),g.Psa=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):g.Psa=!1;g.X7=!1;}f=a(6).assert;a(124);k=a(4).default;l=k.kq;d=k.Jbb;q.exports=function(){var g,h,m,n;g=new k.Console("ASEJSMONKEY","media|asejs");if(!k.kq.Ub){h=function(r){this.fhb=r;};m=d.prototype.appendBuffer;k.MediaSource.Ub || (k.MediaSource.Ub={});"undefined" !== typeof nrdp && nrdp.A0 && (c(k.MediaSource.Ub,g),k.MediaSource.Ub.mOa=!1,k.MediaSource.Ub.hZa=!1);k.kq.Ub={cW:{m7a:!0,LP:!0,Ubb:!0}};Object.defineProperty(l.prototype,"_response",{get:function(){return this.ujb || this.Ifb;},set:function(r){this.Ifb=r;}});n=l.prototype.open;l.prototype.open=function(r,p,u,t,w,v,x){1 === u && (this.ujb=new h(this));return n.call(this,r,p,u,t,w,v,x);};l.prototype.SV=function(){this.yJ=void 0;};d.prototype.appendBuffer=function(r){if(r instanceof ArrayBuffer)return m.call(this,r);if(r instanceof h)return this.B0(r.fhb);f(!1);};}};},function(q,b,a){var k,l;function c(){this.$w=this.kQ=this.s_=this.F_=this.m_=null;}function f(d){this.I=d;this.LA=[];this.tq=new c();this.zQ();}k=a(10);a(27);a(9);l=a(4).default;new l.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Ce=function(d){var g;g=!1;d && k.has(d,"ens") && k.has(d,"lns") && k.has(d,"fns") && k.has(d,"d") && k.has(d,"t") && (this.m_=d.ens,this.F_=d.lns,this.s_=d.fns,this.kQ=d.d,this.$w=d.t,g=!0);return g;};c.prototype.getState=function(){var d;if(k.ob(this.m_) || k.ob(this.F_) || k.ob(this.s_) || k.ob(this.kQ) || k.ob(this.$w))return null;d={d:this.kQ,t:this.$w};d.ens=this.m_;d.lns=this.F_;d.fns=this.s_;return d;};c.prototype.get=function(){var d,g;d=this.getState();if(d){g=new Date(this.$w);d.dateint=1E4 * g.getFullYear() + 100 * (g.getMonth() + 1) + g.getDate();d.hour=g.getHours();}return d;};f.prototype.zQ=function(){var d;d=l.storage.get("sth");d && this.Ce(d);};f.prototype.Ce=function(d){var g,h;g=null;h=this.I;d.forEach(function(m){var n;n=new c();n.Ce(m)?(g=!0,this.LA.push(n)):k.ob(g) && (g=!1);},this);this.LA=this.LA.filter(function(m){return m.kQ >= h.y5;});this.LA.sort(function(m,n){return m.$w - n.$w;});return k.ob(g)?!0:g;};f.prototype.Ica=function(){var d;d=[];this.LA.forEach(function(g){d.push(g.getState());},this);return d;};f.prototype.save=function(){var d,g,h;d=this.Ica();g=this.I;h=this.tq.getState();h && h.d >= g.y5 && (d.push(h),this.LA.push(this.tq));d.length > g.c5 && (d=d.slice(d.length - g.c5,d.length));this.tq=new c();d && l.storage.set("sth",d);};f.prototype.reset=function(){this.tq=new c();};f.prototype.Zyb=function(){return this.tq.get();};f.prototype.rBb=function(){return this.LA.length + 1;};f.prototype.lkb=function(d){this.tq.m_=d;this.tq.$w=l.time.aa();};f.prototype.vkb=function(d){this.tq.F_=d;this.tq.$w=l.time.aa();};f.prototype.okb=function(d,g){this.tq.s_=d;this.tq.$w=l.time.aa();this.tq.kQ=g;};q.exports=f;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ZAa=void 0;q=(function(){function a(c,f,k){this.yjb=f;this.cfb=k;this.H=c;}a.prototype.Ppa=function(c){c=this.$Db(c,this.yjb) + this.cfb;return this.xda=isNaN(c)?NaN:this.isa(c);};a.prototype.Job=function(c){return isNaN(this.xda)?0:this.xda > c?1:0;};a.prototype.$Db=function(c,f){var k;k=0;if(c.length !== f.length)k=NaN;else for(var l=0;l < c.length;l++){k+=c[l] * f[l];}return k;};a.prototype.isa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.ZAa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AP=void 0;q=(function(){function a(c){this.tj={};this.fda=c;this.Kf=[];this.yq=!1;this.vE=void 0;}a.prototype.v0=function(c){this.Kf.length === this.fda && this.Kf.shift();Array.isArray(c)?this.Kf=this.Kf.concat(c):this.Kf.push(c);this.yq=!0;};a.prototype.gL=function(){return this.Kf.length;};a.prototype.Hfa=function(){var c;c=this.Kf;return 0 < c.length?c.reduce(function(f,k){return f + k;},0) / this.Kf.length:void 0;};a.prototype.b1=function(){var c,f;c=this.Kf;f=this.Hfa();if(0 < c.length && "undefined" !== typeof f)return (c=c.reduce(function(k,l){return k + l * l;},0) / c.length,Math.sqrt(c - f * f));};a.prototype.ms=function(c){var f,k,l;if(this.yq || void 0 === this.vE)(this.vE=this.Kf.slice(0).sort(function(d,g){return d - g;}),this.yq=!1);if(void 0 === this.tj[c]){f=this.vE;k=Math.floor(c / 100 * (f.length - 1) + 1) - 1;l=(c / 100 * (f.length - 1) + 1) % 1;this.tj[c]=k === f.length - 1?f[k]:f[k] + l * (f[k + 1] - f[k]);}return this.tj[c];};return a;})();b.AP=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P;Object.defineProperties(b,{__esModule:{value:!0}});b.jGa=void 0;q=a(2);c=a(16);f=q.__importStar(a(10));k=a(144);l=a(809);d=a(227);g=a(14);h=a(219);m=a(241);n=a(242);r=a(854);p=a(855);u=q.__importDefault(a(4));t=u.default.Promise;w=u.default.MediaSource;v=a(9);x=a(6);y=a(172);z=a(405);B=a(857);A=a(858);C=a(406);q=a(43);E=a(859);F=a(860);D=a(407);G=a(894);I=a(419);J=a(901);H=a(424);M=a(907);O=a(908);L=a(909);P=a(910);a=(function(){var v10;function R(K,Q,N,da,na,va,ra,X,ta,za,V){var w10,T,Ia,wa,Ua,ja;w10=2;for(;w10 !== 74;){switch(w10){case 51:this.P2a=new m.O$(Q,this.Yb.Jb,this.Yb.mh,this.I,void 0);K=this.P2a.zBb();w10=49;break;case 55:w10=this.Nq?77:75;break;case 2:var U7u="m";U7u+="e";U7u+="di";U7u+="a";U7u+="|asejs";var F7u="A";F7u+="S";F7u+="EJS";var i9b="1SI";i9b+="YbZ";i9b+="rNJC";i9b+="p9";T=this;this.Ow=new C.wFa();this.oIa=[];this.LB={Au:[Object.create(null),Object.create(null)]};i9b;this.H=new u.default.Console(F7u,U7u,"(" + ra.sessionId + ")");this.$j=this.H.error.bind(this.H);w10=7;break;case 63:w10=za.Zha && this.Yf.t4?62:59;break;case 17:this.wjb=[!va.UC,!va.vR];this.Vb(0) && this.Vb(1);w10=15;break;case 13:var y7u="br";y7u+="an";y7u+="chi";y7u+="ng";this.qb=ja;this.OOa=new z.Ewa(this.H);(Ia=!(!Q || !Q.choiceMap || y7u !== Q.choiceMap.type),wa=Ia?{GS:!1,Nq:!1}:p.rTa(za));this.GS=wa.GS;w10=20;break;case 56:this.nb=new H.BGa(this.H,this.Yf,this.I,this.Vb.bind(this),this.T,za,this.Yb.Jb,this.qb,this.Mf,this.Ga,wa);w10=55;break;case 77:Ua=this;w10=76;break;case 30:this.tQ=void 0;this.D_=-1;this.zda=0;this.Yh=new c.zh();w10=43;break;case 60:this.Yf.Gta(this.I);w10=59;break;case 76:this.T.addListener(function($a){var z10,A10;z10=2;for(;z10 !== 1;){switch(z10){case 2:try{A10=2;for(;A10 !== 1;){switch(A10){case 2:Ua.nb.CWb.bind(Ua.nb)($a);A10=1;break;}}}catch(Za){var L7u="Hind";L7u+="sight: Error when adding updatePl";L7u+="aySegment List";L7u+="ener: ";a000.D9b(2);Ua.qb.Pm(a000.Q9b(L7u,Za));}z10=1;break;}}});w10=75;break;case 36:Ia && za.zK && !za.avb && (za.set?za.set({enableAdaptiveParallelStreaming:!1}):za.zK=!1);0 === Math.floor(1E6 * Math.random()) % za.WA && (this.Uib=new r.CFa(za));this.Du=[];this.rg=[];w10=51;break;case 59:Sa=Q.N;this.Ga=new I.D9(this,this.qb,this.H,this.Lda.bind(this),Sa,this.NA,this.I,this.Mf,this.T,this.hT.bind(this));za={tU:this.tU,jr:this.jr,em:this.em,DM:this.DM};w10=56;break;case 75:V && this.nb.Qp(V,Sa.da);w10=74;break;case 39:var o7u="man";o7u+="agerdebugeven";o7u+="t";this.Yh.on(this.Yb.mf,o7u,function($a){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:v.Ta(T,$a.type,$a);x10=1;break;}}});w10=38;break;case 40:w10=za.Gh && this.Yb.mf?39:38;break;case 20:this.Nq=wa.Nq;this.Rv=za.Rv;this.ji=new L.AAa(this,this.H,this.Vb.bind(this),wa);w10=17;break;case 37:var b7u="m";b7u+="e";b7u+="diaca";b7u+="che";this.Yh.on(this.Yb.mf,b7u,function($a){var y10;y10=2;for(;y10 !== 1;){switch(y10){case 4:v.Ta(T,"",$a);y10=3;break;y10=1;break;case 2:var M7u="m";M7u+="edi";M7u+="aca";M7u+="che";v.Ta(T,M7u,$a);y10=1;break;}}});w10=36;break;case 49:na=null;za.JS && (na=this.Yb.Lt.LA);y.nw.instance().reset();Q=l.$$.create({Db:0,sa:Q,bo:N,E2a:da,yg:! !va.yg,pWa:!1,Gi:! !va.Gi,Fd:h.o5(! !va.vR,! !va.UC),Z:0,Aa:va.Aa,qb:this.qb,Sq:this.jJa.bind(this),Nb:this,config:this.I,H:this.H,Mf:this.Mf,$m:this.$m,mf:this.bLa?this.Yb.mf:void 0,LB:this.LB});w10=45;break;case 26:this.I=za=this.OOa.Teb(Q,za);this.N_=va.DM;this.bLa=! !va.SN;this.Kjb=! !va.D8;w10=22;break;case 43:this.$m=new M.aGa(this,this.H,this.Vb.bind(this),ja);this.Mf=new O.xxa(this,this.H,this.Vb.bind(this));this.xS=new B.wxa(this,this.H,ja);w10=40;break;case 15:this.Yb=K;this.vl=ra;w10=26;break;case 38:w10=(za.Wta || za.Vta) && this.Yb.mf?37:36;break;case 33:this.qJ=0;this.Tba=X;this.h0=!1;w10=30;break;case 45:Q.nR=!0;this.rd=[Q];this.Yf=new J.Hua(this,this.H,K,this.Yb.Jb,za,this.PL(),na,this.Vb.bind(this),wa);w10=63;break;case 22:this.pJ=va.tU;this.W_=void 0;this.T=new A.Uua(ta);this.NA=na || 0;w10=33;break;case 62:za=za.VCb;for(var Sa in za){N=za[Sa];za.hasOwnProperty(Sa) && N && (this.I[Sa]=N);}w10=60;break;case 7:this.Eb=this.H.warn.bind(this.H);this.sm=this.H.trace.bind(this.H);ja=new P.ACa(this,this.H);w10=13;break;}}}v10=2;for(;v10 !== 91;){switch(v10){case 27:R.prototype.cL=function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:return this.rd.length;break;}}};R.prototype.Sla=function(K,Q){var a20;a20=2;for(;a20 !== 9;){switch(a20){case 6:return -9;break;a20=5;break;case 2:a20=K === Q?1:5;break;case 1:return !0;break;case 5:K=this.rd[K];Q=this.rd[Q];return K.N.Ze.yg && Q.N.Ze.AU || Q.N.Ze.yg && K.N.Ze.AU;break;}}};R.prototype.iT=function(K){var b20;b20=2;for(;b20 !== 5;){switch(b20){case 2:b20=(K=this.Ga.Mh.children[K])?1:5;break;case 1:return {id:K.P.id,Ke:K.Ke,Zc:K.Fpa,Pd:K.Pd,Jc:K.p7,pc:K.pc};break;}}};R.prototype.vp=function(){var c20,K;c20=2;for(;c20 !== 5;){switch(c20){case 2:K=this.Ga.Mh;return {id:K.P.id,Ke:K.Ke,Zc:K.Fpa,Pd:K.Pd,Jc:K.p7,pc:K.pc};break;}}};R.prototype.RN=function(K,Q){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return this.Ga.RN(K,Q);break;}}};R.prototype.open=function(){var e20,Q,N,da,na,va,ra,X,ta,za,K;e20=2;for(;e20 !== 33;){switch(e20){case 4:var r7u="h";r7u+="ea";r7u+="de";r7u+="r";r7u+="s";(Q=this.I,N=this.me.N,da=N.K,na=[],va=[r7u]);this.em && (na.push(1),va.push(1));this.Bq && (na.push(0),va.push(0));this.xS.Ggb();ra=Q.Aq;this.Yb.mf && this.Yb.mf.Xo(ra,this.vl.sessionId);e20=14;break;case 5:var D7u="NF";D7u+="Er";D7u+="r_MC_StreamingI";D7u+="nitFailure";var Q7u="s";Q7u+="tartPts must ";Q7u+="be a positiv";Q7u+="e num";Q7u+="ber, not ";this.Mo(Q7u + this.NA,void 0,D7u);e20=33;break;case 20:var u7u="cre";u7u+="a";u7u+="t";u7u+="eMediaSourc";u7u+="eEnd";this.qb.zl(u7u);ta.Ub || (ta.Ub=w.Ub);this.xf=ta;e20=17;break;case 14:var A7u="cr";A7u+="eat";A7u+="eMediaSourceStart";X=this.xS.Afb(va,N);va.forEach(function(V,T){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:var e7u="h";e7u+="ea";e7u+="de";e7u+="r";e7u+="s";e7u === V?K.tQ=X[T]:K.nb.rf[V].kg=X[T];f20=1;break;}}});this.qb.zl(A7u);ta=new w(this.T.UE);e20=10;break;case 1:e20=!f.xa(this.NA) || 0 > this.NA?5:4;break;case 24:var q7u="s";q7u+="tartp";q7u+="la";q7u+="y";var l7u="logda";l7u+="t";l7u+="a";this.qb.ZJa(N);za=function(){var k20;k20=2;for(;k20 !== 5;){switch(k20){case 2:var j7u="shutdown det";j7u+="ec";j7u+="ted before startRequests";K.qb.Mhb();K.pm()?K.Eb(j7u):K.qjb();k20=5;break;}}};Q.ttb?setTimeout(function(){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 4:K.xIa(da).then(za);l20=3;break;l20=1;break;case 2:K.xIa(da).then(za);l20=1;break;}}},0):this.xIa(da).then(function(){var m20;m20=2;for(;m20 !== 1;){switch(m20){case 2:setTimeout(za,0);m20=1;break;case 4:setTimeout(za,3);m20=3;break;m20=1;break;}}});N={type:l7u,target:q7u,fields:{audiogapconfig:Q.YL,audiogapdpi:this.xf.Ub && this.xf.Ub.YL,aseApiVersion:this.IE}};e20=35;break;case 10:e20=1 === ta.readyState?20:34;break;case 16:var G7u="E";G7u+="r";G7u+="ro";G7u+="r";G7u+=":";throw (this.sm(G7u,ta.error),ta.error);e20=15;break;case 34:var O7u="NFErr";O7u+="_MC_Str";O7u+="eamingInitFail";O7u+="ure";var m7u="exc";m7u+="eption i";m7u+="n in";m7u+="it";var Y7u="E";Y7u+="r";Y7u+="r";Y7u+="or";Y7u+=":";(this.sm(Y7u,ta.error),this.Mo(m7u,void 0,O7u));e20=33;break;case 17:e20=!ta.w0(na)?16:15;break;case 2:K=this;e20=1;break;case 15:ta.sourceBuffers.forEach(function(V){var g20,T,ja;g20=2;for(;g20 !== 13;){switch(g20){case 4:var J7u="er";J7u+="ro";J7u+="r";var W7u="req";W7u+="uestAppende";W7u+="d";var E7u="header";E7u+="App";E7u+="ende";E7u+="d";V.addListener(E7u,K.vgb.bind(K));V.addListener(W7u,K.ygb.bind(K));V.addListener(J7u,function(Ia){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:var I7u="NFErr_MC_S";I7u+="tre";I7u+="amingFailure";K.Mo(Ia.errorstr,void 0,I7u);h20=1;break;}}});g20=8;break;case 8:var c7u="m";c7u+="a";c7u+="nagerdebugeven";c7u+="t";var n7u="log";n7u+="d";n7u+="a";n7u+="t";n7u+="a";V.addListener(n7u,function(Ia){var i20;i20=2;for(;i20 !== 1;){switch(i20){case 2:v.Ta(K,Ia.type,Ia);i20=1;break;}}});Q.Gh && V.addListener(c7u,function(Ia){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:v.Ta(K,Ia.type,Ia);j20=1;break;}}});K.rg[T]=V;g20=14;break;case 2:(T=V.mediaType,ja=K.nb.rf[T]);V=new n.E9(ja.H,T,ta,V,Q,K.T,void 0,K.Pg.bind(K));ja=new G.oAa(V,T,K.Ga,K.I,ja.H);g20=4;break;case 14:K.Du[T]=ja;g20=13;break;}}});this.Qw=new E.yEa(this.Du,this.AJ.bind(this),this.T.xe.bind(this.T));this.jr && this.qb.vhb();N=this.ETa();e20=24;break;case 35:this.emit(N.type,N);e20=33;break;}}};Object.defineProperties(R.prototype,{IE:{get:function(){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:var h7u="1";h7u+=".";h7u+="0";return h7u;break;case 4:return "";break;n20=1;break;}}},enumerable:!1,configurable:!0}});R.prototype.jka=function(){};R.prototype.flush=function(){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 4:this.ji.flush();o20=3;break;o20=1;break;case 2:this.ji.flush();o20=1;break;}}};R.prototype.paused=function(){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:this.T.paused();p20=1;break;}}};v10=32;break;case 87:R.prototype.Ida=function(K,Q){var W30,N,da,na;W30=2;for(;W30 !== 9;){switch(W30){case 1:W30=N.Ra(K)?5:9;break;case 7:N=this.Ga.Cc;W30=9;break;W30=1;break;case 6:W30=N.Ra(K)?1:1;break;W30=N.Ra(K)?5:9;break;case 2:N=this.Ga.Cc;W30=1;break;case 5:var t7u="p";t7u+="ts";t7u+="cha";t7u+="nged";(da=this.nb.rf[K],na=this.nb.wz[K]);f.ga(da.Cn) && (da.Cn=Q,1 === K && this.Bq && (K=this.nb.rf[0],f.ga(K.Cn) && (N=N.Ra(0),N.UG(Q)),this.emit(t7u,Q)));f.ga(na.LR) && (na.LR=Q);W30=9;break;}}};R.prototype.PUa=function(K){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:this.bh && (this.bh.GHb(K),this.ONa());X30=1;break;}}};R.prototype.z3=function(K){var Y30;Y30=2;for(;Y30 !== 1;){switch(Y30){case 2:this.bh && (this.bh.FHb(K),this.ONa());Y30=1;break;}}};R.prototype.ONa=function(){var Z30,K;Z30=2;for(;Z30 !== 4;){switch(Z30){case 2:Z30=this.bh?1:4;break;case 9:Z30=this.bh?0:5;break;Z30=this.bh?1:4;break;case 1:var p7u="a";p7u+="l";p7u+="l";p7u+="Completed";K=this.I;this.bh.IB() || (this.bh=void 0,K.Aq || this.Ow.UA || this.YQ(p7u));Z30=4;break;}}};R.prototype.ZQ=function(){var a40,K,Q,N,da,na,va,ra,X;a40=2;for(;a40 !== 7;){switch(a40){case 8:this.PA=setTimeout(this.ZQ.bind(this),X);a40=7;break;case 9:this.PA && clearTimeout(this.PA);a40=8;break;case 2:(K=this,Q=this.I,N=this.BV,da=this.rd[N],na=this.Ga.Cc,va=this.T.xe() || 0,ra=this.us(N,va),X=Q.B8);this.Yb.mf && void 0 !== da.kG && da.kG - va <= Q.PYa && this.Yb.mf.Xo(!0,this.vl.sessionId);this.T.getState() === g.ja.yc && ([1,0].forEach(function(ta){var b40,za,V,T,Sa,ja,Ia,wa;b40=2;for(;b40 !== 35;){switch(b40){case 5:b40=za?4:35;break;case 21:var k7u="Una";k7u+="ble to fi";k7u+="nd request presenting at playe";k7u+="rPts:";za.Eb(k7u,va);b40=23;break;case 16:K.pJ && T.Ct != ja.ZFb && K.qb.Whb(T.Ct);b40=15;break;case 15:ja.ZFb=T.Ct;Ia=T.La;Ia != ja.Fma && (ja.Fma=Ia,ta=K.rd[wa].N.jv(ta,Ia),wa=K.us(wa,T.Zc),K.qb.Rhb(ta,T.Zc,wa,ta.N.Db));T=T.bitrate;b40=24;break;case 8:(T=K.Ga.Es(va,na,ta)) && !T.Je && (T=K.rg[ta].PFb);b40=7;break;case 17:ra=K.us(wa,va);b40=15;break;case 1:za=na.Ra(ta);b40=5;break;case 2:b40=K.Vb(ta)?1:35;break;case 20:K.D_=wa;b40=19;break;case 11:b40=!K.em || 1 === ta?10:15;break;case 4:V=za.Na;za.$J(va);b40=8;break;case 19:Sa=0 < wa?wa - 1:null;K.qb.Ihb(Ia,va,T.Ct,null !== Sa?K.rd[Sa].N.K:null,Sa);b40=17;break;case 6:V=T.Pd - va;V < X && (X=V);(ja=K.nb.yv[ta],Ia=T.N,wa=Ia.Db);V=T.Na;b40=11;break;case 7:b40=T?6:21;break;case 24:f.ga(T) || T == za.f0a || (za.f0a=T);b40=23;break;case 23:K.Eib(V,va);K.Ga.pOb();b40=35;break;case 10:b40=(K.Ga.$Jb(T,T.Ct),wa > K.D_)?20:16;break;}}}),this.Ga.Br(va,ra));this.Mf.uj();X=Math.max(X,1);a40=9;break;}}};R.prototype.$Z=function(K){var c40;c40=2;for(;c40 !== 1;){switch(c40){case 2:return this.Mf.$Z(K);break;}}};R.prototype.uj=function(){var d40;d40=2;for(;d40 !== 1;){switch(d40){case 4:return this.Mf.uj();break;d40=1;break;case 2:return this.Mf.uj();break;}}};R.prototype.DE=function(K,Q){var e40,N,da;e40=2;for(;e40 !== 13;){switch(e40){case 2:N=K.Na;e40=1;break;case 7:this.rg[da].Y6(K);!0 === Q && this.Mf.uj();e40=13;break;case 5:da=K.mediaType;K.abort();K.Ic();K.Yh && K.Yh.clear();N.Y6(K);e40=7;break;case 1:e40=N?5:14;break;case 14:var S7u="abortReque";S7u+="st wi";S7u+="th no requestMan";S7u+="agae";S7u+="r:";this.Eb(S7u,K);e40=13;break;}}};R.prototype.pjb=function(K){var f40,Q,N;f40=2;for(;f40 !== 5;){switch(f40){case 2:var z7u="no";z7u+=" newAudioTrack ";z7u+="set";(Q=K.mediaType,N=this.nb.rf[Q]);f.ga(N.M5)?K.Eb(z7u):(this.rg[Q].pause(),N.ZN=!0,K=this.me.pp(0),N=this.me.N.getTrackById(N.M5.trackId),this.qb.xhb(K,N));f40=5;break;}}};R.prototype.zib=function(K){var g40,va,ra,X,ta,Q,N,da,na;g40=2;for(;g40 !== 27;){switch(g40){case 9:g40=(null === (N=this.bh) || void 0 === N?0:N.IB())?8:7;break;case 12:this.Yf.nN(null);this.Eda(0,D.IP.eSa,K);this.Ga.X2a(K,!0);g40=20;break;case 19:g40=N < this.rd.length?18:16;break;case 18:this.aOb(N,X,ta);g40=17;break;case 3:(va=this.me,ra=va.N.getTrackById(this.nb.wx.trackId),X=ra.ON,ta=this.T.xe() - K.Ke);g40=9;break;case 20:N=this.qJ;g40=19;break;case 16:K.s1a(ra,ta);this.aH(0);g40=27;break;case 8:var v7u="aud";v7u+="ioS";v7u+="witch";(this.bh.MPb(function(za){var h40;h40=2;for(;h40 !== 5;){switch(h40){case 1:return (Q.DE(za,!1),!0);break;case 9:return (Q.DE(za,+2),-2);break;h40=5;break;case 2:h40=0 === za.mediaType?1:5;break;}}}),this.bh.IB() || (this.bh=void 0,da.Aq || this.Ow.UA || this.YQ(v7u)));g40=7;break;case 7:N=this.Yb.O2(va.N.sa,[X],0);this.Tba[0]=N[0];this.xS.vKa(0,K.N);na.M5=void 0;g40=12;break;case 17:++N;g40=19;break;case 2:(Q=this,da=this.I);K=K.ub;na=this.nb.rf[0];this.nb.wx=na.M5;g40=3;break;}}};v10=104;break;case 32:R.prototype.ypa=function(){};R.prototype.close=function(){var q20;q20=2;for(;q20 !== 4;){switch(q20){case 2:this.P2a.wb();this.rd.forEach(function(K){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:K.close();r20=1;break;}}});this.ji.close();q20=4;break;}}};R.prototype.E1a=function(){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:this.Yb.Mib(this);s20=1;break;case 4:this.Yb.Mib(this);s20=7;break;s20=1;break;}}};R.prototype.Ic=function(){var t20,K;t20=2;for(;t20 !== 20;){switch(t20){case 2:this.Yf.BKb();this.XZ();this.Ga.wb();this.xS.Mfb();null === (K=this.Qw) || void 0 === K?void 0:K.reset();t20=8;break;case 6:this.rd.forEach(function(Q){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 4:Q.Ic();v20=4;break;v20=1;break;case 2:Q.Ic();v20=1;break;}}});t20=14;break;case 8:this.Du.forEach(function(Q){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 4:Q.reset();u20=3;break;u20=1;break;case 2:Q.reset();u20=1;break;}}});this.T.Ce(g.ja.zi);t20=6;break;case 14:var R7u="Er";R7u+="ror";R7u+=" on Media";R7u+="Source destr";R7u+="oy: ";this.rd=[];this.Yh.clear();K=this.xf;this.xf=void 0;f.ga(K) || K.gp() || this.Eb(R7u,K.error);t20=20;break;}}};R.prototype.suspend=function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 2:this.ji.suspend();w20=1;break;case 4:this.ji.suspend();w20=9;break;w20=1;break;}}};R.prototype.resume=function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 4:this.ji.resume();x20=4;break;x20=1;break;case 2:this.ji.resume();x20=1;break;}}};R.prototype.pm=function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 2:return this.ji.pm();break;case 4:return this.ji.pm();break;y20=1;break;}}};R.prototype.ljb=function(){var z20,K;z20=2;for(;z20 !== 8;){switch(z20){case 4:this.Pw || (this.Pw=setInterval(this.qb.XJa.bind(this.qb),K.UJ));this.i0 || (this.i0=setInterval(this.qb.Vhb.bind(this.qb),K.Ksa));this.jr && !this.PZ && (this.PZ=setInterval(this.qb.WJa.bind(this.qb),K.E0));z20=8;break;case 2:K=this.I;this.PA && clearTimeout(this.PA);this.PA=setTimeout(this.ZQ.bind(this),K.B8);z20=4;break;}}};R.prototype.XZ=function(){var A20;A20=2;for(;A20 !== 7;){switch(A20){case 3:this.RI && (clearTimeout(this.RI),this.RI=void 0);this.tca && (clearTimeout(this.tca),this.tca=void 0);this.Mf.XZ();A20=7;break;case 2:this.PA && (clearTimeout(this.PA),this.PA=void 0);this.Pw && (clearInterval(this.Pw),this.Pw=void 0);this.i0 && (clearInterval(this.i0),this.i0=void 0);this.PZ && (clearInterval(this.PZ),this.PZ=void 0);A20=3;break;}}};R.prototype.play=function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:this.ji.play();B20=1;break;}}};v10=39;break;case 48:R.prototype.E3=function(){var U20;U20=2;for(;U20 !== 1;){switch(U20){case 2:return this.T.Qn(this.me.N);break;}}};R.prototype.yIa=function(K){var V20,Q,N,da;V20=2;for(;V20 !== 11;){switch(V20){case 2:V20=K >= this.rd.length?1:5;break;case 5:(Q=this.Ga.Cc.Ed(0),N=this.Ga.Cc.Ed(1));Q=!Q || Q.yh;da=!N || N.yh;V20=9;break;case 9:N=this.rd[K].N;V20=8;break;case 1:return !1;break;case 7:return !1;break;case 8:V20=!(K === this.qJ + 1 && N.Ze.replace || Q && da) || !this.T.Qn(N)?7:6;break;case 6:K=N.Rg[0];Q=N.Rg[1];Q=!this.em || Q && Q.stream.ye;return (!this.Bq || K && K.stream.ye) && Q?!0:!1;break;}}};R.prototype.p0=function(){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:this.o0(this.qJ + 1);W20=1;break;case 4:this.o0(this.qJ % 7);W20=3;break;W20=1;break;}}};R.prototype.o0=function(K){var X20,Q;X20=2;for(;X20 !== 6;){switch(X20){case 1:return !1;break;case 3:return !1;break;case 2:X20=!this.yIa(K)?1:5;break;case 4:X20=Q.swb || !Q.N.Ze.replace?3:9;break;case 5:Q=this.rd[K];X20=4;break;case 9:this.xjb(K);this.Mf.uj();return !0;break;}}};R.prototype.xjb=function(K){var Y20,Q,N,da,na,va,ra;Y20=2;for(;Y20 !== 20;){switch(Y20){case 2:(Q=this.rd[K],N=this.I,da=this.Ga.Cc,na=da.Ra(0));Y20=1;break;case 1:na=na?na.oc:void 0;va=da.Ra(1);va=va?va.oc:void 0;Y20=3;break;case 13:this.HJa(K);Q.soa();this.$m.zca();this.Mf.uj();Y20=20;break;case 3:var C7u=",";C7u+=" ";var H7u=", strea";H7u+="min";H7u+="g";H7u+="Pts: ";var f7u="s";f7u+="witchManifest m";f7u+="anif";f7u+="estIndex: ";N.Gh && this.qb.Ul(f7u + K + H7u + na + C7u + va);N=this.me;na=N.N.Ze.yg;ra=[];[1,0].forEach(function(X){var Z20;Z20=2;for(;Z20 !== 1;){switch(Z20){case 2:Q.N.Vb(X) && (ra[X]=Q.pp(X));Z20=1;break;}}});na?this.Ga.SPb(N.N,Q.N,ra):da.q3a(Q.N,ra);Y20=13;break;}}};R.prototype.UZa=function(){var a30,K,Q,N,da;a30=2;for(;a30 !== 6;){switch(a30){case 2:(K=this.Ga.Cc,Q=K.Ra(0));a30=1;break;case 1:a30=Q?5:7;break;case 5:var Z7u="onAud";Z7u+="ioTrackSwitchStarted but current playin";Z7u+="g request not found";(N=this.T.xe(),da=this.nb.rf[Q.mediaType]);(K=this.Ga.Es(N,K,0))?Q=K.Na:(this.Eb(Z7u),Q=Q.Na);this.zib(Q);a30=9;break;case 9:da.ZN=!1;this.Mf.uj();a30=6;break;case 7:var X7u="onAudioTrackSwitchSt";X7u+="arted ignored, no audio p";X7u+="ipeline";this.Eb(X7u);a30=6;break;}}};R.prototype.b8=function(K){var b30,Q,N,da,va,na;b30=2;for(;b30 !== 35;){switch(b30){case 23:Q=da.Ra(0);this.pjb(Q);b30=21;break;case 25:var w7u=" ";w7u+="t";w7u+="o";w7u+=":";w7u+=" ";var a7u="s";a7u+="witchTracks cu";a7u+="rr";a7u+="e";a7u+="nt: ";Q.Gh && this.qb.Ul(a7u + va + w7u + na.trackId);N.M5={trackId:K};b30=23;break;case 2:Q=this.I;b30=1;break;case 27:b30=va === na.trackId?26:25;break;case 17:b30=!na?16:15;break;case 20:var P7u="switchTra";P7u+="cks re";P7u+="jected, bufferL";P7u+="evelMs";return (this.Eb(P7u,na,"<",Q.t5),!1);break;case 14:var d7u="switchTracks rejected, pre";d7u+="vious switch stil";d7u+="l";d7u+=" waiting to ";d7u+="start";return (this.Eb(d7u),!1);break;case 12:b30=this.T.getState() === g.ja.yc?11:19;break;case 21:return !0;break;case 7:N=this.nb.rf[0];b30=6;break;case 1:b30=!this.Bq?5:4;break;case 9:b30=this.T.Pf()?8:7;break;case 19:K=K.KE;na=this.me.N.getTrackById(K);b30=17;break;case 13:da=this.Ga.Cc;b30=12;break;case 26:return !1;break;case 3:var V7u="sw";V7u+="itc";V7u+="hTracks rejected, previous sw";V7u+="itch still in progress: ";return (this.Eb(V7u + JSON.stringify(this.nb.wx)),!1);break;case 15:va=this.me.pp(0).trackId;b30=27;break;case 10:b30=na < Q.t5?20:19;break;case 11:na=this.Ga.Ru(da,1);b30=10;break;case 5:var K7u="s";K7u+="witchTracks reject";K7u+="ed, audio disabled";return (this.Eb(K7u),!1);break;case 4:b30=this.nb.wx?3:9;break;case 8:var g7u="switc";g7u+="hTracks rejected, b";g7u+="uffering";return (this.Eb(g7u),!1);break;case 16:var N7u="swi";N7u+="tchTracks ";N7u+="can'";N7u+="t ";N7u+="find trackId:";return (this.Eb(N7u,K),!1);break;case 6:b30=N.ZN?14:13;break;}}};R.prototype.Qp=function(K,Q){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:this.nb.Qp(K,Q);c30=1;break;case 4:this.nb.Qp(K,Q);c30=4;break;c30=1;break;}}};R.prototype.Es=function(K,Q,N){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 2:return this.Ga.Es(K,this.Ga.Mh,Q,N);break;}}};R.prototype.bi=function(K){var e30;e30=2;for(;e30 !== 1;){switch(e30){case 2:return this.$m.bi(K);break;case 4:return this.$m.bi(K);break;e30=1;break;}}};v10=59;break;case 13:Object.defineProperties(R.prototype,{Lt:{get:function(){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 2:return this.Yb.Lt;break;case 4:return this.Yb.Lt;break;L10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{jr:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return this.Uib;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{tU:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return this.pJ;break;case 4:return this.pJ;break;N10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{DM:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 2:return this.N_;break;case 4:return this.N_;break;O10=1;break;}}},enumerable:!1,configurable:!0}});R.prototype.Vb=function(K){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 4:return this.wjb[K];break;P10=1;break;case 2:return this.wjb[K];break;}}};R.prototype.hT=function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 2:return u.default.time.aa() - this.Zba;break;case 4:return u.default.time.aa() + this.Zba;break;Q10=1;break;}}};R.prototype.ETa=function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return (this.rd || []).reduce(function(K,Q){var S10,N;S10=2;for(;S10 !== 4;){switch(S10){case 2:N=Q.N;h.cf.forEach(function(da){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:N.vv[da] > K[da] && (K[da]=N.vv[da]);T10=1;break;}}});return K;break;}}},[0,0]);break;}}};R.prototype.PL=function(){var U10,K;U10=2;for(;U10 !== 4;){switch(U10){case 5:return K;break;case 2:K=0;f.forEach(this.me.N.sa.audio_tracks,function(Q){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:f.forEach(Q.streams,function(N){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:K=Math.max(K,N.bitrate);W10=1;break;}}});V10=1;break;}}});U10=5;break;}}};R.prototype.Pg=function(K){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.rd[K];break;}}};R.prototype.Rzb=function(){var Y10,K;Y10=2;for(;Y10 !== 5;){switch(Y10){case 2:K=this.rd[0];return K.N.Ze.yg?this.rd[1]:K;break;}}};v10=27;break;case 59:R.prototype.l2=function(K,Q){var f30,N,da,g30;f30=2;for(;f30 !== 6;){switch(f30){case 8:Q=da.Jyb();f30=7;break;case 2:N=this.nb;K=N.Dia(K,Q);da=this.Yf.hqa;K && !K.MJ && da.pia(K);f30=3;break;case 9:N.ara();f30=6;break;case 3:f30=Q?9:8;break;case 7:try{g30=2;for(;g30 !== 1;){switch(g30){case 4:this.qb.Fhb(Q);g30=0;break;g30=1;break;case 2:this.qb.Fhb(Q);g30=1;break;}}}catch(na){var x7u="]";x7u+=" ";x7u+="[";var T7u="exce";T7u+="pt";T7u+="ion:";T7u+=" [";this.H.error(T7u + na.message + x7u + na.G7b + "]");}f30=6;break;}}};R.prototype.Kfa=function(K,Q){var h30;h30=2;for(;h30 !== 5;){switch(h30){case 2:a000.D9b(4);x.assert(a000.r9b(0,Q));return this.rd[Q].Fnb(K);break;}}};R.prototype.us=function(K,Q){var i30,N,da;i30=2;for(;i30 !== 7;){switch(i30){case 2:void 0 === K && (K=this.BV);N=this.Ga.Qwb(Q,K);i30=5;break;case 5:i30=N?4:8;break;case 8:(N=this.Ga.Eia(K),0 < N.length && (N=N[0],da=N.Ke));i30=3;break;case 4:da=N.Ke;i30=3;break;case 3:f.xa(da) || (da=this.rd[K].rv);a000.u9b(1);return a000.Q9b(da,Q);break;}}};R.prototype.dK=function(K,Q){var j30,N,da;j30=2;for(;j30 !== 7;){switch(j30){case 2:void 0 === K && (K=this.BV);N=this.Ga.Pwb(Q,K);j30=5;break;case 5:j30=N?4:8;break;case 3:f.xa(da) || (da=this.rd[K].rv);j30=9;break;case 8:(N=this.Ga.Eia(K),0 < N.length && (N=N[0],da=N.Ke));j30=3;break;case 9:a000.u9b(2);return a000.Q9b(Q,da);break;case 4:da=N.Ke;j30=3;break;}}};R.prototype.AJ=function(){var k30,K;k30=2;for(;k30 !== 4;){switch(k30){case 5:(K && this.qb.kda(),this.ZQ(),this.T.Ce(g.ja.yc),this.Mf.uj());k30=4;break;case 1:k30=K || this.nb.wx?5:4;break;case 2:K=this.T.Pf();k30=1;break;case 8:k30=K && this.nb.wx?4:0;break;k30=K || this.nb.wx?5:4;break;}}};R.prototype.Lda=function(){var l30,K,Q;l30=2;for(;l30 !== 3;){switch(l30){case 2:(K=this,Q=this.T.Pf());this.Ga.Cc.z7(Q,function(N){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:return K.rg[N]?K.rg[N].w7():"";break;}}});this.RI && (clearTimeout(this.RI),this.RI=void 0);this.Qw.IHb();l30=3;break;}}};R.prototype.GKa=function(K){var n30,Q,o30;n30=2;for(;n30 !== 7;){switch(n30){case 2:K.yh=!0;K.fq=!1;Q=this.T.xe() || 0;n30=4;break;case 3:this.nb.Rw();n30=9;break;case 9:n30=this.Nq && 1 === K.mediaType?8:7;break;case 4:K.$J(Q);n30=3;break;case 8:try{o30=2;for(;o30 !== 1;){switch(o30){case 2:this.l2(g.ja.pq,{Aa:K.pc});o30=1;break;}}}catch(N){var B7u="Hindsight: Error eval";B7u+="uating QoE at";B7u+=" endOfStream:";B7u+=" ";a000.u9b(2);this.qb.Pm(a000.Q9b(B7u,N));}n30=7;break;}}};R.prototype.Qib=function(){var p30,K;p30=2;for(;p30 !== 5;){switch(p30){case 2:K=this.Yb.Jb;K && (K=K.get()) && K.avtp && this.Lt.lkb({avtp:K.avtp.Ea});p30=5;break;}}};R.prototype.qjb=function(){var q30,K,Q,N;q30=2;for(;q30 !== 4;){switch(q30){case 2:this.T.Ce(g.ja.Ig);q30=1;break;case 1:var F8u="startup,";F8u+=" playerState no";F8u+=" l";F8u+="onger STA";F8u+="RTING:";var i7u="fa";i7u+="iled to s";i7u+="tart audio p";i7u+="ipeline";var s7u="failed to star";s7u+="t video ";s7u+="pipelin";s7u+="e";(K=this.Ga.Cc,Q=K.Ed(0),N=K.Ed(1));this.em && !this.LKa(N)?this.Eb(s7u):this.Bq && !this.LKa(Q)?this.Eb(i7u):(this.kKa=!0,this.rd[0].N.I3=!0,Q=this.nb.rf[1],N=this.nb.rf[0],(Q && 0 < Q.ut || N && 0 < N.ut) && this.qb.Dhb(String(K.N.K),N?N.ut:0,Q?Q.ut:0,N?N.zV:0,Q?Q.zV:0),this.T.AWa()?(this.d0(0),this.Bq && (K=this.me.U2(0),Q=this.me.pp(0).trackId,this.qb.Ghb(K,Q))):this.Eb(F8u,this.T.getState()));q30=4;break;}}};R.prototype.LKa=function(K){var r30,Q,N;r30=2;for(;r30 !== 14;){switch(r30){case 2:(Q=K.mediaType,N=this.nb.pBb(K));r30=1;break;case 1:r30=f.ga(N)?5:4;break;case 8:N=this.me.N;r30=7;break;case 7:K.N.cPa(K,{offset:0,rB:!N.Ze.yg && !N.Gi && 1 === Q,cv:!this.nb.rf[Q].ixb});return !0;break;case 5:var y8u="NFEr";y8u+="r";y8u+="_MC_StreamingInit";y8u+="Failure";var U8u="sta";U8u+="rtPipeline ";U8u+="fai";U8u+="l";U8u+="ed";return (this.pm() || this.Mo(U8u,K.ub.N.Db,y8u),!1);break;case 4:K=K.track.Qd[N];r30=3;break;case 3:r30=K.pk()?9:8;break;case 9:return !0;break;}}};v10=72;break;case 94:R.prototype.zgb=function(K,Q){var v40;v40=2;for(;v40 !== 5;){switch(v40){case 2:Q=d.HTa(Q);this.Tba[K.mediaType]=Q;v40=5;break;}}};Object.defineProperties(R.prototype,{wx:{set:function(K){var w40;w40=2;for(;w40 !== 1;){switch(w40){case 2:this.nb.wx=K;w40=1;break;}}},enumerable:!1,configurable:!0}});return R;break;case 39:R.prototype.stop=function(){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 4:this.ji.stop();C20=2;break;C20=1;break;case 2:this.ji.stop();C20=1;break;}}};R.prototype.nr=function(K,Q){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:return this.$m.nr(K,Q);break;case 4:return this.$m.nr(K,Q);break;D20=1;break;}}};R.prototype.seek=function(K,Q){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:return this.$m.seek(K,Q);break;}}};R.prototype.zr=function(K){var F20,va,Q,N,da,na,I20;F20=2;for(;F20 !== 18;){switch(F20){case 3:this.zda+=1;va=this.Ga.Cc;h.cf.forEach(function(ra){var H20,X,ta,za,V;H20=2;for(;H20 !== 6;){switch(H20){case 5:H20=N.Gh?4:9;break;case 1:H20=ta?5:6;break;case 2:ta=va.Ed(ra);H20=1;break;case 3:var e8u=", toA";e8u+="pp";e8u+="end: ";var u8u=", fr";u8u+="a";u8u+="gme";u8u+="n";u8u+="ts: ";var D8u=", comp";D8u+="leteSt";D8u+="reamin";D8u+="gPts:";D8u+=" ";var Q8u=", ";Q8u+="stre";Q8u+="am";Q8u+="ingPts: ";var r8u=", part";r8u+="i";r8u+="als";r8u+=":";r8u+=" ";var M8u=", completed";M8u+="Bytes";M8u+=": ";var b8u=", compl";b8u+="e";b8u+="te";b8u+="dMs: ";var o8u=", media";o8u+="T";o8u+="ype";o8u+=": ";var L8u="un";L8u+="d";L8u+="e";L8u+="rflow: ";za=L8u + K + o8u + ra + b8u + ta.bK + M8u + V + r8u + ta.Na.sC + Q8u + ta.oc + D8u + ta.rs + u8u + JSON.stringify(ta.Na.Y) + e8u + (za && za.w7());H20=9;break;case 9:N.Gh && Q.qb.Ul(za);ta.hga();null === (X=ta.Uf) || void 0 === X?void 0:X.ZPb();H20=6;break;case 4:(za=Q.rg[ra],V=Q.Ga.SE(va,ra));H20=3;break;}}});F20=7;break;case 2:var q8u="branchO";q8u+="ff";q8u+="s";q8u+="et:";var l8u="entry.manif";l8u+="estOff";l8u+="set:";var j8u="conte";j8u+="ntPt";j8u+="s";j8u+=":";var A8u="underflow";A8u+=": going to BU";A8u+="FFERING at player pts";A8u+=":";(Q=this,N=this.I,da=this.us(this.BV,K));this.Eb(A8u,K,j8u,da,l8u,this.me.rv,q8u,this.Ga.Ke);na=N.Py;this.rg.forEach(function(ra){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 2:na=Math.max(0,Math.min(na,ra.Sja - K));G20=1;break;}}});F20=3;break;case 12:F20=this.Nq?11:10;break;case 11:try{I20=2;for(;I20 !== 1;){switch(I20){case 4:this.l2(g.ja.Sc);I20=5;break;I20=1;break;case 2:this.l2(g.ja.Sc);I20=1;break;}}}catch(ra){var G8u="Hind";G8u+="sight: Error when evaluat";G8u+="ing QoE at B";G8u+="uffering: ";a000.D9b(2);this.qb.Pm(a000.Q9b(G8u,ra));}F20=10;break;case 19:na > N.vwb && da > N.uwb && this.Lda();F20=18;break;case 7:var Y8u="u";Y8u+="nder";Y8u+="f";Y8u+="lo";Y8u+="w";this.me.N.Ij();this.emit(Y8u);this.d0(2);F20=13;break;case 13:this.Mf.uj();F20=12;break;case 10:da=this.Yb.Jb.get();da=da.confidence?da.Oa.Ea:0;F20=19;break;}}};R.prototype.dn=function(K){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 4:return this.$m.dn(K);break;J20=1;break;case 2:return this.$m.dn(K);break;}}};R.prototype.ns=function(K,Q,N){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 4:return this.$m.ns(K,Q,N);break;K20=1;break;case 2:return this.$m.ns(K,Q,N);break;}}};R.prototype.HJa=function(K){var L20,Q;L20=2;for(;L20 !== 3;){switch(L20){case 2:this.qJ=K;Q=this.rd[K];this.qb.Khb(K,Q);this.qb.ZJa(Q.N.vv);L20=3;break;}}};R.prototype.FE=function(K,Q){var M20,na,va,N,da,X,ta,za,ra;M20=2;for(;M20 !== 35;){switch(M20){case 4:Q || (Q={});(na=this.Ga.Cc.Ed(0),va=this.Ga.Cc.Ed(1));M20=9;break;case 15:this.rd[na] && this.rd[na].Ic();this.rd[na]=K;K.yNa();Q.replace || this.Ga.Ekb(X,va,ra);M20=24;break;case 2:(N=this,da=this.I);M20=1;break;case 8:var m8u="a";m8u+="ddMan";m8u+="ifest ignored, pipelines already set EOS:";this.Eb(m8u,na.fq,va.fq);M20=35;break;case 18:var O8u="b";O8u+="oo";O8u+="le";O8u+="an";Q.replace && ta.forEach(function(V,T){var N20,ja,Ia;N20=2;for(;N20 !== 3;){switch(N20){case 2:ja=X.BF(T);N20=1;break;case 8:ja=X.BF(T);N20=8;break;N20=1;break;case 1:N20=ja?5:3;break;case 5:Ia=N.rd[0].N;Object.keys(ja).forEach(function(wa){var O20,Sa;O20=2;for(;O20 !== 5;){switch(O20){case 2:Sa=Ia.jv(T,wa);Sa && Sa.ye && (ja[wa].w1(Sa),wa=X.vv,wa[T] > za[T] && (za[T]=wa[T]));O20=5;break;}}});N20=3;break;}}});ta.forEach(function(V,T){var P20,ja;P20=2;for(;P20 !== 5;){switch(P20){case 2:ja=X.BF(T);ja && Object.keys(ja).forEach(function(Ia){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:ja[Ia].R5a(u.default.Mn()[T],X.zy()?da.nYa:0);Q20=1;break;}}});P20=5;break;}}});K.nR=O8u === typeof Q.gmb?Q.gmb:!0;M20=15;break;case 1:M20=this.pm()?5:4;break;case 10:var W8u="video_";W8u+="trac";W8u+="ks";var E8u="au";E8u+="d";E8u+="io";E8u+="_track";E8u+="s";X=K.N;(Q.YMa || this.oIa) && this.nb.Qp(Q.YMa || this.oIa,X.da);(ta=[E8u,W8u],za=this.ETa());M20=18;break;case 7:var J8u="addMan";J8u+="ifest in fastplay ";J8u+="but not drm mani";J8u+="fest, leaving space f";J8u+="or it";Q.DM && (this.N_=!0);na=this.rd.length;Q.replace && 1 !== na?na=1:this.me.N.Ze.yg && !Q.replace && 1 === na && (this.Eb(J8u),na=this.rd[0].clone(),this.rd.push(na),na=this.rd.length);va=Q.Z || 0;ra=Q.Aa;K=l.$$.create({Db:na,sa:K,bo:void 0,E2a:Q.PN || [this.me.U2(0),this.me.U2(1)],yg:!1,pWa:! !Q.replace,Gi:! !Q.Gi,Fd:h.o5(! !Q.vR,! !Q.UC),Z:va,Aa:ra,qb:this.qb,Sq:this.jJa.bind(this),Nb:this,config:this.I,H:this.H,Mf:this.Mf,$m:this.$m,mf:this.bLa?this.Yb.mf:void 0,LB:this.LB});M20=10;break;case 23:var p8u=",";p8u+=" ";var t8u=") lastSt";t8u+="ream";t8u+="A";t8u+="ppe";t8u+="nded: (";var h8u=",";h8u+=" ";var c8u=" ";c8u+="stream";c8u+="Co";c8u+="u";c8u+="nt: (";var n8u=" play";n8u+="e";n8u+="r";n8u+="Sta";n8u+="te: ";var I8u="addM";I8u+="ani";I8u+="fest, currentPts: ";na=this.nb.yv[1].SF;da.Gh && this.qb.Ul(I8u + this.T.xe() + n8u + this.T.getState() + c8u + K.pp(0).Qd.length + h8u + K.pp(1).Qd.length + t8u + Q + p8u + na + ")");this.Bq && f.ga(Q) || this.em && f.ga(na) || (K.N.YM([K.pp(0),K.pp(1)]),this.p0());M20=35;break;case 5:var k8u="addM";k8u+="anife";k8u+="st: pip";k8u+="elines already shutdown";this.Eb(k8u);M20=35;break;case 9:M20=!Q.m5b && (this.Bq && na.fq || this.em && va.fq)?8:7;break;case 24:Q=this.nb.yv[0].SF;M20=23;break;}}};R.prototype.gR=function(K){var R20;R20=2;for(;R20 !== 1;){switch(R20){case 2:return this.$m.gR(K);break;case 4:return this.$m.gR(K);break;R20=1;break;}}};R.prototype.Yx=function(K){var S20,na,va,Q,N,da;S20=2;for(;S20 !== 7;){switch(S20){case 5:var R8u=" read";R8u+="y";R8u+="S";R8u+="tate";R8u+=": ";var v8u=" for mov";v8u+="ieId";v8u+=": ";var z8u=",";z8u+=" ";var S8u="drmR";S8u+="eady at streaming pt";S8u+="s: ";f.ga(Q) && (Q=!0);(na=this.Ga.Cc.Ed(0),va=this.Ga.Cc.Ed(1));da.Gh && this.qb.Ul(S8u + (na?na.oc:null) + z8u + (va?va.oc:null) + v8u + K + R8u + Q);S20=9;break;case 9:var f8u="d";f8u+="rm";f8u+="Ready";a000.D9b(2);this.T.qW(a000.r9b(K,""),Q);Q && (this.rg.forEach(function(ra){var T20;T20=2;for(;T20 !== 5;){switch(T20){case 2:da.C2 && ra.YRa();ra.Yx();T20=5;break;}}}),da.P8 && this.RQ(),this.me.N.Ze.yg && this.o0(this.$m.GA?this.$m.GA.Db:this.qJ + 1),da.Aq || (null === (N=this.bh) || void 0 === N?0:N.IB()) || this.Ow.UA || this.YQ(f8u),this.$m.zca());S20=7;break;case 1:S20=!this.pm()?5:7;break;case 2:da=this.I;S20=1;break;}}};v10=48;break;case 72:R.prototype.d0=function(K,Q){var s30,N,da,na,va,ra;s30=2;for(;s30 !== 19;){switch(s30){case 2:(N=this,da=this.I,na=this.nb.rf[0] || ({}),va=this.nb.rf[1] || ({}),ra=this.nb.wz[1] || ({}));(this.nb.wz[0] || ({})).LR=void 0;ra.LR=void 0;this.T.Ce(2 === K?g.ja.ef:g.ja.Sc);s30=3;break;case 3:this.qb.Ahb(Q);this.Qw.reset();this.me.N.Poa();s30=7;break;case 7:var H8u="sta";H8u+="rtB";H8u+="uffer";H8u+="i";H8u+="ng";this.emit(H8u);h.cf.forEach(function(X){var t30;t30=2;for(;t30 !== 5;){switch(t30){case 2:t30=(X=N.Ga.Cc.Ed(X))?1:5;break;case 1:(X.yfa=0,X.seeking=0 === K || 1 === K,X.hga());t30=5;break;}}});this.Zba=u.default.time.aa();s30=13;break;case 10:this.T.Pf() && (this.RI=setTimeout(function(){var v30;v30=2;for(;v30 !== 1;){switch(v30){case 2:N.nb.Rw();v30=1;break;}}},da.$y));this.Mf.uj();s30=19;break;case 13:na.Tk=va.Tk=this.Zba;0 === K && (!this.em || 0 < va.ut) && (!this.Bq || 0 < na.ut) && this.nb.Rw();da.JS && (this.tca=setTimeout(function(){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:N.Qib();u30=1;break;case 4:N.Qib();u30=2;break;u30=1;break;}}},da.Wha));s30=10;break;}}};R.prototype.YQ=function(K){var w30,Q;w30=2;for(;w30 !== 3;){switch(w30){case 2:var Z8u="Adoptin";Z8u+="gData still has lo";Z8u+="ck:";var C8u="wi";C8u+="p";C8u+="eHeader";C8u+="Cach";C8u+="e:";a000.D9b(2);K=a000.r9b(C8u,K);this.Ow.UA && this.$j(Z8u + K);Q=this.I;Q.hG || (Q.Gh && this.qb.Ul(K),this.Yb.Dx(),this.bh && (this.bh=void 0));w30=3;break;}}};R.prototype.xIa=function(K){var x30,va,N,da,na;x30=2;function Q(ra,X){var y30,ta,za,V,T,ja,Ia,wa;y30=2;for(;y30 !== 10;){switch(y30){case 2:(ta=ra.mediaType,za=X[ta],V=t.resolve(void 0));y30=1;break;case 14:var X8u="ad";X8u+="optPipeline no h";X8u+="eader for str";X8u+="e";X8u+="amId:";return (ra.$j(X8u,T),V);break;case 5:(T=za.La,ja=za.header.stream,Ia=N.nb.rf[ta],wa=N.nb.wz[ta]);f.ga(X.MB) || N.Yf.a3a(X.MB,X.On,X.Pn);wa.xy=X.xy;wa.dv=X.dv;y30=8;break;case 8:y30=!ra.GXb(T)?7:6;break;case 7:return V;break;case 1:y30=za?5:11;break;case 6:y30=!za.header?14:13;break;case 13:X=N.me.N;y30=12;break;case 11:return V;break;case 12:X.u0(za.header,!X.Ze.yg && !X.Gi && 1 === ta,!0) && (void 0 !== ra.qG && ra.UG(ra.qG),V=X.pk(ta,T).stream.Y.Gm(ra.oc,void 0,!0),X=ja.nk(V),ja=X.Z,(X=X.Mia(ra.oc)) && 0 < X.od && (ja=X.od),ra.oc !== ja && (ra.qN(ja,V),N.Ida(ta,ja)),V=N.Neb(ra,za.data).then(function(){var z30;z30=2;for(;z30 !== 1;){switch(z30){case 2:return T;break;}}}),Ia.ixb=!0,0 === ta && N.Yf.nN(za.header.bitrate));y30=11;break;}}}for(;x30 !== 13;){switch(x30){case 14:return this.Yb.mf.kHb(K,va?va.N:void 0).then(function(ra){var B30,X,ta;B30=2;for(;B30 !== 8;){switch(B30){case 2:var a8u="che";a8u+="ck";a8u+="ForHcd";a8u+="End";N.qb.zl(a8u);B30=1;break;case 1:B30=f.ga(ra)?5:4;break;case 4:var w8u="adoptHc";w8u+="dSt";w8u+="a";w8u+="r";w8u+="t";(X=N.Ga.Cc.Ed(0),ta=N.Ga.Cc.Ed(1));N.qb.zl(w8u);return N.Ow.V6a(function(){var C30,za,V;C30=2;for(;C30 !== 7;){switch(C30){case 2:var P8u="adop";P8u+="t";P8u+="Hc";P8u+="dEnd";za=t.resolve();N.em && (za=Q(ta,ra));V=t.resolve();!N.Bq || na.gVa && !za || (V=na.gVa?za.then(function(T){var D30;D30=2;for(;D30 !== 1;){switch(D30){case 2:return T?Q(X,ra):t.resolve();break;}}}):Q(X,ra));N.mJa=ra;N.qb.zl(P8u);C30=8;break;case 8:return t.all([za,V]);break;}}});break;case 5:var d8u="he";d8u+="ad";d8u+="erCacheDataNotFound";return (na.Aq || N.Ow.UA || N.YQ(d8u),t.resolve());break;}}}).then(function(){var E30,ra;E30=2;for(;E30 !== 5;){switch(E30){case 2:var V8u="adopt";V8u+="edCompletedRequ";V8u+="ests";na.Aq || (null === (ra=N.bh) || void 0 === ra?0:ra.IB()) || N.Ow.UA || !N.T.Qn(N.me.N) || N.YQ(V8u);E30=5;break;}}}).catch(function(ra){var F30;F30=2;for(;F30 !== 1;){switch(F30){case 4:N.Eb("",ra);F30=2;break;F30=1;break;case 2:var K8u="headerCache:lo";K8u+="o";K8u+="kupDataPromise caught error:";N.Eb(K8u,ra);F30=1;break;}}});break;case 8:var g8u="checkForHc";g8u+="dSta";g8u+="r";g8u+="t";this.qb.zl(g8u);this.rd.forEach(function(ra){var A30;A30=2;for(;A30 !== 1;){switch(A30){case 2:ra.N.K === K && (va=ra);A30=1;break;}}});x30=14;break;case 3:x30=!this.Kjb || !this.Yb.mf?9:8;break;case 2:var N8u="Previously adopted request list still ret";N8u+="a";N8u+="ined was unexpec";N8u+="ted";N=this;(null === (da=this.bh) || void 0 === da?0:da.IB()) && this.$j(N8u);this.bh=void 0;na=this.I;x30=3;break;case 9:return (this.Yb.Gfa(),t.resolve());break;}}};R.prototype.Neb=function(K,Q){var G30,N,da,na,va,ra,X,ta;G30=2;for(;G30 !== 9;){switch(G30){case 7:N=this;G30=3;break;G30=1;break;case 2:N=this;G30=1;break;case 1:G30=0 === Q.length?5:4;break;case 5:return t.resolve();break;case 14:return t.resolve();break;G30=4;break;case 4:(da=K.P4,na=da.P,va=Math.min(this.rd[0].Aa || Infinity,da.pc || Infinity),ra=K.mediaType,X=this.nb.rf[ra]);return this.Ow.V6a(function(){function za(){var I30,T;I30=2;for(;I30 !== 5;){switch(I30){case 2:T=Q.shift();I30=1;break;case 3:T=Q.shift();I30=9;break;I30=1;break;case 1:var x8u="adoptData, not ado";x8u+="p";x8u+="ting failed medi";x8u+="aR";x8u+="equest:";var T8u="adoptData";T8u+=", no";T8u+="t ad";T8u+="opting aborted medi";T8u+="aRequest:";7 === T.readyState?K.Eb(T8u,T.toString()):6 === T.readyState?(K.Eb(x8u,T.toString()),N.DE(T,!1)):K.oc >= T.Jc && K.oc < T.pc && (K.oc < va || !f.xa(va))?(V.push(N.Oeb(K,T).then(function(){var J30;J30=2;for(;J30 !== 1;){switch(J30){case 2:T.complete && N.PUa(T);J30=1;break;}}})),K.cSb(T.pc),f.xa(va) && K.oc >= va && N.qb.lda(na,T.pc),0 === ra && N.Yf.nN(T.bitrate),T.complete?(X.ut+=T.duration,T.SGb && (X.zV+=T.duration),ta=T):(N.bh || (N.bh=new F.Fua(N.H)),N.bh.push(T))):N.DE(T,!1);I30=5;break;}}}var H30,V;H30=2;for(;H30 !== 3;){switch(H30){case 1:H30=0 < Q.length?5:4;break;case 2:V=[];H30=1;break;case 7:H30=4 <= Q.length?0:9;break;H30=0 < Q.length?5:4;break;case 5:za();H30=1;break;case 6:za();H30=4;break;H30=1;break;case 4:return t.all(V);break;}}}).then(function(){var K30,za,V;K30=2;for(;K30 !== 8;){switch(K30){case 5:K30=ta || (null === (za=N.bh) || void 0 === za?0:za.IB())?4:8;break;case 2:ta && K.QUa(ta);K30=5;break;case 4:za=N.rd[da.N.Db];V=K.Gia(K.oc);void 0 !== V?(K.Zn=V,K.Vd=za.N.Rg[ra].stream.nk(K.Zn)):K.Zn=K.nf?K.nf.index + 1:K.Zn + 1;K30=8;break;}}});break;}}};R.prototype.Oeb=function(K,Q){var L30,N,da;L30=2;for(;L30 !== 3;){switch(L30){case 2:var i8u=", ";i8u+="pt";i8u+="s";i8u+=":";i8u+=" ";var s8u=",";s8u+=" s";s8u+="tate: ";var B8u="adoptMediaReq";B8u+="ue";B8u+="st";B8u+=": type: ";(N=this,da=K.mediaType);this.I.Gh && this.qb.Ul(B8u + da + s8u + Q.readyState + i8u + Q.Jc);this.Ida(da,Q.Jc);L30=4;break;case 4:return K.Na.Xkb(Q).catch(function(na){var M30;M30=2;for(;M30 !== 1;){switch(M30){case 4:N.$j("",na);M30=8;break;M30=1;break;case 2:var F3u="E";F3u+="rr";F3u+="or adopting re";F3u+="quests";N.$j(F3u,na);M30=1;break;}}});break;}}};R.prototype.Eda=function(K,Q,N){var N30,da;N30=2;for(;N30 !== 9;){switch(N30){case 7:da=this;N30=0;break;N30=1;break;case 2:da=this;N30=1;break;case 1:void 0 === Q && (Q=D.IP.hfa);(N || this.Ga.Cc).bra(K,Q);this.Qw.reset();(void 0 === K?h.cf:[K]).forEach(function(na){var O30;O30=2;for(;O30 !== 1;){switch(O30){case 2:da.Vb(na) && (da.Du[na].reset(),da.Zib(na),da.Yf.PKb(na));O30=1;break;}}});N30=9;break;}}};R.prototype.Bsa=function(){var P30,K;P30=2;for(;P30 !== 5;){switch(P30){case 2:K=this;h.cf.forEach(function(Q){var Q30,N;Q30=2;for(;Q30 !== 5;){switch(Q30){case 2:null === (N=K.Du[Q]) || void 0 === N?void 0:N.stop();Q30=5;break;}}});P30=5;break;}}};R.prototype.aH=function(K){var R30,Q;R30=2;for(;R30 !== 4;){switch(R30){case 2:Q=this;(void 0 === K?h.cf:[K]).forEach(function(N){var S30,da;S30=2;for(;S30 !== 5;){switch(S30){case 2:null === (da=Q.Du[N]) || void 0 === da?void 0:da.resume();S30=5;break;}}});return t.resolve();break;}}};R.prototype.RQ=function(K){var T30,Q,N;T30=2;for(;T30 !== 3;){switch(T30){case 2:Q=this;K=void 0 === K?h.cf:[K];null === (N=this.Qw) || void 0 === N?void 0:N.reset();K.forEach(function(da){var U30,na;U30=2;for(;U30 !== 5;){switch(U30){case 2:null === (na=Q.Du[da]) || void 0 === na?void 0:na.resume();U30=5;break;}}});T30=3;break;}}};R.prototype.Zib=function(K){var V30,Q;V30=2;for(;V30 !== 3;){switch(V30){case 2:Q=this.nb.rf[K];this.nb.yv[K].Fma=void 0;Q.ut=0;Q.zV=0;V30=3;break;}}};v10=87;break;case 104:R.prototype.aOb=function(K,Q,N){var i40,da;i40=2;for(;i40 !== 6;){switch(i40){case 2:k.fm.rp(0);K=this.rd[K];i40=5;break;case 5:K.Fta(Q);i40=4;break;case 8:da?(K.N.Rg[0]=da,K.KV=!1,da.stream.ye && K.Y0()):(K.N.Rg[0]=void 0,K.KV=!1,K.N.YM([K.pp(0)],!0,0));i40=7;break;case 7:this.RQ(0);i40=6;break;case 4:i40=K.N.I3?3:7;break;case 3:K.pp(0).Qd.some(function(na){var j40;j40=2;for(;j40 !== 4;){switch(j40){case 2:da=na.pk();j40=1;break;case 1:j40=!(da && da.stream && da.stream.Y && N < da.stream.Y.Zi(0))?5:4;break;case 7:return ~ -da;break;j40=4;break;case 5:return ! !da;break;}}});i40=8;break;}}};R.prototype.Eib=function(K,Q){var k40,N;k40=2;for(;k40 !== 4;){switch(k40){case 2:N=this.rg[K.mediaType];K=this.Ga.GV(K.ub,K.mediaType,Q,this.Yb.uz || 0,function(da){var l40;l40=2;for(;l40 !== 1;){switch(l40){case 2:N.Y6(da);l40=1;break;}}});f.ga(K) || this.Mf.uj();k40=4;break;}}};R.prototype.vgb=function(K){var m40,Q,N,da;m40=2;for(;m40 !== 8;){switch(m40){case 9:this.rd.forEach(function(na,va){var n40,ra;n40=2;for(;n40 !== 5;){switch(n40){case 2:ra=na.N;ra.I3 || 0 === va || ra.YM([na.pp(0),na.pp(1)]);n40=5;break;}}});m40=8;break;case 2:(Q=K.mediaType,N=K.manifestIndex,da=K.streamId);m40=1;break;case 1:K=this.Ga.Cc.Ra(Q);Q=this.rd[N].N.jv(Q,da);this.jjb(K,Q);this.I=this.OOa.Veb(Q.Mg,this.I);m40=9;break;}}};R.prototype.ygb=function(K){var o40,Q,N;o40=2;for(;o40 !== 8;){switch(o40){case 2:Q=K.request;K=K.mediaType;N=Q.Na.ub;N.DHb(K);o40=3;break;case 3:Q.A2 && this.qb.Chb(Q);Q.Ap && this.qb.Phb(K,Q.N.Db,N.P);o40=8;break;}}};R.prototype.jjb=function(K,Q){var p40;p40=2;for(;p40 !== 1;){switch(p40){case 2:this.nb.yv[K.mediaType].SF={id:Q.La,index:Q.og,bitrate:Q.bitrate,Oa:Q.lb && Q.lb.confidence && Q.lb.Oa?Q.lb.Oa.Ea:0,location:Q.location};p40=1;break;}}};R.prototype.h4=function(K){var q40,Q,N,da,na,va,ra,X,ta,za,V;q40=2;for(;q40 !== 11;){switch(q40){case 2:(va={},ra=this.rg,X=this.Ga);q40=1;break;case 9:va.vbuflbytes=null !== (da=null === V || void 0 === V?void 0:V.cp.ca) && void 0 !== da?da:0;va.abuflbytes=null !== (na=null === za || void 0 === za?void 0:za.cp.ca) && void 0 !== na?na:0;va.vbuflmsec=X.Ru(ta,1);va.abuflmsec=X.Ru(ta,0);K && (va.a=null === za || void 0 === za?void 0:za.Na.Y.toJSON(),va.v=null === V || void 0 === V?void 0:V.Na.Y.toJSON());q40=13;break;case 1:q40=!X.Cc.Fn?5:12;break;case 5:(ta=X.Cc,za=ta.Ed(0),V=ta.Ed(1));va.vspts=null !== (Q=null === V || void 0 === V?void 0:V.oc) && void 0 !== Q?Q:0;va.aspts=null !== (N=null === za || void 0 === za?void 0:za.oc) && void 0 !== N?N:0;q40=9;break;case 13:K && ra && (K=ra[1],ra=ra[0],va.atoappend=null === K || void 0 === K?void 0:K.w7(),va.vtoappend=null === ra || void 0 === ra?void 0:ra.w7());q40=12;break;case 12:return va;break;}}};R.prototype.sUa=function(K){var r40,Q,N,da,na,va,ra;r40=2;for(;r40 !== 8;){switch(r40){case 1:r40=N?5:8;break;case 2:(Q=this.Ga.Cc,N=Q.Ra(K));r40=1;break;case 5:(da=this.nb.yv[K],na=this.Ga.SE(Q,K));da=da.SF?da.SF.bitrate:0;(va=N.Na.epa,ra=this.Ga.Ke);return {type:K,availableMediaBuffer:u.default.Mn()[K] - na,completeBuffer:Q.Hh(K),incompleteBuffer:va,playbackBitrate:N.f0a,streamingBitrate:da,streamingTime:N.oc + ra,usedMediaBuffer:na,toappend:N.eYb};break;}}};R.prototype.dQb=function(){var s40,K;s40=2;for(;s40 !== 5;){switch(s40){case 2:var U3u="reque";U3u+="stG";U3u+="a";U3u+="rbageColle";U3u+="ction";K={type:U3u,time:u.default.time.aa()};v.Ta(this,K.type,K);s40=5;break;}}};R.prototype.Mo=function(K,Q,N,da,na,va){var t40;t40=2;for(;t40 !== 1;){switch(t40){case 2:var y3u="NFE";y3u+="rr_MC_";y3u+="Strea";y3u+="mingFailure";this.h0 || (f.ga(N) && (N=y3u),this.h0=!0,this.qb.Thb(N,K,da,na,va,void 0 !== Q?Q:this.BV));t40=1;break;}}};R.prototype.jJa=function(){var u40;u40=2;for(;u40 !== 5;){switch(u40){case 2:var L3u="Networ";L3u+="k fa";L3u+="ilures r";L3u+="eset!";this.Eb(L3u);this.Mf.uj();u40=5;break;}}};v10=94;break;case 2:Object.defineProperties(R.prototype,{addEventListener:{get:function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{removeEventListener:{get:function(){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{sIb:{get:function(){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:return this.xf.Ub;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{mediaSourceId:{get:function(){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 2:return this.xf?this.xf.zW:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{Bq:{get:function(){var F10;F10=2;for(;F10 !== 1;){switch(F10){case 2:return this.Vb(0);break;case 4:return this.Vb(2);break;F10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{em:{get:function(){var G10;G10=2;for(;G10 !== 1;){switch(G10){case 2:return this.Vb(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{attributes:{get:function(){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:return this.Tba;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{Ag:{get:function(){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 2:return this.Yh;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{BV:{get:function(){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 4:return 4 >= this.D_?this.D_:1;break;J10=1;break;case 2:return 0 <= this.D_?this.D_:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{me:{get:function(){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 4:return this.rd[this.qJ];break;K10=1;break;case 2:return this.rd[this.qJ];break;}}},enumerable:!1,configurable:!0}});v10=13;break;}}})();b.jGa=a;q.tf(c.EventEmitter,a);},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$$=void 0;c=a(16);f=a(9);k=a(228);q=(function(){function l(d,g,h,m,n,r,p,u,t,w,v,x){void 0 === h && (h=0);this.Td=d;this.$_=g;this.Z=h;this.Aa=m;this.Q2=n;this.Pg=r;this.cL=p;this.config=u;this.H=t;this.qb=w;this.swb=v;this.Ag=x;this.rv=0;}l.create=function(d){var h,m,n,r,p,u,t,w,v,x,y,z,B,A,C;function g(E){f.Ta(w,E.type,E);}h=d.Db;m=d.sa;n=d.E2a;r=d.Z;p=d.Aa;u=d.Sq;t=d.qb;w=d.Nb;v=d.config;x=d.H;y=d.Mf;z=d.$m;B=d.mf;A=d.LB;C=new k.u9(Number(m.movieId),{Db:h,sa:m,bo:d.bo,AYa:{Ula:d.yg,yWa:! !d.pWa},Gi:d.Gi,Fd:d.Fd,config:v,jVa:{ol:y.uj.bind(y),mf:B,LB:A,Qm:g,n4:function(E){return E === w.Ga.Cc.N;},BT:function(E,F,D,G,I){E=w.nb.rf[E];return !F || D || G || I?w.tQ:E.kg;},AB:function(E){return w.nb.yv[E];},Pg:w.Pg.bind(w)},ZU:function(E){w.emit("requestComplete",{timestamp:E.Ye,mediaRequest:E});},N2:function(){return w.Yf;},Jb:w.Yb.Jb,mh:w.Yb.mh,iRa:{Sq:u,qh:function(E,F,D,G,I){w.Mo(E,h,F,D,G,I);},Lm:function(){return w.h0;},DL:w.T.Pf.bind(w.T),Qm:g},ZM:void 0,ZG:{V:w.Yb.uz,ca:w.Yb.HC}});v.ay && C.GC({Dv:w.vl.Dv,ba:w.vl.ba,Kq:w.vl.Kq,Pm:t.Pm.bind(t)});d=new c.zh();d.addListener(C.KB,"onHeaderFragments",function(E){var F,D,G,I,J;F=E.mediaType;D=E.La;G=E.stream.Y;I=w.Pg(h);if(I){if(C.Rg[F] && E !== C.Rg[F])E.cv && (I=C.Rg[F],E=E.stream,J=I && I.stream,x.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.La + "), expected track " + (J && J.trackId) + ", stream " + (J && J.La) + ", " + I));else {C.Rg[F]=E;E=w.Ga.Cc;if(0 === h){J=C.Vb(1)?E.Ra(1).oc:E.Ra(0).oc;E.a1(J,C);}I.KV=!1;I.Y0();w.p0();}z.zca();t.Nhb(h,F,D,C.K,G);y.uj();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(C.KB,"onHeaderRequestComplete",function(E){var F,D;E.kk?w.p0():E.rB && (x.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),w.Yx(E.K));F=E.mediaType;D=Object.getOwnPropertyNames(A.Au[F]);w.rg[F].DZa(E.stream,1 === D.length && D[0] === E.La);y.NIa();w.dQb();});d.addListener(C.KB,"onHeaderFromCache",function(E){var F;F=E.header;E=E.jxb;F.kk && w.p0();E && t.Ehb(F.K,F.La);});return new l(C,n,r,p,function(){return w.Ga;},w.Pg.bind(w),w.cL.bind(w),v,x,t,!1,d);};Object.defineProperties(l.prototype,{N:{get:function(){return this.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Db:{get:function(){return this.N.Db;},enumerable:!1,configurable:!0}});l.prototype.pp=function(d){return this.Td.HUa(d,this.U2(d));};l.prototype.U2=function(d){return this.$_[d];};l.prototype.close=function(){this.Ag.clear();this.N.close();};l.prototype.Ic=function(){this.Td.Ic();delete this.Td;};l.prototype.clone=function(){return new l(this.N,this.$_,this.Z,this.Aa,this.Q2,this.Pg,this.cL,this.config,this.H,this.qb,!0,this.Ag);};l.prototype.Fta=function(d){this.H.trace("updateAudioTrack:",this.$_[0],"->",d);this.$_[0]=d;};l.prototype.vTa=function(){return void 0 !== this.kG?this.kG:this.Aa?this.Aa:this.Td.duration;};l.prototype.Fnb=function(d){var g,h;g=this.Td.Rg[1];if(g && g.stream.ye){if(this.ey && this.ey[1] && this.ey[1].Z <= d && this.ey[1].Aa > d)return this.ey[1].Zc;g=g.stream.Y;d=g.Gm(d,void 0,!0);h=void 0;void 0 === h && (h=g.Zi(d));return h;}};l.prototype.Y0=function(){var d,g;if(!this.KV && this.ZUa()){this.soa();d=[0,0];if(0 !== this.Db && !this.Td.Ze.AU && !this.Td.Ze.replace){g=this.Pg(this.Db - 1);g=this.Td.K === g.Td.K;d=this.Q2().Cc;g=d.a1(this.Z,this.N,d,g);d=g.JM;}this.Z=d[1];this.JM=d;this.ey=g && g.ey;this.yNa();g=this.Td.Vb(1)?this.Td.Rg[1].stream.Y.Aa:this.Td.Rg[0].stream.Y.Aa;this.qb.Jhb(this.Db,this.rv,this.Z,this.kG,g);this.KV=!0;for(g=this.Db + 1;g < this.cL();++g){d=this.Pg(g);d.KV=!1;d.Y0();}}};l.prototype.yNa=function(){var d;if(0 === this.Db || this.Td.Ze.replace)this.rv=0;else {d=this.Pg(this.Db - 1);this.rv=d.rv + d.vTa() - this.Z;}};l.prototype.soa=function(){var d,g,h,m,n,r,p,u;if(this.ZUa()){n=this.Q2().Cc;r=this.Aa || Infinity;p=this.Td.Vb(1);u=n.TS(r,this.N);this.kG=p?u[1].Aa:u[0].Aa;n=p?this.Td.Rg[1].stream.Y.Aa:this.Td.Rg[0].stream.Y.Aa;p=Math.min(null !== (g=null === (d=u[1]) || void 0 === d?void 0:d.Aa) && void 0 !== g?g:Infinity,null !== (m=null === (h=u[0]) || void 0 === h?void 0:h.Aa) && void 0 !== m?m:Infinity);this.qb.Lhb(this.Db,this.kG,n,p);d=this.Q2().Eia(this.Db);0 < d.length && d.forEach(function(t){t.wWb(u,r);});}};l.prototype.ZUa=function(){var d,g,h,m;d=this.Td.Vb(0);g=this.Td.Vb(1);h=this.Td.Rg[0];m=this.Td.Rg[1];h=h && h.stream.ye;m=m && m.stream.ye;return (!d || h) && (!g || m);};return l;})();b.$$=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mGa=void 0;q=a(2);c=a(9);a=q.__importDefault(a(4));f=a.default.kq;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function k(l,d,g){this.Pm=g;this.Sjb=new c.$Ha(l);this.ba=d.ba;this.ffb=1E3 * d.fIb / d.Vmb;this.mub=d.Kq;this.kMa=!1;}k.prototype.Uu=function(l){var d,g;d={s_xid:this.ba,dl:this.mub?1:0};l.TJ && (d.bs=c.f1(Math.floor(l.TJ / this.ffb) + 1,1,5));l.Q5 && (d.limit_rate=l.Q5);l.ZMa && (d.bb_reason=l.ZMa);l.e5a && (d.tm=l.e5a);if(l.eK){g=Object.keys(l.eK).every(function(h){return 0 === l.eK[h];});if(!g || g && this.kMa)(d.cpr_ss=l.eK.K7,d.cpr_ca=l.eK.r1,d.cpr_rec=l.eK.T6,this.kMa=g?!1:!0);}l.pfa && (d.br="" + l.pfa.start + "+" + l.pfa.size);return this.Xhb(d);};k.prototype.Ira=function(l,d){var g,h;try{g=new f(void 0,"notification");h=this.Uu({ZMa:l});d && h && g.open(d,void 0,2,void 0,void 0,void 0,h);}catch(m){this.Pm("SideChannel: Error when sending sendBlackBoxNotification. Error: " + m);}};k.prototype.Xhb=function(l){var d;try{d=this.gjb(l);return this.Sjb.encrypt(d);}catch(g){this.Pm("SideChannel: Error when obfuscating msg. Error: " + g);}};k.prototype.gjb=function(l){return Object.keys(l).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(l[d]));}).join("&");};return k;})();b.mGa=a;},function(q,b,a){var f,k,l,d,g,h;function c(m,n){var r,p;r=Math.floor(1E3 * m / n);p=1E3 * Math.round(r / 1E3);return new k.S(p,Math.abs(Math.floor(1001 * m / n) - p) > Math.abs(r - p)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.iva=void 0;f=a(388);k=a(22);l=a(6);d=a(9);g=a(389);h=a(390);q=(function(){function m(n,r,p){this.I=r;this.H=p;this.wA=new d.nGa();this.J_=0;this.cC=n.cC;this.N=n.N;this.mediaType=n.mediaType;this.ON=n.ON;this.EE=n.EE;1 === this.mediaType && (r=this.cC.streams[0],void 0 !== r.framerate_value && void 0 !== r.framerate_scale && (this.eda=c(r.framerate_value,r.framerate_scale).yqa()));this.eb=(this.gJ=this.eda) && this.gJ.U;this.Jca=this.OIa=!1;this.gla=-Infinity;this.KXa=Infinity;n=m.Cfb(this,n.yg);r=n.maxBitrate;p=n.Qd;this.LT=n.LT;this.maxBitrate=r;this.Qd=p;this.tjb=p.reduce(function(u,t){u[t.La]=t;return u;},{});!1;}m.Cfb=function(n,r){var p,u,t,w,v;p=n.I;u=1 === n.mediaType;t=!1;w=0;v=[];n.cC.streams.forEach(function(x,y){var z,B,A;z=x.bitrate;B=!0;if(u){A=-1 === x.content_profile.indexOf("none");B=r && !A || !r && A;t=t || A;}B && z > w && (w=z);x=new h.gva({Ly:x,og:y,track:n,kv:B},p,n.H);v.push(x);});return {LT:t,maxBitrate:w,Qd:v};};Object.defineProperties(m.prototype,{goa:{get:function(){return !this.ye && 0 === this.J_;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ye:{get:function(){return ! !this.oo && ! !this.wA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rha:{get:function(){return this.OIa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{K:{get:function(){return String(this.N.K);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.cC.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pa:{get:function(){return this.gJ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cM:{get:function(){return this.qhb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oo:{get:function(){return this.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rL:{get:function(){return this.wA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gja:{get:function(){return this.pa.U;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fja:{get:function(){return this.pa.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Z:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sia:{get:function(){return this.wA;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zU:{get:function(){return this.Qd.some(function(n){var r;return 1 < ((null === (r=n.zg) || void 0 === r?void 0:r.length) || 0);});},enumerable:!1,configurable:!0}});m.prototype.jv=function(n){return this.BF()[n];};m.prototype.BF=function(){return this.tjb;};m.prototype.equals=function(n){return this.K === n.K && this.mediaType === n.mediaType && this.trackId === n.trackId;};m.prototype.c6=function(){this.J_++;};m.prototype.b6=function(){0 < this.J_ && this.J_--;};m.prototype.a6=function(n,r,p,u,t){if(u && void 0 !== u.Bk && (this.ye || void 0 !== u.fd && u.fd.length)){if((n.By && (this.OIa=!0),this.ye))!this.Jca && u.fd && u.fd.length > this.oo.length && (this.Oc=new f.zba(this.mediaType,this.pa,u,t),this.wA.d2a(),this.gla=-Infinity,this.Jca=!0);else {this.IKa(r);if(p=p || this.eda)(this.HKa(p || this.eda),void 0 === this.U && this.JKa(p.U));this.Oc=new f.zba(this.mediaType,this.pa,u,t);n.By && (this.Jca=!0);}}else this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};m.prototype.JKb=function(n){void 0 === this.wA.value && this.wA.set(n);};m.prototype.Npb=function(n){this.ye || (this.JKa(n.U),this.IKa(n.cM),this.HKa(n.pa),this.Oc=n.oo,n.Sia.value?this.wA.set(n.Sia.value):this.wA.d2a());};m.prototype.Fm=function(n,r,p,u){l.assert(this.rL);return g.Fm(this.mediaType,n,this.rL,r,p,u);};m.prototype.dy=function(n,r,p){l.assert(this.rL);return g.dy(this.mediaType,n,this.rL,r,p);};m.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};m.prototype.JKa=function(n){this.eb=n;};m.prototype.IKa=function(n){this.qhb=n;};m.prototype.HKa=function(n){this.gJ=n;};return m;})();b.iva=q;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FGa=b.$db=void 0;c=a(2);a(111);f=a(6);q=c.__importDefault(a(4));k=a(398);a=a(388);l=new q.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}g=(function(h){function m(n,r){r=h.call(this,n.oo,r) || this;r.xE=n;return r;}c.__extends(m,h);Object.defineProperties(m.prototype,{ca:{get:function(){return this.xE.H3a(this.Kg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{offset:{get:function(){return this.xE.Gd(this.Kg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{foa:{get:function(){return this.xE.eG && this.xE.eG[this.Kg];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Eh:{get:function(){return this.xE.fyb(this.Kg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zb:{get:function(){return this.xE.Er && this.xE.Er[this.Kg];},enumerable:!1,configurable:!0}});m.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Xa,contentEndTicks:this.jb,durationTicks:this.Lq,timescale:this.U,startPts:this.Z,endPts:this.Aa,duration:this.duration,additionalSAPs:this.Eh};};return m;})(a.kHa);b.$db=g;q=(function(){function h(m,n,r,p,u,t){this.uJ=128;this.Oc=m;this.ve=n.offset;this.Po=n.sizes;this.SI=this.cQ=this.Dh=this.VKa=this.Nda=void 0;this.phb=r;this.Rba=p && p.Gd;this.dLa=u;this.Re=Math.min(this.Oc.length,this.Po.length);this.bhb=this.unb();this.oo.uq.length !== this.Po.length && l.error("Mis-matched stream duration (" + this.oo.uq.length + "," + this.Po.length + ") for movie id " + t);this.oo.x0 && !this.Rba && l.error("Mis-matched additional SAPs information for movie id " + t);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.Oc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bk:{get:function(){return this.Oc.Bk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eia:{get:function(){return this.Oc.eia;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Z:{get:function(){return this.Oc.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Aa:{get:function(){return this.Oc.Aa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ana:{get:function(){return this.Oc.Ana;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{XF:{get:function(){return this.bhb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pa:{get:function(){return this.Oc.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{U:{get:function(){return this.Oc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Tj:{get:function(){return this.VKa || this.aca();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eG:{get:function(){return this.phb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{GLa:{get:function(){return this.Rba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Er:{get:function(){return this.dLa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oo:{get:function(){return this.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{uN:{get:function(){return this.Nda || this.Bfb();},enumerable:!1,configurable:!0}});h.prototype.H3a=function(m){if(this.Po)return this.Po[m];l.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Zi=function(m){return this.Oc.Zi(m);};h.prototype.LS=function(m){return this.Oc.Zi(m) + this.Oc.fd(m);};h.prototype.Gd=function(m){var n,r,p;if(this.cQ !== m || void 0 === this.SI){if(0 === m)return this.ve;if(this.cQ === m - 1 && void 0 !== this.SI)(this.SI+=this.Po[this.cQ],++this.cQ);else {n=this.Dh || this.lfb();r=Math.floor(m / this.uJ);p=r * this.uJ;for(n=n[r];p < m;++p){n+=this.Po[p];}this.cQ=m;this.SI=n;}}return this.SI;};h.prototype.fd=function(m){return this.Oc.fd(m);};h.prototype.get=function(m){return new g(this,m);};h.prototype.fyb=function(m){var n,r,p,u,t;f.assert(0 <= m);n=this.oo.x0;r=this.oo.HLa;p=this.Rba;if(!p || !n || !r || m >= n.length)return [];u=[];t=m === n.length - 1?r.length:n[m + 1];for(n=n[m];n < t;++n){u.push({zk:r[n],od:this.Zi(m) + this.pa.mC(r[n]).V,offset:p[n]});}return u;};h.prototype.wSb=function(m){this.dLa=m;};h.prototype.Gm=function(m,n,r){return this.Oc.Gm(m,n,r);};h.prototype.w2=function(m,n,r){return this.Oc.w2(m,n,r);};h.prototype.Kga=function(m,n){return this.Oc.Kga(m,n);};h.prototype.rnb=function(m,n,r,p,u){var t,w,v,x,y,z,B,A,C;t=!0;w=0;v=this.Oc.uq;x=this.Po;m=Math.floor(m * this.U / 1E3);y=Math.floor(r * this.U / 1E3);z=0;B=0;A=0;if(this.Oc.Cta && this.Oc.Bta)for(w=this.Oc.Cta;w <= this.Oc.Bta;++w){z+=v[w];B+=x[w];}if(B > n)t=!1;else for(;w < this.length && (!u || w < u);){C=x[w];r=v[w];if(B + C > n){for(;1 < w - A && B + C > n && (z - v[A] >= y || B - x[A] > p);){z-=v[A];B-=x[A];++A;}if(z < m || B + C > n){t=!1;this.Oc.Cta=A;this.Oc.Bta=w;break;}}z+=r;B+=C;++w;}return t;};h.prototype.subarray=function(m,n){f.assert(void 0 === m || 0 <= m && m < this.length);f.assert(void 0 === n || n > m && n <= this.length);return new h(this.Oc.subarray(m,n),{offset:this.Gd(m),sizes:this.Po.subarray(m,n)},this.eG && this.eG.subarray(m,n),this.GLa && ({Gd:this.GLa}));};h.prototype.forEach=function(m){for(var n=0;n < this.length;++n){m(this.get(n),n,this);}};h.prototype.map=function(m){for(var n=[],r=0;r < this.length;++r){n.push(m(this.get(r),r,this));}return n;};h.prototype.reduce=function(m,n){for(var r=0;r < this.length;++r){n=m(n,this.get(r),r,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;l.trace("StreamFragments: " + this.length);for(var m=0;m < this.length;++m){n=this.get(m);l.trace("StreamFragments: " + m + ": [" + n.Z + "-" + n.Aa + "] @ " + n.offset + ", " + n.ca + " bytes");}};h.prototype.unb=function(){var m,n,r,p,t;m=0;n=this.Oc.mYa;r=this.Oc.uq;p=this.Po;if(void 0 === n || n >= this.length){for(var u=0;u < this.length;++u){t=p[u] / r[u];t > m && (m=t,n=u);}void 0 === this.Oc.mYa && (this.Oc.mYa=n);}else m=p[n] / r[n];return Math.floor(m * this.U / 125);};h.prototype.aca=function(){for(var m=0,n=0;n < this.length;++n){m+=this.Po[n];}return this.VKa=m;};h.prototype.Bfb=function(){return this.Nda=new k.qba(this.Oc.uq,this.Po,this.Oc.U);};h.prototype.lfb=function(){if(!this.Dh){for(var m=d?new Float64Array(Math.ceil(this.length / this.uJ)):Array(Math.ceil(this.length / this.uJ)),n=this.ve,r=0;r < m.length;++r){m[r]=n;for(var p=0;p < this.uJ;++p){n+=this.Po[r * this.uJ + p];}}this.Dh=m;}return this.Dh;};return h;})();b.FGa=q;q.prototype.Z3a=a.qv(q.prototype.Zi);a.qv(q.prototype.LS);a.qv(q.prototype.fd);a.qv(q.prototype.Gd);a.qv(q.prototype.H3a);a.qv(q.prototype.get);},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.ec();this.Sb=1 === this.version?this.oi([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.oi([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};k.Lb="mvhd";k.Ka=!1;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="trak";k.Ka=!0;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.ec();l=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];l=l.concat({offset:64,type:"offset"},{gGb:"int16"},{glb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Sb=this.oi(l);this.Sb.BVb=! !(this.flags & 1);this.Sb.CVb=! !(this.flags & 2);this.Sb.DVb=! !(this.flags & 4);this.Sb.EVb=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};k.Lb="tkhd";k.Ka=!1;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.ec();this.Sb=this.oi(1 === this.version?[{I2:"int64"}]:[{I2:"int32"}]);return !0;};k.Lb="mehd";k.Ka=!1;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Sb=this.oi([{dDb:"int32"},{KXb:"int32"}]);return !0;};k.Lb="pasp";k.Ka=!1;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Sb=this.oi([{Xmb:"int32"},{maxBitrate:"int32"},{ffa:"int32"}]);return !0;};k.Lb="btrt";k.Ka=!1;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.ll();this.u.ll();for(this.VE=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.VE.push(this.u.ll());}return !0;};k.Lb="ftyp";k.Ka=!1;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(82);q=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ec();this.Sb=this.oi([{jNb:"int32"},{IT:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Sb.IT=f.qn(this.Sb.IT);return !0;};l.Lb="hdlr";l.Ka=!1;return l;})(a(31).kc);b.default=q;},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(97);k=a(230);l=a(173);q=a(31);d=a(83);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.ec();this.Ml=this.u.ta();return !0;};h.prototype.Ds=function(m){var n;n=Object.keys(this.Sa);n.length && (n=n[0],this.Sa[n].length && (n=this.Sa[n][0],n instanceof l.default?this.pa=new k.S(n.hy,n.samplerate):n instanceof d.default && (n=n.Sa[f.yD]) && n.length && (n=n[0].Sb,1E3 !== n.Tx && 1001 !== n.Tx || 0 !== n.lG % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.lG + "/" + n.Tx):this.pa=new k.S(n.Tx,n.lG)),this.pa && (m.pa=this.pa)));return !0;};h.prototype.WV=function(m){void 0 !== this.Sa[m] && 0 !== this.Sa[m].length && (this.ia.Gg(this.Ml - 1,this.byteOffset + 12),m=this.Sa[m][0],this.re(m.byteLength,m.byteOffset));};h.Lb="stsd";h.Ka=!0;return h;})(q.kc);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.kja=this.u.dc(2);this.rfa=this.u.dc(5);this.sfa=this.u.dc(3);this.gea=this.u.dc(3);this.u.dc(1);this.u.dc(5);this.u.dc(5);return !0;};k.Lb="dac3";return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d;this.Doa=this.u.Dc() & 7;this.Msa=[];for(var l=0;l < this.Doa;l++){d={kja:this.u.dc(2),rfa:this.u.dc(5),sfa:this.u.dc(5),gea:this.u.dc(3),iGb:this.u.dc(1),Coa:this.u.dc(4)};0 < d.Coa?d.bob=this.u.dc(9):this.u.dc(1);this.Msa.push(d);}return !0;};k.Lb="dec3";return k;})(a(31).kc);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);q=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ec();this.gW=this.u.ll();f.ka && this.u.console.trace("SchemeTypeBoxTranslator: " + this.gW);"cenc" === this.gW && (this.u.offset-=4,f.ka && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.ia.AX("piff"));this.u.ta();return !0;};l.Lb="schm";l.Ka=!1;return l;})(f.kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.u.cb();this.l9=this.u.cb();this.u.cb();this.u.cb();this.u.cb();this.AW=this.nE(this.u.cb() & 31);this.nE(this.u.cb());this.cz=this.AW.length?this.AW[0][0]:this.l9;this.KQ=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.cz || 110 === this.cz || 122 === this.cz || 144 === this.cz) && (this.u.cb(),this.u.cb(),this.nE(this.u.cb()));l=this.startOffset + this.length - this.KQ;0 < l && this.re(l,this.KQ);return !0;};k.prototype.nE=function(l){var h;for(var d=[],g=0;g < l;++g){h=this.u.Dc();d.push(this.u.gz(h));}return d;};k.Lb="avcC";k.Ka=!1;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.Ds=function(){var l;l=this.$k("esds");if(l=l && l.d$.$k(5))this.hy=l.hy;return !0;};k.Lb="mp4a";k.Ka=!0;return k;})(a(173).default);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(232);q=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ec();this.d$=f.GO.MV(this.u);return !0;};l.Lb="esds";l.Ka=!1;return l;})(a(31).kc);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=a(97);a=a(31);f=q.yD;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ec();this.Sb=this.oi([{lG:"int32"},{Tx:"int16"}]);return !0;};l.Lb=f;l.Ka=!1;return l;})(a.kc);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l,d,g,h,m;this.ec();l=this.oi([{qH:"int32"},{nS:"int32"},{Qx:"int32"},{Sx:"int32"},{Rx:"int32"}]);d=l.qH;g=l.nS;h=l.Qx;m=l.Rx;l=l.Sx;this.Sb={trackId:d,ntb:g,Px:h,otb:m,ptb:l};this.qH=d;this.nS=g;this.Qx=h;this.Sx=l;this.Rx=m;return !0;};k.Lb="trex";k.Ka=!1;return k;})(a(31).kc);b.default=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(831);k=a(236);l=a(147);d=a(230);g=a(31);q=a(393);h=a(394);m=a(396);n=a(148);r=a(229);p=a(97);u=a(397);a=(function(){function t(w,v,x,y,z,B){this.console=w;this.stream=v;this.rh=y;this.vea=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.YUa=n.Eja();}t.path=function(w,v){return v.reduce(function(x,y){return x && x.Sa[y] && x.Sa[y][0];},w);};t.Vja=function(w){return w && w.VE && -1 !== w.VE.indexOf("mcl0")?"mcl0":void 0;};t.Iia=function(w,v){var x,y;l.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.fd;v=new d.S(120,1).Vf(x.U).Wb;y=0;for(x=x.Bk;y < w.length && x < v;){x+=w[y++];}return y;};t.prototype.parse=function(w){var v;v=this.tra();if(!v.done){if(v.RU)return {Wm:!1,FLa:v.RU};this.console.error("Scan error: " + v.error);return {Wm:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.cpa(w);return w.done?this.Ega():(this.console.error("Parse error: " + w.error),{Wm:!1,parseError:w.error || "unknown mp4 parse error"});};t.prototype.Em=function(w){return g.kc.Em(this,w);};t.prototype.$k=function(w){return g.kc.$k(this,w);};t.prototype.tra=function(){var w,v;w=new u.y$(this.rh,this.vea?[p.Dw,p.Cw]:[],this.config && this.config.SUb || ["moof",p.qP],this.config && this.config.pV);v=c.__assign(c.__assign({},this.config),{pG:!1});return new m.bD(t.LG,w,this.view,this.console,v).parse();};t.prototype.cpa=function(w){var v,x,y;v=new u.CO(this.view.byteLength);x=Object.create(r.Cp.Sa);this.config && ((this.config.n6 || this.config.q8 || this.config.IC) && f(r.Cp.JG,x),this.config.r8 && f(r.Cp.ota,x),this.config.q8 && f(r.Cp.aX,x));y=c.__assign(c.__assign({},this.config),{pG:!0});this.$b=new m.bD(x,v,this.view,this.console,y);w=this.$b.parse(w);w.done && (this.Sa=this.$b.Sa);return w;};t.prototype.Ega=function(){var w,v,x,y,z,B;w={Wm:!0};v=t.path(this,["moov"]);x=t.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.n6)if(x)(w.pa=x.pa,w.PQb=x.Sa);else return {Wm:!1,parseError:"Missing sample descriptions"};y=t.path(x,["encv","sinf","schi"]);y && (y=t.path(y,["tenc"]) || t.path(y,[p.vP])) && (w.$Qa={Dpb:y.Li,PF:y.PF,GFb:!1});if(y=t.path(v,["trak","mdia","mdhd"]))w.U=y.U;if(y=t.path(v,["mvex","trex"]))w.Px=y && y.Sb.Px;w.Px && w.U && (w.pa=new d.S(w.Px,w.U));if(y=t.path(this,["sidx"])){z=t.path(this,[p.Dw]);z=z && z.Hna;B=t.path(this,[p.Cw]);B=B && B.Eh;w.Y=y.Y;w.eG=z;w.Eh=B;}if(z=this.Sa.vmaf && this.Sa.vmaf[0])w.Er=z.Er;if(this.config.j2a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.IC && x && 1 < x.Ml && y && (w.zg=this.IC(x,y)),void 0 === w.zg && (v=this.$b.$x?k.concat(this.$b.na()):this.view.buffer,w.zg=[{kf:0,data:v}]));else return {Wm:!1,parseError:"Missing movie box"};w.Wm=!0;w.qV=this.$b.offset;return w;};t.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.$b.trim(w);this.view=new DataView(v);};t.prototype.IC=function(w,v){var x,y,z;x=Object.keys(w.Sa);y=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=t.path(this,["ftyp"]);z=t.Vja(x);if(z)return (x=[],this.$b.fqa(),w.WV("encv"),x.push({kf:0,kk:!1,data:k.concat(this.$b.na())}),this.$b.Kpa(),w.WV(y[0]),w=t.Iia(z,v),x.push({kf:w,kk:!0,data:k.concat(this.$b.na())}),x);}};t.LG={};return t;})();b.Nr=a;a.LG[p.zD]=q.default;a.LG[p.AD]=h.default;},function(q){q.exports=function f(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(l){k=Object.getOwnPropertyDescriptor(a,l);void 0 !== k && Object.defineProperty(c,l,k);});};},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(147);k=a(236);l=a(82);q=a(833);d=(function(){function g(h){h?(this.qf=h.qf.slice(),this.Hg=h.Hg.slice(),this.Gd=h.Gd.slice(),this.trim=h.trim):(this.qf=[],this.Hg=[],this.Gd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.qf.length && 0 === this.Hg.length && 0 === this.Gd.length;},enumerable:!0,configurable:!0}});return g;})();q=(function(g){function h(m,n,r){m=g.call(this,m,n,r) || this;m.DS=[];m.ab=new d();return m;}c.__extends(h,g);h.Nea=function(m,n){if(n.offset + n.size <= m.byteLength)switch(n.size){case 1:m.setUint8(n.offset,n.value);break;case 2:n.Nt?m.setInt16(n.offset,n.value):m.setUint16(n.offset,n.value);break;case 4:n.Nt?m.setInt32(n.offset,n.value):m.setUint32(n.offset,n.value);break;case 8:f.assert(!n.Nt);m.setUint32(n.offset,Math.floor(n.value / 4294967296));m.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{$x:{get:function(){return !this.ab.empty;},enumerable:!0,configurable:!0}});h.prototype.Oz=function(m,n){this.ab.Hg.push({offset:void 0 !== n?n:this.offset,value:m,size:1});void 0 === n && (this.offset+=1);};h.prototype.mua=function(m,n){this.ab.Hg.push({offset:void 0 !== n?n:this.offset,value:m,size:2,Nt:!1});void 0 === n && (this.offset+=2);};h.prototype.Gg=function(m,n){this.ab.Hg.push({offset:void 0 !== n?n:this.offset,value:m,size:4,Nt:!1});void 0 === n && (this.offset+=4);};h.prototype.nua=function(m,n){this.ab.Hg.push({offset:void 0 !== n?n:this.offset,value:m,size:8,Nt:!1});void 0 === n && (this.offset+=8);};h.prototype.AX=function(m){this.Gg(l.fQ(m));};h.prototype.BH=function(m,n){this.ab.Gd.push({offset:this.offset,Sk:m,value:n});this.offset+=4;};h.prototype.re=function(m,n,r){this.ab.qf.push({offset:n,remove:m,$a:r});};h.prototype.Et=function(m,n,r,p){this.ab.qf.push({offset:r,remove:m,replace:n,$a:p});};h.prototype.trim=function(m){this.ab.trim=m;};h.prototype.fqa=function(){this.DS.push(new d(this.ab));};h.prototype.Kpa=function(){this.ab=this.DS.pop() || new d();};h.prototype.na=function(){var m,n,r,p,u,t,w;m=this;if(0 === this.ab.qf.length && 0 === this.ab.Hg.length && 0 === this.ab.Gd.length)return [void 0 === this.ab.trim?this.view.buffer:this.view.buffer.slice(0,this.ab.trim)];this.ab.qf.sort(function(v,x){return v.offset - x.offset;});this.ab.Hg.sort(function(v,x){return v.offset - x.offset;});this.fra();n=this.Fia();r=this.view.buffer.slice(0,n);p=new DataView(r);this.ab.Hg.forEach(h.Nea.bind(void 0,p));this.Jta(p);this.Hta(p);u=[];t=void 0 !== this.ab.trim?Math.min(this.ab.trim,this.view.byteLength):this.view.byteLength;w=0;this.ab.qf.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(p.buffer.slice(w,v.offset)),v.offset > p.byteLength && p !== m.view && (p=m.view,u.push(p.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(r.slice(w));w < t && u.push(this.view.buffer.slice(Math.max(r.byteLength,w),t));return u;};h.prototype.Fia=function(){var m,n,r;m=[];n=this.ab.Hg[this.ab.Hg.length - 1];r=this.ab.Gd[this.ab.Gd.length - 1];n && m.push(n.offset + n.size);r && m.push(r.offset + 4);this.ab.qf.filter(function(p){return p.$a;}).forEach(function(p){return m.push(p.$a.byteOffset + 4);});n=Math.max.apply(void 0,m);return void 0 !== this.ab.trim?Math.min(n,this.ab.trim):n;};h.prototype.fra=function(){this.ab.qf=this.ab.qf.reduce(function(m,n){var r,p;if(0 === m.length)return (m.push(n),m);r=m[m.length - 1];p=r.offset + r.remove;n.offset >= p?m.push(n):n.offset + n.remove > p && (f.assert(r.$a === n.$a),r.remove+=n.offset + n.remove - p,n.replace && (r.replace=r.replace?k.concat(r.replace,n.replace):n.replace));return m;},[]);};h.prototype.Jta=function(m){var n;n=this;this.ab.Gd.forEach(function(r){var p,u,t,w;p=m;u=r.offset;n.ab.qf.some(function(v){return v.offset <= r.offset && v.replace && v.offset + v.replace.byteLength >= r.offset + 4?(p=new DataView(v.replace),u=r.offset - v.offset,!0):!1;});t=r.Sk + (void 0 !== r.value?r.value:p.getInt32(u));w=n.ab.qf.reduce(function(v,x){return x.offset > r.Sk && x.offset < t?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);p.setInt32(u,t - r.Sk - w);});};h.prototype.Hta=function(m){this.ab.qf.forEach(function(n){var r;r=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== r)for(n=n.$a;n;){m.setUint32(n.byteOffset,m.getUint32(n.byteOffset) - r);n=n.parent;}});};return h;})(q.Hba);b.Gba=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(148);a(148);f=a(82);q=(function(){function k(l,d,g){this.view=l;this.console=d;this.config=g;this.view=l;this.console=d;this.Nm=this.zx=this.offset=0;}k.prototype.Cja=function(l){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,l);};k.prototype.dc=function(l){for(;this.Nm < l;){this.zx=(this.zx << 8) + this.cb();this.Nm+=8;}this.Nm-=l;return this.zx >>> this.Nm & (1 << l) - 1;};k.prototype.cb=function(){var l;l=this.view.getUint8(this.offset);this.offset+=1;return l;};k.prototype.Dc=function(l){l=this.view.getUint16(this.offset,l);this.offset+=2;return l;};k.prototype.ta=function(l){l=this.view.getUint32(this.offset,l);this.offset+=4;return l;};k.prototype.AG=function(){var l;l=this.view.getInt32(this.offset,void 0);this.offset+=4;return l;};k.prototype.kpa=function(l,d){var g;g=this.view.getUint32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + l;};k.prototype.Hd=function(l,d){l=this.kpa(l,d);this.offset+=8;return l;};k.prototype.lpa=function(l,d){var g;g=this.view.getInt32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + l;};k.prototype.sqa=function(){var l;l=this.lpa(void 0,void 0);this.offset+=8;return l;};k.prototype.ll=function(){return f.qn(this.ta());};k.prototype.iz=function(){var d,g,h,m,n,r;function l(p,u){return ("000000" + p.toString(16)).slice(2 * -u);}d=this.ta(!0);g=this.Dc(!0);h=this.Dc(!0);m=this.Dc();n=this.Dc();r=this.ta();return [l(d,4),l(g,2),l(h,2),l(m,2),l(n,2) + l(r,4)].join("-");};k.prototype.pqa=function(l){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + l);};k.prototype.nqa=function(l){var d;d=[];if(0 === l)return "";l=l || Number.MAX_SAFE_INTEGER;for(var g=this.cb();0 !== g && 0 <= --l;){d.push(g);g=this.cb();}return String.fromCharCode.apply(null,d);};k.prototype.gz=function(l){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.ph(this.config.Iz && c.Hka || c.wp,1,l,d,g);};k.prototype.lqa=function(l,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.ph(this.config.Iz && c.Fka || c.qy,2,l,d,g,h);};k.prototype.fz=function(l,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.ph(this.config.Iz && c.Gka || c.Js,4,l,d,g,h);};k.prototype.qqa=function(){for(var l=this.cb(),d=l & 127;l & 128;){l=this.cb();d=d << 7 | l & 127;}return d;};k.prototype.ph=function(l,d,g,h,m,n){void 0 === m && (m=!0);void 0 === n && (n=!1);l=l(this.view,this.offset,g,h,n);this.offset=m || !h || h === d?this.offset + g * (h || d):this.offset + d;return l;};return k;})();b.Hba=q;},function(q,b,a){var k,l,d,g;function c(h,m,n,r){l.call(this,h,m,n,r);}function f(h,m,n){l.call(this,h,m,n,void 0);}k=a(97);l=a(237).lq;d=a(395);g=a(82).fQ;c.prototype=Object.create(l.prototype);f.prototype=Object.create(c.prototype);f.prototype.Hca=function(h,m){return "string" === typeof m?d[m]:m?d.reset[h] || d.ssa[h]:d.ssa[h];};f.prototype.Jqa=function(h,m,n){return this.na(h,m,!1,n,void 0);};f.prototype.Mqa=function(h,m,n){return this.na(h,m,!0,n,void 0);};f.prototype.na=function(h,m,n,r,p){var t,w,v,x,y,z,B,A,C,E,F,D,G,I;function u(J){w=t[J];v=w.vh("traf");if(void 0 === v || void 0 === v.xj)return !1;B=v.vh("tfdt");if(void 0 === B)return !1;x=v.vh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;t=this.Sa.moof;if(!t || 0 === t.length)return !1;if(void 0 !== h){y=h;for(h=0;h < t.length;++h){if(!u(h,this.$b.console.trace))return !1;if(x.yb > y || n && x.yb === y)break;y-=x.yb;}}else if((h=n?t.length - 1:0,!u(h,this.$b.console.trace)))return !1;if(n && h < t.length - 1){z=t[h + 1];this.$b.re(this.Lsb - z.startOffset,z.startOffset);}else !n && 0 < h && this.$b.re(w.startOffset,0);z=v.vh("tfhd");if(void 0 === z)return !1;B=v.vh("tfdt");A=x.yb;C=v.vh("saiz");E=v.vh("saio");F=v.vh(k.uP);D=v.vh("sbgp");if(!(!C && !E || C && E))return !1;G=v.vh("sdtp");if(this.Sa.mdat && h < this.Sa.mdat.length)I=this.Sa.mdat[h];else if(h !== t.length - 1)return !1;void 0 === y && (y=n?x.yb:0);if(x.na(v,z,I || this.$b,m,y,v.xj,n))x.$x && (!n && B && B.na(x.qsa),C && E && (C.na(x.Tp,n),E.na(F?0:C.IG,v.xj,n)),F && F.na(x.Tp,n),G && G.na(x.Tp,A,n),D && D.na(x.Tp,n));else if(!n){if(h === t.length - 1)return !1;this.$b.re(t[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.Tp)return !1;r && (m=this.Hca(this.stream.profile,p)) && x.Oqa(v,z,I,n,r,m);n=this.$b.na();r=n.reduce(function(J,H){return J + H.byteLength;},0);n={gd:n,length:r,Vm:this.$b.view.byteLength};x.$x && !I && (n.Mp=v.xj + x.Mp,n.ri=x.ri);return n;};q.exports={mq:f,Ky:function(h){var m,n;m=new ArrayBuffer(8);n=new DataView(m);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return m;}};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);q=a(237);f=a(236);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.na=function(d){var g,h,m,n;g=this;if(!this.parse().done)return !1;h=this.Sa.moov;if(!h || 0 === h.length)return !1;m=h[0].$k("tenc");if(!m)return !1;n=new Uint8Array(m.Li);d.forEach(function(r){for(var p=r.from,u=!0,t=0;t < p.length;t++){if(n[t] !== p[t]){u=!1;break;}}u && g.$b.Et(r.from.length,r.to,m.PF);});return f.concat(this.$b.na());};return l;})(q.lq);b.bI=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=b.hm || (b.hm={});q[q.Tb=0]="AUDIO";q[q.Hb=1]="VIDEO";},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.mya=void 0;q=a(2);c=a(16);f=q.__importStar(a(10));k=q.__importDefault(a(4));l=new k.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=q.__importDefault(a(27));g=q.__importDefault(a(838));h=k.default.kq;m=h.rY;n={};r={};a=[d.default.$g.Ew,!1];q=[d.default.$g.Ew,!0];p=[d.default.$g.KD,!1];u=[d.default.$g.KD,!0];t=[d.default.$g.URL,!0];w=[-1,!1];v=[d.default.$g.KD,!1];n[m.yYb]=p;n[m.UNKNOWN_ERROR]=p;n[m.Q0b]=p;n[m.I9a]=p;n[m.Twa]=p;n[m.U9a]=p;n[m.M9a]=u;n[m.L8a]=u;n[m.$va]=v;n[m.Yva]=v;n[m.M8a]=w;n[m.N8a]=v;n[m.O8a]=v;n[m.I8a]=p;n[m.K8a]=p;n[m.Zva]=a;n[m.J8a]=p;n[m.H8a]=v;n[m.tZb]=u;n[m.V$a]=v;n[m.gza]=v;n[m.fza]=v;n[m.cza]=v;n[m.dza]=v;n[m.U$a]=t;n[m.t$]=u;n[m.v$]=t;n[m.u$]=q;n[m.jza]=u;n[m.X$a]=t;n[m.HY]=v;n[m.hza]=u;n[m.W$a]=u;n[m.P9a]=u;n[m.J9a]=p;n[m.Odb]=p;n[m.z9a]=p;n[m.A9a]=p;n[m.B9a]=p;n[m.C9a]=p;n[m.D9a]=p;n[m.E9a]=p;n[m.F9a]=p;n[m.G9a]=p;n[m.H9a]=p;n[m.K9a]=p;n[m.L9a]=p;n[m.N9a]=p;n[m.O9a]=p;n[m.Q9a]=p;n[m.R9a]=p;n[m.S9a]=p;n[m.T9a]=p;n[m.V9a]=p;n[m.W9a]=p;n[m.Ndb]=v;n[m.TIMEOUT]=a;r[m.$va]=!0;r[m.gza]=!0;r[m.fza]=!0;r[m.dza]=!0;r[m.Twa]=!0;a=(function(){var x40;x40=2;for(;x40 !== 12;){switch(x40){case 2:x.prototype.wb=function(){var z40;z40=2;for(;z40 !== 1;){switch(z40){case 2:this.Ag.clear();z40=1;break;}}};x.prototype.GC=function(y){var A40;A40=2;for(;A40 !== 1;){switch(A40){case 2:this.I7=y;A40=1;break;case 4:this.I7=y;A40=8;break;A40=1;break;}}};x.prototype.hr=function(y,z,B,A){var B40,C,E,F,D,G,J,H,M,I;B40=2;for(;B40 !== 15;){switch(B40){case 18:var o3u="Inval";o3u+="id affected f";o3u+="or netwo";o3u+="rk fa";o3u+="ilure";l.error(o3u);B40=17;break;case 2:(C=this,E=h.rY.name,F=B?E[B]:void 0);E={};(D=this.config,G=this.Pl);B40=4;break;case 19:E=G.DRb(y.host,y.port);B40=11;break;case 13:J=G.L2a(y.url);B40=12;break;case 20:B40=void 0 !== y.host && void 0 !== y.port?19:18;break;case 14:B40=void 0 !== y.url?13:20;break;case 16:var b3u="Unmapped failure code in J";b3u+="SA";b3u+="SE err";b3u+="or directo";b3u+="r : ";a000.u9b(2);l.error(a000.Q9b(b3u,B));B40=15;break;case 11:(H=I[0],M=I[1]);D.At?f.forEach(E,function(O,L){var C40;C40=2;for(;C40 !== 5;){switch(C40){case 2:var M3u="e";M3u+="r";M3u+="r";M3u+="o";M3u+="r";I === v || I === p?C.Vpa.WNb({url:void 0 !== y.url?y.url:O[0],Rc:L},{KLa:L,eX:I,GF:z,Og:B,wRa:F,Ri:A}):O.some(function(P){var D40;D40=2;for(;D40 !== 5;){switch(D40){case 2:G.hr(H,M,P);return H === d.default.$g.KD;break;}}});!C.I7 || 0 !== z && void 0 !== z || (O=void 0 !== y.url?y.url:O[0]) && C.I7.Ira(M3u,O);C40=5;break;}}}):f.forEach(E,function(O,L){var E40;E40=2;for(;E40 !== 5;){switch(E40){case 1:var r3u="e";r3u+="r";r3u+="r";r3u+="o";r3u+="r";(O.some(function(P){var F40;F40=2;for(;F40 !== 5;){switch(F40){case 2:G.hr(H,M,P);return H === d.default.$g.KD;break;}}}),!C.I7 || 0 !== z && void 0 !== z || (O=void 0 !== y.url?y.url:O[0]) && C.I7.Ira(r3u,O));E40=5;break;case 2:E40=I !== v || C.XPb(L)?1:5;break;}}});B40=15;break;case 4:var u3u=" : cr";u3u+="itical e";u3u+="r";u3u+="ror count = ";var D3u=" ";D3u+="o";D3u+="n";D3u+=" ";var Q3u="F";Q3u+="ailu";Q3u+="re";Q3u+=" ";l.warn(Q3u + F + D3u + JSON.stringify(y) + u3u + this.xs);B40=3;break;case 6:B40=I !== w?14:15;break;case 9:var A3u="crit";A3u+="i";A3u+="ca";A3u+="lNetwor";A3u+="kError";var e3u="criti";e3u+="calNetworkErro";e3u+="r";I=n[B];this.Ey={GF:z,Og:B,wRa:F,Ri:A};r[B] && (++this.xs,this.events.emit(e3u,{type:A3u,Og:B}));B40=6;break;case 3:B40=B && f.isArray(n[B])?9:16;break;case 17:return;break;case 12:J && (E[J]=[y.url]);B40=11;break;}}};x40=4;break;case 13:return x;break;case 4:x.prototype.XPb=function(y){var G40,z,B,A;G40=2;for(;G40 !== 7;){switch(G40){case 4:(A.Tn=z,A.count=1);G40=7;break;case 2:(z=k.default.time.aa(),B=this.config,A=this.Zsa[y]);G40=1;break;case 1:G40=A?5:8;break;case 5:G40=A.Tn < this.IL?4:3;break;case 9:return A.kz=!0;break;case 3:G40=!(A.Tn >= z - B.d8 || A.kz || (A.Tn=z,++A.count,A.count < B.e5))?9:7;break;case 8:this.Zsa[y]={Tn:z,count:1};G40=7;break;}}};x.prototype.pCb=function(y){var H40,E,F,D,z,B,A,C;H40=2;for(;H40 !== 7;){switch(H40){case 3:(E=this.Ey.Og,F=this.Ey.GF,D=this.Ey.Ri);H40=9;break;case 9:var l3u="temporaryNetw";l3u+="or";l3u+="kError";var j3u="te";j3u+="m";j3u+="po";j3u+="rary";j3u+="NetworkError";y || this.events.emit(j3u,{type:l3u,errorCode:E,httpCode:F,nativeCode:D});A?(this.aN && (clearTimeout(this.aN),this.aN=void 0),this.hOa(),this.Vpa.reset(),this.wCb({XEb:y,uLb:E,vLb:F,wLb:D})):this.aN || (this.aN=setTimeout(function(){var I40;I40=2;for(;I40 !== 5;){switch(I40){case 2:z.aN=void 0;z.c7();I40=5;break;}}},C.loa));H40=7;break;case 4:H40=this.Ey?3:9;break;case 2:var O3u="te";O3u+="m";O3u+="por";O3u+="aril";O3u+="y";var m3u="pe";m3u+="rman";m3u+="e";m3u+="nt";m3u+="ly";var Y3u=" m";Y3u+="s";Y3u+=" ";Y3u+="ag";Y3u+="o";var G3u="N";G3u+="e";G3u+="twork has fa";G3u+="iled ";var q3u=" last ";q3u+="succe";q3u+="ss was ";(z=this,B=k.default.time.aa() - this.IL,A=y,C=this.config);a000.D9b(5);l.warn(a000.r9b(q3u,G3u,B,Y3u,y?m3u:O3u));!y && B > C.koa && (A=!0);H40=4;break;}}};x.prototype.c7=function(){var J40;J40=2;for(;J40 !== 1;){switch(J40){case 2:this.aN || (this.Pl.c7(),this.Zsa={},this.Sq());J40=1;break;}}};x.prototype.y8=function(y){var K40,z;K40=2;for(;K40 !== 9;){switch(K40){case 3:var W3u="upda";W3u+="tingLastSuc";W3u+="ces";W3u+="s";W3u+="Event";var E3u="up";E3u+="datin";E3u+="gLast";E3u+="Suc";E3u+="cessEvent";this.events.emit(E3u,{type:W3u});K40=9;break;case 2:z=this.config;this.IL=Math.max(y.timestamp || k.default.time.aa(),this.IL);K40=5;break;case 5:this.hOa();z.At && this.Vpa.y8(y);K40=3;break;}}};x.prototype.Poa=function(){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.xs=0;L40=1;break;}}};x.prototype.Ij=function(){var M40,y,z,B;M40=2;for(;M40 !== 4;){switch(M40){case 2:var I3u="m";I3u+="s";var J3u="Setting un";J3u+="derflow ti";J3u+="meout";J3u+=" in ";(y=this,z=this.config,B=z.Z4);this.IL=Math.max(k.default.time.aa(),this.IL);!z.l6a || this.fX || z.kX && z.AK && z.IJb || (l.info(J3u + B + I3u),this.fX=setTimeout(function(){var z6u=a000;var N40;N40=2;for(;N40 !== 4;){switch(N40){case 2:var c3u="Forcing per";c3u+="man";c3u+="ent ne";c3u+="twork f";c3u+="ailure after ";var n3u="ms, si";n3u+="nce underflow";n3u+=" wit";n3u+="h no success";z6u.D9b(6);l.info(z6u.Q9b(n3u,c3u,B));N40=1;break;case 9:var t3u="ms, sin";t3u+="ce underflow ";t3u+="with n";t3u+="o ";t3u+="success";var h3u="ms, since unde";h3u+="rflow with no succes";h3u+="s";z6u.D9b(3);l.info(z6u.r9b(h3u,t3u,B));N40=8;break;N40=1;break;case 1:y.fX=void 0;y.Pl.hr(d.default.$g.Ew,!0);N40=4;break;}}},B));M40=4;break;}}};x.prototype.hOa=function(){var O40;O40=2;for(;O40 !== 1;){switch(O40){case 2:var p3u="C";p3u+="lear";p3u+="ed u";p3u+="nderflow timeo";p3u+="ut";this.fX && (clearTimeout(this.fX),this.fX=void 0,l.info(p3u));O40=1;break;}}};x40=13;break;}}function x(y,z,B,A){var y40;y40=2;for(;y40 !== 10;){switch(y40){case 8:var S3u="networkF";S3u+="a";S3u+="i";S3u+="led";var k3u="1";k3u+="SIYb";k3u+="ZrNJ";k3u+="Cp";k3u+="9";k3u;n[m.cza]=z.lDb?u:v;this.Ag.addListener(this.Pl,S3u,this.pCb.bind(this));this.IL=k.default.time.aa();y40=13;break;case 2:this.Pl=y;this.config=z;y40=5;break;case 5:this.wCb=B;this.Sq=A;this.events=new c.EventEmitter();this.Ag=new c.zh();y40=8;break;case 13:this.xs=0;this.Zsa={};this.Vpa=new g.default(y,A,z);y40=10;break;}}}})();b.mya=a;},function(q,b,a){var f,k,l;function c(d,g,h){this.AQ=d;this.bE=0 === Math.floor(1E6 * Math.random()) % h.yG;this.groupId=1;this.config=h;this.cy={};this.BC={};this.Sq=g;}f=a(10);k=a(4).default;new k.Console("ASEJS_PROBE_MANAGER","asejs");l=a(839).cva;c.prototype.constructor=c;c.prototype.WNb=function(d,g){var h,m,n,r,p,u,t,w,v,x,y;h=this.AQ;m=d.Rc;n=h.k4a(d.url);r=h.R4(d.url);p=this.config;u=k.time.aa();t=g;w=[];v=n.Un[0];x=!1;y=this.cy[m];if(!y)y=this.cy[m]={count:0,Tn:u,kz:!1,error:g,Rra:[],Xpa:{}};else if(y.Tn >= u - p.d8)return;y.kz || (v && r.id === v.id && (d.isPrimary=!0),y.Tn=u,y.kz=!1,y.error=g,++y.count,n && n.urls && 0 !== n.urls.length && (f.forEach(n.urls,function(z){var B,A,C;B=z.cd.id;A=B + "-" + m;C=this.BC[A];if(void 0 === C || void 0 === C.J6)(C && C.mo && clearTimeout(C.mo),z=this.iPa(z.url,d,B),this.BC[A]={X:!1,count:0,J6:z.Jh()},w.push(z.Jh()),x=!0);-1 === y.Rra.indexOf(B) && y.Rra.push(B);},this),this.bE && 0 < w.length && (n={type:"logdata",target:"endplay",fields:{}},g=t,t={ts:k.time.aa(),es:g.KLa,fc:g.Og,fn:g.wRa,nc:g.Ri,pb:w,gid:this.groupId},g.GF && (t.hc=g.GF),n.fields.errpb={type:"array",value:t,adjust:["ts"]},h.Qm(n)),x && this.groupId++));};c.prototype.iPa=function(d,g,h){var m,n,r;m=this.AQ.R4(g.url);m && m.lb && m.lb.Qs && m.lb.Qs.Ea || Math.random(0,1);m=new l(this);n=d.split("?");r="random=" + parseInt(1E7 * Math.random(),10);m.pLb(1 < n.length?d + "&" + r:d + "?" + r,g,h);return m;};c.prototype.XNb=function(d,g){var h,m,n,r,p,u,t,w;h=this.AQ;m=this.config;n=g.Rc;r=this.cy[n];p=d.url;u=this.BC[d.Rc + "-" + n];if(r){t=r.error;if(u){u && u.mo && clearTimeout(u.mo);u.X=!0;u.count=0;u.J6=void 0;r.Xpa[d.Rc]=!0;(u=this.cy[d.Rc]) && !0 === u.kz && m.sx && (h.c2a(d.Rc,u.error.eX[1]),this.bE && (u={type:"logdata",target:"endplay",fields:{}},u.fields.errst={type:"array",value:{ts:k.time.aa(),id:d.requestId,servid:g.Rc,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Qm(u)),this.cy[d.Rc]=void 0,this.Sq());if(p !== g.url){w=this.BC[n + "-" + n];w && w.X || (n=(n=h.R4(p)) && n.lb && n.lb.Qs && n.lb.Qs.Ea || Math.random(0,1) * m.a5,n=Math.min(n,m.a5),setTimeout((function(){var v;if(!(!1 !== r.kz || w && w.X) && (r.kz=!0,h.hr(t.eX[0],t.eX[1],g.url,t),this.bE)){v={type:"logdata",target:"endplay",fields:{}};v.fields.erep={type:"array",value:{ts:k.time.aa(),id:d.requestId,servid:g.Rc,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.Qm(v);}}).bind(this),n));}this.bE && (u={type:"logdata",target:"endplay",fields:{}},u.fields.pbres={type:"array",value:{ts:k.time.aa(),id:d.requestId,result:1,servid:d.Rc,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Qm(u));}}};c.prototype.UNb=function(d,g){var h,m,n,r,p,u,t,w,v,x;h=this.AQ;m=parseInt(g.Rc,10);n=this.cy[m];r=parseInt(d.Rc,10);p=this.BC[r + "-" + m];u=0;t=this.config;if(p && n){p.X=!1;p.J6=void 0;n.Xpa[r]=!1;w=n.Rra;if(t.sx && r === m && g.isPrimary){v=h.R4(g.url);v=v && v.lb && v.lb.Qs && v.lb.Qs.Ea || 300 * Math.random(0,1);v*=Math.pow(2,p.count);v=Math.min(v,12E4);v+=Math.random(0,1) * (1E4 > v?100:1E4);p.mo=setTimeout((function(){var y;p.mo=void 0;y=this.iPa(d.url,g,r);y.WRb(d.groupId);p.J6=y.Jh();}).bind(this),v);}++p.count;if(r === m && (u=0,w.forEach(function(y){!1 === n.Xpa[y] && u++;}),w.length === u && n.count >= t.e5)){x=n.error;n.kz=!0;f.forEach(h.k4a(g.url).urls,function(y){var z;h.hr(x.eX[0],x.eX[1],y.url,x);if(this.bE){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:k.time.aa(),id:-1,servid:y.cd.id},adjust:["ts"]};h.Qm(z);}},this);}this.bE && (m={type:"logdata",target:"endplay",fields:{}},m.fields.pbres={type:"array",value:{ts:k.time.aa(),id:d.requestId,result:0,servid:d.Rc,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Qm(m));}};c.prototype.y8=function(d){var g,h,m;g=d.url || d.mediaRequest.url;if(g){d=this.AQ;g=d.L2a(g);h=this.cy[g];m=this.BC[g + "-" + g];h && h.kz && this.config.sx && (d.c2a(h.error.KLa,!1),this.bE && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:k.time.aa(),id:-1,servid:g},adjust:["ts"]},d.Qm(h)),this.cy[g]=void 0,m && m.mo && clearTimeout(m.mo));}};c.prototype.reset=function(){var d,g,h;d=this.BC;for(h in d){d.hasOwnProperty(h) && (g=d[h + "-" + h]) && g.mo && clearTimeout(g.mo);}this.BC={};this.cy={};};q.exports=c;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cva=void 0;c=a(2);f=a(16);k=c.__importDefault(a(4)).default.ou;q=(function(l){function d(g){var h;h=l.call(this) || this;h.pKa=g;h.w_=g.groupId;h.Yh=new f.zh();h.Yh.on(h,k.ue.tP,h.oda);h.Yh.on(h,k.ue.DD,h.EQ);return h;}c.__extends(d,l);d.prototype.pLb=function(g,h,m){k.prototype.open.call(this,g,h,m);};d.prototype.WRb=function(g){this.w_=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.w_;},enumerable:!1,configurable:!0}});d.prototype.Ic=function(){this.Yh && this.Yh.clear();k.prototype.Ic.call(this);};d.prototype.oda=function(g){this.pKa.XNb(g.probed,g.affected);this.Ic();};d.prototype.EQ=function(g){this.pKa.UNb(g.probed,g.affected);this.Ic();};return d;})(k);b.cva=q;},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lza=void 0;c=a(2);f=a(144);k=a(399);l=a(14);d=c.__importDefault(a(4));q=a(96);g=a(402);h=a(6);m=a(150);a=(function(n){function r(p,u,t,w,v,x,y,z,B,A,C){var E;E=n.call(this,p) || this;E.Td=p;E.H=u;E.I=t;E.Qm=w;E.AB=x;E.n4=y;E.zu=z;E.EKa=B;E.Pg=A;E.yJa=[void 0,void 0];E.bea=[];E.sQ=null !== C && void 0 !== C?C:{Au:[Object.create(null),Object.create(null)]};v?E.BT=v:(E.ug=m.cq.instance.nB("headers","" + E.Td.da,!0,!1,{},E.I),E.ug.mb());return E;}c.__extends(r,n);Object.defineProperties(r.prototype,{Au:{get:function(){return this.sQ.Au;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{uA:{get:function(){return this.sQ.uA;},set:function(p){this.sQ.uA=p;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{$I:{get:function(){return this.sQ.$I;},set:function(p){this.sQ.$I=p;},enumerable:!1,configurable:!0}});r.prototype.Ic=function(){var p;p=this;this.Au.forEach(function(u,t){for(var w in u){u[w].Ic();p.zha(t,w);}});this.ug && m.cq.instance.oS(this.ug);this.ug=void 0;};r.prototype.pk=function(p,u){return this.Au[p][u];};r.prototype.C3=function(){return !(!this.uA || !this.uA.length);};r.prototype.jga=function(){this.uA=void 0;};r.prototype.oN=function(p){this.uA=p;};r.prototype.uta=function(){var p,u;if(!this.C3() || this.$I)return !1;for(f.fm.rp(1);0 < this.uA.length;){p=this.uA.shift();u=this.Td.jv(1,p);if(u && !this.FCb(p) && u.Vs)return (this.$I=p,this.u8(u,{offset:0,xN:!0}));}return !1;};r.prototype.Ota=function(p,u){var t;t=this;u.forEach(function(w){var v;v=t.pk(p,w.La);v && !w.ye && (v.stream.ye?w.w1(v.stream):(v.kV || (v.kV=[]),v.kV.push(t.Td)));});};r.prototype.YM=function(p,u,t){var w,v,x;w=this;x=this.Td;l.cf.forEach(function(y){var z,B,A,C,E;if(x.Vb(y) && (void 0 === t || y === t)){C=p[y];h.assert(C && x.getTrackById(C.trackId) === C);C=C.Qd;if(x.Ej)w.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.Pl.hX(x.da,C)){E=null !== (A=null === (B=null === (z=w.AB(y)) || void 0 === z?void 0:z.SF) || void 0 === B?void 0:B.bitrate) && void 0 !== A?A:0;z=g.Jia(C,E);void 0 === z && w.H.warn("Unable to find stream for bitrate " + E);z=C[z];(B=x.pk(y,z.La)) && B.stream.Y?x.uWb(y,B):(y={offset:0,xN:!1,rB:1 === y,cv:!0,dM:!w.n4(x)},x.cPa(z,y,u));}else w.H.warn("requestHeadersFromManifest, unable to update urls");}});x.I3=!0;null === (v=this.Pg) || void 0 === v?void 0:v.call(this,x.Db).Y0();};r.prototype.sH=function(p,u){var t,w,v,x;t=this.I;w=this.pk(p.mediaType,p.La);if(w)return (w.stream.Y || w.xN && this.eOa(w),!1);w=this.Qgb;v=this.Rgb;if(void 0 !== t.$na && void 0 !== w && void 0 !== v){x=d.default.time.aa();if(x - w < t.$na || x - v < t.$na)return !1;}p=this.u8(p,{url:p.url,offset:0},void 0,void 0,u);this.Rgb=d.default.time.aa();return p;};r.prototype.u8=function(p,u,t,w,v){var x,y,z,B,A;B=p.mediaType;f.fm.rp(B);A=p.La;if(this.ofb(A,! !u.cv))return (null === (x=this.EKa) || void 0 === x?void 0:x.call(this),!1);if(x=this.pk(B,A))p=!1;else {x=c.__assign(c.__assign({},u),{ca:null !== (y=u.ca) && void 0 !== y?y:this.Zfb(p)});y=! !x.rB;A=! !x.dM;this.BT?v=this.BT(B,! !x.cv,y,A,! !t):v || (v=this.ug);h.assert(v);p.url && (this.AB(B).Ima=p.url);x=p=this.AIa(p,v,x);if(!p.sM())return (this.Td.qh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);p=!0;}u.cv && w && (this.Td.Rg[B]=x);null === (z=this.EKa) || void 0 === z?void 0:z.call(this);return p;};r.prototype.qo=function(){var p,u;p=this;u=[];this.Au.forEach(function(t,w){var x;f.fm.rp(w);for(var v in t){w=t[v];x=w.Pta();1 === x?u.push(w):2 === x && p.Td.qh("swapUrl failure");}});return u;};r.prototype.wk=function(p){var u,t;u=p.mediaType;t=f.fm.rp(u);this.Td.Ej?t.warn("header onrequestcomplete ignored, session shutdown:",p.toString()):(this.Qm({type:"logdata",target:"startplay",Sb:{usedNativeDataView:p.rXb}}),p.qV > p.sLb && (this.yJa[u]=p.qV),p.xN && this.eOa(p),this.xgb(p),this.Qgb=d.default.time.aa(),this.Td.KB.emit("onHeaderRequestComplete",p));this.gv(p);};r.prototype.u0=function(p,u,t){var w;w=p.mediaType;f.fm.rp(w);w=this.Td.jv(w,p.La);if(u !== ! !p.kk)return !1;this.qLa(p);p.Wkb(w);this.fIa(p);this.Td.KB.emit("onHeaderFromCache",{header:p,jxb:t});return !0;};r.prototype.cR=function(p,u){var t,w,v,x;t=[];w=this.Au[p];for(v in w){x=w[v];x && !x.stream.Y && x.eo === u && (this.zha(p,v),t.push({stream:x.stream,offset:x.offset,ca:x.ca,rB:x.rB,cv:x.cv,dM:x.dM,fpa:x.fpa}),x.Ic());}return t;};r.prototype.ira=function(p){var u;u=this;p.forEach(function(t){u.u8(t.stream,t);});};r.prototype.qLa=function(p){this.Au[p.mediaType][p.La]=p;};r.prototype.FCb=function(p){return ! !this.pk(1,p);};r.prototype.xgb=function(p){var u,t,w,v,y;u=this.I;t=f.fm.rp(p.mediaType);w=p.stream.Y;if(u.fha){v=w.length;t.trace("fragment count:",v);for(var x=0;x < v;++x){y=w.get(x);t.trace("fragment: " + x + ", startPts: " + y.Z + ", duration: " + y.duration + ", offset: " + y.offset);}}this.fIa(p);if(u.uC && u.uC.enabled && void 0 === w.Er && u.uC.simulatedFallback){v=w.length;u=[];for(x=0;x < v;++x){u[x]=Math.max(0,p.stream.zb + this.Gib(x));}w.wSb(u);}};r.prototype.fIa=function(p){var u,t;u=p.mediaType;t=p.La;f.fm.rp(u);p.kV && (p.kV.forEach(function(w){(w=w.jv(u,t)) && w !== p.stream && !w.ye && w.w1(p.stream);}),p.kV=void 0);this.Td.mCb(p);};r.prototype.AIa=function(p,u,t){var w,v;w=this;v=f.fm.rp(p.mediaType);p=new k.r9(p,this.I,u,t,this,!1,v);p.addListener("headerRequestCancelled",function(x){w.wgb(x.request);});p.mb(void 0);this.qLa(p);return p;};r.prototype.ofb=function(p,u){return this.zu && (p=this.zu.sU(this.Td.K,p)) && this.u0(p,!1,u)?!0:!1;};r.prototype.Zfb=function(p){var u,t,w,v;u=p.Wv;t=p.N;w=t.duration;v=this.I;return t.Ze.yg?v.yRa?v.yRa:v.H3:v.oXb && u?u.offset + u.size:(p=this.yJa[p.mediaType])?p + 128:v.oia?2292 + 12 * Math.ceil(w / 2E3):v.H3;};r.prototype.wgb=function(p){this.zha(p.mediaType,p.La);};r.prototype.zha=function(p,u){delete this.Au[p][u];};r.prototype.eOa=function(p){this.$I === p.La && (this.$I=void 0);};r.prototype.Gib=function(p){var u;u=this.I.uC.fallbackBound;void 0 === this.bea[p] && (this.bea[p]=Math.floor(2 * Math.random() * u) - u);return this.bea[p];};return r;})(q.jw);b.lza=a;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.JFa=void 0;c=a(2);f=a(16);k=c.__importDefault(a(4)).default.Promise;q=(function(l){function d(g,h,m,n){var r;r=l.call(this) || this;r.H=g;r.track=h;r.Hn=!1;r.Pca=!1;r.Ag=new f.zh();r.Ag.on(h,"networkfailing",function(){r.emit("networkfailing");});r.Ag.on(h,"error",function(){r.H.warn("requestQueue got error");r.emit("error");});if(m)(r.Hn=!0,k.resolve().then(function(){return r.emit("created");}));else r.Ag.on(h,"created",function(){r.Hn=!0;r.emit("created");});r.Pca=n;return r;}c.__extends(d,l);Object.defineProperties(d.prototype,{s2:{get:function(){return this.track.s2;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Og:{get:function(){return this.track.Og;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ri:{get:function(){return this.track.Ri;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{RS:{get:function(){return this.track.RS;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});d.prototype.mb=function(){var g,h;this.Pca || (null === (h=(g=this.track).mb) || void 0 === h?void 0:h.call(g),this.Pca=!0);};d.prototype.Us=function(){return this.track.Us();};d.prototype.toString=function(){return this.track.toString();};d.prototype.toJSON=function(){return this.track;};d.prototype.gp=function(){this.Ag.clear();};return d;})(f.EventEmitter);b.JFa=q;},function(q,b,a){var g,h,m,n,r,p,u;function c(t){var w,v,x;t=t.parent;w=!1;if(t && t.children){v={};v[p.sl]=[];v[p.Jk]=[];v[p.TEMPORARY]=[];x=t.children;x.forEach(function(y){y && v[y.Le].push(y);});0 < v[p.sl].length || (v[p.Jk].length === x.length?t.Le !== p.Jk && (t.Le=p.Jk,r.error("PERM failing :",m.default.$g.name[t.Cm] + " " + t.id),w=!0):(t.Le === p.sl && (t.Le=p.TEMPORARY,r.error("TEMP failing :",m.default.$g.name[t.Cm] + " " + t.id),w=!0),v[p.TEMPORARY].forEach(function(y){y.Le=p.sl;})),w && c(t));}}function f(t){var w;if((t=t.parent) && 0 < t.children.length && t.Le !== p.sl){w={};w[p.sl]=[];w[p.Jk]=[];w[p.TEMPORARY]=[];t.children.forEach(function(v){v && w[v.Le].push(v);});0 < w[p.sl].length && (t.Le=p.sl,f(t));}}function k(t){return t.Le !== p.sl;}function l(t){switch(t.Le){case p.sl:return "OK";case p.Jk:return "FAILED PERMANENTLY";case p.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(t,w){if(t.Le === p.TEMPORARY || t.Le === p.Jk && w)t.Le=p.sl;t.children && t.children.forEach(function(v){v && d(v,w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.O$=void 0;g=a(2);h=g.__importStar(a(10));q=a(16);m=g.__importDefault(a(27));n=g.__importDefault(a(4));r=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(t){t[t.sl=0]="OK";t[t.TEMPORARY=1]="TEMPORARY";t[t.Jk=2]="PERMANENT";})(p || (p={}));(function(t){t[t.Kw=0]="STARTUP";t[t.wdb=1]="REBUFFER";})(u || (u={}));a=(function(t){var P40;P40=2;function w(v,x,y,z,B){var Q40,A;Q40=2;for(;Q40 !== 27;){switch(Q40){case 20:var z3u="1SIYbZ";z3u+="rN";z3u+="JC";z3u+="p9";A.G_=null;A.hN=null;A.iN=m.default.JD.Kw;A.FE(v);z3u;return A;break;case 4:A.config=z;A.Hhb=B;A.$Nb=u.Kw;A.pv=void 0;Q40=7;break;case 2:A=t.call(this) || this;A.Jb=x;Q40=5;break;case 13:var v3u="n";v3u+="etwo";v3u+="rk";A.streams={};A.Ty=[];A.J5=!1;A.Yn={id:v3u,Cm:m.default.$g.Ew,Le:p.sl,Jv:void 0,parent:void 0,children:A.Ty};Q40=20;break;case 5:A.mh=y;Q40=4;break;case 7:A.Un={};A.Kt={};A.urls={};Q40=13;break;}}}for(;P40 !== 25;){switch(P40){case 8:w.prototype.k4a=function(v){var W40;W40=2;for(;W40 !== 5;){switch(W40){case 2:W40=(v=this.urls[v])?1:5;break;case 9:return v.stream;break;W40=5;break;case 1:return v.stream;break;}}};w.prototype.FE=function(v){var X40,x;X40=2;for(;X40 !== 11;){switch(X40){case 2:x=this;v.locations.forEach(function(y){var Y40,z,B,A,C;Y40=2;for(;Y40 !== 8;){switch(Y40){case 1:Y40=!x.Un[z]?5:8;break;case 2:z=y.key;Y40=1;break;case 5:(B=[],A=x.mh.get(z),C=x.Yn);y={id:z,Cm:m.default.$g.LOCATION,Le:p.sl,Eg:y.rank,level:y.level,weight:y.weight,Jv:void 0,parent:C,children:B,Kt:B,streams:{},lb:A};x.Un[y.id]=y;C.children.push(y);Y40=8;break;}}});this.G_=n.default.time.aa();this.Ty.sort(function(y,z){var Z40;Z40=2;for(;Z40 !== 1;){switch(Z40){case 2:return y.level - z.level || y.Eg - z.Eg;break;}}});v.servers.forEach(function(y){var a50,B,z,A;a50=2;for(;a50 !== 6;){switch(a50){case 5:B=x.Un[y.key];a50=4;break;case 4:a50=B?3:6;break;case 1:a50=!x.Kt[z]?5:6;break;case 2:z=y.id;a50=1;break;case 3:A=[];y={id:z,Cm:m.default.$g.KD,Le:p.sl,Jv:void 0,parent:B,children:A,urls:A,name:y.name,type:y.type,Eg:y.rank,location:B};x.Kt[y.id]=y;B.children.push(y);a50=6;break;}}});v.audio_tracks.forEach(function(y){var b50;b50=2;for(;b50 !== 1;){switch(b50){case 2:x.G0a(y);b50=1;break;}}});v.video_tracks.forEach(function(y){var c50;c50=2;for(;c50 !== 1;){switch(c50){case 2:x.G0a(y);c50=1;break;}}});X40=7;break;case 7:v=this.Ty.filter(function(y){var d50,z;d50=2;for(;d50 !== 4;){switch(d50){case 2:z=y.Kt.every(function(B){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:return 0 === B.urls.length;break;}}});z && (y.Kt.forEach(function(B){var f50;f50=2;for(;f50 !== 1;){switch(f50){case 2:x.Kt[B.id]=void 0;f50=1;break;}}}),x.Un[y.id]=void 0,y.parent=void 0,y.children.length=0,y.streams={});return !z;break;}}});v.forEach(function(y){var g50;g50=2;for(;g50 !== 1;){switch(g50){case 2:y.Kt.sort(function(z,B){var h50;h50=2;for(;h50 !== 1;){switch(h50){case 2:return z.Eg - B.Eg;break;}}});g50=1;break;}}});X40=14;break;case 14:this.Ty=v;this.Yn.children=v;this.dump();X40=11;break;}}};w.prototype.hX=function(v,x){var i50,y,z,B,A,C,E;i50=2;for(;i50 !== 19;){switch(i50){case 11:return (this.hr(m.default.$g.Ew,!1),!1);break;case 14:return (this.hr(m.default.$g.Ew,!1),!1);break;case 5:i50=k(this.Yn)?4:3;break;case 2:(y=this,z=this.config,B=this.Jb.get(),A=0);n.default.ws && n.default.ws(v);i50=5;break;case 12:i50=!E.length?11:10;break;case 6:i50=!this.hN?14:13;break;case 3:C=m.default.wf.Zz;z.QU && (C=m.default.wf.ww);this.Jb.location && B.confidence >= C && (v=this.Un[this.Jb.location]) && (v.lb=B);i50=7;break;case 7:h.ob(this.hN) && (this.hN=this.xWb());i50=6;break;case 4:return !1;break;case 13:E=this.hN;i50=12;break;case 10:var K3u="(empty s";K3u+="trea";K3u+="m list)";var V3u="Did not ";V3u+="find a URL f";V3u+="o";V3u+="r ";V3u+="ANY stream...";var d3u="netw";d3u+="orkFail";d3u+="ed";var P3u="Network ";P3u+="has failed,";P3u+=" not updating stream selection";x.forEach(function(F,D){var j50,G;j50=2;for(;j50 !== 5;){switch(j50){case 2:var w3u=" K";w3u+="bp";w3u+="s";w3u+=")";var a3u=" ";a3u+="(";var X3u="]";X3u+=" ";var Z3u="F";Z3u+="ail";Z3u+="ing ";Z3u+="strea";Z3u+="m [";G=F.id;E.some(function(I){var k50,J,H;k50=2;for(;k50 !== 8;){switch(k50){case 1:k50=!J?5:4;break;case 5:return !1;break;case 2:J=I.streams[G];k50=1;break;case 4:H=J.Un[0];void 0 === F.I6 && (F.I6=H.id,F.Upa=J.jX[H.id][0].cd.id);return J.jX[I.id].some(function(M){var l50,O;l50=2;for(;l50 !== 12;){switch(l50){case 1:return (M.cd.Le === p.TEMPORARY && (F.Le=p.TEMPORARY),z.At && F.cd === M.cd.id && M.cd.Jv && (F.Jv=M.cd.Jv),!1);break;case 14:F.lb=z.nfa?I.lb.confidence >= m.default.wf.ww || B.confidence < C?I.lb:B:B.confidence === m.default.wf.HAVE_NOTHING || I.lb.confidence >= m.default.wf.ww?I.lb:B;return !0;break;case 5:l50=k(M)?4:3;break;case 2:l50=k(M.cd)?1:5;break;case 4:return !1;break;case 3:var C3u="locati";C3u+="o";C3u+="nfai";C3u+="lover";var H3u="s";H3u+="e";H3u+="rverfai";H3u+="love";H3u+="r";var f3u="pe";f3u+="rformanc";f3u+="e";var R3u="unkn";R3u+="ow";R3u+="n";O=R3u;F.location !== I.id && (z.At?F.oma=I.id === H.id:O=I !== E[0]?"" + m.default.JD.y9:void 0 === F.location?"" + m.default.JD.Kw:h.ga(F.aXa) || F.aXa === I.id?h.ga(F.dXa) || F.dXa === M.cd.id?f3u:H3u:C3u,F.location=I.id,F.Uma=I.level,F.qr=O);l50=8;break;case 8:F.url=M.url;F.cd=M.cd.id;F.QG=M.cd.name;l50=14;break;}}});break;}}})?(F.JB=!1,F.Le=void 0,F.kv && ++A):F.Le && F.Le === p.TEMPORARY?y.Yn.Le=p.TEMPORARY:F.JB || (r.warn(Z3u + D + X3u + G + a3u + F.bitrate + w3u),F.Qob(),F.JB=!0);j50=5;break;}}});return k(this.Yn)?(r.warn(P3u),this.J5=!0,this.emit(d3u,this.Yn.Le === p.Jk),!1):A?!0:(r.warn(V3u + (x.length?"":K3u)),this.hr(m.default.$g.Ew,!0),!1);break;}}};w.prototype.DRb=function(v,x){var m50,y,z;m50=2;for(;m50 !== 4;){switch(m50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(B,A){var n50,F,D,C,E;n50=2;for(;n50 !== 7;){switch(n50){case 4:var N3u="8";N3u+="0";var g3u="4";g3u+="4";g3u+="3";(F="s" === E[1],D=E[2]);E=E[3];E.length || (E=F?g3u:N3u);h.ze(D) && h.ze(E) && D === v && E == x && (C?C.push(A):y[B]=[A]);n50=7;break;case 5:n50=E && 4 === E.length?4:7;break;case 2:B=B.parent?B.parent.id:"";(C=y[B],E=A.match(z));n50=5;break;}}});m50=5;break;case 5:return y;break;}}};P40=13;break;case 4:w.prototype.Cs=function(){var T40;T40=2;for(;T40 !== 1;){switch(T40){case 2:return k(this.Yn);break;}}};w.prototype.L2a=function(v){var U40;U40=2;for(;U40 !== 5;){switch(U40){case 9:return v.parent.id;break;U40=5;break;case 1:return v.parent.id;break;case 2:U40=(v=this.urls[v]) && v.parent?1:5;break;}}};w.prototype.R4=function(v){var V40;V40=2;for(;V40 !== 5;){switch(V40){case 2:V40=(v=this.urls[v]) && v.cd?1:5;break;case 1:return v.cd.location;break;}}};P40=8;break;case 2:g.__extends(w,t);w.prototype.zBb=function(){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 2:return this.Ty[0].lb;break;}}};w.prototype.Tja=function(){var S40;S40=2;for(;S40 !== 1;){switch(S40){case 4:return this.Ty;break;S40=1;break;case 2:return this.Ty;break;}}};P40=4;break;case 13:w.prototype.hr=function(v,x,y,z){var o50,q50,B,A,C,E,F,r50,D;o50=2;for(;o50 !== 42;){switch(o50){case 44:var T3u="Inval";T3u+="id f";T3u+="ailur";T3u+="e ";T3u+="state";throw Error(T3u);o50=24;break;case 11:q50=F.Cm;o50=q50 === m.default.$g.KD?10:18;break;case 5:B=B.parent;o50=1;break;case 30:o50=r50 === p.TEMPORARY?24:29;break;case 15:var x3u="<";x3u+="url";x3u+=" ";x3u+="for ";x.unshift(x3u + F.stream.bitrate + ">");o50=19;break;case 21:var s3u="n";s3u+="etworkF";s3u+="ailed";var B3u="Emittin";B3u+="g netwo";B3u+="rkFaile";B3u+="d, perman";B3u+="ent =";C=this.Yn.Le;C > A && (r.warn(B3u,C === p.Jk),this.emit(s3u,C === p.Jk));o50=34;break;case 2:(B=v !== m.default.$g.Ew && y?this.urls[y]:this.Yn,A=this.Yn.Le,C=x?p.Jk:p.TEMPORARY);o50=1;break;case 9:var y1u=" ";y1u+="a";y1u+="t";y1u+=" ";var U1u=" fai";U1u+="lu";U1u+="re re";U1u+="ported for";U1u+=" ";var F1u="T";F1u+="E";F1u+="M";F1u+="P";var i3u="P";i3u+="E";i3u+="R";i3u+="M";y=r;E=y.warn;v=(x?i3u:F1u) + U1u + m.default.$g.name[v] + y1u;x=[];o50=13;break;case 18:o50=q50 === m.default.$g.LOCATION?17:16;break;case 27:var L1u=" : w";L1u+="a";L1u+="s";L1u+=" ";E.call(y,v + (x.length?"/" + x.join("/"):"") + L1u + l(B));o50=26;break;case 17:x.unshift(F.id);o50=19;break;case 4:o50=B?3:43;break;case 19:F=F.parent;o50=12;break;case 16:o50=q50 === m.default.$g.URL?15:19;break;case 28:o50=44;break;case 34:this.hN=null;this.iN=m.default.JD.uf;z && (this.iN=m.default.JD.cdb,B.Jv=z);this.dump();o50=42;break;case 3:o50=C !== B.Le?9:42;break;case 25:return;break;case 43:var o1u="Unable to find fai";o1u+="lure ";o1u+="entity for URL ";a000.D9b(2);r.warn(a000.r9b(o1u,y));o50=42;break;case 20:x.unshift(D.id + "(" + D.name + ")");o50=19;break;case 13:F=B;o50=12;break;case 26:r50=B.Le;o50=r50 === p.Jk?25:30;break;case 12:o50=F?11:27;break;case 1:o50=B && B.parent && B.Cm !== v?5:4;break;case 29:o50=r50 === p.sl?24:28;break;case 10:D=F;o50=20;break;case 24:B.Le=C;c(B);this.J5=this.J5 || k(this.Yn);o50=21;break;}}};w.prototype.c2a=function(v,x){var s50;s50=2;for(;s50 !== 3;){switch(s50){case 2:s50=(v=this.Kt[v])?1:5;break;case 5:this.hN=null;s50=4;break;case 4:this.iN=m.default.JD.xaa;s50=3;break;case 1:(d(v,x),f(v));s50=5;break;case 8:s50=(v=this.Kt[v])?8:2;break;s50=(v=this.Kt[v])?1:5;break;}}};P40=11;break;case 11:w.prototype.c7=function(){var t50;t50=2;for(;t50 !== 1;){switch(t50){case 2:d(this.Yn,!1);t50=1;break;}}};w.prototype.Qm=function(v){var u50,x;u50=2;for(;u50 !== 5;){switch(u50){case 2:null === (x=this.Hhb) || void 0 === x?void 0:x.call(this,v);u50=5;break;}}};w.prototype.Ij=function(){var v50;v50=2;for(;v50 !== 1;){switch(v50){case 2:this.aQb(u.wdb);v50=1;break;}}};P40=19;break;case 16:w.prototype.aQb=function(v){var I50,x;I50=2;for(;I50 !== 3;){switch(I50){case 2:x=this.Jb.location;this.pv=!1;this.$Nb=v;I50=4;break;case 4:this.Ty.forEach(function(y){var J50;J50=2;for(;J50 !== 1;){switch(J50){case 2:y.id !== x && y.lb && y.lb.confidence > m.default.wf.Zz && (y.lb.confidence=m.default.wf.Zz);J50=1;break;}}});I50=3;break;}}};w.prototype.tMb=function(){var K50,v;K50=2;for(;K50 !== 5;){switch(K50){case 2:v=this;this.J5 || this.Ty.forEach(function(x){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:x.Le === p.TEMPORARY && v.mh.fail(x.id,n.default.time.aa());L50=1;break;}}});K50=5;break;}}};w.prototype.dump=function(){};return w;break;case 19:w.prototype.wb=function(){var w50;w50=2;for(;w50 !== 1;){switch(w50){case 2:this.config.XGb && this.tMb();w50=1;break;}}};w.prototype.G0a=function(v){var x50,x;x50=2;for(;x50 !== 5;){switch(x50){case 2:x=this;v.streams.forEach(function(y){var y50,z,B,A;y50=2;for(;y50 !== 6;){switch(y50){case 1:y50=h.ga(B)?5:9;break;case 3:x.streams[B.id]=B;y50=9;break;case 2:(z=y.downloadable_id,B=x.streams[z]);y50=1;break;case 5:var b1u="n";b1u+="o";b1u+="ne";b1u+="-";A=y.content_profile;B={id:z,bitrate:y.bitrate,zb:y.vmaf,type:y.type,profile:A,clear:0 === A.indexOf(b1u),kv:!0,urls:[],jX:{},Un:[]};y50=3;break;case 9:y.urls.forEach(function(C){var z50,E,F,D;z50=2;for(;z50 !== 13;){switch(z50){case 1:z50=h.ga(F) && (C=x.Kt[C.cdn_id])?5:13;break;case 2:(E=C.url,F=x.urls[E]);z50=1;break;case 5:D=C.location;F={id:E,Cm:m.default.$g.URL,Le:p.sl,Jv:void 0,parent:C,children:[],url:E,cd:C,stream:B};x.urls[E]=F;C.children.push(F);z50=8;break;case 8:B.urls.push(F);0 === B.Un.filter(function(G){var A50;A50=2;for(;A50 !== 1;){switch(A50){case 4:return G.id != D.id;break;A50=1;break;case 2:return G.id === D.id;break;}}}).length && B.Un.push(D);D.streams[B.id]=B;(E=B.jX[D.id])?E.push(F):B.jX[D.id]=[F];z50=13;break;}}});h.Te(B.jX,function(C){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 2:C.sort(function(E,F){var C50;C50=2;for(;C50 !== 1;){switch(C50){case 4:return E.cd.Eg + F.cd.Eg;break;C50=1;break;case 2:return E.cd.Eg - F.cd.Eg;break;}}});B50=1;break;}}});B.Un=B.Un.sort(function(C,E){var D50;D50=2;for(;D50 !== 1;){switch(D50){case 2:return C.level - E.level || C.Eg - E.Eg;break;}}});y50=6;break;}}});x50=5;break;}}};P40=17;break;case 17:w.prototype.xWb=function(){var E50,z,v,x,y;E50=2;for(;E50 !== 13;){switch(E50){case 4:z=n.default.time.aa();E50=3;break;case 2:(v=this,x=this.config,y=this.Ty.filter(function(B){var F50;F50=2;for(;F50 !== 1;){switch(F50){case 2:return !k(B) && 0 !== B.level;break;}}}));E50=1;break;case 1:E50=0 === y.length?5:4;break;case 5:return null;break;case 3:E50=null === this.G_ || this.G_ + x.Tma < z?9:8;break;case 9:(y.forEach(function(B){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:B.id !== v.Jb.location && (B.lb=v.mh.get(B.id));G50=1;break;}}}),this.G_=z);E50=8;break;case 6:this.pv || h.ob(x) || (this.pv=!0);return y;break;case 8:x=this.iN;y.sort(function(B,A){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:return B.level - A.level || B.Eg - A.Eg;break;}}});E50=6;break;}}};P40=16;break;}}})(q.EventEmitter);b.O$=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ba=void 0;c=a(22);f=a(6);k=a(403);l=a(844);d=a(845);g=a(846);h=a(847);m=a(848);n=a(849);q=(function(){function r(p,u,t,w){this.config=p;this.mediaType=u;this.Ub=t;this.console=w;}r.prototype.append=function(p,u){var t,w,v,x;w=u.endOfStream;v=u.n5;x=u.TU;void 0 === this.track?this.tL(p.stream):this.track !== p.stream.track && (f.assert(this.track.pa),f.assert(p.stream.track.pa),f.assert(1 === this.mediaType || this.track.pa.equal(p.stream.track.pa)),this.track=p.stream.track);f.assert(void 0 !== this.ss);u={gd:p,offset:null !== (t=p.M6) && void 0 !== t?t:c.S.hb,Be:this.config.m7};u=this.ss.reduce(function(y,z){return z.append(y,{endOfStream:w,n5:v,TU:x});},u);t=u.gd;u=u.offset;t.na && p.th(t.na);return u;};r.prototype.reset=function(){this.ss=this.track=void 0;};r.prototype.tL=function(p){var u,t;this.track=p.track;this.ss=[];if(0 === this.mediaType){this.config.m7 && this.ss.push(new d.YFa(this.config,p.track,this.console));t=this.$0(p);t.equal(c.S.hb)?this.config.ck && p.he && this.e4(p.N.da) && this.ss.push(new m.aAa(this.config)):this.ss.push(new k.kZ(t));this.config.m5 || (this.console.log("MediaSplicer: NegativePtsGuard: " + t.Nd() + ", " + (null === (u=p.he) || void 0 === u?void 0:u.Nd())),this.ss.push(new g.sCa(this.config,p,this.console)));this.VEb() && (this.config.Uf || this.ss.push(new n.nva(p,this.config,this.Ub,this.console)),this.ss.push(new l.BCa(this.config,p,this.console)),this.YSb(p) && (f.assert(p.pa),this.ss.push(this.Cpb(p.he || c.S.hb,p.pa,t))));}};r.prototype.e4=function(p){return this.config.e4 || this.config.f4 && -1 !== this.config.f4.indexOf(p);};r.prototype.$0=function(p){return k.kZ.$0(this.config,p.he,this.Ub,this.console);};r.prototype.VEb=function(){return !this.config.mz;};r.prototype.YSb=function(p){return this.config.VVb && this.config.ck && ! !p.he;};r.prototype.Cpb=function(p,u,t){return new h.AHa(p.Ba(t),u,this.console);};return r;})();b.$Ba=q;},function(q,b,a){var f,k,l,d;function c(g){return g.toString() + " (nrdp: " + g.HG + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.BCa=void 0;f=a(22);k=a(242);l=a(19);d=a(6);q=(function(){function g(h,m,n){this.console=n;this.offset=f.S.hb;this.he=h.ck?m.he:void 0;d.assert(m.pa);this.pa=m.pa;}g.prototype.append=function(h){var m,n,r;m=h.gd;n=h.offset;r=h.Be;void 0 !== this.YWa && (d.assert(void 0 !== this.uma),m.Xc.add(h.offset).equal(this.YWa)?(h=this.ynb(m,n.add(this.offset)).V - this.uma,0 > h?this.offset=this.offset.add(f.S.Cv):0 === h?this.offset.lessThan(f.S.hb) && (this.offset=this.offset.add(f.S.Cv)):1 === h?this.offset.greaterThan(f.S.hb) && (this.offset=this.offset.Ba(f.S.Cv)):this.offset=this.offset.Ba(f.S.Cv)):this.offset=f.S.hb);this.uma=this.xnb(m,n.add(this.offset)).V;this.YWa=m.Md.add(n);return {gd:m,offset:n.add(this.offset),Be:r};};g.prototype.ynb=function(h,m){var n,r;h=this.ILa(h.Xc);n=k.ft(h).add(k.ft(m));r=h.add(m).Ba(n);l.ka && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(m) + ", start rounding error: " + k.ft(h).toString() + ", offset rounding error: " + k.ft(m).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + r.Nd() + ", (" + h.HG + m.HG + "ms), last fragment end nrdp: " + this.uma);return r;};g.prototype.xnb=function(h,m){var n,r,p;n=this.pa;h=this.ILa(h.Md);r=k.ft(h.Ba(n)).add(k.ft(n)).add(k.ft(m));p=h.add(m).Ba(r);l.ka && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ba(n)) + ", frame duration: " + c(n) + ", offset: " + c(m) + ", timestamp rounding error: " + k.ft(h.Ba(n)).toString() + ", frame duration rouding error: " + k.ft(n).toString() + ", offset rounding error: " + k.ft(m).toString() + ", total rounding error: " + r.toString() + ", expected nrdp value: " + p.Nd() + ", (" + h.Ba(n).HG + n.HG + m.HG + "ms)");return p;};g.prototype.ILa=function(h){return this.he?h.Ba(this.he):h;};return g;})();b.BCa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YFa=void 0;c=a(22);f=a(6);k=a(19);q=(function(){function l(d,g,h){this.config=d;this.console=h;this.Ou=c.S.hb;f.assert(g.pa);this.pa=g.pa;d=g.Qd[0].profile;this.A5=this.pAb(d,this.pa);this.g5=this.lAb(d,this.pa);}l.prototype.append=function(d,g){var h,m,n,r;h=d.gd;m=d.offset;d=d.Be;n=g.n5;g=g.TU;if(this.npa){r=this.gJb(h,this.npa);h.na && this.efa(r)?(k.ka && this.console.trace("SeamlessAudio: dropping one first frame"),h.AS(1),this.Ou=r):(this.Ou=r.add(this.pa),this.PMa(this.Ou) || (k.ka && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Ui.Nd() + " error would be " + this.Ou.Nd() + " (editing " + (h.na?"":"not ") + "allowed)"),this.Ou=c.S.hb,d=!1));this.npa=void 0;}if(h.Ap || h.ov)(f.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.na || !g && h.ov || (r=this.hJb(h,n,g),r.xp(c.S.hb) && h.a2(1)),this.npa=n);f.assert(this.PMa(this.Ou));this.zma=h.pf;return {gd:h,offset:m.add(this.Ou),Be:d};};l.prototype.hJb=function(d,g,h){var m;if(h)m=this.Ou.add(d.pf.Ba(h)).Ba(this.pa);else (m=d.pf.Ba(g),m=this.Ou.add(m).Ba(this.pa));k.ka && this.console.trace("SeamlessAudio: fragment end: " + d.pf.Nd() + ", splice " + g.Nd() + ", next start " + (null === h || void 0 === h?void 0:h.Nd()) + ", error " + m.add(this.pa).Nd() + ", error with frame drop " + m.Nd() + ", is" + (this.efa(m)?"":" not") + " within bounds of [" + this.A5.Nd() + " and " + this.g5.Nd() + ")");return m;};l.prototype.gJb=function(d,g){var h;f.assert(this.zma);h=this.Ou.add(this.zma.Ba(d.Ui)).Ba(this.pa);k.ka && this.console.trace("SeamlessAudio: fragment start: " + d.Ui.Nd() + ", splice " + g.Nd() + ", last fragment end: " + this.zma.Nd() + ", error " + h.add(this.pa).Nd() + ", error with frame drop " + h.Nd() + ", is" + (this.efa(h)?"":" not") + " within bounds of [" + this.A5.Nd() + " and " + this.g5.Nd() + ")");return h;};l.prototype.efa=function(d){return d.lessThan(this.g5) && d.xp(this.A5);};l.prototype.PMa=function(d){return d.lessThan(this.g5.add(c.S.Cv)) && d.xp(this.A5.Ba(c.S.Cv));};l.prototype.lAb=function(d,g){return "object" === typeof this.config.yra && void 0 !== this.config.yra[d]?(d=new c.S(this.config.yra[d],1E3).Vf(g.U).add(new c.S(1,g.U)),c.S.min(g,d)):g;};l.prototype.pAb=function(d,g){var h;if("object" === typeof this.config.zra && void 0 !== this.config.zra[d]){h=g.Yk(-2);d=new c.S(this.config.zra[d],1E3).Vf(g.U).Ba(new c.S(1,g.U));return c.S.max(h,d);}return new c.S(-12,1E3);};return l;})();b.YFa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sCa=void 0;c=a(22);f=a(6);k=a(19);q=(function(){function l(d,g,h){var m;this.console=h;this.aW=!1;f.assert(g.pa,"NegativePtsGuard: stream.frameDuration must exist.");this.pa=g.pa;this.ck=d.ck;this.he=null !== (m=g.he) && void 0 !== m?m:c.S.hb;}l.prototype.append=function(d){var g,h,m,n;if(this.aW)return d;g=d.gd;h=d.offset;d=d.Be;if(g.na){m=g.Xc.Ba(this.ck?this.he:c.S.hb).add(h);if(m.lessThan(c.S.hb)){n=Math.ceil(m.mC(-1).Yk(this.pa));k.ka && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.he.Nd() + ", request content start ") + (g.Xc.Nd() + ", current timestamp offset ") + (h.Nd() + " => firstPlatformTimestamp ") + (m.Nd() + "."));g.AS(n);}}this.aW=!0;return {gd:g,offset:h,Be:d};};return l;})();b.sCa=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.AHa=void 0;c=a(22);f=a(19);q=(function(){function k(l,d,g){this.he=l;this.pa=d;this.console=g;}k.prototype.append=function(l,d){var g,h,m,n;g=l.gd;h=l.offset;l=l.Be;m=d.endOfStream;d=d.n5;if(m && d){m=g.Xc.Ba(this.he).add(h);n=g.Md.Ba(this.he).add(h);d=d.Ba(c.S.Cv);f.ka && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + m.Nd() + "-" + n.Nd() + " vs media splice point at " + d.Nd());m.add(this.pa).xp(d)?(f.ka && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g.Sha()):n.xp(d) && (d=Math.ceil(n.Ba(d).Yk(this.pa)),g.na?(f.ka && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),g.a2(d)):(f.ka && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g.Sha()));}else m && f.ka && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {gd:g,offset:h,Be:l};};return k;})();b.AHa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aAa=void 0;q=(function(){function a(c){this.aW=!1;this.hTb=c.ZVa;}a.prototype.append=function(c){c.gd.na && (c.gd.nSb(this.aW?0:this.hTb),this.aW=!0);return c;};return a;})();b.aAa=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nva=void 0;c=a(243);f=a(9);q=(function(){function k(l,d,g,h){this.config=d;this.Ub=g;this.console=h;this.pa=l.pa;}k.prototype.append=function(l,d){var g,h,m,n,r,p,u,t;h=c.g3(this.config,this.Ub);m=l.gd;n=m.pf;r=m.Ui;p=m.ov;u=l.Be;p=m.Ap || p;if(!l.gd.na || !p || u)return l;u=m.Md.Ba(m.Xc);m=Math.floor(u.Yk(this.pa));p=null !== (g=d.TU) && void 0 !== g?g:n.Ba(this.pa.mC(2));n=p.Ba(r);g=m;t=!1;d.TU && (d=this.BNa(u,n,n),g=d.cN,t=d.YU);h=p.Ba(f.S.rb(h));r=f.S.max(h.Ba(r),f.S.hb);t || (r=this.BNa(u,r,n),g=r.cN,r.YU && (--g,this.pa.mC(g)));g < (this.config.VYa || 1)?l.gd.Sha():0 < m - g && l.gd.a2(m - g);return l;};k.prototype.BNa=function(l,d,g){var h;l=f.S.min(l,d);l=Math.floor(l.Yk(this.pa));d=this.pa.mC(l);g=g.Ba(d);h=0 < l && g.lessThan(f.S.Cv);return {cN:l,p7b:d,Qxb:g,YU:h};};return k;})();b.nva=q;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v;function c(x,y,z,B){var A,C;g.assert(x.tk,"Current time: " + n.default.time.aa() + " cr: " + x.currentTime);g.assert(x.currentTime.isFinite());A=z.Ba(x.currentTime);A=Math.max(Math.ceil(A.vG / x.speed),0);C=null !== B && void 0 !== B?B:{id:void 0,UPa:A,MZa:0,tLb:A};C.id=setTimeout(function(){z.Ba(x.currentTime).Fy(l.S.hb)?y():(C.MZa++,c(x,y,z,C));},A);C.UPa=A;return C;}Object.defineProperties(b,{__esModule:{value:!0}});b.hua=b.PP=void 0;f=a(2);k=a(16);l=a(22);d=a(244);g=a(6);h=a(19);m=a(851);n=f.__importDefault(a(4));r=a(175);p=a(852);u=a(853);t=a(151);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{lH:{get:function(){return this.Rda;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{qZa:{get:function(){return this.thb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Csb:{get:function(){return this.Ffb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vra:{get:function(){return this.bjb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,B){this.Ffb=z === v.hM?0:n.default.time.aa();this.thb=y;this.bjb=z;h.ka && g.assert(!this.Rda,"Invalid replacement of timeout value");this.Rda=B;};x.prototype.complete=function(){this.Rda=void 0;this.set(l.S.PB,v.hM);};return x;})();(function(x){x[x.hM=0]="none";x[x.JYa=1]="microTask";x[x.setTimeout=2]="setTimeout";})(v || (v={}));q=(function(x){function y(z,B,A){var C;void 0 === A && (A="unknown");C=x.call(this) || this;C.wa=z;C.console=B;C.name=A;C.rhb=0;C.Rca=!1;C.bk=new w();C.m2=new k.zh();C.xl=new d.RY([],m.BOa(function(E,F){return E.bN.Wk(F.bN);},function(E,F){return F.vr.priority - E.vr.priority;},function(E,F){return E.vr.id > F.vr.id?1:E.vr.id < F.vr.id?-1:0;}));C.vMa(z);return C;}f.__extends(y,x);Object.defineProperties(y.prototype,{PSb:{get:function(){return this.wa.tk;},enumerable:!1,configurable:!0}});y.prototype.rPa=function(z,B){z=new (z.bind.apply(z,f.__spread([void 0],B)))();z.id=this.rhb++;z.Hlb(this);this.uea(z);return z;};y.prototype.mB=function(){for(var z=[],B=0;B < arguments.length;B++){z[B]=arguments[B];}return this.rPa(p.fAa,z);};y.prototype.oyb=function(){var z;z={hasSchedule:! !this.bk.lH,schedule:this.bk.lH && ({sleepTime:this.bk.lH.UPa,originalSleepTime:this.bk.lH.tLb,clockSkewAdjustments:this.bk.lH.MZa}),nextWakeup:this.bk.qZa.V,timeScheduled:this.bk.Csb,scheduleType:v[this.bk.vra],numTasks:this.xl.length,clock:{ir:this.wa.tk,ct:this.wa.currentTime.V,sp:this.wa.speed}};h.ka && this.trace("audit",z);return z;};y.prototype.gK=function(){for(var z=[],B=0;B < arguments.length;B++){z[B]=arguments[B];}return this.rPa(u.qGa,z);};y.prototype.Qrb=function(z,B,A){this.mB(function(){return f.__generator(this,function(C){switch(C.label){case 0:return [4,t.mj.VC(B)];case 1:return (C.Oe(),z(),[3,0]);case 2:return [2];}});},A);};y.prototype.vMa=function(z){var B;B=this;this.hB();this.m2.clear();this.wa=z;this.m2.on(z,"stopStart",function(){return B.PM();});this.m2.on(z,"clockAdjusted",function(){return B.cV();});this.m2.on(z,"speedChanged",function(){return B.gLb();});this.cV();this.emit("clockChanged");};y.prototype.gLb=function(){this.hB();this.PM();};y.prototype.wb=function(){this.reset();};y.prototype.reset=function(){this.hB();this.xl.clear();};y.prototype.cV=function(){var z,B;z=this;B=this.xl.map(function(A){return A.vr;});this.hB();this.xl.clear();B.forEach(function(A){return z.uea(A,!1);});this.PM();};y.prototype.uea=function(z,B){var A,C;void 0 === B && (B=!0);A=z.P5();C=this.f5a(A);z={vr:z,bN:C,Z6:A};g.assert(!this.xl.contains(z));this.xl.push(z);B && this.PM();};y.prototype.PM=function(){var z,B,A,C,E;z=this;h.ka && this.trace("recheck schedule task count:" + this.xl.length);if(this.PSb){if(this.Rca)h.ka && this.trace("already executing, bailing");else {C=this.bk.qZa;E=null !== (A=null === (B=this.xl.Ev()) || void 0 === B?void 0:B.bN) && void 0 !== A?A:l.S.PB;E.isFinite() && E.T5(C)?(this.hB(!1),this.wa.currentTime.xp(E)?(this.bk.set(E,v.JYa),Promise.resolve().then(function(){z.bk.vra === v.JYa && (z.bk.complete(),z.p2a());})):(h.ka && this.trace("scheduling next wake up for:" + E.V),B=c(this.wa,function(){z.bk.complete();z.p2a();},E),this.bk.set(E,v.setTimeout,B))):E.isFinite() || this.bk.vra !== v.setTimeout || this.hB(!1);}}else (h.ka && this.trace("should check schedule is false, stopping"),this.hB());};y.prototype.p2a=function(){var z,B,A,C;A=0;C=null === (z=this.xl.Ev()) || void 0 === z?void 0:z.Z6;try{for(this.Rca=!0;1E4 > A++ && this.ZVb();){;}}finally{this.Rca=!1;this.hB();1E4 < A && !this.MCb(C)?null === (B=this.console) || void 0 === B?void 0:B.error("Task scheduler executed more than 10000 iterations in same tick"):this.PM();}};y.prototype.MCb=function(z){var B,A;A=null === (B=this.xl.Ev()) || void 0 === B?void 0:B.Z6;return z && A && z.timestamp.equal(A.timestamp) && z.type === A.type?!1:!0;};y.prototype.ZVb=function(){var z,B,A;A=null !== (B=null === (z=this.xl.Ev()) || void 0 === z?void 0:z.bN) && void 0 !== B?B:l.S.PB;h.ka && this.trace("tryExecuteNextTask @" + this.wa.currentTime.V + ", next wakeup at " + A);if(this.wa.currentTime.xp(A) && (z=this.xl.pop())){B=z.vr;h.ka && this.trace("Running a task @" + this.wa.currentTime.V + ", scheduled for time:" + A.V + ("Name:" + B.name));try{B.Sv();z.Z6=B.P5();z.bN=this.f5a(z.Z6);}catch(C){throw (this.console.error("Unhandled error from a task " + B.name + " occurred. Removing the task from future executions:" + C,{stack:C.stack}),B.wb(),C);}finally{z.bN !== l.S.PB && B.state === r.ul.eW && (g.assert(!this.xl.contains(z)),this.xl.push(z));}return !0;}};y.prototype.BQb=function(z){g.assert(z.Df === this);this.Lqa(z,!1);this.uea(z);};y.prototype.Lqa=function(z,B){var A;void 0 === B && (B=!0);A=this.xl.find(function(C){return C.vr === z;});A && this.LPb(A,B);};y.prototype.LPb=function(z,B){this.xl.remove(z);B && this.PM();};y.prototype.hB=function(z){void 0 === z && (z=!0);this.bk.lH && (z && this.emit("stopping"),clearTimeout(this.bk.lH.id),this.bk.complete());};y.prototype.f5a=function(z){return z.type === t.oba.absolute?z.timestamp:z.timestamp.add(this.wa.currentTime);};y.prototype.trace=function(){for(var z,B=[],A=0;A < arguments.length;A++){B[A]=arguments[A];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,f.__spread(["TaskScheduler(" + this.name + "):"],B));};return y;})(k.EventEmitter);b.PP=q;b.hua=function(x,y,z){var B;B=void 0;return (z || x.wa.tk) && x.wa.currentTime.xp(y)?{promise:Promise.resolve()}:{promise:new Promise(function(A){B=x.gK(t.mj.YN(y),A);}),vr:B};};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BOa=void 0;c=a(2);f=a(19);k=a(6);b.BOa=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}f.ka && k.assert(l.length);return function(g,h){var m,p,u;try{for(var n=c.__values(l),r=n.next();!r.done;r=n.next()){p=r.value;u=p(g,h);if(0 !== u)return u;}}catch(w){var t;t={error:w};}finally{try{r && !r.done && (m=n.return) && m.call(n);}finally{if(t)throw t.error;}}return 0;};};},function(q,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.fAa=void 0;c=a(2);f=a(22);k=a(6);l=a(175);d=a(151);q=(function(g){function h(m,n,r){n=g.call(this,n,r) || this;n.WQb=m;n.reset();return n;}c.__extends(h,g);h.prototype.reset=function(){var m,n;if(this.Gc === l.ul.eW || this.Gc === l.ul.pending)null === (n=null === (m=this.g_) || void 0 === m?void 0:m.return) || void 0 === n?void 0:n.call(m);this.Gc=l.ul.pending;this.g_=this.WQb();this.jda=d.mj.VC(f.S.hb);};h.prototype.nl=function(){this.reset();k.assert(this.Hu);this.Hu.BQb(this);};h.prototype.P5=function(){return this.jda;};h.prototype.Of=function(){var m,n,r;r=this.g_.next();r.done?(this.jda=d.mj.gua,null === (n=(m=this.g_).return) || void 0 === n?void 0:n.call(m)):this.jda=r.value;};h.prototype.wb=function(){var m,n;null === (n=(m=this.g_).return) || void 0 === n?void 0:n.call(m);g.prototype.wb.call(this);};return h;})(l.xba);b.fAa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qGa=void 0;c=a(2);f=a(175);k=a(151);q=(function(l){function d(g,h,m){m=l.call(this,m) || this;m.xra=g;m.MR=h;return m;}c.__extends(d,l);d.prototype.P5=function(){return this.Gc === f.ul.pending?this.xra:k.mj.gua;};d.prototype.Of=function(){this.MR();};return d;})(f.xba);b.qGa=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.CFa=void 0;q=a(2);c=q.__importDefault(a(27));f=q.__importDefault(a(404));a=(function(){function k(l){this.j0=[];this.j0[c.default.Za.Hb]=new f.default(l,c.default.Za.Hb);this.j0[c.default.Za.Tb]=new f.default(l,c.default.Za.Tb);}k.prototype.Hkb=function(l,d,g){this.j0[l].add(d,g);};k.prototype.wka=function(){var l;l=[];this.j0.forEach(function(d){var g;if(d){g=d.get();g && 0 < g.length && g.forEach(function(h){l.push(h);});d.reset(!0);}});return l;};k.prototype.Ewb=function(l){var d;d=this.wka();l.strmsel=d;return 0 < d.length;};return k;})();b.CFa=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rTa=void 0;b.rTa=function(a){var c,f,k;c=Math.floor(1E6 * Math.random());f=a.hla;k=a.K3;a=0 === c % a.ila && 0 < k.length;return {Nq:a,GS:a && 0 === c % f};};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NOa=void 0;b.NOa=function(a,c){var f;if(!Array.isArray(a.MOa))return a;f=a.Hq?a.Hq():Object.create(a);a.MOa.forEach(function(k){if(void 0 !== k.aJb && c.duration >= k.aJb && k.config)for(var l in k.config){f[l]=k.config[l];}});return f;};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.wxa=void 0;c=a(2).__importStar(a(10));f=a(150);k=a(6);q=(function(){var M50;M50=2;for(;M50 !== 7;){switch(M50){case 2:l.prototype.Afb=function(d,g){var O50,h,m;O50=2;for(;O50 !== 8;){switch(O50){case 4:d=d.map(function(n){var P50;P50=2;for(;P50 !== 1;){switch(P50){case 2:return h.BIa(n,g.K,g.zy(),h.Am.vl,m);break;}}});f.cq.instance.Of();return d;break;case 2:var M1u="cre";M1u+="ateDl";M1u+="Tr";M1u+="acksSt";M1u+="art";(h=this,m=this.Am.I);0 === this.rE && this.Am.qb.zl(M1u);this.rE+=d.length;O50=4;break;}}};l.prototype.Mfb=function(){var Q50,d,g;Q50=2;for(;Q50 !== 3;){switch(Q50){case 2:(d=this,g=[]);this.Am.nb.rf.forEach(function(h){var R50;R50=2;for(;R50 !== 5;){switch(R50){case 2:c.ga(h.kg) || g.push(h.kg);h.kg=void 0;R50=5;break;}}});this.Am.tQ && (g.push(this.Am.tQ),this.Am.tQ=void 0);g.forEach(function(h){var S50;S50=2;for(;S50 !== 5;){switch(S50){case 2:h.Hn || --d.rE;f.cq.instance.oS(h);S50=5;break;}}});Q50=3;break;}}};l.prototype.Ggb=function(){var T50;T50=2;for(;T50 !== 1;){switch(T50){case 2:this.rE=0;T50=1;break;case 4:this.rE=9;T50=7;break;T50=1;break;}}};l.prototype.vKa=function(d,g){var U50,h,m;U50=2;for(;U50 !== 5;){switch(U50){case 2:(h=this.Am.nb.rf[d],m=h.kg);m && (m=g.cR(d,m),this.Lfb(d),h.kg=this.BIa(d,g.K,g.zy(),this.Am.vl,this.Am.I),g.ira(m));U50=5;break;}}};M50=3;break;case 3:l.prototype.BIa=function(d,g,h,m,n){var V50,r,p;V50=2;for(;V50 !== 7;){switch(V50){case 4:var e1u="trans";e1u+="portr";e1u+="eport";var r1u="e";r1u+="r";r1u+="ro";r1u+="r";p.Ag.on(p,r1u,function(){var Y50;Y50=2;for(;Y50 !== 5;){switch(Y50){case 2:var u1u="NFErr_MC_";u1u+="Str";u1u+="eamingFailu";u1u+="re";var D1u="D";D1u+="own";D1u+="loadTr";D1u+="ack f";D1u+="atal error";var Q1u="Down";Q1u+="loadTr";Q1u+="ack ";Q1u+="fatal error";n.Gh && r.Ch.Ul(Q1u);r.Am.Mo(D1u,void 0,u1u,p.Og,0,p.Ri);Y50=5;break;}}});p.on(e1u,function(u){var Z50;Z50=2;for(;Z50 !== 1;){switch(Z50){case 2:var A1u="tr";A1u+="an";A1u+="sp";A1u+="or";A1u+="treport";r.Am.emit(A1u,u);Z50=1;break;}}});p.mb();return p;break;case 2:var q1u="ne";q1u+="t";q1u+="workfai";q1u+="ling";var j1u="c";j1u+="r";j1u+="eated";(r=this,p=f.cq.instance.nB(d,g,!0,h,m,n));p.Ag.on(p,j1u,function(){var W50;W50=2;for(;W50 !== 5;){switch(W50){case 2:var l1u="c";l1u+="rea";l1u+="teDlTracksEnd";--r.rE;0 === r.rE && r.Am.qb.zl(l1u);W50=5;break;}}});p.Ag.on(p,q1u,function(){var X50,u;X50=2;for(;X50 !== 8;){switch(X50){case 5:k.assert(p.RS);u=r.Am.me.N;u.jp.hr(p.RS,void 0,p.Og,p.Ri);u.qo();X50=8;break;case 1:X50=p.s2?5:8;break;case 2:var G1u="repor";G1u+="tNetwo";G1u+="rkFai";G1u+="l";G1u+="ing: ";n.Gh && r.Ch.Ul(G1u + p);X50=1;break;}}});V50=4;break;}}};l.prototype.Lfb=function(d){var a60,g;a60=2;for(;a60 !== 9;){switch(a60){case 2:d=this.Am.nb.rf[d];g=d.kg;g.Hn || --this.rE;f.cq.instance.oS(g);d.kg=void 0;a60=9;break;}}};return l;break;}}function l(d,g,h){var N50;N50=2;for(;N50 !== 3;){switch(N50){case 2:var Y1u="1SIYbZr";Y1u+="N";Y1u+="J";Y1u+="Cp9";this.Am=d;this.H=g;this.Ch=h;Y1u;N50=3;break;}}}})();b.wxa=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Uua=void 0;c=a(14);f=a(9);q=(function(){function k(l){this.UE=l;this.state=new f.nq(c.ja.Ig);this.Ni={};}k.prototype.getState=function(){return this.state.value;};k.prototype.Ce=function(l){this.state.set(l);};k.prototype.addListener=function(l){this.state.addListener(l);};k.prototype.paused=function(){this.state.value === c.ja.yc && this.state.set(c.ja.Wh);};k.prototype.AWa=function(){return this.state.value === c.ja.Ig;};k.prototype.UB=function(){return "function" === typeof this.UE.UB?this.UE.UB():this.state.value === c.ja.yc;};k.prototype.Pf=function(){return this.state.value === c.ja.Sc || this.state.value === c.ja.ef;};k.prototype.BWa=function(){return this.state.value === c.ja.zi;};k.prototype.CWa=function(){return this.state.value === c.ja.pq;};k.prototype.xe=function(){return this.UE.xe();};k.prototype.up=function(){return "function" === typeof this.UE.up?this.UE.up():1;};k.prototype.tT=function(){return this.UE.tT();};k.prototype.qW=function(l,d){this.Ni[l]=d;};k.prototype.Qn=function(l){return ! !this.Ni[l.K] || l.Gi;};return k;})();b.Uua=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yEa=void 0;c=a(2).__importDefault(a(4)).default.Promise;q=(function(){function f(k,l,d){var g;this.ulb=k;this.kda=l;this.Gfb=d;this.yca=(g={},g[0]=!1,g[1]=!1,g);this.reset();}f.prototype.Hx=function(){var k,l;k=this;l=this.ulb.filter(function(d){return !d.eWa(k.Gfb());});0 === l.length && this.Vca?this.zhb():l.forEach(function(d){k.yca[d.mediaType] || (d.once("requestAppended",function(){k.yca[d.mediaType]=!1;k.Hx();}),k.yca[d.mediaType]=!0);});};f.prototype.reset=function(){var k;k=this;this.Vca=!1;new c(function(l){k.zhb=l;}).then(function(){return k.kda();});};f.prototype.IHb=function(){this.Vca || (this.Vca=!0,this.Hx());};return f;})();b.yEa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fua=void 0;c=a(19);q=(function(){function f(k){this.console=k;this.hE=[];this.FA=[];c.ka && this.console.trace("Received pending adoption " + this.ml.length);}Object.defineProperties(f.prototype,{length:{get:function(){return this.hE.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ml:{get:function(){return this.FA;},enumerable:!1,configurable:!0}});f.prototype.FHb=function(k){k=this.FA.indexOf(k);-1 !== k && (c.ka && this.console.trace("Marking request attached"),this.hE[k].cWa=!0,this.B5a(k));};f.prototype.GHb=function(k){k=this.FA.indexOf(k);-1 !== k && (c.ka && this.console.trace("Marking request completed"),this.hE[k].Ay=!0,this.B5a(k));};f.prototype.MPb=function(k){var l,d;l=this;d=[];this.FA.forEach(function(g,h){k(g) && d.unshift(h);});d.forEach(function(g){l.FA.splice(g,1);l.hE.splice(g,1);});};f.prototype.push=function(k){this.FA.push(k);this.hE.push({cWa:!1,Ay:!1});c.ka && this.console.trace("Pushing pending request, " + this.length + " total");};f.prototype.IB=function(){return 0 < this.length;};f.prototype.B5a=function(k){var l;l=this.hE[k];l.cWa && l.Ay && (l=this.FA[k],this.FA.splice(k,1),this.hE.splice(k,1),c.ka && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ka && this.console.trace("Removing last request, contentEndPts: " + l.pc));};return f;})();b.Fua=q;},function(q,b,a){var c,f,k,l,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ZDa=void 0;q=a(2);c=q.__importDefault(a(27));f=c.default.Za;k=c.default.JD;l=a(9);d=a(22);g=q.__importDefault(a(146));h=q.__importDefault(a(4));a=(function(){function m(n,r,p,u,t){this.Fv=n;this.As=r;this.I=p;this.H=u;this.tg=t;}m.prototype.ZJb=function(n){n={type:"requestCreated",request:n};l.Ta(this.As,n.type,n);};m.prototype.YJb=function(n){var r;r=n.Na.ub.P;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{va:r.id,offset:d.S.rb(this.Fv.uga - r.Z)},completePlayerStreamingTimestamp:d.S.rb(this.Fv.rs),trackIndex:n.stream.track.EE};l.Ta(this.As,n.type,n);};m.prototype.IZa=function(n,r,p){var u,t;u=this.tg;t=this.Fv.Cf;t.j3a(n);1 === u && this.I.k7 && (void 0 === t.Ema?t.l3a(h.default.time.aa()):h.default.time.aa() - t.Ema > this.I.k7 && (n.bitrate !== t.fXa && (h.default.storage.set("vb",n.bitrate),t.pSb(n.bitrate)),t.l3a(h.default.time.aa())));t.hU && t.hU === n || (this.Fv.xz.XTb(r,t.hU,n),t.dSb(n),r=0,n.lb && n.lb.confidence && n.lb.Oa && (r=n.lb.Oa.Ea),t={va:this.Fv.ub.P.id,offset:d.S.rb(p - this.Fv.ub.P.Z)},n={type:"streamSelected",nativetime:h.default.time.aa(),mediaType:u,streamId:n.id,manifestIndex:n.N.Db,trackIndex:n.track.EE,streamIndex:n.og,movieTime:p,bandwidth:r,longtermBw:r,rebuffer:0,position:t},l.Ta(this.As,n.type,n));};m.prototype.UJb=function(n,r,p){var u,t,w,v,x;u=r.N;t=u.Pl;w=this.Fv.Cf;v=u.qFb(r);x=v.oma;v=v.rFb;p && r.cd && !w.iU?(v=k.Kw,r.qr=k.name[v],this.HZa(n,r.cd,r.qr,r.location,r.bitrate),w.iU=r.cd):!p && r.cd && r.cd !== w.iU && (v=v?void 0 === w.iU?k.Kw:t.iN === k.xaa?k.Jdb:k.y9:k.Idb,r.qr=k.name[v],this.HZa(n,r.cd,r.qr,r.location,r.bitrate),w.iU=r.cd);w.HL || (v={type:"logdata",target:"startplay",fields:{}},this.tg === f.Tb?v.fields.alocid=r.location:this.tg === f.Hb && (v.fields.locid=r.location),l.Ta(this.As,v.type,v));p && r.location && !w.HL?(v=k.Kw,r.qr=k.name[v],this.FZa(u.Db,n,r.location,r.Uma,r.cd,r.QG,r.qr,r.Jv),w.HL=r.location):!p && r.location && r.location !== w.HL && (v=x?void 0 === w.HL?k.Kw:t.iN === k.xaa?k.gbb:k.y9:k.fbb,r.qr=k.name[v],this.FZa(u.Db,n,r.location,r.Uma,r.cd,r.QG,r.qr,r.Jv),r.Jv=void 0,w.HL=r.location);this.I.At || (r.aXa=r.location,r.dXa=r.cd);};m.prototype.X5=function(n){n={type:"requestsPruned",requests:n};l.Ta(this.As,n.type,n);};m.prototype.HZa=function(n,r,p,u,t){var w,v;w=this.tg === f.Hb?"video":"audio";v=g.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:w,server:r,reason:p,location:u,bitrate:t,confidence:v.confidence};v.confidence && (n.throughput=v.Oa.Ea);this.Fv.Cf.iU && (n.oldserver=r);l.Ta(this.As,n.type,n);};m.prototype.FZa=function(n,r,p,u,t,w,v,x){l.Ta(this.As,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:r,mediatype:this.tg === f.Hb?"video":"audio",location:p,locationlv:u,serverid:t,servername:w,selreason:v,seldetail:x});};m.prototype.lda=function(n,r){r={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(r)};n.yC || l.Ta(this.As,r.type,r);};m.prototype.Ul=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.aa() + ", " + n};l.Ta(this.As,n.type,n);};m.prototype.zxb=function(n){l.Ta(this.As,"transportReport",n);};return m;})();b.ZDa=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;c=a(2);f=c.__importStar(a(10));k=a(245);l=a(865);d=a(868);q=a(96);g=a(6);h=c.__importDefault(a(4));m=a(247);n=a(9);r=a(67);p=h.default.Promise;a=(function(u){function t(w,v,x,y,z,B,A,C){var E;E=u.call(this,w) || this;E.I=v;E.H=x;E.qm=y;E.Kd=z;E.tg=B;E.bka=C;E.k6a=!0;E.ug=new m.PX(E.H);E.$j=E.H.error.bind(E.H);E.Eb=E.H.warn.bind(E.H);E.sm=E.H.trace.bind(E.H);E.BKa();E.Lo=null === A || void 0 === A?void 0:A.mB(function(){return E.eQb();},"pruner");return E;}c.__extends(t,u);Object.defineProperties(t.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.tg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ub:{get:function(){return this.Kd;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yv:{get:function(){return 0 < this.lz;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ysa:{get:function(){return !this.dJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{lz:{get:function(){return this.za.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ar:{get:function(){return this.za.Ar;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xOb:{get:function(){return this.ug.count;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{n1:{get:function(){return this.za.complete.pf;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{rs:{get:function(){return this.za.xOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{uga:{get:function(){return this.za.wOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ck:{get:function(){return this.za.pf;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zm:{get:function(){return void 0 === this.za.Zc?0:this.za.Pd - this.za.Zc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cp:{get:function(){return {ca:this.za.iB,V:Math.max(this.za.xOa - this.za.Zc,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bK:{get:function(){return this.za.fpb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{iB:{get:function(){return this.za.iB;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{rx:{get:function(){return this.za.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{sC:{get:function(){return this.qgb();},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{epa:{get:function(){return this.za.HDb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{D3:{get:function(){return this.za.length > this.za.Ar;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Uo:{get:function(){return this.za.Uo;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{RFb:{get:function(){return this.wJa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{S_a:{get:function(){return this.za.length - this.yl;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Y:{get:function(){return this.za;},enumerable:!1,configurable:!0}});t.prototype.zf=function(){var w,v;v=this.za;setTimeout(function(){v.forEach(function(x){x.abort();x.Ic();});},0);this.BKa();this.ug.i2();null === (w=this.Lo) || void 0 === w?void 0:w.wb();};t.prototype.reset=function(){this.zf();this.ug.a2a();};t.prototype.close=function(){this.ug.i2();};t.prototype.S2a=function(){this.jIa=!0;};t.prototype.jka=function(){return {endMarked:void 0 !== this.ug.count,queueCount:this.ug.count,isComplete:this.ug.Ay,itemCount:this.ug.yOa,continuousEndPts:this.ug.no().reduce(function(w,v){return v && !v.done && (v=v.value,100 > Math.abs(v.bT - w) || -1 === w)?v.Axb:w;},-1),sentinelItemCount:this.ug.no().filter(function(w){return w && w.done;}).length,processedCount:this.ug.Ctb,rc:this.lz};};t.prototype.nsb=function(w,v,x){var y;y=this.I;g.assert(!w.header);w=y.rvb && 1 === this.mediaType?new d.Xua(x,y,v.track,w,this.za,this.H):k.MX.create(x,y,v.track,w,this.za,!1,this.H,this.bka);w.mb(this);this.px(w);return w;};t.prototype.Xkb=function(w){var v;w.mb(this);w.Bea=!0;this.px(w);v=p.resolve();w.complete?(this.eca(w),this.qm.IZa(w.stream,w.Zc,w.Jc),v=this.v8(),this.gv(w)):(w.active && this.PK(w),w.xqa && this.qF(w));return v;};t.prototype.px=function(w){var v,x;this.za.yp(w);(null === (v=this.Lo) || void 0 === v?void 0:v.state) === r.ul.complete && (null === (x=this.Lo) || void 0 === x?void 0:x.nl());this.eca(w);w.Ap && (this.dJ=!1);};t.prototype.AF=function(){return this.ug.qyb();};t.prototype.Ufa=function(){this.yl === this.za.length && this.jIa && this.ug.i2();};t.prototype.v8=function(){var w,v,x,y,C;w=this;x=p.resolve();y=this.Kd;if(!y.k4(this.tg) || this.yl === this.za.length)return x;for(var z=this.I.YHb,B=0,A=[];this.yl < this.za.length;){if(v=this.za.get(this.yl)){if(this.za.TRa && this.za.TRa.Xa < v.Xa)break;if(!v.Ss())break;A.push(v);++B;f.xa(this.Zc) || (this.Zc=v.Zc);}++this.yl;if(!f.ga(z) && B >= z)break;}if(A.length){void 0 !== this.ug.count && (this.$j("tryToAtach() but requestQueue has sentinel:",this.ug.count),this.ug.a2a());if(this.k6a)x=p.all(A.map(function(E){return w.ug.enqueue(E).then(function(){return w.z3(E);});}));else for(v=0;v < A.length;v++){try{C=A[v];y.SAb(this.mediaType).$tb(C);this.z3(C);}catch(E){return (this.yl-=A.length - v,p.reject(E));}}this.Ufa();}return x;};t.prototype.z3=function(w){this.wJa=w;this.dSa(w);};t.prototype.dR=function(w,v){var x,y,z;x=this;y=[];if(0 !== this.za.Ar){z=this.za.L_a;this.za.lWb.rsa(function(B){if(!f.ga(w) && B.N.Db !== w || B.Ap || z > B.Zc)return !0;B.A2 && (x.dJ=!1);if(!x.MZ(B))return (x.Eb("request abort failed:",B.toString()),!0);y.unshift(B);});this.yda();y.length && "function" === typeof v && v(y);}};t.prototype.Y6=function(){this.yda();};t.prototype.eQb=function(){var w,v,x,y,z,B;return c.__generator(this,function(A){switch(A.label){case 0:A.label=1;case 1:if(!this.za.length)return [3,3];w=this.za.get(0);v=n.S.rb(null !== (B=null === (z=this.I.vN) || void 0 === z?void 0:z.V) && void 0 !== B?B:0);x=v.add(w.pf);return [4,r.mj.YN(x)];case 2:A.Oe();if(1 >= this.za.complete.length && !w.Ap)return [3,3];g.assert(w === this.za.get(0));w.Je || this.MZ(w);y=this.za.splice(0,1);0 < this.yl && this.yl--;this.qm.X5(y);return [3,1];case 3:return [2];}});};t.prototype.GV=function(w,v){var x,y,z,B,A,C;x=this;y=this.I;z=!1;B=0;A=this.za.some(function(E){if(w < E.Pd)return (z && x.eca(E),!0);++B;E.Je || (x.Eb("pruning unappended request:",E && E.toString()),y.Gh && x.qm.Ul("prune pts:" + w + " unappended request:" + (E && E.toString())),E.A2 && (x.dJ=!1,z=!0),x.MZ(E,v) || x.$j("MediaRequest.abort error:",E.Og));});if(0 < B){C=this.za.splice(0,B);this.yl-=Math.min(B,this.yl);this.qm.X5(C);}return A;};t.prototype.n3=function(w){var v,x,y;void 0 === w && (w={VR:null,BM:null,Zc:null,jl:0,Tj:0,Y:[]});v=this.I;x=this.za;f.xa(x.Zc) && (null === w.Zc || x.Zc < w.Zc) && (w.Zc=x.Zc);y=this.rs;void 0 !== y && null === w.VR && (w.VR=y);y=x.Pd;void 0 !== y && (null === w.BM || y > w.BM) && (w.BM=y);w.jl+=x.jl;w.Tj=v.lsa?w.Tj + x.k1a:w.Tj + x.iB;Array.prototype.unshift.apply(w.Y,x.Oe.Y);return w;};t.prototype.Es=function(w){if(this.za.length && (w=this.za.JRa(w)))return w;};t.prototype.Wjb=function(w){var v,x,y;x=w.Md;w=w.Jc;g.assert(x,"expected contentEndTimestamp to be defined");g.assert(void 0 !== w,"expected contentStartPts to be defined");w=this.za.Hia(w);y=this.za.get(w);g.assert(y && void 0 !== y.Jc && void 0 !== y.pc && void 0 !== y.index,"expected existing request to be defined with properties");if(null === (v=y.Md) || void 0 === v?0:v.equal(x))return (this.hLa(w),[y.pc,y.index + 1]);this.hLa(w - 1);return [y.Jc,y.index];};t.prototype.qo=function(){var w,v;w=this;v=[];this.za.forEach(function(x){var y;y=x.Pta();1 === y?v.push(x):2 === y && w.ub.N.qh("swapUrl failure");});return v;};t.prototype.qM=function(w){w.TB && w.Ss() && this.v8();this.qF(w);};t.prototype.wk=function(w){var v,x;w.TB && !w.Je && this.v8();(null === (v=this.Lo) || void 0 === v?void 0:v.state) === r.ul.complete && (null === (x=this.Lo) || void 0 === x?void 0:x.nl());this.gv(w);};t.prototype.Gea=function(w){var v,x,y;v=1 === this.tg?"v_":"a_";x=this.za;y=x.MK(w);w=0 <= y?x.get(y):void 0;return (x=0 <= y && y + 1 < x.length?x.get(y + 1):void 0) && w?w.Pd !== x.Zc?v + "rg":w.complete && x.complete?v + "uk":v + "fd":v + "rm";};t.prototype.qgb=function(){return this.za.Uo + this.za.Ar;};t.prototype.BKa=function(){var w,v,x;v=void 0 !== this.za && 0 < this.za.length;x=this.za;this.za=new l.Sua(this.H,this);this.yl=0;this.ug.clear();this.wJa=void 0;this.Zc=null;null === (w=this.Lo) || void 0 === w?void 0:w.nl();this.jIa=this.dJ=!1;v && (w=x.map(function(y){return y;}),this.qm.X5(w));};t.prototype.eca=function(w){this.dJ?w.A2=!1:this.dJ=w.A2=!0;};t.prototype.hLa=function(w){var v;for(w+=1;w < this.lz;w++){v=this.za.get(w);g.assert(v,"expected request to exist");this.ug.remove(v);v.aborted || (this.MZ(v),v.Ic());}this.yda();};t.prototype.MZ=function(w,v){if(!w.abort())return !1;"function" === typeof v && v(w);return !0;};t.prototype.yda=function(){var w,v,x,y;w=this;if(0 !== this.za.length){x=[];y=0;this.za.oOb(function(z,B){B < w.yl && ++y;x.push(z);});this.yl-=y;null === (v=this.Lo) || void 0 === v?void 0:v.nl();this.qm.X5(x);}};return t;})(q.jw);b.HFa=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r;Object.defineProperties(b,{__esModule:{value:!0}});b.Pua=void 0;c=a(2);f=a(111);k=c.__importDefault(a(27));q=c.__importDefault(a(4));l=a(9);d=a(6);g=a(246);h=a(98);m=a(239);n=a(113);r=q.default.kq;a=(function(p){function u(t,w,v,x,y,z,B,A){var C;x=p.call(this,t,v,x,z,B,A) || this;y=h.Gk.prototype.toString.call(x) + (y?"(cache)":"");A={offset:v.offset,ca:v.foa + 8,responseType:0};x.push(new m.jO(t,w,y + "(moof)",A,x,z,B));A={offset:v.offset + A.ca,ca:v.ca - A.ca,responseType:r.Ub && !r.Ub.cW.LP?0:1};if(x.mediaType === k.default.Za.Hb && x.na){if(0 < x.na.start){C=x.MRa(x.na.start);C && (A.offset=v.offset + C,A.ca=v.ca - C);}x.na.end < x.wB && (C=x.MRa(x.na.end)) && (A.ca-=v.ca - C);}x.push(new m.jO(t,w,y + "(mdat)",A,x,z,B));return x;}c.__extends(u,p);u.prototype.Ss=function(){return !this.Je && ! !this.za.length && this.za.every(function(t){return t.Ss();});};u.prototype.JE=function(t){var w,v,x,y,z,B,A,C;if(this.Je)return {status:n.dj.pw};if(!this.Ss())return {status:n.dj.uf};w=!1;v=this.za[0].response;x=v.slice(0,v.byteLength - 8);y=new DataView(v);v=y.getUint32(x.byteLength);d.assert("mdat" === f.qn(y.getUint32(x.byteLength + 4)));z=this.na && 0 < this.na.start;y=this.na && this.na.end < this.wB;if(this.na && (z || y)){if(z)(B=new f.mq(this.H,this.stream,x),A=B.Jqa(this.na.start,this.U));if(y && !1 !== A){B=new f.mq(this.H,this.stream,A?l.jB(A.gd):x);C=B.Mqa(this.na.end - this.na.start,this.U);}if(x=y?C:A)(w=t.appendBuffer(l.jB(x.gd),l.Bp(this)),A && (v-=A.ri),C && (v-=C.ri));B=this.Bda();}else w=t.appendBuffer(x,l.Bp(this));w && (w=t.appendBuffer(f.Ky(v - 8),l.Bp(this))) && (w=t.appendBuffer(this.za[1].response,l.Bp(this)));this.Je=w;this.uPb();return {status:w?n.dj.pw:n.dj.uf,Gj:B};};u.prototype.toString=function(){return "ID: " + this.Jh() + ":" + p.prototype.toString.call(this);};return u;})(g.ZC);b.Pua=a;},function(q,b,a){var c,f,k,l,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.L7a=void 0;q=a(2);c=a(111);f=a(243);k=q.__importDefault(a(27));l=a(9);a(6);d=a(22);g=q.__importDefault(a(4));h=a(113);a=(function(){var b60;function m(){var c60;c60=2;for(;c60 !== 1;){switch(c60){case 2:var m1u="1SI";m1u+="Y";m1u+="bZr";m1u+="N";m1u+="JCp9";m1u;c60=1;break;case 4:var O1u="1SIY";O1u+="b";O1u+="ZrNJ";O1u+="Cp";O1u+="9";O1u;c60=8;break;c60=1;break;}}}b60=2;for(;b60 !== 14;){switch(b60){case 2:m.prototype.zIa=function(n){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 2:return n && n.K === this.K && n.bT === this.bT?!0:!1;break;}}};m.prototype.Igb=function(){var e60,n;e60=2;for(;e60 !== 5;){switch(e60){case 2:n=this.sd;return n.ck && !n.VA && this.stream.he && (n.e4 || n.f4 && -1 !== n.f4.indexOf(this.stream.da))?n.ZVa || 2:0;break;}}};m.prototype.mfb=function(n){var f60,r;f60=2;for(;f60 !== 5;){switch(f60){case 2:r=this.sd;return {aja:!1,gTb:!(void 0 !== r.X7?r.X7:n && n.X7)};break;}}};m.prototype.vIa=function(n){var g60,r;g60=2;for(;g60 !== 4;){switch(g60){case 2:r=this.sd;n=this.mfb(n);return {aja:n.aja,Sp:n.gTb && r.d4?r.d4 || 0:0};break;}}};m.prototype.Ueb=function(n,r,p){var h60,C,t,w,v,x,y,z,B,A;h60=2;function u(E){var i60,F,D;i60=2;for(;i60 !== 4;){switch(i60){case 2:E=Math.floor(Math.min(z,E) / x.Wb);(F=x.Wb * E,D=A - F);return {cN:E,Lq:F,Qxb:D,YU:0 < E && D < y / 1E3};break;}}}for(;h60 !== 11;){switch(h60){case 9:v=u(A);C=v.cN;h60=7;break;case 2:(t=this.sd,w=!0,v=!1);n=f.g3(t,n);(x=this.pa,y=x.U,z=this.Lq,B=r?r.Gpa:this.l0a - 2 * x.Wb,A=B - this.iSa);h60=4;break;case 3:h60=r && !p?9:6;break;case 4:p=t.sxb || p;h60=3;break;case 6:v || (C=B - d.S.F5(n,y),C=new d.S(C - this.iSa,y),r=u(t.Uf?Infinity:Math.max(0,C.Wb)),C=r.cN,(r=r.YU) && 0 < C && !t.Uf && --C);this.th({start:0,end:C});C < (t.VYa || 1) && (w=!1);h60=12;break;case 12:return {KSb:w,mHb:v};break;case 7:v=v.YU;h60=6;break;}}};m.prototype.JE=function(n,r,p,u,t,w){var j60,v,x;j60=2;for(;j60 !== 10;){switch(j60){case 2:v=this.sd;j60=1;break;case 1:j60=this.Je?5:4;break;case 9:x=this.Tfb(n,r,u,t,w);n=x.X;j60=7;break;case 5:return {status:h.dj.uf};break;case 4:j60=!this.na || this.Ap || this.ov?3:11;break;case 3:j60=this.na && (this.Ap || this.ov)?9:12;break;case 6:this.Je=!0;this.SV();return {status:n?h.dj.pw:h.dj.uf,Gj:x};break;case 12:n=this.mediaType === k.default.Za.Tb && v.mz && p && this.Ot && p.Pd >= this.Pd && this.pc - this.Ot < this.Ot - this.Jc?!0:n.appendBuffer(this.response,l.Bp(this));j60=6;break;case 7:x=x.Gj;j60=6;break;case 11:(x=this.Sfb(n,r,p,t,w),n=x.X,x=x.Gj);j60=6;break;}}};b60=8;break;case 8:m.prototype.Sfb=function(n,r,p,u,t){var k60,w,v,x,y,z;k60=2;for(;k60 !== 11;){switch(k60){case 2:(v={Sp:0},x=!1,y=!0);this.mediaType === k.default.Za.Tb && p && (u?t && this.AS():this.zIa(p)?p.na && this.na && this.na.start !== p.na.end && this.th({start:p.na.end}):(v=this.vIa(r),p.Pd === this.Zc && (v.Sp=0)));void 0 === (null === (w=this.na) || void 0 === w?void 0:w.J7)?this.mediaType === k.default.Za.Tb && !p && this.na && (v.Sp=Math.min(this.na.end - this.na.start,Math.max(this.Igb(),v.Sp || 0))):v.Sp=this.na.J7;0 >= this.duration && (y=!1,x=!0);k60=3;break;case 3:k60=y?9:12;break;case 7:x=n.appendBuffer(l.jB(r.gd),l.Bp(this));k60=6;break;case 9:k60=this.na && (0 < this.na.start || v.Sp)?8:13;break;case 13:x=n.appendBuffer(this.response,l.Bp(this));k60=12;break;case 8:var W1u="med";W1u+="ia";W1u+="|a";W1u+="sejs";var E1u="M";E1u+="P";E1u+="4";k60=(r=new c.mq(new g.default.Console(E1u,W1u),this.stream,this.response),r=r.Jqa(this.na.start,this.cM,v.Sp))?7:14;break;case 6:z=this.Bda(v);k60=12;break;case 12:return {X:x,Gj:z};break;case 14:var I1u=" ";I1u+="from [";I1u+=" ";var J1u="AseFragmentM";J1u+="ediaRequest: Fragment edit ";J1u+="fai";J1u+="led for";J1u+=" ";(this.H.error(J1u + this.toString() + I1u + this.RK + "-" + this.J2 + "]"),x=!0);k60=12;break;}}};m.prototype.Tfb=function(n,r,p,u,t){var l60,w,v,x,y;l60=2;for(;l60 !== 11;){switch(l60){case 8:n=n.appendBuffer(l.jB(x.gd),l.Bp(this));l60=7;break;case 2:(w=this.sd,v={Sp:0},x=!0);this.mediaType === k.default.Za.Tb && (u?t && (this.a2(1),x=0 < this.na.end):this.zIa(p)?p.na && 0 !== p.na.start?this.th({start:0,end:p.na.start}):x=!1:(v=this.vIa(r),w.mz || (r=this.Ueb(r,p,v.aja),(x=r.KSb) && r.mHb && (v.Sp=0))));x && 0 === this.duration && (x=!1);l60=4;break;case 4:l60=x?3:12;break;case 9:l60=(x=new c.mq(this.H,this.stream,this.response),x=x.Mqa(this.na && this.na.end,this.U,v.Sp))?8:14;break;case 3:l60=this.na && this.na.end < this.wB || v.Sp?9:13;break;case 7:y=this.Bda(v);l60=6;break;case 6:return {X:n,Gj:y};break;case 14:var c1u=" ";c1u+="from [";c1u+=" ";var n1u="AseFragmentMediaRequest: Frag";n1u+="ment edit";n1u+=" failed for ";(this.H.error(n1u + this.toString() + c1u + this.RK + "-" + this.J2 + "]"),n=!0);l60=6;break;case 12:n=!0;l60=6;break;case 13:n=n.appendBuffer(this.response,l.Bp(this));l60=6;break;}}};return m;break;}}})();b.L7a=a;b.default=new a();},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Sua=void 0;c=a(2);a(6);f=a(866);q=a(43);k=a(867);l=a(112);d=a(96);g=a(238);a=(function(h){function m(n,r){var p,u;p=this;u=[new k.LX(n),new k.LX(n),new k.LX(n)];p=h.call(this,u,function(t){return t.complete?p.empty || t.Xa <= p.gpb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);p.Xh=u[0];p.Fe=u[1];p.Yr=u[2];p.xq=0;p.Qba=0;p.H=n;p.Ge=r;return p;}c.__extends(m,h);Object.defineProperties(m.prototype,{ca:{get:function(){return this.Xh.ca + this.Fe.ca + this.Yr.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{lWb:{get:function(){return this.Yr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{active:{get:function(){return this.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{complete:{get:function(){return this.Xh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{k1a:{get:function(){return this.xq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{iB:{get:function(){return this.Xh.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jl:{get:function(){return this.Xh.ca + this.Fe.ca - this.xq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mWb:{get:function(){return this.Yr.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{first:{get:function(){return this.Nxb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Tn:{get:function(){return this.omb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vha:{get:function(){return !this.Xh.empty || this.Yr.empty || this.Fe.empty?this.first:this.Fe.Xa < this.Yr.Xa?this.Fe.first:this.Yr.first;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jXa:{get:function(){return this.Yr.empty || this.Fe.empty?this.Tn:this.Fe.jb < this.Yr.jb?this.Yr.Tn:this.Fe.Tn;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{TRa:{get:function(){return this.Yr.first;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xa:{get:function(){return this.Vha && this.Vha.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jb:{get:function(){return this.jXa && this.jXa.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lj:{get:function(){return this.first && this.first.Lj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fpb:{get:function(){return this.Xh.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{HDb:{get:function(){return this.pc - this.wOa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gpb:{get:function(){return this.Xh.empty?this.Xa:this.Xh.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wOa:{get:function(){return this.Xh.empty?this.Jc:this.Xh.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xOa:{get:function(){return this.Xh.empty?this.Zc:this.Xh.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{L_a:{get:function(){return this.Fe.Pd || this.Xh.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ar:{get:function(){return this.Yr.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Uo:{get:function(){return this.Fe.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zOa:{get:function(){return this.Xh.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Oe:{get:function(){return this.Xh.concat(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gq:{get:function(){return this.ag;},enumerable:!1,configurable:!0}});m.prototype.II=function(n){var r;n.aborted?++this.Qba:this.xq+=n.bytesReceived || 0;if(this.empty)this.ag=new g.Tz(this,{});else if(n.Xa !== this.jb)if(n.Xa > this.ag.jb)this.ag.pW(this.ag.jb);else if(n.Xa < this.Xa || n.Xa === this.ag.jb){r=n.jb;this.qxb(function(p,u){return p.Xa - u.Xa;},function(p){r=p.Xa === r?p.jb:r;});r === Math.max(this.jb,n.jb)?this.ag.iga():this.ag.pW(r);}n.Zra(this);};m.prototype.ex=function(n){n.aborted?--this.Qba:this.xq-=n.bytesReceived;this.empty?this.ag=void 0:n.Xa !== this.jb && n.jb <= this.ag.jb && n.Xa > this.ag.Xa && this.ag.pW(n.Xa);n.dOa();};m.prototype.push=function(n){this.II(n);return h.prototype.push.call(this,n);};m.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.ex(n);return n;};m.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.ex(n);return n;};m.prototype.unshift=function(n){this.II(n);return h.prototype.unshift.call(this,n);};m.prototype.yp=function(n){this.II(n);h.prototype.yp.call(this,n);};m.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.ex(n);return !0;};m.prototype.splice=function(n,r){for(var p=[],u=2;u < arguments.length;u++){p[u - 2]=arguments[u];}u=h.prototype.splice.apply(this,c.__spread([n,r],p));p.forEach(this.II.bind(this));u.forEach(this.ex.bind(this));return u;};m.prototype.oOb=function(n){var r;r=this;this.reduce(function(p,u,t){u.aborted && (n && n(u,t,r),0 === p.length || p[0].end !== t?p.unshift({start:t,end:t + 1}):p[0].end+=1);return p;},[]).forEach(function(p){return r.splice(p.start,p.end - p.start);});};m.prototype.Hia=function(n){return this.KRa(function(r){return r.Hia(n);});};m.prototype.MK=function(n){return this.KRa(function(r){return r.MK(n);});};m.prototype.JRa=function(n){n=this.MK(n);return -1 !== n?this.get(n):void 0;};m.prototype.nRb=function(n){var p;for(var r=[];n < this.length;){p=this.get(n);p && r.push(p);n++;}return r;};m.prototype.Wy=function(n){this.move(n);this.PK(n);};m.prototype.rM=function(n){this.xq+=n.bytesReceived - n.er;this.QK(n);};m.prototype.wk=function(n){for(this.xq+=n.bytesReceived - n.er;this.Fe.first && this.Fe.first.complete && (this.Xh.empty?this.Fe.first === this.Vha:this.Fe.first.Xa === this.Xh.jb);){this.ISb();}this.gv(n);};m.prototype.iV=function(n,r,p){this.xq-=n.bytesReceived;++this.Qba;this.OK(n,r,p);};return m;})(f.xwa);b.Sua=a;q.tf(d.jw,a,!1);q.tf(l.Uz,a);q.tf(l.Sz,a);},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xwa=void 0;c=a(2);a(6);q=(function(){function f(k,l){this.Vc=k;this.UI=l;this.Zw();}Object.defineProperties(f.prototype,{length:{get:function(){return this.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Re;},enumerable:!1,configurable:!0}});f.prototype.Nxb=function(){return this.sg && this.sg.get(0);};f.prototype.omb=function(){return this.OI && this.OI.get(this.OI.length - 1);};f.prototype.get=function(k){0 > k && (k+=this.length);for(var l=0;l < this.Vc.length;++l){if(this.Dh[l + 1] > k)return this.Vc[l].get(k - this.Dh[l]);}};f.prototype.push=function(k){this.Vc[this.UI(k)].push(k);this.Zw();return this.Re;};f.prototype.shift=function(){var k;if(this.sg){k=this.sg.shift();this.Zw();return k;}};f.prototype.pop=function(){var k;if(this.OI){k=this.OI.pop();this.Zw();return k;}};f.prototype.unshift=function(k){this.Vc[this.UI(k)].unshift(k);this.Zw();return this.Re;};f.prototype.yp=function(k){var l;l=this.UI(k);this.Vc[l].yp(k);this.Zw();};f.prototype.remove=function(k){var l;l=this.Vc.some(function(d){return d.remove(k);});l && this.Zw();return l;};f.prototype.splice=function(k,l){var p,u,t,w;for(var d,g=[],h=2;h < arguments.length;h++){g[h - 2]=arguments[h];}h=[];for(var m,n=k + Math.max(0,l),r=0;r < this.Vc.length;++r){p=this.Vc[r];u=this.Dh[r];t=this.Dh[r + 1];if(k < t){w=k - u;u=Math.min(n - u,p.length);void 0 === m && 0 < w && u < p.length?Array.prototype.push.apply(h,p.splice.apply(p,c.__spread([w,u - w],g))):(Array.prototype.push.apply(h,p.splice(w,u - w)),void 0 === m && (m=0 < r && 0 === w?r - 1:r));k=t;if(k >= n)break;}}if(g.length && void 0 !== m){for(n=this.UI(g[0]);0 < m && n < m && this.Vc[m].empty;){--m;}for(;g.length && n === m;){this.Vc[m].push(g.shift());if(!g.length)break;n=this.UI(g[0]);}for(;g.length && ++m < this.Vc.length && this.Vc[m].empty;){for(;g.length && n === m;){this.Vc[m].push(g.shift());if(!g.length)break;n=this.UI(g[0]);}}g.length && (d=this.Vc[m]).splice.apply(d,c.__spread([0,0],g));}this.Zw();return h;};f.prototype.find=function(k){var l,d;l=this;return this.Vc.some(function(g,h){d=g.find(l.QA(k,h));return void 0 !== d;})?d:void 0;};f.prototype.findIndex=function(k){var d;for(var l=0;l < this.Vc.length;++l){d=this.Vc[l].findIndex(this.QA(k,l));if(-1 !== d)return d + this.Dh[l];}return -1;};f.prototype.indexOf=function(k){var d;for(var l=0;l < this.Vc.length;++l){d=this.Vc[l].indexOf(k);if(-1 !== d)return d + this.Dh[l];}return -1;};f.prototype.map=function(k){var l,d;l=this;d=this.Vc.map(function(g,h){return g.map(l.QA(k,h));});return Array.prototype.concat.apply([],d);};f.prototype.reduce=function(k,l){var d;d=this;return this.Vc.reduce(function(g,h,m){return h.reduce(d.Rjb(k,m),g);},l);};f.prototype.forEach=function(k){var l;l=this;this.Vc.forEach(function(d,g){d.forEach(l.QA(k,g));});};f.prototype.B2=function(k){for(var l=this.Vc.length - 1;0 <= l;--l){this.Vc[l].B2(this.QA(k,l));}};f.prototype.some=function(k){var l;l=this;return this.Vc.some(function(d,g){return d.some(l.QA(k,g));});};f.prototype.rsa=function(k){for(var l=this.Vc.length - 1;0 <= l;--l){if(this.Vc[l].rsa(this.QA(k,l)))return !0;}return !1;};f.prototype.every=function(k){var l;l=this;return this.Vc.every(function(d,g){return d.every(l.QA(k,g));});};f.prototype.qxb=function(k,l){var n,r;function d(p){return p.reduce(function(u,t,w,v){return void 0 === t?u:void 0 === u?w:0 > k(t,v[u])?w:u;},void 0);}for(var g=this,h=this.Vc.map(function(){return 0;}),m=this.Vc.filter(function(p){return p.empty;}).length;m < this.Vc.length;){n=h.map(function(p,u){return p < g.Vc[u].length?g.Vc[u].get(p):void 0;});r=d(n);l(n[r],this.Dh[r] + h[r],this);++h[r];h[r] === this.Vc[r].length && ++m;}};f.prototype.move=function(k){return this.remove(k)?(this.yp(k),!0):!1;};f.prototype.ISb=function(){var k;if(this.Vc[1].length){k=this.Vc[1].shift();this.Vc[0].push(k);this.Zw();}};f.prototype.KRa=function(k){for(var l=-1,d=0;d < this.Vc.length;++d){if((l=k(this.Vc[d]),-1 !== l)){l+=this.Dh[d];break;}}return l;};f.prototype.toJSON=function(){return this.map(function(k){return k.toJSON();});};f.prototype.Zw=function(){var l;this.Re=0;this.Dh=[0];this.OI=this.sg=void 0;for(var k=0;k < this.Vc.length;++k){l=this.Vc[k];this.Re+=l.length;this.Dh.push(this.Dh[this.Dh.length - 1] + l.length);!this.sg && l.length && (this.sg=l);l.length && (this.OI=l);}};f.prototype.QA=function(k,l){var d,g;d=this;g=this.Dh[l];return function(h,m){return k(h,g + m,d);};};f.prototype.Rjb=function(k,l){var d,g;d=this;g=this.Dh[l];return function(h,m,n){return k(h,m,g + n,d);};};return f;})();b.xwa=q;},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LX=void 0;c=a(2);f=a(6);q=a(43);k=a(238);a=a(112);l=(function(){function d(g,h){this.Ja=[];this.ag=void 0;this.Fc=0;this.H=g;h && h.length && (Array.isArray(h)?(this.Ja=h.slice(),this.XP(0,this.Ja.length)):h instanceof d && (this.Ja=h.Ja.slice(),this.XP(0,this.Ja.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ja.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ja.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ja[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tn:{get:function(){return this.Ja[this.Ja.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xa:{get:function(){return this.first && this.first.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jb:{get:function(){return this.Tn && this.Tn.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gq:{get:function(){return this.ag;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ca:{get:function(){return this.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lj:{get:function(){return this.first && this.first.Lj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Ja;},enumerable:!1,configurable:!0}});d.prototype.bmb=function(){var g;if(0 === this.Ja.length)(f.assert(void 0 === this.ag),f.assert(0 === this.Fc));else {f.assert(this.ag instanceof k.Tz);f.assert("number" === typeof this.Fc);f.assert(void 0 !== this.Gq && this.Gq.Xa === this.Xa);g=this.Ja.reduce(function(h,m,n){return 0 === n || m.Xa === h?m.jb:h;},0);f.assert(this.Gq.jb === g);f.assert(this.Ja.reduce(function(h,m,n){return 0 === n || m.Xa === h?m.jb:h;},0) === this.Gq.jb);f.assert(this.Ja.reduce(function(h,m){return h + m.ca;},0) === this.Fc);}};d.prototype.get=function(g){0 > g && (g+=this.Ja.length);return this.Ja[g];};d.prototype.push=function(g){this.Ja.push(g);this.XP(this.Ja.length - 1);return this.length;};d.prototype.unshift=function(g){this.Ja.unshift(g);this.XP(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ja.length)return (this.Ada(this.Ja.length - 1),this.Ja.pop());};d.prototype.shift=function(){if(0 !== this.Ja.length)return (this.Ada(0),this.Ja.shift());};d.prototype.splice=function(g,h){for(var m,n=[],r=2;r < arguments.length;r++){n[r - 2]=arguments[r];}0 > g && (g+=this.Ja.length);0 > g && (g=0);g > this.Ja.length && (g=this.Ja.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Ja.length - g);0 < h && this.Ada(g,g + h);r=(m=this.Ja).splice.apply(m,c.__spread([g,h],n));0 < n.length && this.XP(g,g + arguments.length - 2);return r;};d.prototype.slice=function(g,h){void 0 === g && (g=0);void 0 === h && (h=this.Ja.length);0 > g && (g+=this.Ja.length);if(g >= this.Ja.length)return new d(this.H);h > this.Ja.length && (h=this.Ja.length);0 > h && (h+=this.Ja.length);return new d(this.H,this.Ja.slice(g,h));};d.prototype.yp=function(g){if(0 === this.Ja.length || g.Xa >= this.jb)this.push(g);else if(g.jb <= this.Xa)this.unshift(g);else {for(var h=0,m=this.Ja.length - 1,n;h < m - 1;){n=Math.floor((m + h) / 2);f.assert(n !== m && n !== h);g.Xa >= this.Ja[n].jb?h=n:m=n;}f.assert(h !== m);f.assert(this.Ja[h].jb <= g.Xa && this.Ja[m].Xa >= g.jb);this.splice(m,0,g);}};d.prototype.remove=function(g){g=this.Ja.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}g=g.map(function(m){return m.Ja;});return new d(this.H,Array.prototype.concat.apply(this.Ja,g));};d.prototype.forEach=function(g){var h;h=this;this.Ja.forEach(function(m,n){return g(m,n,h);});};d.prototype.some=function(g){var h;h=this;return this.Ja.some(function(m,n){return g(m,n,h);});};d.prototype.every=function(g){var h;h=this;return this.Ja.every(function(m,n){return g(m,n,h);});};d.prototype.map=function(g){var h;h=this;return this.Ja.map(function(m,n){return g(m,n,h);});};d.prototype.reduce=function(g,h){var m;m=this;return this.Ja.reduce(function(n,r,p){return g(n,r,p,m);},h);};d.prototype.indexOf=function(g){return this.Ja.indexOf(g);};d.prototype.find=function(g){var h,m;h=this;return this.Ja.some(function(n,r){m=r;return g(n,r,h);})?this.Ja[m]:void 0;};d.prototype.findIndex=function(g){var h,m;h=this;return this.Ja.some(function(n,r){m=r;return g(n,r,h);})?m:-1;};d.prototype.filter=function(g){var h;h=this;return new d(this.H,this.Ja.filter(function(m,n){return g(m,n,h);}));};d.prototype.B2=function(g){for(var h=this.Ja.length - 1;0 <= h;--h){g(this.Ja[h],h,this);}};d.prototype.rsa=function(g){for(var h=this.Ja.length - 1;0 <= h;--h){if(g(this.Ja[h],h,this))return !0;}return !1;};d.prototype.Hia=function(g){if(this.empty || g < this.Jc || g >= this.pc)return -1;for(var h=0,m=this.Ja.length - 1,n;m > h;){n=Math.floor((m + h) / 2);if(g >= this.Ja[n].Jc && g < this.Ja[n].pc){m=n;break;}g < this.Ja[n].pc?m=n - 1:h=n + 1;}return m;};d.prototype.MK=function(g){if(this.empty || g < this.Zc || g >= this.Pd)return -1;for(var h=0,m=this.Ja.length - 1,n;m > h;){n=Math.floor((m + h) / 2);if(g >= this.Ja[n].Zc && g < this.Ja[n].Pd){m=n;break;}g < this.Ja[n].Pd?m=n - 1:h=n + 1;}return m;};d.prototype.JRa=function(g){g=this.MK(g);return 0 <= g?this.Ja[g]:void 0;};d.prototype.q0=function(g){var h;h=this.Ja[g].jb;for(g+=1;g < this.Ja.length && h === this.Ja[g].Xa;++g){h=this.Ja[g].jb;}g < this.Ja.length?void 0 === this.ag?this.ag=new k.Tz(this,{jb:h}):this.ag.pW(h):void 0 === this.ag?this.ag=new k.Tz(this,{}):this.ag.iga();};d.prototype.II=function(g,h){for(var m=g;m < h;++m){this.Fc+=this.Ja[m].ca;}void 0 === this.ag || 0 === g?this.q0(0):this.ag.jb === this.jb?this.q0(g - 1):this.Ja[g].Xa === this.ag.jb && this.q0(g);};d.prototype.ex=function(g,h){var m;if(0 === g)(this.ag=void 0,h < this.length && this.q0(h));else {m=this.ag;m.jb > this.Ja[g - 1].jb && (h < this.length?m.pW(this.Ja[g - 1].jb):m.iga());}for(;g < h;++g){this.Fc-=this.Ja[g].ca;}};d.prototype.XP=function(g,h){void 0 === h && (h=g + 1);this.II(g,h);};d.prototype.Ada=function(g,h){void 0 === h && (h=g + 1);this.ex(g,h);};return d;})();b.LX=l;q.tf(a.Uz,l);q.tf(a.Sz,l);},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Xua=void 0;c=a(2);f=a(111);k=a(6);c.__importDefault(a(4));l=a(9);d=a(246);g=a(98);h=a(239);m=a(113);q=(function(n){function r(p,u,t,w,v,x){u=n.call(this,p,w,v,u,x) || this;u.Qfb=t;u.p_=r.fD.INIT;u.f3b=w.offset;u.Xca=g.Gk.prototype.toString.call(u) + " multiple";u.iib=w.ca;u.CJ(p.url,w.offset,8,0);return u;}c.__extends(r,n);Object.defineProperties(r.prototype,{data:{get:function(){return this.om;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ca:{get:function(){return this.iib;},enumerable:!1,configurable:!0}});r.prototype.wk=function(p){var u,t;this.om=this.p_ === r.fD.INIT?p.response:l.jB(this.om,p.response);p.SV();switch(this.p_){case r.fD.INIT:(u=new DataView(this.om),t=u.getUint32(0));u=u.getUint32(4);f.qn(u);this.CJ(p.url,p.offset + p.ca,t,0);d.ZC.prototype.wk.call(this,p);this.p_=r.fD.hBa;break;case r.fD.hBa:u=new DataView(this.om);t=u.getUint32(this.uIa - 8);u=u.getUint32(this.uIa - 4);f.qn(u);this.CJ(p.url,p.offset + p.ca,t - 8,0);this.p_=r.fD.cBa;d.ZC.prototype.wk.call(this,p);break;case r.fD.cBa:d.ZC.prototype.wk.call(this,p);break;default:k.assert(!1);}};r.prototype.JE=function(p){if(this.Je)return {status:m.dj.pw};if(!this.Ss())return {status:m.dj.uf};this.Je=p.appendBuffer(this.om,l.Bp(this));return {status:this.Je?m.dj.pw:m.dj.uf};};r.prototype.CJ=function(p,u,t,w){p=new h.jO(this.stream,this.Qfb,this.Xca + " (" + this.za.length + ")",{K:this.K,mediaType:this.mediaType,La:this.La,bitrate:this.bitrate,offset:u,ca:t,url:p,location:this.location,Rc:this.Rc,responseType:w},this,this.sd,this.H);this.push(p);this.uIa=this.za.reduce(function(v,x){return v + x.ca;},0);};r.fD={INIT:0,hBa:1,cBa:2,name:["INIT","MOOF","MDAT"]};return r;})(d.ZC);b.Xua=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xGa=void 0;c=a(243);f=a(22);q=(function(){function k(l,d){this.Uf=l;this.console=d;this.eE=Infinity;this.eQ=this.V_=0;this.YKa=!1;}k.prototype.ZPb=function(){this.YKa=!0;};k.prototype.Swb=function(l,d,g,h,m){var n;if(this.Uf){n=l.Y;if(n){if(1 === g)(g=n.Gm(Math.ceil(this.Uf * l.pa.vG),void 0,!0),n=l.nk(g),l=n.BS.Yk(l.pa),n.th({start:0,end:this.Uf - g * l}),this.eE=this.Uf);else {void 0 !== h.S3a?(d=h.S3a,g=d * l.pa.V):(g=c.g3(h,m) + Math.ceil(h.Ulb * l.pa.vG),f.S.rb(g).Yk(l.pa),g=d + g,d=Math.ceil(g / l.pa.vG));g=n.Gm(g,void 0,!0);for(m=h=0;m < g;++m){n=l.nk(m);h+=n.BS.Yk(l.pa);}h=d - h;n=l.nk(g);n.th({end:h});this.eE=d;}n.cYa();return n;}}};k.prototype.IDb=function(l){this.eQ+=l.T1a;this.console.warn("StallAtFrameCount, adding frames: " + l.T1a,"total frames: " + this.eQ,"needed frames: " + this.eE);};k.prototype.ECb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.V_,"needed: " + this.eE);return this.V_ >= this.eE;};k.prototype.DCb=function(){return this.eQ >= this.eE;};k.prototype.KDb=function(l,d){this.V_+=this.yB(l,d);};k.prototype.Ovb=function(l,d,g){l.T1a=this.yB(d,g);};k.prototype.yB=function(l,d){return l.BS.Yk(d.pa);};k.prototype.Hx=function(){if(!this.DCb())return !1;if(this.YKa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.eQ + " >= " + this.eE);return !0;};return k;})();b.xGa=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperties(b,{__esModule:{value:!0}});b.HGa=void 0;q=a(2);c=q.__importStar(a(10));f=q.__importDefault(a(27));k=q.__importDefault(a(4));l=a(30);d=a(14);g=a(248);h=a(871);m=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ja[d.ja.Ig],d.ja[d.ja.Sc],d.ja[d.ja.ef],d.ja[d.ja.yc],d.ja[d.ja.Wh],"checkBuffering"];r={first:a(872),random:a(873),optimized:a(177).default,roundrobin:a(877),selectaudio:a(413),selectaudioadaptive:a(878),"default":a(177).default,lowest:a(879),highest:a(880),throughputthreshold:a(881),replay:a(882).default,checkdefault:a(884),testscript:a(885)};p={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var m60;function u(t,w,v,x){var n60,y;n60=2;for(;n60 !== 6;){switch(n60){case 2:y=this;this.jN=t;this.I=w;n60=4;break;case 4:var h1u="1SIYbZ";h1u+="rN";h1u+="JCp9";this.Cf=v;h1u;t=t || this.I.Gsa;this.Yf=n.reduce(function(z,B){var o60;o60=2;for(;o60 !== 5;){switch(o60){case 2:z[B]=((r[t] || r[p[B]])[B] || r[p[B]][B]).bind(y);return z;break;}}},{});x && (this.w_a=new h.eDa(w));n60=6;break;}}}m60=2;for(;m60 !== 6;){switch(m60){case 2:u.prototype.Hra=function(t,w,v,x,y,z){var p60,J,H,M,q60,O,B,A,C,E,F,D,G,L,I;p60=2;for(;p60 !== 61;){switch(p60){case 38:p60=!L || null === L.ie?37:36;break;case 31:a000.u9b(1);var k31=a000.r9b(23,24);y=L.ie + k31;p60=30;break;case 52:this.w_a && (L.kt=this.w_a.IAb({maxBitrate:x.N.vv[x.mediaType],TJ:v.Hl - v.qc,Yi:x,$Wb:w[L.ie + 1],lHb:w[0],fe:t.state,playbackRate:t.playbackRate}));p60=51;break;case 13:(J=v.Y,H=J.length);p60=12;break;case 16:c.ga(D) && (D=this.Cf.cXa);void 0 !== x && this.Qpa(w,! !t.Wq,t.buffer,x);t.state === d.ja.Ig && c.xa(D) && (t.state=d.ja.Sc);t.state !== d.ja.Ig && void 0 === D && (t.state=d.ja.Ig);p60=25;break;case 11:M=J[H - 1].La;p60=10;break;case 20:p60=!(0 <= D)?19:16;break;case 10:D=l.fs(w,function(P){var s60;s60=2;for(;s60 !== 1;){switch(s60){case 2:return P.La === M;break;}}});p60=20;break;case 17:D=0 < D?D - 1:0 === D?0:w.length - 1;p60=16;break;case 47:p60=q60 === d.ja.Sc?46:45;break;case 62:var t1u="Str";t1u+="eam sele";t1u+="ctor called with";t1u+=" invalid player sta";t1u+="te ";return (m.error(t1u + d.ja[t.state]),null);break;case 36:this.Cf.D7(L.ie);x=w[L.ie];L.reason && (x.qr=L.reason,x.Gra=L.Ps,x.wy=L.wy,x.On=L.On,x.Pn=L.Pn);p60=52;break;case 25:q60=t.state;p60=q60 === d.ja.Ig?24:47;break;case 40:G.Y && G.Y.length || (x=!0,L.Vx.push(G.La));p60=39;break;case 19:O=J[H - 1].bitrate;D=l.fs(w,function(P){var t60;t60=2;for(;t60 !== 1;){switch(t60){case 2:return P.bitrate > O;break;}}});p60=17;break;case 21:p60=L.Yi && (L.Vx=[],w.forEach(function(P,R){var u60;u60=2;for(;u60 !== 4;){switch(u60){case 2:P === L.Yi && (L.ie=R);(!F.dvb || P.Y && P.Y.length) && !P.R7 || L.Vx.push(P.La);P.R7=!1;u60=4;break;}}}),!L.Vx.length)?35:38;break;case 37:return null;break;case 39:x || (L.Vx=void 0);p60=38;break;case 44:p60=!x?43:39;break;case 2:v=null === t || void 0 === t?void 0:t.buffer;p60=5;break;case 12:p60=0 < H?11:16;break;case 35:y=v.Hl - v.qc;G=void 0;x=!1;p60=32;break;case 29:G=w[y];p60=28;break;case 28:G.Y && G.Y.length || (x=!0,L.Vx.push(G.La));p60=44;break;case 64:p60=q60 === d.ja.Wh?22:63;break;case 46:this.Cf.$2a(f.default.yY.Ig);p60=22;break;case 42:p60=0 <= y?41:39;break;case 23:this.Cf.$2a(f.default.yY.Ig);p60=22;break;case 43:y=L.ie - 1;p60=42;break;case 32:p60=F.J3a && y > F.IU?31:39;break;case 9:p60=c.ga(D) && t.state === d.ja.yc && (G=!0,void 0 !== this.Cf.Ws)?8:13;break;case 14:this.Cf.D7(D);p60=13;break;case 63:p60=62;break;case 48:return L;break;case 51:var p1u="p";p1u+="l";p1u+="aying";c.xa(D) && x.bitrate < w[D].bitrate && (this.Yca=v.oc);t.state !== d.ja.yc && t.state !== d.ja.Wh?(w=g.x6(t.state),z=this.Hx(t.buffer,w,t.playbackRate,x,z),(L.Se=z.complete)?L.Q0=z.reason:(L.Se=!1,L.GG=z.GG,L.bC=z.bC,L.progress=z.progress)):(L.Se=!0,L.Q0=p1u);t.xK && (L.oc=v.oc,z=t && t.kf,w=x.Y,L.Aj=w && void 0 !== z && !isNaN(z) && 0 <= z && z < w.length?w.Zi(z):v.oc,L.mNb=x.Oa || 0,L.qKb=x.lb && x.lb.Oa && x.lb.Oa.Ea || 0,L.Bfa=v.Hl - v.qc,L.oNa=v.Tj,L.VMb=null !== (C=null === (A=null === (B=k.default.U4b) || void 0 === B?void 0:B.call(k.default)) || void 0 === A?void 0:A[1 === t.mediaType?1:0]) && void 0 !== C?C:-1,L.fe=t.state,L.Uo=t && t.Uo,L.wta=E,L.RUb=k.default.time.aa());p60=48;break;case 24:this.cda=this.Yca=void 0;p60=23;break;case 65:p60=q60 === d.ja.yc?22:64;break;case 5:(E=k.default.time.aa(),F=this.I,D=this.Cf.cXa,G=!1);c.xa(D) && t.state === d.ja.Ig && (this.Cf.D7(void 0),D=void 0);c.xa(D) && D >= w.length && (this.Cf.D7(void 0),D=void 0);p60=9;break;case 41:G=w[y];p60=40;break;case 22:L=this.Yf[d.ja[t.state]].call(this,F,t,w,D,x,! !y,G);p60=21;break;case 30:p60=y < w.length?29:44;break;case 45:p60=q60 === d.ja.ef?46:65;break;case 8:I=this.Cf.Ws.bitrate;D=l.fs(w,function(P){var r60;r60=2;for(;r60 !== 1;){switch(r60){case 2:return P.bitrate > I;break;case 4:return P.bitrate >= I;break;r60=1;break;}}});D=0 < D?D - 1:0 === D?0:w.length - 1;p60=14;break;}}};u.prototype.Hx=function(t,w,v,x,y){var v60;v60=2;for(;v60 !== 1;){switch(v60){case 2:return this.Yf.checkBuffering.call(this,t,w,v,x,y,this.I);break;}}};u.prototype.XTb=function(t,w,v){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 2:c.ga(w)?this.Yca=this.cda=void 0:w.bitrate < v.bitrate && (this.cda=t);w60=1;break;}}};u.prototype.Qpa=function(t,w,v,x){var x60,y,z;x60=2;for(;x60 !== 5;){switch(x60){case 2:this.B2(t,function(B){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:B.Vs && B.lb && B.lb.confidence?(y !== B.lb && (y=B.lb,w && B.lb && (B.lb.Wq=!0),z=Math.floor(x(B.lb,v,B.track.N.vv[0])),z=0 === z?1:z),B.Oa=z):B.Oa=void 0;y60=1;break;}}});x60=5;break;}}};u.prototype.B2=function(t,w){var z60,v;z60=2;for(;z60 !== 3;){switch(z60){case 7:z60=7 > v?8:4;break;z60=0 <= v?5:3;break;case 2:a000.u9b(7);var m31=a000.r9b(12,12);v=t.length - m31;z60=1;break;case 1:z60=0 <= v?5:3;break;case 4:--v;z60=1;break;case 14:++v;z60=0;break;z60=1;break;case 5:w(t[v],v,t);z60=4;break;}}};Object.defineProperties(u.prototype,{L4:{get:function(){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:return this.Yca;break;case 4:return this.Yca;break;A60=1;break;}}},enumerable:!1,configurable:!0}});m60=8;break;case 8:Object.defineProperties(u.prototype,{Hma:{get:function(){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:return this.cda;break;case 4:return this.cda;break;B60=1;break;}}},enumerable:!1,configurable:!0}});return u;break;}}})();b.HGa=a;},function(q,b,a){var k,l;function c(d){return d.maxBitrate;}function f(d){var g,h,m;return (null === (m=null === (h=null === (g=d.Yi) || void 0 === g?void 0:g.lb) || void 0 === h?void 0:h.Oa) || void 0 === m?void 0:m.Ea) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.eDa=void 0;q=a(2).__importDefault(a(4));k=a(14);new q.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");l={maxStreamBitrate:c,"static":function(d,g){return g.LTb;},none:function(){return 0;},regression:function(d,g){var h,m,n,r,p,u,t;r=g.h1.T3b;if(!r || "object" !== typeof r)return 0;p=d.fe === k.ja.Ig?1:0;u=d.fe === k.ja.Sc?1:0;t={bitrate:((null === (h=d.Yi) || void 0 === h?void 0:h.XF) || 0) * d.playbackRate,upswitchBitrate:((null === (m=d.$Wb) || void 0 === m?void 0:m.XF) || 0) * d.playbackRate,maxBitrate:d.maxBitrate,bufferLevelMs:d.TJ,observedThroughput:f(d,g) || 0,predictedThroughput:(null === (n=d.Yi) || void 0 === n?void 0:n.Oa) || 0,inStartingState:p,inBufferingState:u,inPlayingState:d.fe === k.ja.yc?1:0,inRebufferingState:d.fe === k.ja.ef?1:0,startingObservedThroughput:p * (f(d,g) || 0),bufferingObservedThroughput:u * (f(d,g) || 0)};d=r.offset || 0;return Object.keys(t).reduce(function(w,v){return w + (r[v] || 0) * t[v];},d);},"default":c};a=(function(){function d(g){var D60;D60=2;for(;D60 !== 4;){switch(D60){case 2:var S1u="d";S1u+="e";S1u+="fau";S1u+="l";S1u+="t";var k1u="1SIYb";k1u+="Z";k1u+="r";k1u+="NJCp9";this.I=g;k1u;this.algorithm=(l[this.I.HLb] || l[S1u]).bind(this);D60=4;break;}}}var C60;C60=2;for(;C60 !== 4;){switch(C60){case 5:return d;break;case 2:d.prototype.Fja=function(g,h,m){var E60,n;E60=2;for(;E60 !== 8;){switch(E60){case 4:a000.D9b(8);h=Math.ceil(a000.Q9b(m,h));g=(this.I.h1.G5b || 0) * ((null === (n=g.lHb) || void 0 === n?void 0:n.XF) || 0);return h < g?0:h;break;case 5:return 0;break;case 2:E60=1;break;case 1:E60=!m?5:4;break;}}};d.prototype.IAb=function(g){var F60,n,r,h,m,p,u;F60=2;for(;F60 !== 10;){switch(F60){case 4:n=0;F60=3;break;case 2:(h={K7:0,r1:0,T6:0},m=this.I.h1);F60=1;break;case 9:p=!1;F60=8;break;case 12:u=null === (p=g.Yi) || void 0 === p?void 0:p.lb;F60=11;break;case 5:return h;break;case 1:F60=!m?5:4;break;case 8:p?n=f(g,this.I):g.TJ >= m.LU && (n=this.algorithm(g,this.I));h.K7=this.Fja(g,n,m.X0a[0]);h.r1=this.Fja(g,n,m.X0a[1]);h.T6=this.Fja(g,n,m.X0a[2]);return h;break;case 3:F60=!this.I.h1.s4b || g.fe !== k.ja.Ig && g.fe !== k.ja.Sc?9:12;break;case 11:p=u && u.confidence >= k.kaa.ww && (null === (r=u.Oa) || void 0 === r?0:r.Ea)?!0:!1;F60=8;break;}}};C60=5;break;case 7:return d;break;C60=4;break;}}})();b.eDa=a;},function(q,b,a){var f,k,l,d;function c(g,h,m,n){if(f.ga(n))g=k(m);else if(l(m[n]))g=n;else if((g=k(m,n),0 > g))return null;return new d(g);}f=a(10);b=a(39);k=b.Oia;l=b.GL;d=b.Do;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){var f;function c(k,l,d){k=d.map(function(g,h){return g.Vs?h:null;}).filter(function(g){return null !== g;});return k.length?new f(k[Math.floor(Math.random() * k.length)]):null;}f=a(39).Do;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.r7=void 0;q=a(2);c=q.__importStar(a(10));f=a(30);q=q.__importDefault(a(39));k=a(412);l=q.default.assert;d=q.default.Do;b.r7=g;(function(){var G60;function h(m,n,r,p){var H60,x,t,w,v,y;H60=2;function u(z){var I60,B;I60=2;for(;I60 !== 8;){switch(I60){case 4:var z1u="buff_";z1u+="l";z1u+="t_hi";z1u+="st";x=z1u;y=B;return !0;break;case 2:B=z.Oa;I60=1;break;case 1:I60=!B || (z.bitrate > w?m.ZWb:1) * z.bitrate * n.playbackRate > B?5:4;break;case 5:return !1;break;}}}for(;H60 !== 10;){switch(H60){case 8:var v1u="fallback_lowest_";v1u+="ac";v1u+="ceptable_stream";x=v1u;H60=7;break;case 5:H60=t.Oa?4:14;break;case 2:var R1u="Must have at least one s";R1u+="e";R1u+="lected str";R1u+="eam";l(!c.ga(p),R1u);(t=r[p],w=t.bitrate,v=t);H60=5;break;case 4:t=f.wg(r.slice(0,Math.min(p + (m.flb?2:1),r.length)).reverse(),u);H60=3;break;case 9:t=r[0];H60=8;break;case 3:H60=void 0 === t?9:6;break;case 7:y=null === t || void 0 === t?void 0:t.Oa;H60=14;break;case 6:var f1u="se";f1u+="le";f1u+="c";f1u+="t_feasibl";f1u+="e_buffering";x=f1u;H60=7;break;case 14:r=new d();r.Yi=t;v !== t && (r.reason=x,r.Ps=y);return r;break;}}}G60=2;for(;G60 !== 5;){switch(G60){case 2:var C1u="1";C1u+="SIYbZ";C1u+="rNJCp";C1u+="9";b.r7=g=function(m,n,r,p,u,t,w){var J60;J60=2;for(;J60 !== 1;){switch(J60){case 2:var H1u="p";H1u+="l";H1u+="a";H1u+="yi";H1u+="ng";return H1u === m.zfa?k.Uv.call(this,m,n,r,p,u,t,w):h.call(this,m,n,r,p);break;}}};C1u;G60=5;break;}}})();},function(q,b,a){var c;a(10);c=a(39).console;q.exports=function(f,k,l,d,g,h,m,n,r,p,u,t,w,v,x){var r6u=a000;var K60,y,z,B,A,C,E,F,D;K60=2;for(;K60 !== 39;){switch(K60){case 40:return {result:!0,uU:d / (y / 1E3),ev:!0};break;case 41:return {result:!1,uU:Math.min(f,d) / (y / 1E3),ev:!0};break;case 21:return {result:!1,uU:f / (y / 1E3),ev:!1};break;case 16:r6u.D9b(9);A*=r6u.r9b(1E3,y);K60=15;break;case 29:++n;K60=28;break;case 8:var X1u=" >= fra";X1u+="gment";X1u+="s";X1u+="Le";X1u+="ngth: ";var Z1u="S";Z1u+="treaming";Z1u+="Ind";Z1u+="e";Z1u+="x: ";f=f.fd[0];r6u.u9b(10);g=r6u.Q9b(y,g,f,1E3);r6u.D9b(11);f=r6u.Q9b(0,t,h,8);r6u.u9b(12);t=r6u.Q9b(t,8,0);r6u.u9b(9);h=r6u.r9b(1E3,y);n >= k && c.error(Z1u + n + X1u + k);l+=f;K60=10;break;case 32:u-=F;K60=31;break;case 10:0 === m && (l=0);r6u.u9b(9);l*=r6u.Q9b(1E3,y);r6u.D9b(9);m*=r6u.r9b(1E3,y);r6u.D9b(9);v*=r6u.Q9b(1E3,y);r6u.D9b(9);w*=r6u.r9b(1E3,y);K60=16;break;case 44:C=f;K60=43;break;case 42:K60=(f=Math.max(m - l,0),f < w && f < C)?41:34;break;case 23:(l=g,u+=B[E],++E,f=z[E],g+=f);K60=24;break;case 26:K60=u < F?25:42;break;case 2:var a1u="1S";a1u+="I";a1u+="YbZrN";a1u+="JCp";a1u+="9";a1u;y=f.U;k=Math.min(f.length,k);(z=f.fd,B=f.sizes,A=d - l);d=Infinity;(C=0,E=0);K60=8;break;case 34:r6u.D9b(13);l+=r6u.r9b(0,t,F,h);m+=D;K60=32;break;case 31:K60=g < l && E < n?30:29;break;case 30:(u+=B[E],++E,g+=z[E]);K60=31;break;case 24:K60=u < C?23:22;break;case 22:K60=!x && (f=m - l,f < v)?21:35;break;case 35:r6u.D9b(1);f=r6u.r9b(l,m);K60=34;break;case 43:d=Math.min(f,d);K60=15;break;case 27:(F=B[n],D=z[n]);K60=26;break;case 15:K60=n < k?27:40;break;case 28:K60=n >= r && f > A?40:44;break;case 25:C=Math.max(F,p);K60=24;break;}}};},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperties(b,{__esModule:{value:!0}});b.GEb=b.B2a=void 0;c=a(2);f=c.__importDefault(a(84));k=c.__importStar(a(10));l=a(30);d=a(384);g=c.__importDefault(a(4));q=c.__importDefault(a(110));a=c.__importDefault(a(39));h=a.default.nJb;m=a.default.hnb;n=a.default.f1;r=a.default.Do;p=q.default.isa;a=(function(){function t(A,C,E){var N60;N60=2;for(;N60 !== 5;){switch(N60){case 2:A=m(E.Qi,A * E.Ona);return h(A,C);break;}}}function u(A,C){var M60,E,F;M60=2;for(;M60 !== 12;){switch(M60){case 2:E=new r();E.Yi=A;A=E.Yi.lb || ({});E.Pn=A.Cl && A.Sj;E.On=A.Cl?A.Cl:0;M60=9;break;case 14:var P1u="hist_t";P1u+="h";P1u+="roughpu";P1u+="t";var w1u="hist";w1u+="_t";w1u+="digest";F?(C=A.Si(C.s7 / 100) || E.Yi.Oa,E.Ps=C,E.reason=w1u):E.Yi.Oa && (C=E.Yi.Oa,E.Ps=C,E.reason=P1u);return E;break;case 9:A=f.default(E.Pn,{});M60=7;break;case 7:M60=(F=k.xa(C.s7) && 0 <= C.s7 && 100 >= C.s7 && !k.ga(A) && !k.ob(A))?6:14;break;case 6:(F=d.WGa.LAb(A),k.Kc(F)?(A.Si=F,F=!0):F=!1);M60=14;break;}}}function w(A,C){var O60,E,F;O60=2;for(;O60 !== 13;){switch(O60){case 2:O60=A.X3?1:14;break;case 14:return A.$q;break;case 1:(E=A.X3,F=l.fs(E,function(D){var P60;P60=2;for(;P60 !== 1;){switch(P60){case 4:return C < D.r;break;P60=1;break;case 2:return C <= D.r;break;}}}));O60=5;break;case 4:return E[0].d;break;case 5:O60=0 === F?4:3;break;case 3:O60=-1 === F?9:8;break;case 8:a000.u9b(1);A=E[a000.r9b(1,F)];E=E[F];O60=6;break;case 9:return E[E.length - 1].d;break;case 6:return Math.floor(A.d + (E.d - A.d) * (C - A.r) / (E.r - A.r));break;}}}var L60;L60=2;function B(A,C,E,F){var X60,D;X60=2;for(;X60 !== 7;){switch(X60){case 5:return A.hR?x(A,C,E,F):z(A,C,E,F);break;case 4:var d1u="hist";d1u+="_";d1u+="bitrat";d1u+="e";A=new r();A.Yi=l.wg(E.slice().reverse(),function(G){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:return G.bitrate <= D;break;case 4:return G.bitrate > D;break;Y60=1;break;}}}) || E[0];A.reason=d1u;return A;break;case 2:var V1u="v";V1u+="b";D=g.default.storage.get(V1u);X60=1;break;case 1:var K1u="n";K1u+="um";K1u+="b";K1u+="e";K1u+="r";X60=K1u !== typeof D?5:4;break;}}}for(;L60 !== 5;){switch(L60){case 2:var g1u="1SI";g1u+="YbZ";g1u+="r";g1u+="NJC";g1u+="p9";g1u;return {ejb:function(A,C,E,F){var Z60;Z60=2;for(;Z60 !== 1;){switch(Z60){case 2:var N1u="h";N1u+="ist";N1u+="ori";N1u+="c";N1u+="al";return N1u === A.Fla?B(A,C,E,F):A.hR?x(A,C,E,F):z(A,C,E,F);break;}}},Lgb:y};break;}}function z(A,C,E){var U60,F,D;U60=2;for(;U60 !== 4;){switch(U60){case 2:(F=new r(),D=Math.max(A.zv,A.r5,C.Xla?A.Xna:-Infinity));F.Yi=l.wg(E.filter(function(G){var V60;V60=2;for(;V60 !== 1;){switch(V60){case 4:return G.bitrate > A.Oy;break;V60=1;break;case 2:return G.bitrate <= A.Oy;break;}}}).reverse(),function(G){var W60,I,J,H;W60=2;for(;W60 !== 13;){switch(W60){case 1:W60=G.bitrate > D?5:14;break;case 8:var T1u="h";T1u+="is";T1u+="t_buffti";T1u+="me";t(G,J,A) <= H?(F.Ps=J,I && (F.On=I.Cl?I.Cl:0,F.Pn=I.Cl && I.Sj),F.reason=T1u,I=!0):I=!1;W60=7;break;case 2:I={Oa:G.Oa,Cl:G.lb && G.lb.Cl,Sj:G.lb && G.lb.Sj};W60=1;break;case 5:G=G.bitrate * C.playbackRate;J=I.Oa;W60=3;break;case 3:W60=J?9:6;break;case 7:return I;break;case 9:H=w(A,G);W60=8;break;case 14:var s1u="no_h";s1u+="istorical_l";s1u+="te";s1u+="_minbi";s1u+="trate";var B1u="hi";B1u+="st_t";B1u+="put_lt_m";B1u+="inb";B1u+="itrate";var x1u="lt_h";x1u+="ist_lte";x1u+="_minbitrate";(J=I.Oa,G.bitrate * C.playbackRate <= J?(F.Ps=J,I && (F.On=I.Cl?I.Cl:0,F.Pn=I.Cl?I.Sj:void 0),F.reason=x1u,I=!0):J?(F.Ps=J,I && (F.On=I.Cl?I.Cl:0,F.Pn=I.Cl?I.Sj:void 0),F.reason=B1u,I=!1):(F.reason=s1u,I=!0));W60=7;break;case 6:I=!1;W60=7;break;}}}) || E[0];return F;break;}}}function v(A,C){var Q60,E;Q60=2;for(;Q60 !== 9;){switch(Q60){case 4:return (E=C.C2a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * Math.log(1 + A)):C.$q;break;case 5:E=C.fN;Q60=4;break;case 14:E=C.fN;Q60=2;break;Q60=4;break;case 1:var i1u="l";i1u+="o";i1u+="g";Q60=0 === C.fN.lastIndexOf(i1u,0)?5:3;break;case 3:var F9u="si";F9u+="g";F9u+="moi";F9u+="d";return 0 === C.fN.lastIndexOf(F9u,0)?(E=C.fN,(E=C.C2a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * p(A)):C.$q):C.$q;break;case 2:a000.D9b(2);var n31=a000.Q9b(25000,75000);A=n(A,0,n31) / 1E3;Q60=1;break;}}}function x(A,C,E){var R60,I,J,H,F,D,G;R60=2;for(;R60 !== 19;){switch(R60){case 5:I=E[G];D=u(I,A);(J=t(I.bitrate * C.playbackRate,D.Ps,A),H=v(D.Ps,A));H=y(I,D.Ps,F,J,H,A);I=H.u2;H=H.reason;R60=6;break;case 1:R60=0 <= G && (F?E[G].zb >= A.$L:E[G].bitrate >= A.zv)?5:11;break;case 2:(F=! !A.$L && ! !A.wYa && E.every(function(M){var S60;S60=2;for(;S60 !== 1;){switch(S60){case 4:return M.zb || 955 > M.zb;break;S60=1;break;case 2:return M.zb && 110 >= M.zb;break;}}}),D=null,G=E.length - 1);R60=1;break;case 13:D.reason=H;R60=12;break;case 11:var U9u="fallback_";U9u+="no_acceptable";U9u+="_str";U9u+="eam";k.ob(D) && (D=u(E[0],A));k.ob(D) && (D=u(E[0],A),D.reason=U9u);return D;break;case 12:G--;R60=1;break;case 6:D.wy=J;R60=14;break;case 14:R60=I?11:13;break;}}}function y(A,C,E,F,D,G){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:var o9u="no_";o9u+="valid";o9u+="_Bitrat";o9u+="e";var L9u="no";L9u+="_va";L9u+="li";L9u+="d_V";L9u+="MAF";var y9u="no_v";y9u+="alid_Dela";y9u+="yTarg";y9u+="et";A=E?A.zb >= G.$L && A.zb <= G.wYa:A.bitrate >= G.zv && A.bitrate <= G.Oy;return (F=F < D && A)?{u2:F}:{u2:F,reason:A?y9u:E?L9u:o9u};break;}}}})();q=a.Lgb;b.B2a=a.ejb;b.GEb=q;},function(q,b,a){var f,k,l,d;function c(g,h,m){var n,r;n=this.$ca;h=h.buffer.oc;r="forward" === g.IQb;if(f.ga(n))return (n=r?k(m):k(m,m.length),this.bda=h,this.$ca=n,new d(n));l(m[n]) || (n=k(m,n),this.bda=h,this.$ca=n);if(0 > n)return null;if(h > this.bda + g.bVb){g=m.map(function(p,u){return p.Vs?u:null;}).filter(function(p){return null !== p;});if(!g.length)return null;r?n=(g.indexOf(n) + 1) % g.length:(n=g.indexOf(n) - 1,0 > n && (n=g.length - 1));this.$ca=g[n];this.bda=h;return new d(g[n]);}return new d(n);}f=a(10);b=a(39);k=b.Oia;l=b.GL;d=b.Do;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){(function(){var a70,k,l,d,g,h,m,n,r,p,u;a70=2;function f(t,w,v,x){var d70,y,z,B,G,A,C,E,F,D,I,J;d70=2;for(;d70 !== 32;){switch(d70){case 17:E--;d70=11;break;case 26:var r9u=", s";r9u+="tream";r9u+="ingPts";r9u+=" = ";var M9u=", l";M9u+="astUpswi";M9u+="tchPt";M9u+="s = ";var b9u=" ";b9u+=" Ups";b9u+="witch allowed. ";b9u+="lastD";b9u+="ownswitchPts = ";g && d.log(b9u + J + M9u + I + r9u + C.oc);d70=25;break;case 21:var A9u=" ";A9u+="kbp";A9u+="s";var e9u=" ";e9u+="kbps, ";e9u+="t";e9u+="o";e9u+=" ";var u9u="switc";u9u+="hing ";u9u+="audio ";u9u+="fr";u9u+="om ";var D9u="d";D9u+="o";D9u+="w";D9u+="n";var Q9u="u";Q9u+="p";F=v[z];z !== x && g && d.log((z > x?Q9u:D9u) + u9u + A.bitrate + e9u + F.bitrate + A9u);d70=34;break;case 27:d70=w.UB && G > D.Hy && (void 0 === J || Number(I) > J || C.oc - J > D.S4)?26:22;break;case 2:var j9u="Must have at";j9u+=" le";j9u+="ast ";j9u+="one selected";j9u+=" stream";h(!k.ga(x),j9u);y=v[x].Mg;d70=5;break;case 3:z=x;t.D4a.some(function(H){var e70,M,O,L,P,R,K;e70=2;for(;e70 !== 9;){switch(e70){case 2:(M=H.profiles,O=M && 0 <= M.indexOf(y));e70=1;break;case 5:(L=(H=H.lV) && H.x5 || t.x5,P=H && H.m6b || -Infinity,R=H && H.PL || Infinity,K=w.buffer.Su);e70=4;break;case 12:return O;break;e70=9;break;case 4:B=v.filter(function(Q){var f70,N;f70=2;for(;f70 !== 5;){switch(f70){case 2:N=Q.bitrate;return N >= P && N <= R && 0 <= M.indexOf(Q.Mg) && N * L / 8 < K;break;}}}).map(function(Q){var g70;g70=2;for(;g70 !== 1;){switch(g70){case 2:return Q.og;break;case 4:return Q.og;break;g70=1;break;}}});e70=3;break;case 1:e70=O?5:3;break;case 3:return O;break;}}});d70=8;break;case 25:d70=++E < B.length?24:21;break;case 4:return new r(x);break;case 10:C=B[E];G=v[C];d70=19;break;case 18:z=C;d70=21;break;case 12:var G9u=" kbps, try to ";G9u+="down";G9u+="switch";var q9u=" ";q9u+="kbps ";q9u+="< ";var l9u="throughput for";l9u+=" audi";l9u+="o ";(g && d.log(l9u + F + q9u + D.pQa + "*" + C + G9u),--E);d70=11;break;case 19:d70=n(G) && (0 == E || G.bitrate * w.playbackRate * D.pQa < F)?18:17;break;case 23:z=C;d70=21;break;case 6:d70=0 > E?14:13;break;case 16:var O9u=" k";O9u+="b";O9u+="ps";var m9u=" kb";m9u+="ps ";m9u+=">";m9u+=" ";var Y9u="th";Y9u+="ro";Y9u+="u";Y9u+="ghput for au";Y9u+="dio ";d70=E < B.length - 1 && F > D.N5a * C * w.playbackRate && (g && d.log(Y9u + F + m9u + D.N5a + "*" + C + O9u),C=w.buffer,G=C.Hl - C.qc,A.Y && A.Y.length)?15:21;break;case 11:d70=0 <= E?10:21;break;case 5:d70=!(t && t.IN && 0 <= t.IN.indexOf(y))?4:3;break;case 7:(A=v[x],C=A.bitrate,E=B.indexOf(x),F=A.Oa,D=t.Zlb);d70=6;break;case 14:z=0;d70=21;break;case 13:d70=E && F < D.pQa * C * w.playbackRate?12:16;break;case 15:(I=this.Hma,J=this.L4);d70=27;break;case 24:d70=(C=B[E],G=v[C],n(G) && F > D.N5a * G.bitrate * w.playbackRate)?23:25;break;case 8:d70=B && 1 < B.length?7:21;break;case 22:var I9u="m";I9u+="s";var J9u=", buffer ";J9u+="level =";J9u+=" ";var W9u=", ";W9u+="lastUpsw";W9u+="itc";W9u+="hPts";W9u+=" = ";var E9u="  Upswitch not allowed. l";E9u+="astDow";E9u+="nswitchPts = ";g && d.log(E9u + J + W9u + I + J9u + G + I9u);d70=21;break;case 34:var t9u="kbps, ";t9u+="s";t9u+="treamingPts :";var h9u=", audi";h9u+="o";h9u+=" ";h9u+="t";h9u+="hroughput:";var c9u=" k";c9u+="bps, pr";c9u+="of";c9u+="i";c9u+="le :";var n9u="sel";n9u+="ectAudioSt";n9u+="re";n9u+="am: selected stream :";g && d.log(n9u + F.bitrate + c9u + y + h9u + F.Oa + t9u + w.buffer.oc);return new r(z);break;}}}for(;a70 !== 4;){switch(a70){case 2:var z9u="1SIYbZ";z9u+="rNJCp";z9u+="9";(k=a(10),l=a(39),d=l.console,g=l.debug,h=l.assert,m=a(84),n=l.GL,r=l.Do,p=a(413),u=a(14).ja);q.exports={STARTING:function(t,w,v,x){var h70,y,z;h70=2;for(;h70 !== 7;){switch(h70){case 4:var k9u=" kb";k9u+="ps, pr";k9u+="of";k9u+="i";k9u+="le :";var p9u="se";p9u+="lectAudioSt";p9u+="reamStarting: selected stream :";t=p[u[u.Ig]](y,w,v,x);v=v[t.ie];g && d.log(p9u + v.bitrate + k9u + v.Mg);return t;break;case 2:(y=t,z=v[x || 0].Mg);h70=1;break;case 1:h70=(z=t && t.IN && 0 <= t.IN.indexOf(z)?c(z,t.D4a):c(z,t.Wlb))?5:4;break;case 5:var S9u="sel";S9u+="ectAud";S9u+="ioStreamStarting: ov";S9u+="erriding config with ";(y={minInitAudioBitrate:t.KU,minHCInitAudioBitrate:t.JU,maxInitAudioBitrate:t.wU,minRequiredAudioBuffer:t.x5},g && d.log(S9u + JSON.stringify(z)),m(z,y));h70=4;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};z9u;a70=4;break;}}function c(t,w){var b70,v;b70=2;for(;b70 !== 4;){switch(b70){case 2:v=void 0;w.some(function(x){var c70,y;c70=2;for(;c70 !== 4;){switch(c70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(t)) && (v=x.override);return y;break;}}});return v;break;}}}})();},function(q,b,a){var f;function c(){return new f(0);}a(10);f=a(39).Do;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){var f;function c(k,l,d){return new f(d.length - 1);}a(10);f=a(39).Do;q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){(function(){var i70,l,d,f,k;i70=2;for(;i70 !== 6;){switch(i70){case 4:a(4);(l=k.assert,d=k.Do);k=a(177).default;q.exports={STARTING:k.STARTING,BUFFERING:k.BUFFERING,REBUFFERING:k.REBUFFERING,PLAYING:c,PAUSED:c};i70=7;break;case 7:var v9u="1S";v9u+="IYbZr";v9u+="NJ";v9u+="Cp";v9u+="9";v9u;i70=6;break;case 2:f=a(10);a(27);k=a(39);i70=4;break;}}function c(g,h,m,n){var j70,r;j70=2;for(;j70 !== 12;){switch(j70){case 7:return (h.ie=n,h);break;case 2:var f9u="p";f9u+="layer missing fra";f9u+="gmentI";f9u+="ndex";var R9u="Must have ";R9u+="at least on";R9u+="e s";R9u+="elected stream";l(!f.ga(n),R9u);l(f.xa(h.kf),f9u);h=d(n);j70=4;break;case 3:j70=-1 < n?9:14;break;case 4:n=m.length - 1;j70=3;break;case 9:r=m[n];j70=8;break;case 8:j70=r.lb && r.lb.Oa && r.bitrate < r.lb.Oa.Ea - g.ZUb?7:6;break;case 14:h.ie=0;return h;break;case 6:--n;j70=3;break;}}}})();},function(q,b,a){Object.defineProperties(b,{__esModule:{value:!0}});q=a(883);b.default={PLAYING:q.Uv,PAUSED:q.Uv};},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Uv=void 0;q=a(2);c=q.__importStar(a(10));f=q.__importDefault(a(39));k=q.__importDefault(a(177));l=a(98);d=q.__importDefault(a(4));g=f.default.assert;h=f.default.Do;b.Uv=m;(function(){var k70;k70=2;for(;k70 !== 5;){switch(k70){case 2:var Z9u="1SIYbZ";Z9u+="r";Z9u+="NJC";Z9u+="p9";b.Uv=m=function(n,r,p,u,t,w,v){var l70,C,H,M,O,x,G,I,J,A,E,F,D,L,P,y,z,B;l70=2;for(;l70 !== 66;){switch(l70){case 6:a000.u9b(1);A=a000.Q9b(x,B);0 > A && (A=0);A >= y.length && (A=y.length - 1);C=y[A].f;l70=11;break;case 35:l70=A < p.length?34:61;break;case 47:l70=L < M.length?46:65;break;case 37:C.lb && C.lb.tputTrace && (J=C.lb.tputTrace);(H=[],M=C.Y,O=0);l70=54;break;case 71:l70=0 <= A?70:73;break;case 61:z.JMa=t;l70=60;break;case 56:A+=1;l70=55;break;case 60:return z;break;case 17:l70=n.zvb?16:60;break;case 2:var H9u="Must have at least one selecte";H9u+="d strea";H9u+="m";g(!c.ga(u),H9u);l70=5;break;case 76:x=A;l70=73;break;case 8:l70=B < x || B > A?7:6;break;case 11:l70=C === B?10:58;break;case 70:l70=y[A].f === B?69:68;break;case 7:return k.default.PLAYING.call(this,n,r,p,u,t,w,v);break;case 34:C=p[A];x=A <= u?!0:!1;(G=void 0,I=[]);C.lb && C.lb.throughput && (G=C.lb.throughput.Ea);l70=30;break;case 58:x=void 0;l70=57;break;case 49:L++;l70=52;break;case 44:I.push(J.j6);I.push(J.gl);l70=42;break;case 29:J=C.lb.tdigest;I.push(J.min);l70=44;break;case 20:l70=void 0 !== B?19:59;break;case 55:l70=A < y.length?77:73;break;case 54:l70=void 0 !== M?53:65;break;case 19:z.ie=y[B].OQb;l70=18;break;case 65:M=void 0;r.JR && (M=d.default.time.aa() - r.JR);t.push({kf:r.kf,U7b:M,X5b:O,v3b:G,R7b:I,T7b:J,Bfa:w,J4b:v,O3b:H,A5b:y.bitrate,B5b:null !== (E=y.zb) && void 0 !== E?E:0,W3b:C.bitrate,X3b:null !== (F=C.zb) && void 0 !== F?F:0,v7b:B.bitrate,w7b:null !== (D=B.zb) && void 0 !== D?D:0,SB:x});l70=62;break;case 45:L++;l70=47;break;case 24:v=r.buffer.Su - v.ca;y=p[u];B=p[u];l70=21;break;case 42:I.push(J.Jj);I.push(J.il);I.push(J.k6);l70=39;break;case 52:l70=L < Math.min(L + n.cmb,M.length)?51:48;break;case 9:A=y[y.length - 1].f;l70=8;break;case 18:z.Yi=p[z.ie];l70=17;break;case 75:l70=y[A].f > B?73:74;break;case 46:O+=M.get(L).duration;l70=45;break;case 38:J=void 0;l70=37;break;case 77:l70=y[A].f === B?76:75;break;case 72:--A;l70=71;break;case 62:A++;l70=35;break;case 73:B=x;l70=20;break;case 74:A++;l70=55;break;case 16:t=[];w=r.buffer;w=w.Hl - w.qc;v=l.Gk.mPa(r.buffer.Y);l70=24;break;case 53:L=r.kf;l70=52;break;case 68:l70=y[A].f < B?73:67;break;case 48:L=r.kf;l70=47;break;case 10:B=A;l70=20;break;case 51:P=M.get(L);H.push({d:P.duration,b:P.ca});l70=49;break;case 21:A=0;l70=35;break;case 30:l70=C.lb && C.lb.tdigest?29:38;break;case 57:l70=C < B?56:72;break;case 39:I.push(J.max);l70=38;break;case 69:x=A;l70=73;break;case 59:return k.default.PLAYING.call(this,n,r,p,u,t,w,v);break;case 5:var C9u="p";C9u+="lay";C9u+="er mis";C9u+="sing fragm";C9u+="entIndex";g(c.xa(r.kf),C9u);(y=n.YTb,z=new h(u),B=null !== (x=r.kf) && void 0 !== x?x:-1);x=y[0].f;l70=9;break;case 67:A--;l70=71;break;}}};Z9u;k70=5;break;}}})();},function(q,b,a){(function(){var m70,c;m70=2;for(;m70 !== 8;){switch(m70){case 2:a(10);a(27);a(39);c=a(14).wc;m70=3;break;case 3:var d9u="1SI";d9u+="Y";d9u+="bZ";d9u+="rNJCp9";q.exports={checkBuffering:function(f,k,l,d,g,h){function m(x){var o70;o70=2;for(;o70 !== 5;){switch(o70){case 2:x=d.Y.w2(f.qc + x,void 0,!0);return (t - f.jl) / (t + (x.offset + x.ca) - w);break;}}}var n70,w,t,n,r,p,u,v;n70=2;for(;n70 !== 37;){switch(n70){case 24:w=d.Y.Gd(g);n70=23;break;case 8:n70=k <= h.ina && (0 < k || !h.tia)?7:6;break;case 20:t=0;f.Y.forEach(function(x){var p70;p70=2;for(;p70 !== 1;){switch(p70){case 2:t+=x.Z + x.duration > f.qc?x.ca:0;p70=1;break;}}});l=Math.max(l,1);r=l * d.bitrate;n70=16;break;case 31:--h;n70=30;break;case 43:return (p=Math.min(u,n + v),{complete:!1,GG:p,progress:m(p)});break;case 39:0 < k && k < r && (p=Math.min(u,Math.max(h.PV * (r / k - 1),p)));return {complete:!1,GG:p,progress:m(p)};break;case 30:n70=h > g?29:40;break;case 29:r=d.Y.get(h);a000.u9b(14);var q31=a000.Q9b(144,12,148);v=q31 * v * l / k - r.Z - p;n70=44;break;case 44:n70=0 < v?43:42;break;case 11:n70=!k?10:20;break;case 7:return {complete:!1,bC:!0};break;case 16:n70=!d.Y || !d.Y.length?15:27;break;case 6:p=h.Qi * (r?h.wqa:1);h.uvb && d.lb && d.lb.Vi && d.lb.Vi.Ea > h.cna && (p+=h.wea + d.lb.Vi.Ea * h.mpa);g && (p+=g.xs * h.xea);n70=12;break;case 3:n70=n >= u?9:8;break;case 2:(n=f.Hl - f.qc,r=k === c.ef);k=d.Oa || 0;(p=0,u=h.Uta && !r?h.gC:h.Ena);u=Math.min(h.Py,u);n70=3;break;case 22:n70=k > r * h.t2?21:35;break;case 40:var X9u="no";X9u+="re";X9u+="buf";X9u+="f";return {complete:!0,reason:X9u};break;case 10:return {complete:!1,GG:p};break;case 27:g=d.Y.Gm(f.oc);n70=26;break;case 12:p=u?Math.min(u,p):p;n70=11;break;case 35:p=d.Y.fd(g);h=Math.min(g + Math.floor(h.PV / p),d.Y.length - 1);v=d.Y.Gd(h);p=8 * w * l / k - f.qc;n70=31;break;case 41:--h;n70=30;break;case 23:n70=n >= p?22:39;break;case 25:var a9u="out";a9u+="ofr";a9u+="a";a9u+="nge";return {complete:!0,reason:a9u};break;case 15:return (k < r && (p=Math.min(u,Math.max(h.PV * (r / k - 1),p))),{complete:!1,GG:p,progress:0});break;case 42:v=r.offset;n70=41;break;case 9:var w9u="ma";w9u+="x";w9u+="s";w9u+="iz";w9u+="e";return {complete:!0,reason:w9u};break;case 26:n70=-1 === g?25:24;break;case 21:var P9u="h";P9u+="igh";P9u+="tp";return {complete:!0,reason:P9u};break;}}}};d9u;m70=8;break;}}})();},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r){g=r;h=r.map(function(p,u){return u;});if(null === d)return (m=k(r),d=r[m].bitrate,new l(m));if(!r.length)return null;m=h.filter(function(p){return r[p].bitrate == d;})[0];return void 0 === m?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new l(h[0])):new l(m);}b=a(39);a=a(4).default;f=b.console;k=b.Oia;l=b.Do;d=null;g=null;h=null;a.aob && (a.aob.xz={mb:function(){h=g=d=null;},Hra:function(m){d=m;},Y4b:function(){return {all:g,j6a:h};}});q.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.nB=void 0;c=a(19);f=a(150);k=a(6);b.nB=function(l,d,g,h,m,n){var r;c.ka && h.trace("AsePlaygraph.createRequestQueue()");r=f.cq.instance.nB(l,d.K,!0,!1,{Xha:g.Xha},g);r.Ag.on(r,"networkfailing",function(){var p;c.ka && h.trace("requestQueue OnNetworkFailing: ",r);r.s2 && (k.assert(r.RS),null === (p=d.jp) || void 0 === p?void 0:p.hr(r.RS,void 0,r.Og,r.Ri));d.qo();});r.Ag.on(r,"error",function(){n(r.Og,r.Ri);});r.on("transportreport",m);r.mb();return r;};},function(q,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.zCa=b.L$a=void 0;c=a(2);f=c.__importDefault(a(4));k=a(19);l=a(888);d=a(9);q=(function(){return function(g,h,m){var n;this.I=h;m=d.Ys(f.default,m,"[" + g + "]");this.TYa=1 === g?h.z5:h.s5;n=f.default.Mn()[g];this.xU=1 === g?h.cIb:h.NHb;this.xU=Math.min(h.UHb * n,this.xU);k.ka && m.trace("This pipeline's buffer size ",n,this.xU);this.v5=(1 === g?h.aM:h.XL) || h.v5;this.b5=(1 === g?h.bIb:h.MHb) || h.b5;this.Dea=h.Dea;};})();b.L$a=q;q=(function(g){function h(m,n,r){return g.call(this,m,n,r) || this;}c.__extends(h,g);h.prototype.Ezb=function(m,n,r,p){var u,t,w,v,x;w=n === r.Vd.index;v=n === r.nf.index;if(!v || w && r.Vd.na){if(w){x=m.gTa(r.Vd);x.rN(r.Vd.Ot);v && (r.Vd.na || r.nf.na) && x.th({start:null === (u=x.na) || void 0 === u?void 0:u.start,end:null === (t=r.nf.na) || void 0 === t?void 0:t.end});}else x=m.nk(n);}else (x=m.gTa(r.nf),x.rN(r.nf.Ot));x.fM=n + 1;if(u=l.eUa(r,r.oc))(k.ka && r.sm("getFragmentForRequest pts:",r.oc,"in region:",u,"previous region:",r.vma),l.BQa(r.H,x,u,{HEb:w,MEb:v,TEb:void 0 === r.vma || r.vma !== u.region}));v && (x.cYa(),x.mSb(r.ub.P));if(x.fM !== n && !p && (this.Dea || !x.na))for(++n;n < m.Y.length && n < r.nf.index && (x.ca < this.TYa || x.duration < this.v5) && (1 === x.stream.zg.length || this.Knb(m,n));++n){p=m.nk(n);if(l.hWa(r,p))break;if(x.duration + p.duration > this.b5)break;if(x.ca + p.ca > this.xU)break;x.LLa(p);x.fM=n + 1;k.ka && r.sm("getFragmentForRequest: extended fragment startPts:",x.Z,"to duration:",x.duration,"size:",x.ca,"min request size:",this.TYa,"max request size:",this.xU,"min request duration:",this.v5,"max request duration:",this.b5,"edit:",x.na);}k.ka && r.sm("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.Uia,"lastRequestInRegion:",x.ov,"nextIndex:",x.fM);return x;};h.prototype.Knb=function(m,n){return !m.zg.some(function(r){return n === r.kf;});};return h;})(q);b.zCa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BQa=b.JEb=b.hWa=b.eUa=void 0;c=a(30);b.eUa=function(f,k){if((f=f.ub.P.Qv) && 0 !== f.length)return c.wg(f,function(l){return l.Xc.V <= k && k < l.Md.V;});};b.hWa=function(f,k){return k.index === f.Vd.index?!0:(f=f.ub.P.Qv) && 0 !== f.length?f.some(function(l){l=l.Xc;return k.Xc.Fy(l) && l.lessThan(k.Md);}):!1;};b.JEb=function(f,k){return k.index === f.nf.index?!0:(f=f.ub.P.Qv) && 0 !== f.length?f.some(function(l){l=l.Md;return k.Xc.lessThan(l) && l.Fy(k.Md);}):!1;};b.BQa=function(f,k,l,d){var g,h,m,n,r,p,u,t;f=null === (g=k.na) || void 0 === g?void 0:g.start;g=null === (h=k.na) || void 0 === h?void 0:h.end;t=h=!1;if((null === d || void 0 === d?0:d.TEb) || (null === d || void 0 === d || !d.HEb) && k.Xc.lessThan(l.Xc)){if(u=k.Lia(l.Xc.V))(u=(null !== (n=null === (m=k.na) || void 0 === m?void 0:m.start) && void 0 !== n?n:0) + u.zk,f=Math.max(null !== f && void 0 !== f?f:0,u));u=l.Xc.V;h=!0;}if((null === d || void 0 === d || !d.MEb) && k.Md.greaterThan(l.Md)){if(u=k.Lia(l.Md.V))(u=(null !== (p=null === (r=k.na) || void 0 === r?void 0:r.start) && void 0 !== p?p:0) + u.zk,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),k.fM=k.index);u=l.Md.V;t=!0;}void 0 === f && void 0 === g || k.th({start:f,end:g});void 0 !== u && (!k.Ot || u > k.Ot) && (k.rN(u),k.na || k.th({}));k.kSb(l.region,h,t);};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YDa=void 0;c=a(2);f=a(414);k=a(6);q=(function(){function l(d){var g,h,m,n,r,p,u,t;g=this;h=d.console;m=d.config;n=d.N;r=d.Ne;p=d.P;u=d.Xc;t=d.Md;d=d.splice;this.Gla=this.QR=!1;this.PNa=function(){g.QR || g.NLa() && g.xZa();};this.console=h;this.config=m;this.Ne=r;this.N=n;this.P=p;this.Xc=u;this.Md=t;this.splice=d;}l.prototype.mb=function(d){if(this.QR)throw Error("Cannot call init() after cleanup");if(this.Gla)throw Error("Cannot call init() twice");this.Gla=!0;this.$Za=d;this.N.KB.addListener("onHeaderFragments",this.PNa);this.NLa() && this.xZa();};l.prototype.RPb=function(d,g){k.assert(this.Gla,"expected to be called init() before renormalize");this.P=d;this.Md=g;d=f.Nqa(this.config,this.Ne,this.Md);this.R5();return d;};l.prototype.Ic=function(){this.QR || (this.QR=!0,this.$Za=void 0,this.N.KB.removeListener("onHeaderFragments",this.PNa));};l.prototype.xZa=function(){var d,g,h;if(!this.QR){g=this.NJb();h=!1;this.P && !this.P.iM && (h=this.R5());null === (d=this.$Za) || void 0 === d?void 0:d.call(this,g,h);this.Ic();}};l.prototype.NLa=function(){return this.Ne.every(function(d){return d.track.ye;});};l.prototype.NJb=function(){var d,g;d=c.__read(f.yZa(this.config,this.Ne,this.Xc,this.Md,this.splice),2);g=d[0];return d[1] || void 0 === this.Ne.Ra(1) && g;};l.prototype.R5=function(){var d,g,h;k.assert(this.P);k.assert(!this.P.iM);d=this.Ne.DV;g=f.AZa(this.config,d,this.P.uh);if(void 0 === g || void 0 === d.Md)return !1;d=d.Md;h=this.config.Tta?f.dYa(this.console,this.P,this.Ne):[];this.P.normalize(g,d,h);return !0;};return l;})();b.YDa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=void 0;c=a(6);q=(function(){function f(k){var l;l=this;void 0 === k && (k=[]);this.Ne=k;k.forEach(function(d){return l.Lta(d);});}Object.defineProperties(f.prototype,{length:{get:function(){return this.Ne.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{DV:{get:function(){var k;return null !== (k=this.dua) && void 0 !== k?k:this.$ea;},enumerable:!1,configurable:!0}});f.prototype.Ra=function(k){return 1 === k?this.dua:this.$ea;};f.prototype.every=function(k){return this.Ne.every(k);};f.prototype.some=function(k){return this.Ne.some(k);};f.prototype.forEach=function(k){this.Ne.forEach(k);};f.prototype.reduce=function(k,l){return this.Ne.reduce(k,l);};f.prototype.filter=function(k){return new f(this.Ne.filter(k));};f.prototype.replace=function(k,l){var d;d=this.Ne.indexOf(k);c.assert(-1 < d);c.assert(k.mediaType === l.mediaType);this.Ne[d]=l;this.Lta(l);};f.prototype.V2a=function(k,l){(k=this.Ra(k))?this.replace(k,l):this.add(l);};f.prototype.add=function(k){this.Ne.push(k);this.Lta(k);};f.prototype.clear=function(){this.Ne=[];this.$ea=this.dua=void 0;};f.prototype.Lta=function(k){1 === k.mediaType?this.dua=k:this.$ea=k;};return f;})();b.XDa=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.DBa=void 0;c=a(2);q=c.__importDefault(a(110));f=c.__importDefault(a(4));k=a(249);l=a(250);d=q.default.f1;g=q.default.Hob;h=q.default.lRa;m=q.default.Xvb;n=q.default.VQb;new f.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(r){var q70;q70=2;for(;q70 !== 5;){switch(q70){case 2:c.__extends(p,r);return p;break;case 3:c.__extends(p,r);return p;break;q70=5;break;}}function p(u,t){var r70,w;r70=2;for(;r70 !== 12;){switch(r70){case 3:w.xmb=d(u.hs.threshold || 6E3,1,1E5);w.rmb=d(u.hs.gamma || 1,.1,10);w.filter=u.hs.filter;r70=7;break;case 2:w=r.call(this,u,t) || this;w.AC=function(v,x){var s70;s70=2;for(;s70 !== 1;){switch(s70){case 4:return l.AC(w.config,v,x);break;s70=1;break;case 2:return l.AC(w.config,v,x);break;}}};w.C6=function(v,x,y){var t70,z,B,A,C,E,F;t70=2;for(;t70 !== 13;){switch(t70){case 2:y=null !== y && void 0 !== y?y:w.PL;F=null !== (B=null === (z=v.Oa) || void 0 === z?void 0:z.Ea) && void 0 !== B?B:0;z=null !== (C=null === (A=v[w.filter]) || void 0 === A?void 0:A.Ea) && void 0 !== C?C:F;A=Math.pow(Math.max(1 - z / w.xmb,0),w.rmb);C=x.Hl - x.qc;t70=8;break;case 8:w.jTb?(x=h(w.yPa,C,1),C=h(w.xPa,C,1),x=x * A + C * (1 - A)):x=h(n(w.yPa,w.xPa,A),C,1);v=w.sZa && (null === (E=v[w.sZa]) || void 0 === E?void 0:E.XU);void 0 !== v && (E=m(w.HJb,v),x=Math.min(x * E,1));a000.D9b(15);return w.eQa(a000.Q9b(x,F,1),y);break;}}};Array.isArray(u.hs.curves) && (w.yPa=g(u.hs.curves[0],0,0,1),w.xPa=g(u.hs.curves[1],0,0,1));r70=3;break;case 14:var V9u="1";V9u+="SIY";V9u+="bZ";V9u+="rN";V9u+="JCp9";V9u;return w;break;case 7:w.jTb=! !u.hs.simpleScaling;r70=6;break;case 6:u.hs.niqrfilter && u.hs.niqrcurve && (w.sZa=u.hs.niqrfilter,w.HJb=g(u.hs.niqrcurve,1,0,4));r70=14;break;}}}})(k.IH);b.DBa=a;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pGa=void 0;c=a(2);q=c.__importDefault(a(4));f=a(249);k=a(250);new q.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){function d(g,h){var v70,m;v70=2;for(;v70 !== 9;){switch(v70){case 5:var K9u="1SIY";K9u+="bZ";K9u+="rN";K9u+="JCp9";m.C6=function(n,r,p){var x70,u;x70=2;for(;x70 !== 3;){switch(x70){case 2:p=null !== p && void 0 !== p?p:m.PL;u=d.ZSb(n,m.config);n=n.Oa?n.Oa.Ea * (100 - m.vyb(r,u)) / 100 | 0:0;return m.eQa(n,p);break;}}};K9u;return m;break;case 2:m=l.call(this,g,h) || this;m.AC=function(n,r){var w70;w70=2;for(;w70 !== 1;){switch(w70){case 4:return k.AC(m.config,n,r);break;w70=1;break;case 2:return k.AC(m.config,n,r);break;}}};v70=5;break;}}}var u70;u70=2;for(;u70 !== 3;){switch(u70){case 2:c.__extends(d,l);d.ZSb=function(g,h){var y70,m,n;y70=2;for(;y70 !== 4;){switch(y70){case 2:n=! !g.Wq;h.Tsa && (null === (m=g.Oa) || void 0 === m?void 0:m.Ea) < h.XR && (n=!0);return n;break;}}};d.prototype.vyb=function(g,h){var z70,m,n;z70=2;for(;z70 !== 3;){switch(z70){case 2:(m=this.config,n=h?m.Aga:m.ifa);h=h?m.Bga:m.kfa;z70=5;break;case 5:Array.isArray(h) && (n=k.kRa(h,g.Hl - g.qc,m.jfa));return n;break;}}};return d;break;}}})(f.IH);b.pGa=a;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qAa=void 0;q=(function(){function a(c,f,k,l,d,g,h,m){this.ub=c;this.gNa=f;this.config=k;this.console=l;this.mediaType=d;this.qb=g;this.Na=h;this.Nb=m;this.fq=this.yh=!1;}a.prototype.$J=function(c,f){!this.ub.P.Pt || this.Nb.pJ || this.Nb.N_ && !this.config.Eea || (c-=this.ub.Ke,this.yh && !this.fq && c + this.config.V4a >= f && 0 === this.Na.sC && 0 === this.Na.Ar && 0 === this.Na.xOb && (f=this.Nb.me.N.Db,c=this.Nb.cL(),f + 1 < c || (this.gNa[this.mediaType].w4a || this.qb.Bhb(this.mediaType),this.fq=!0,this.gNa[this.mediaType].W5())));};return a;})();b.qAa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.oAa=void 0;c=a(2);f=a(19);q=a(417);k=a(416);a=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.$tb=function(g){l.prototype.F4.call(this,{value:g});};d.prototype.eWa=function(){return !0;};d.prototype.usa=function(){};d.prototype.F4=function(g){l.prototype.F4.call(this,g);g.done && (g=this.IA.E1,f.ka && this.H.trace("Requests drained",{w3b:g && g.P.id}),(g=g && g.Ra(this.tg)) && g instanceof k.OY && g.$J(this.qg.Sja() || 0));};return d;})(q.t9);b.oAa=a;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Iva=void 0;c=a(2);f=a(176);k=a(19);q=(function(){function l(d,g,h){this.H=d;this.efb=g;this.tg=h;this.f_=0;this.C_=!1;this.YP=[];this.ZD=void 0;k.ka && d.trace("BranchRequestIterator [" + this.tg + "]: created");}Object.defineProperties(l.prototype,{Hsb:{get:function(){return this.f_;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{E1:{get:function(){return this.DIa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tk:{get:function(){return this.C_;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wPa:{get:function(){return this.Mk?this.Mk.Ay?"Complete":this.Mk.$pa?"WaitingForBranch":void 0 !== this.ZD && 0 !== this.ZD?"In Policy " + this.YP[this.ZD].name:"WaitingForRequest":"Uninitialized;Prior:" + this.BJa;},enumerable:!1,configurable:!0}});l.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,h,m;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Mk;if(!d)return [3,6];this.ZD=void 0;return [4,d.next()];case 1:(g=n.Oe(),h=0,n.label=2);case 2:if(!(h < this.YP.length))return [3,5];this.ZD=h;m=this.YP[h];return [4,m.process(g)];case 3:(g=n.Oe(),n.label=4);case 4:return (h++,[3,2]);case 5:this.ZD=void 0;if(g.done || this.Mk !== d)return [2,{done:!0}];this.f_++;g.value.iLa();return [2,{done:!1,value:g.value.value}];case 6:return [2,f.AsyncIterator.Aka()];}});});};l.prototype.zQb=function(){this.d4a();this.SOb();};l.prototype.d4a=function(){var d;if(this.Mk){this.BJa=this.wPa;d=this.Mk;d && d.kh();this.YP.forEach(function(g){return g.reset();});d && k.ka && this.H.trace("BranchRequestIterator [" + this.tg + "]: Disposing iterator that was on branch ",this.E1 && this.E1.P.id);this.C_=!1;this.ZD=this.Mk=void 0;}};l.prototype.Fkb=function(d){this.YP.push(d);};l.prototype.SOb=function(){var d,g,h,m;d=this;if(!this.C_){g=this.H;h=this.efb;m=this.tg;this.f_=0;this.BJa=this.DIa=void 0;this.Mk=f.flatten(f.map(h.nUa(),function(n){var r;d.DIa=n;d.f_=0;k.ka && g.trace("BranchRequestIterator [" + d.tg + "]: new branch " + n.P.id);r=n.AF(m);if(r)return {value:r};k.ka && g.error("BranchRequestIterator [" + d.tg + "]: skipping branch " + n.P.id);return {value:[]};},g),g);this.C_=!0;}};return l;})();b.Iva=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iFa=void 0;c=a(2);f=a(897);k=a(898);q=(function(){function l(d,g,h,m,n,r,p,u){this.mediaType=d;this.Ha=h;this.events=n;this.$W=[];1 === this.mediaType && this.$W.push(new k.hGa(d,g,h,m,n,r,p,u,2));this.$W.push(new f.IGa(d,g,h,m,n,r,p,"stream",1));}l.prototype.reset=function(){this.$W.forEach(function(d){return d.reset();});};l.prototype.close=function(){this.$W.forEach(function(d){return d.close();});};l.prototype.bi=function(d){return c.__read(this.$W,1)[0].bi(d);};return l;})();b.iFa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.IGa=void 0;c=a(2);f=a(6);k=a(19);q=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.Ry=function(g){var h,m;h=g.stream;m=g.Ui;g=g.pf;f.assert(void 0 !== m);this.uLa(h,m,g) && k.ka && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + m.V + "ms");};d.prototype.GQa=function(g,h){var m,n,r;n=g.rH;r=this.Ha.dr(h);f.assert(void 0 !== r);k.ka && this.trace("emitStreamPresentingEvent @ " + g.timestamp.V + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:r,trackIndex:null === (m=null === n || void 0 === n?void 0:n.track) || void 0 === m?void 0:m.EE,streamIndex:null === n || void 0 === n?void 0:n.og});};return d;})(a(418).Zaa);b.IGa=q;},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hGa=void 0;c=a(2);f=a(19);k=a(6);l=a(9);q=(function(d){function g(h,m,n,r,p,u,t,w,v){h=d.call(this,h,m,n,r,p,u,t,"segment",v) || this;h.cw=w;return h;}c.__extends(g,d);g.prototype.Ry=function(h){var m,n,r;n=h.Ui;h=h.pf;k.assert(void 0 !== n);r=null === (m=this.Ha.dr(n)) || void 0 === m?void 0:m.va;k.assert(void 0 !== r);this.uLa(r,n,h) && f.ka && this.trace("segment " + r + " @ " + n.V + "ms");};g.prototype.GQa=function(h,m){var n,r;n=h.rH;r=this.Ha.dr(m);k.assert(void 0 !== r);f.ka && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.V + "ms for segment " + n);r.va !== n && (f.ka && this.console.warn("player position:",r,"not equal to trackedElement:",n),r={va:n,offset:l.S.hb});h={type:"segmentPresenting",playerTimestamp:m,position:r};this.cw && (h.metrics=this.cw.Yja(n));f.ka && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return g;})(a(418).Zaa);b.hGa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.uya=void 0;c=a(2);f=a(19);k=a(67);q=(function(){function l(d,g,h){this.Df=d;this.RIb=g;this.H=h;}Object.defineProperties(l.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});l.prototype.waitUntil=function(d){var g;d=k.hua(this.Df,d,!0);g=d.promise;this.Qjb=d.vr;return g;};l.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h;return c.__generator(this,function(m){switch(m.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.Uia)return [3,2];h=g.Ui.Ba(this.RIb);f.ka && this.H.trace("[" + g.mediaType + "] JIT: waiting until playertime >= " + h.V,"to append next request " + g.toString());return [4,this.waitUntil(h)];case 1:(m.Oe(),f.ka && this.H.trace("[" + g.mediaType + "] JIT: now appending request " + g.toString()),m.label=2);case 2:return [2,d];}});});};l.prototype.reset=function(){var d;null === (d=this.Qjb) || void 0 === d?void 0:d.wb();};return l;})();b.uya=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bGa=void 0;q=(function(){function a(c,f,k,l,d,g,h,m,n,r){var p;p=this;this.id=c;this.N=f;this.Z=k;this.mS=d;this.Xk=g;this.Pt=h;this.av=m;this.bo=n;this.Yd=r;this.jL=function(u){var t,w;return (null === (w=null === (t=p.Xk) || void 0 === t?void 0:t[u]) || void 0 === w?void 0:w.LVb) || p.Yd;};this.Aa=l || Infinity;}Object.defineProperties(a.prototype,{da:{get:function(){return this.N.da;},enumerable:!1,configurable:!0}});a.prototype.RSa=function(){var c,f,k;c=this;k=Object.keys(this.Xk || ({})).filter(function(l){var d,g;return !(null === (g=null === (d=c.Xk) || void 0 === d?void 0:d[l]) || void 0 === g || !g.weight);});return k.length?null !== (f=k.map(this.jL).reduce(function(l,d){return l === d?d:void 0;})) && void 0 !== f?f:this.Yd:this.Yd;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.bo + " viewableId: " + this.N.da + " pts: " + this.Z + "-" + this.Aa + " defaultKey: " + this.mS + " dests: " + JSON.stringify(this.Xk) + " terminal: " + ! !this.Pt;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.N.da,"startPts:":this.Z,endPts:this.Aa,defaultKey:this.mS,"dests:":this.Xk,terminal:! !this.Pt,playlistSegmentId:this.bo};};return a;})();b.bGa=q;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Hua=void 0;q=a(2);c=q.__importStar(a(10));f=a(178);k=q.__importDefault(a(902));l=a(387);d=q.__importDefault(a(27));g=q.__importDefault(a(4));a=(function(){var A70;A70=2;for(;A70 !== 27;){switch(A70){case 7:h.prototype.ekb=function(m,n,r,p,u,t){var L70,w;L70=2;for(;L70 !== 5;){switch(L70){case 2:w=this.I;w.Q8 && this.qib(n) || !r || !p || !(r=t?Math.min(r,p,t):Math.min(r,p)) || (this.Jf.get(),p=this.fb.Ga,m=p.Ru(p.Cc,m),n.track.Us() && m > w.ufa && r === u?(w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:1}),w.set({maxActiveRequestsPerSession:2}),w.set({maxPendingBufferLen:500})):(w.Fp=!0,w.QL=1,w.uv=2,w.fC=500),n.track.S6({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:w.WN,minRequestSize:w.ZL}),this.Usa++,w.Q8 && (this.Y_=!0)):w.Fp && !n.Us() && (m < w.tfa || r !== u) && (w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:3}),w.set({maxActiveRequestsPerSession:3}),w.set({maxPendingBufferLen:12E3})):(w.Fp=!0,w.QL=3,w.uv=3,w.fC=12E3),n.track.S6({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:w.WN,minRequestSize:w.ZL}),this.Vsa++,w.Q8 && (this.Z_=!0)));L70=5;break;}}};h.prototype.hkb=function(m,n){var M70,r,p,u;M70=2;for(;M70 !== 6;){switch(M70){case 2:r=this.I;M70=1;break;case 5:void 0 === this.lm && (this.lm={startTime:g.default.time.aa(),uR:[],qX:[],Gma:void 0,xma:void 0});r=Math.floor((g.default.time.aa() - this.lm.startTime) / r.UJ);(p=this.lm.xma,u=this.lm.Gma?r - this.lm.Gma - 1:r);M70=9;break;case 9:M70=void 0 === p || r > p?8:7;break;case 1:M70=this.FJa?5:6;break;case 8:(this.lm.uR[u]=m,this.lm.qX[u]=n);M70=7;break;case 7:this.lm.xma=r;M70=6;break;}}};h.prototype.BKb=function(){var N70,m,O70;N70=2;for(;N70 !== 4;){switch(N70){case 2:m=this.fb;N70=1;break;case 1:N70=this.oE.Nq?5:4;break;case 5:try{O70=2;for(;O70 !== 1;){switch(O70){case 2:(this.Jf.DPb(),this.sKa.Ic());O70=1;break;}}}catch(n){var g9u="Hind";g9u+="sight: Error";g9u+=" d";g9u+="uring clean u";g9u+="p: ";a000.D9b(2);m.qb.Pm(a000.Q9b(g9u,n));}N70=4;break;}}};h.prototype.PKb=function(m){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:this.I.zK && m === d.default.Za.Hb && (this.Vsa=this.Usa=this.E3a=this.F3a=this.y_a=this.z_a=0);P70=1;break;}}};h.prototype.NKb=function(m,n){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 2:m === d.default.Za.Hb && (this.RXb=n);Q70=1;break;}}};A70=11;break;case 2:Object.defineProperties(h.prototype,{t4:{get:function(){var E70;E70=2;for(;E70 !== 1;){switch(E70){case 2:return this.Sca;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hqa:{get:function(){var F70;F70=2;for(;F70 !== 1;){switch(F70){case 4:return this.sKa;break;F70=1;break;case 2:return this.sKa;break;}}},enumerable:!1,configurable:!0}});h.prototype.a3a=function(m,n,r){var G70;G70=2;for(;G70 !== 4;){switch(G70){case 2:this.MB=m;c.ga(n) || (this.qVa=n);c.ga(r) || (this.pVa=r);G70=4;break;}}};h.prototype.Gta=function(m){var H70;H70=2;for(;H70 !== 5;){switch(H70){case 2:this.I=m;this.O_.Gta(m);H70=5;break;}}};h.prototype.Tca=function(m,n,r,p){var I70,u;I70=2;for(;I70 !== 7;){switch(I70){case 3:return !1;break;case 1:var N9u="i";N9u+="q";N9u+="r";I70=m === N9u?5:9;break;case 4:return ! !(n.Oa && r && c.xa(p) && n.Oa.Ea < u.XR && p > u.C$);break;case 2:u=this.I;I70=1;break;case 8:return n.Oa?n.Oa.Ea < u.XR:!0;break;case 5:I70=void 0 !== p?4:3;break;case 9:var T9u="a";T9u+="v";T9u+="g";I70=m === T9u?8:3;break;}}};h.prototype.fL=function(m){var J70;J70=2;for(;J70 !== 1;){switch(J70){case 2:return 1 === m?this.O_.C6:this.O_.AC;break;}}};h.prototype.nN=function(m){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 4:this.O_.nN(m);K70=7;break;K70=1;break;case 2:this.O_.nN(m);K70=1;break;}}};A70=7;break;case 11:h.prototype.nob=function(m){var R70,p,n,r,u,t;R70=2;for(;R70 !== 6;){switch(R70){case 1:var x9u="n";x9u+="o";x9u+="ne";R70=x9u !== n.OC && !0 !== this.Wq && m.state <= n.Dna?5:6;break;case 5:p=this.Jf.get();R70=4;break;case 2:n=this.I;R70=1;break;case 4:var B9u="i";B9u+="q";B9u+="r";R70=B9u === n.OC?3:8;break;case 9:void 0 !== u && void 0 !== u.gl && void 0 !== u.Jj && void 0 !== u.il && (r=(u.il - u.gl) / u.Jj);R70=8;break;case 3:u=this.dJa(p);R70=9;break;case 8:t=n.QU?d.default.wf.ww:d.default.wf.Zz;R70=7;break;case 7:p && p.confidence >= t && this.Tca(n.OC,p,u,r) && (this.Wq=!0,this.q1=m.state);R70=6;break;}}};h.prototype.Dkb=function(m){var S70;S70=2;for(;S70 !== 1;){switch(S70){case 2:m.Wq=this.Wq;S70=1;break;}}};h.prototype.Fwb=function(m){var T70,n,r,p,u,t,w,v,x;T70=2;for(;T70 !== 25;){switch(T70){case 2:var i9u="s";i9u+="ta";i9u+="rtp";i9u+="la";i9u+="y";var s9u="lo";s9u+="g";s9u+="da";s9u+="t";s9u+="a";(n={},r=this.I,p=this.fb,u={type:s9u,target:i9u,fields:{}});u.fields=n;Object.keys(m).forEach(function(y){var U70;U70=2;for(;U70 !== 1;){switch(U70){case 2:n[y]=m[y];U70=1;break;}}});t=this.Jf.get();T70=3;break;case 12:T70=w?11:16;break;case 9:n.actualbw=t;n.isConserv=this.Wq;n.ccs=this.q1;n.isLowEnd=this.OEb;n.histdiscbw=this.MB;w=this.pVa;T70=12;break;case 11:v=function(y){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:return c.xa(y)?Number(y).toFixed(2):-1;break;}}};t=[v(w.min || void 0),v(w.j6 || void 0),v(w.gl || void 0),v(w.Jj || void 0),v(w.il || void 0),v(w.k6 || void 0),v(w.max || void 0)];x=[];w=c.isArray(w.ci) && w.ci.reduce(function(y,z){var W70,B;W70=2;for(;W70 !== 3;){switch(W70){case 4:return y;break;case 2:B=v(z.Rf || void 0);z=v(z.n || void 0);-1 < B && -1 < z && y.push({mean:B,n:z});W70=4;break;}}},x);T70=18;break;case 18:n.histtdc=w;T70=17;break;case 3:t && t.Oa && (t=t.Oa.Ea);T70=9;break;case 17:n.histtd=t;T70=16;break;case 16:n.histage=this.qVa;r.Zha && this.hJ && (n.ishighstable=this.Sca,n.avg_avtp=this.hJ.kmb,n.avg_ne=Number(this.hJ.lmb).toFixed(4));p.Yb && (r=g.default.Mn(),n.maxAudioBufferAllowedBytes=r[d.default.Za.Tb],n.maxVideoBufferAllowedBytes=r[d.default.Za.Hb]);p.emit(u.type,u);T70=25;break;}}};h.prototype.Gwb=function(m){var X70,n,r,p,u,t,w,v;X70=2;for(;X70 !== 6;){switch(X70){case 2:(n=this,r=this.I,p=this.Jf.get(),u=[]);[d.default.Za.Hb,d.default.Za.Tb].forEach(function(x){var Y70,y;Y70=2;for(;Y70 !== 4;){switch(Y70){case 2:Y70=n.Vb(x)?1:4;break;case 1:y=n.fb.sUa(x);void 0 !== y && (x === d.default.Za.Hb && (r.zK && (y.parallelDownloadMs=n.z_a,y.parallelDownloadBytes=n.y_a,y.singleDownloadMs=n.F3a,y.singleDownloadBytes=n.E3a,y.switchFromParallelToSingle=n.Usa,y.switchFromSingleToParallel=n.Vsa),p && p.confidence && p.Oa && (y.asetput=p.Oa,y.aseiqr=p.Rs,y.tdigest=p.Sj && p.Sj.my() || void 0),p && p.avtp && (y.avtp=p.avtp.Ea)),u.push(y));Y70=4;break;}}});m.stat=u;X70=4;break;case 4:(t=0,w=0,v=0);p.confidence && (t=p.Oa?p.Oa.Ea:0,w=p.Vi?p.Vi.Ea:0,v=p.Qs?p.Qs.Ea:0);m.location={responseTime:w,httpResponseTime:v,bandwidth:t,confidence:p.confidence,name:this.RXb};this.FJa && (m.bt={startTime:this.lm.startTime,audioMs:this.lm.uR,videoMs:this.lm.qX},this.lm.uR=[],this.lm.qX=[],this.lm.Gma=this.lm.xma);X70=7;break;case 7:var F2u="n";F2u+="on";F2u+="e";F2u !== r.OC && (m.isConserv=this.Wq,m.ccs=this.q1);X70=6;break;}}};A70=18;break;case 18:h.prototype.qib=function(m){var Z70,n;Z70=2;for(;Z70 !== 6;){switch(Z70){case 5:return !0;break;case 1:Z70=this.Y_ && m.Us()?5:4;break;case 4:this.Y_ && (this.Y_=!1);Z70=3;break;case 2:n=this.I;Z70=1;break;case 3:Z70=this.Z_ && n.Fp && !m.Us()?9:8;break;case 8:this.Z_ && (this.Z_=!1);return !1;break;case 9:return !0;break;}}};h.prototype.dJa=function(m){var a80,b80;a80=2;for(;a80 !== 4;){switch(a80){case 1:m=m.Sj;a80=5;break;case 3:a80=9;break;case 2:var U2u="tdi";U2u+="ges";U2u+="t";b80=this.I.jla;a80=b80 === U2u?1:3;break;case 9:m=m.Rs && m.Rs.q6;a80=5;break;case 5:return m;break;}}};A70=16;break;case 16:h.prototype.Hgb=function(m,n,r){var c80,p;c80=2;for(;c80 !== 3;){switch(c80){case 2:p=this.I;this.Tca(p.OC,m,n,r)?this.Wq=!0:this.Wq=!1;this.q1=0;this.Tca(p.ena,m,n,r) && (this.OEb=!0);c80=3;break;}}};return h;break;}}function h(m,n,r,p,u,t,w,v,x){var B70,C70,D70,z,y;B70=2;for(;B70 !== 32;){switch(B70){case 26:B70=w && 1 < w.length && u.Zha?25:33;break;case 34:this.hJ=new l.z$(w,u,this.H);B70=23;break;case 35:B70=34;break;case 16:B70=this.oE.Nq?15:27;break;case 18:p=u.QU?d.default.wf.ww:d.default.wf.Zz;r && r.confidence >= p && r.Oa && y && this.Hgb(r,n,y);B70=16;break;case 21:this.hJ=new l.mza(w,u,this.H);B70=23;break;case 22:var y2u="L";y2u+="R";B70=C70 === y2u?21:35;break;case 25:var L2u="b";L2u+="as";L2u+="e";L2u+="li";L2u+="ne";C70=u.UCb;B70=C70 === L2u?24:22;break;case 7:this.sm=this.H.trace.bind(this.H);this.I=u;B70=14;break;case 23:this.Sca=this.hJ.t4();B70=33;break;case 2:var o2u="1SIY";o2u+="b";o2u+="ZrNJCp9";this.H=n;this.Jf=p;this.Vb=v;this.oE=x;o2u;this.fb=m;this.Eb=this.H.warn.bind(this.H);B70=7;break;case 27:this.Sca=!1;B70=26;break;case 15:try{D70=2;for(;D70 !== 4;){switch(D70){case 2:z=new k.default(m,this.H,{bufferSize:g.default.Mn()},u);this.Jf.nkb(z);this.sKa=z;D70=4;break;}}}catch(B){var b2u="Hinds";b2u+="ight: Error";b2u+=" when creating";b2u+=" QoEEvaluator: ";a000.u9b(2);m.qb.Pm(a000.r9b(b2u,B));}B70=27;break;case 24:this.hJ=new l.z$(w,u,this.H);B70=23;break;case 10:n=this.dJa(r);void 0 !== n && void 0 !== n.gl && void 0 !== n.Jj && void 0 !== n.il && (y=(n.il - n.gl) / n.Jj);B70=18;break;case 33:u.Q8 && (this.Z_=this.Y_=!1);B70=32;break;case 14:a000.u9b(16);var t31=a000.Q9b(999982,16,30999424,2);this.FJa=0 === Math.floor(t31 * Math.random()) % u.vfa;this.MB=this.pVa=this.qVa=this.q1=this.Wq=void 0;this.Vsa=this.E3a=this.F3a=this.Usa=this.y_a=this.z_a=0;this.O_=f.fL(u,t);B70=10;break;}}}})();b.Hua=a;},function(q,b,a){var f,k,l;function c(d,g,h,m){this.fb=d;this.H=g;this.$j=this.H.error.bind(this.H);this.Eb=this.H.warn.bind(this.H);this.sm=this.H.trace.bind(this.H);this.cg=this.H.log.bind(this.H);this.Peb=new k();this.I=m;this.M_=[];this.f0=void 0;d=m.L3;f.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.Nca=!0;}a(27);b=a(4).default;f=a(145);a(420);k=a(903);new b.Console("ASEJS_QOE_EVAL","media|asejs");l=a(125).kFa || a(125);c.prototype=Object.create(f.prototype);c.prototype.add=function(d,g,h){this.f0 || (this.f0=g);f.prototype.add.call(this,d,g,h);};c.prototype.Jyb=function(){var d;if(0 !== this.M_.length){d=[];this.M_.forEach(function(g){g && g.MJ && d.push(g.my());});return d;}};c.prototype.Ic=function(){this.M_=[];};c.prototype.IBb=function(){var d,g,h;d=this.get(this.I.L3.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,r){if(n)return (g=n,h=r,!0);});if(g)for(var m=0;m < h;m++){d[m]=g;}}d={trace:d,timestamp:this.f0,Ax:this.qd};this.Nca=!1;f.prototype.reset.call(this);this.Nca=!0;this.f0=void 0;return d;};c.prototype.pia=function(d){var g,h,m,n,r,p;if(d && !d.MJ){h=d.Bs.wWa;h && (d.vqa=this.Gea(d),d.Q6=!1);if((g=this.IBb()) && g.trace && g.trace.length){m=d.$i.xC;n=g.timestamp;if(n > m){r=g.Ax;p=g.trace[0];m=Math.ceil((n - m) / r);g.timestamp=n - m * r;for(n=0;n < m;n++){g.trace.splice(0,0,p);}}g.trace.length && g.trace.pop();}d.Bz=g;g.trace && 0 === g.trace.length || void 0 === g.timestamp || (g=this.mnb(d),d.h_a=g,h && g && (d.Q6=g.SB),d.MJ=!0,this.M_.push(d));}};c.prototype.mnb=function(d){var r,p,u,t;function g(w){var y;for(var v,x=0;x < w.length;x++){y=w[x].reduce(function(z,B){return B.zb?z + 1:z;},0);if(void 0 === v)v=y;else if(y !== v)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > v?y - v:v - y) * Math.LOG2E) + "]");}}for(var h=this.I.K3,m={SB:!1,j4:!1,Vub:0},n=0;n < h.length;n++){r=h[n];p=this.Peb.create(r);if(p){u=l.now();t={};try{g(d.fw);t=p(d);}catch(w){t.HK=w;}t.Zkb=l.now() - u;m[r]=t;m.SB=m.SB || t.SB;m.j4=m.j4 || t.j4;m.HK=m.HK || t.HK;}}return m;};c.prototype.Gea=function(d){var g;d=d.Bs;g="";1E3 > d.ro && (g+=d.L6a);1E3 > d.Zr && (g=g + ("" !== g?",":"") + d.jMa);1E3 <= d.ro && 1E3 <= d.Zr && (g="media");return g;};q.exports=c;},function(q,b,a){var k;function c(){}function f(l,d,g){return function(h){h.kW=d;h.compare=g;return l(h);};}k=a(904);c.prototype.constructor=c;c.prototype.create=function(l){var d;switch(l){case "htwbr":break;case "htwbr-dlvmaf":d=f(k.GT,!1,k.tOa);break;case "htwbr-segvmaf":d=f(k.GT,!0,k.tOa);break;case "hvmafgr":d=f(k.GT,!1,k.sga);break;case "hvmafgr-dlvmaf":d=f(k.GT,!1,k.sga);break;case "hvmafgr-segvmaf":d=f(k.GT,!0,k.sga);break;case "hvmafdp":d=f(k.dp,!1);break;case "hvmafdp-dlvmaf":d=f(k.dp,!1);break;case "hvmafdp-segvmaf":d=f(k.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};q.exports=c;},function(q,b,a){var p,u,t,w,v,x,y,z,B,A,C;function c(E){var F,D,G;F=E.Bz;D=E.$i;G=E.Bs.Aa - D.Z;F.timestamp > D.xC && A.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + D.xC);E=[];for(var I,J=F.timestamp,H=0;H < F.trace.length;H++){J >= D.xC && (E.push(F.trace[H]),I=F.trace[H]);J+=F.Ax;G-=F.Ax;}for(;0 < G;){E.push(I);G-=F.Ax;}D=F.Ax;F=E.length;if(0 === F)F=[];else {for(D=[D / 1E3];2 * D.length <= F;){D=D.concat(D);}D.length < F && (D=D.concat(D.slice(0,F - D.length)));F=D;}return new x(E,F,!1);}function f(E,F,D){F=E.fw[F][D];return F.ca + E.$i.zR * F.duration / 8;}function k(E){var F,D,G,I,J,H,M,O,L;F=E.$i;D=F.am;G=E.Bs;I=G.Yu;H=[];for(G=I=Math.min(G.WF,I);G >= D;G--){C.update("backward step loop");M=J=E.fw[0][G].Z - E.$i.Z;G < I && (p(void 0 !== H[G + 1],"expect solution[(fragIndex + 1)] !== undefined"),M=Math.min(H[G + 1].startTime,M));O=f(E,0,G);L=r(O,M,E.Bz,F.xC);if(0 > L)throw Error("Infeasible: reason throughput at min bitrate");O={startTime:L,endTime:M,G1:M,tub:J,gN:O,ie:0};O.gSa=G;H[G]=O;}F=0;for(G=D;G <= I;G++){F+=H[G].gN;H[G].Jha=F;}if(!l(E,H,D,I))throw Error("Infeasible: reason buffer capacity at min bitrate");return {SB:!0,qoa:0 == H.length,Up:H};}function l(E,F,D,G){var I,J,H,M,O,L,P,R,K,Q;for(;D <= G;D++){C.update("checkBuffer");I=E;J=F;H=D;C.update("check buffer vacancy");M=I.$i;O=I.fw[M.WT];L=I.fNa;P=!0;I=I.Xwb(Math.floor(J[H].startTime) + M.Z);R=M.Jz + J[H].Jha;K=0;Q=0;if(I.index < M.am){for(var N=0,da=M.vz;da < I.index;da++){N+=O[da].ca;}K+=N;N=0;for(da=M.vz;da < I.index;da++){N+=O[da].duration;}Q+=N;}else (K+=M.Jz,Q+=M.ro);N=0;for(da=M.am;da < I.index;da++){N+=J[da].gN;}K+=N;N=0;for(da=M.am;da < I.index;da++){N+=O[J[da].gSa].duration;}Q+=N;I=R - K;M=O[H].Z + O[H].duration - M.Z - Q;if(M >= L.Py || I >= L.A6a)P=!1;J[H].oNa=I;J[H].Bfa=M;if(!P)return !1;}return !0;}function d(E){E=E.$i.Y;for(var F=[],D,G=0;G < E.length;G++){C.update("get prebuffered chunks loop");D=E[G];p(void 0 !== D.zb,"expect frag.vmaf !== undefined");D=new t(D.ca,D.duration / 1E3,D.zb);F.push(D);}return F;}function g(E){var F,D,G,I,J,H,L;F=E.fw;D=E.$i;G=E.Bs;I=G.Yu;J=E.Qd;H=[];I=Math.min(G.WF,I);for(var M=0;M < F.length;M++){G=[];for(var O=D.am;O <= I;O++){C.update("get chunk map from play segment");L=F[M][O];L=new t(L.ca,L.duration / 1E3,E.kW && void 0 !== L.zb?L.zb:J[M].zb);G.push(L);}H.push(G);}return new w(H,!1);}function h(E,F,D){p(E.lL() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,I=0,J,H,M=0;M < F.length;M++){C.update("calculate twvmaf");p(F[M].uVa === M,"expect stream_choices[idx].i_epoch === idx");H=E.gk[F[M].Q3][M];J=void 0 !== D?D(H.quality):H.quality;H=H.$l;G+=J * H;I+=H;}return {kQa:G / I,jQa:1E3 * I};}function m(E,F,D){p(E.lL() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,I=0,J=D.$i.zR,H,M=0,O=0,L=0;L < F.length;L++){C.update("calculate Bytes");p(F[L].uVa === L,"expect stream_choices[idx].i_epoch === idx");H=E.gk[F[L].Q3][L];G+=H.ca;I+=J * H.$l * 1E3 / 8;M+=H.$l * D.Qd[F[L].Q3].bitrate;O+=H.$l;}return {iQa:G,gQa:I,hQa:0 < O?1 * M / O:0};}function n(E,F,D){F=Math.min(E.length - 1,F);F=Math.max(0,F);return E[F] * D / 8;}function r(E,F,D,G){var I,J,H,M,O;I=D.trace;J=1 * D.Ax;H=F + G - D.timestamp;M=Math.floor(1 * H / J);F=(H - M * J) / J * n(I,M,J);if(F >= E)O=H - 1 * E / F * (H - M * J);else for(H=M;F < E;){C.update("find download start time");--H;if(0 > H)return -1;M=n(I,H,J);if(F + M >= E){E=(E - F) / M * J;O=(H + 1) * J - E;break;}F+=M;}return O + D.timestamp - G;}p=a(6).assert;u=a(905);t=a(421).X8a;w=a(421).Y8a;v=a(906).l$a;x=a(422).jeb;y=a(251).Nva;z=a(244).RY;B=a(84).default;A=new (a(4).default.Console)("ASEJS_QOE_EVAL","media|asejs");C=a(125).kFa || a(125);q.exports={GT:function(E){var F,D,G,I,J,H,M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za,ja,Ia,wa,Sa,Ua,$a,Za;A.debug("greedy DEBUG false");C.Tra("greedy-" + (E.kW?"segvmaf":"dlvmaf") + ": ");try{E.VF=[];F=E.fw;D=E.$i;G=E.Bs;I=G.Yu;J=E.Qd;I=Math.min(G.WF,I);for(M=D.am;M <= I;M++){O=new u();E.VF[M]=O;F[0][M].Ffa=F[0][M].ca;for(H=1;H < F.length;H++){F[H][M].Ffa=F[H][M].ca;}H=0;L=F[H][M];L.dC=Infinity;L.og=H;for(H=1;H < F.length;H++){L=F[H][M];L.og=H;P=O.p4()?F[0][M]:O.mMb();R=8 * L.Ffa / L.duration;K=8 * P.Ffa / P.duration;if(E.kW && void 0 !== L.zb)(Q=L.zb,N=P.zb);else (Q=J[H].zb,N=J[P.og].zb);L.Zs=R - K;L.dC=(Q - N) / L.Zs;isFinite(L.dC) && (0 < L.dC || H == F.length - 1) && 0 < L.Zs && O.enqueue(L);}}for(M=D.am;M <= I;M++){D=[];da=[];na=[];va=E.VF[M].no();for(F=0;F < va.length;F++){L=va[F];D.push(L.Zs.toFixed(2));E.kW && void 0 !== L.zb?da.push(L.zb):da.push(J[L.og].zb);na.push(L.dC.toFixed(4));}}ra=k(E);if(ra.qoa)return ra;X=E.$i;ta=E.Bs;za=ta.Yu;za=Math.min(ta.WF,za);na=[];for(var V=X.am;V <= za;V++){E.VF[V].p4() || na.push(E.VF[V].qK());}p(void 0 !== E.compare,"playSegment.compare required for greedy");for(var T=new z(na,E.compare);0 < T.length;){C.update("upgrade frags");ja=T.pop();a:{za=X=void 0;V=E;na=ra;da=ja;Ia=V.$i;wa=V.Bs;Sa=Math.min(wa.WF,wa.Yu);Ua=JSON.parse(JSON.stringify(na.Up));p(da && Ua[da.index].ie < da.og,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");za=da.index;X=Ua[za];X.ie=da.og;X.gN=f(V,X.ie,za);X.startTime=r(X.gN,X.G1,V.Bz,Ia.xC);Ua[za]=X;if(0 > X.startTime)$a=!1;else {for(za=da.index - 1;za >= Ia.am;za--){X=Ua[za];Za=Ua[za + 1].startTime;if(X.G1 <= Za)break;X.G1=Za;X.startTime=r(X.gN,X.G1,V.Bz,Ia.xC);Ua[za]=X;if(0 > X.startTime){$a=!1;break a;}}for(var mb=da.index + 1;mb <= Sa;mb++){Ua[mb].Jha=Ua[mb].gN + (mb > V.$i.am?Ua[mb - 1].Jha:0);}for(var db=da.index + 1;db <= Sa;db++){if(Ua[db].startTime > Ua[da.index].tub){Sa=db - 1;break;}}l(V,Ua,da,Math.min(za + 1,da.index),Sa)?(na.Up=Ua,$a=!0):$a=!1;}}$a && (E.VF[ja.index].p4() || T.push(E.VF[ja.index].qK()));}}finally{delete E.VF;}for(Sa=wa=Ia=$a=ja=T=0;Sa < ra.Up.length;Sa++){if(Ua=ra.Up[Sa])(Za=E.fw[Ua.ie][Ua.gSa],T+=(Za.zb?Za.zb:E.Qd[Ua.ie].zb) * Za.duration,ja+=Za.duration,$a+=Za.ca,Ia+=E.$i.zR * Za.duration / 8,wa+=Za.duration * E.Qd[Ua.ie].bitrate);}ra.kQa=0 < ja?1 * T / ja:0;ra.jQa=ja;ra.iQa=$a;ra.gQa=Ia;ra.hQa=0 < ja?1 * wa / ja:0;ra.Ny=C.FTa();A.debug("Max heap used: " + Math.round(ra.Ny / 1024 / 1024) + " MB");return ra;},sga:function(E,F){if(E.dC < F.dC)return 1;if(E.dC > F.dC)return -1;if(E.Zs > F.Zs)return 1;if(E.Zs < F.Zs)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},tOa:function(E,F){if(E.Zs > F.Zs)return 1;if(E.Zs < F.Zs)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(E){var F,D,G,I,J,H;C.Tra("dp-" + (E.kW?"segvmaf":"dlvmaf") + ": ");F=k(E);if(!1 === F.SB || !0 === F.qoa)return F;D=g(E);G=new v(D);I=d(E);I={a5a:c(E),HMa:E.$i.zR,UYa:0,zYa:240,yYa:8 * E.fNa.A6a / 1E3,kNa:.5,TMa:new y(I),bRa:0,a5b:void 0,OUa:void 0,S0a:void 0,SLa:!0};G=G.Sv(I);I=h(D,G,void 0);D=m(D,G,E);J=[];H=E.$i.am;G.forEach(function(M){J[H]={ie:M.Q3};H++;});B(I,F);B(D,F);F.Up=J;F.Ny=C.FTa();A.debug("Max heap used: " + Math.round(F.Ny / 1024 / 1024) + " MB");return F;}};},function(q){var c;function b(f){this.$f=a(f);this.sg=this.Re=0;if(c(f)){for(var k=f.length,l=0;l < k;++l){this[l]=f[l];}this.Re=k;}}function a(f){if("number" !== typeof f)if(c(f))f=f.length;else return 16;f=Math.min(Math.max(16,f),1073741824);f=(f >>> 0) - 1;f|=f >> 1;f|=f >> 2;f|=f >> 4;f|=f >> 8;return (f | f >> 16) + 1;}b.prototype.no=function(){for(var f=this.Re,k=Array(f),l=this.sg,d=this.$f,g=0;g < f;++g){k[g]=this[l + g & d - 1];}return k;};b.prototype.push=function(f){var k,l,d,h;k=arguments.length;l=this.Re;if(1 < k){d=this.$f;if(l + k > d){for(var g=0;g < k;++g){this.WZ(l + 1);h=this.sg + l & this.$f - 1;this[h]=arguments[g];l++;this.Re=l;}return l;}h=this.sg;for(g=0;g < k;++g){this[h + l & d - 1]=arguments[g];h++;}this.Re=l + k;return l + k;}if(0 === k)return l;this.WZ(l + 1);g=this.sg + l & this.$f - 1;this[g]=f;this.Re=l + 1;return l + 1;};b.prototype.pop=function(){var f,k,l;f=this.Re;if(0 !== f){k=this.sg + f - 1 & this.$f - 1;l=this[k];this[k]=void 0;this.Re=f - 1;return l;}};b.prototype.shift=function(){var f,k,l;f=this.Re;if(0 !== f){k=this.sg;l=this[k];this[k]=void 0;this.sg=k + 1 & this.$f - 1;this.Re=f - 1;return l;}};b.prototype.unshift=function(f){var k,l,d,h;k=this.Re;l=arguments.length;if(1 < l){d=this.$f;if(k + l > d){for(var g=l - 1;0 <= g;g--){this.WZ(k + 1);d=this.$f;h=(this.sg - 1 & d - 1 ^ d) - d;this[h]=arguments[g];k++;this.Re=k;this.sg=h;}return k;}h=this.sg;for(g=l - 1;0 <= g;g--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[g];}this.sg=h;this.Re=k + l;return k + l;}if(0 === l)return k;this.WZ(k + 1);d=this.$f;g=(this.sg - 1 & d - 1 ^ d) - d;this[g]=f;this.Re=k + 1;this.sg=g;return k + 1;};b.prototype.mMb=function(){var f;f=this.Re;if(0 !== f)return this[this.sg + f - 1 & this.$f - 1];};b.prototype.get=function(f){var k;if(f === (f | 0)){k=this.Re;0 > f && (f+=k);if(!(0 > f || f >= k))return this[this.sg + f & this.$f - 1];}};b.prototype.p4=function(){return 0 === this.Re;};b.prototype.clear=function(){for(var f=this.Re,k=this.sg,l=this.$f,d=0;d < f;++d){this[k + d & l - 1]=void 0;}this.sg=this.Re=0;};b.prototype.toString=function(){return this.no().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.qK=b.prototype.shift;b.prototype.toJSON=b.prototype.no;Object.defineProperty(b.prototype,"length",{get:function(){return this.Re;},set:function(){throw new RangeError("");}});b.prototype.WZ=function(f){this.$f < f && this.$ib(a(1.5 * this.$f + 16));};b.prototype.$ib=function(f){var k,l;k=this.$f;this.$f=f;f=this.sg;l=this.Re;if(f + l > k)for((f=f + l & k - 1,l=0);l < f;++l){this[l + k]=this[l + 0];this[l + 0]=void 0;}};c=Array.isArray;q.exports=b;},function(q,b,a){var p,u,t,w;function c(v,x,y){this.WMa=this.vfb(v,x,y);}function f(){}function k(){}function l(){}function d(v){this.Aob=v;}function g(){}function h(){}function m(){}function n(){this.Gha={};}function r(v,x){return Array.apply(0,Array(x)).map(function(y,z){return z + v;});}p=a(6).assert;b=a(251).Nva;u=a(422).keb;t=a(251).A8a;new (a(4).default.Console)("ASEJS_QOE_EVAL","media|asejs");w=a(125).kFa || a(125);c.prototype.constructor=c;c.prototype.vfb=function(v,x,y){p(v < x,"expect min_buffer_sec < max_buffer_sec but got " + v + " and " + x);p(0 < y,"expect buffer_step_sec > 0. but got " + y);for(var z=[];v < x;v+=y){z.push(v);}z[z.length - 1] < x && z.push(x);return z;};c.prototype.DB=function(v){return this.ugb(v,this.WMa);};c.prototype.ugb=function(v,x){v=this.Xtb(v,x);if(0 === v)throw new f();if(v === x.length)throw new k();return v;};c.prototype.Xtb=function(v,x){p(0 < x.length,"expect bins.length > 0 but got " + x.length);if(v < x[0])return 0;if(v >= x[x.length - 1])return x.length;for(var y=1;y < x.length;y++){if(x[y - 1] <= v && v < x[y])return y;}p(!1,"expect not coming here in digitize()");};c.prototype.v3=function(){return r(1,this.WMa.length - 1);};f.prototype=Error();k.prototype=Error();l.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.s9a=-20;d.prototype.r9a=20;d.prototype.q9a=void 0;d.prototype.l9a=new b(void 0);d.prototype.n9a=0;d.prototype.m9a=1;d.prototype.v9a=!1;d.prototype.p9a=!0;d.prototype.o9a=!0;d.prototype.t9a=void 0;d.prototype.j9a=!0;d.prototype.k9a=0;d.prototype.Sv=function(v){p(void 0 !== v.a5a,"expect recipe.time_varying_bandwidth !== undefined");return this.ajb(this.Aob,v.a5a,void 0 !== v.UYa?v.UYa:this.s9a,void 0 !== v.zYa?v.zYa:this.r9a,void 0 !== v.yYa?v.yYa:this.q9a,void 0 !== v.TMa?v.TMa:this.l9a,void 0 !== v.bRa?v.bRa:this.n9a,void 0 !== v.kNa?v.kNa:this.m9a,void 0 !== v.oTb?v.oTb:this.v9a,void 0 !== v.gCb?v.gCb:this.p9a,void 0 !== v.OUa?v.OUa:this.o9a,void 0 !== v.S0a?v.S0a:this.t9a,void 0 !== v.SLa?v.SLa:this.j9a,void 0 !== v.HMa?v.HMa:this.k9a);};d.prototype.ajb=function(v,x,y,z,B,A,C,E,F,D,G,I,J,H){var O,L,P,R,K,Q,ra,ja,Ia,wa,Sa,Ua,$a,Za,mb,db,Ta,Ca,La;function M(Ma){return Ma[K];}w.Tra("dp: ");p(y <= A.Yg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");p(A.Yg <= z,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");p(y <= C,"expect min_buffer_sec <= end_buffer_sec");p(C <= z,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && p(A.ql <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + A.ql + " and " + B);O=new c(y,z,E);E=new n();L=0;P=A;E.put([0,O.DB(A.Yg)],[L,P,void 0,void 0,x,void 0,void 0,void 0]);R=P=0;x=v.bCb();p(v.lL() == x.length,"expect chunk_map.get_n_epoch() == durations_sec.length");K=-1;for(Q in x){K+=1;for(var N=!0,da=v.gk.map(M),na=O.v3(),va=0;va < na.length;va++){ra=na[va];if(E.sma([K,ra]))for(var X=E.get([K,ra]),ta=X[0],za=X[1],V=X[4],T=0;T < da.length;T++){x=da[T];w.update("epoch-ibuf-chunk loop");A=void 0 !== I?I(x.quality):x.quality;ja=V.Hq();try{X=this.agb(za,x,ja,H);Ia=X[0];wa=X[1];Sa=X[2];Ua=X[3];$a=X[4];Za=X[5];}catch(Ma){if(Ma instanceof u)continue;else if(Ma instanceof f){P+=1;continue;}else throw Ma;}mb=L=!1;try{db=O.DB(Ua.Yg);D && O.DB(Ia);G && O.DB(wa);if(void 0 !== B)if(G){if(Sa.ql > B)throw new l();}else if(Ua.ql > B)throw new l();}catch(Ma){if(Ma instanceof f)(db=void 0,P+=1);else if(Ma instanceof k)(J?L=!0:R+=1,db=void 0);else if(Ma instanceof l)(J?mb=L=!0:R+=1,db=void 0);else throw Ma;}try{if(L && mb){p(void 0 !== B,"expect max_buffer_kb !== undefined");Ta=G?Sa.ql - B:Ua.ql - B;p(0 <= Ta,"pause dlnd kb cannot be -ve but is " + Ta);try{Ca=Ua.JMb(Ta);}catch(Ma){if(Ma instanceof t)throw new f();throw Ma;}ja.N_a(Ca);$a+=Ca;p(Ua.Yg < z,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");db=O.DB(Ua.Yg);}else if(L && !mb){Ca=G?Sa.Yg - z + 1E-8:Ua.Yg - z + 1E-8;p(0 <= Ca,"pause dlnd kb cannot be -ve but is " + Ca);try{Ua.e0a(Ca);}catch(Ma){if(Ma instanceof t)throw new f();throw Ma;}ja.N_a(Ca);$a+=Ca;p(y <= Ua.Yg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");p(Ua.Yg < z,"cur_buffer_queue.total_remain_sec < max_buffer_sec");db=O.DB(Ua.Yg);}else Ca=0;}catch(Ma){if(Ma instanceof f)(db=void 0,P+=1,Ca=void 0);else if(Ma instanceof u)continue;else throw Ma;}L=E.sma([K + 1,db])?E.get([K + 1,db])[0]:-Infinity;this.Jjb(Ua,db,x,A,ra,K + 1,L,E,ta,T,ja,$a,Za,Ca) && (N=!1);}}if(N){--K;break;}}try{La=this.VIa(K + 1,O.DB(C),E,F,O);}catch(Ma){if(Ma instanceof g)try{La=this.VIa(K + 1,O.DB(C),E,!F,O);}catch(Va){if(Va instanceof g){if(P > R)throw new h();throw new m();}throw Va;}else throw Ma;}ra=La;for(y=[];-1 < K;K--){X=E.get([K + 1,ra]);L=X[0];P=X[1];z=X[3];B=X[5];C=X[6];F=X[7];X=X[2];x=v.gk[X][K];D=x.ry();A=x.quality;y.unshift({uVa:K,Q3:X,info:{z3b:D,quality:A,xfa:P.Yg,wfa:P.ql,CQa:B,Oa:C,ipa:F}});ra=z;}return y;};d.prototype.VIa=function(v,x,y,z,B){var A,C;A=!1;C=B.v3()[0];for(B=B.v3()[B.v3().length - 1];;){if(x < C || x > B){A=!0;break;}if(y.sma([v,x]))break;else x=z?x - 1:x + 1;}if(A)throw new g("backtrack fails to find a solution");return x;};d.prototype.Jjb=function(v,x,y,z,B,A,C,E,F,D,G,I,J,H){y=F + z * y.$l;return void 0 !== x && y > C?(E.put([A,x],[y,v,D,B,G,I,J,H]),!0):!1;};d.prototype.agb=function(v,x,y,z){var B,A,C;z=(x.ry() + z) * x.$l;y=y.Bub(z);z/=y;B=v.Yg - y;A=v.Yg + x.$l;C=v.Hq();C.add(x,void 0);v=v.Hq();v.add(x,void 0);try{v.e0a(y);}catch(E){if(E instanceof t)throw new f();throw E;}return [B,A,C,v,y,z];};g.prototype=Error();h.prototype=new g();m.prototype=new g();n.prototype={xta:function(v){return v.join(",");},put:function(v,x){this.Gha[this.xta(v)]=x;},get:function(v){return this.Gha[this.xta(v)];},sma:function(v){return (this.xta(v) in this.Gha);}};q.exports={l$a:d,kZb:c,KYb:f,LYb:k};},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aGa=void 0;q=a(2);c=q.__importStar(a(10));f=a(14);k=a(14);l=q.__importDefault(a(4));d=a(220);g=a(419);a=(function(){function h(m,n,r,p){var e80;e80=2;for(;e80 !== 9;){switch(e80){case 5:var M2u="1SIYbZ";M2u+="rN";M2u+="JCp";M2u+="9";this.Vb=r;this.Ch=p;M2u;e80=9;break;case 2:this.Wa=m;this.H=n;e80=5;break;}}}var d80;d80=2;for(;d80 !== 13;){switch(d80){case 14:return h;break;case 3:h.prototype.gR=function(m){var m80,n;m80=2;for(;m80 !== 4;){switch(m80){case 2:n=this;m=this.Wa.Pg(m);m.nR || (m.nR=!0,k.cf.forEach(function(r){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:n.Wa.rg[r].resume();n80=1;break;}}}),this.Wa.RQ());m80=4;break;}}};h.prototype.Cib=function(m,n){var o80,r,p,u;o80=2;for(;o80 !== 8;){switch(o80){case 4:o80=(null === (p=this.Wa.bh) || void 0 === p?0:p.IB())?3:9;break;case 9:this.Wa.xS.vKa(u,m.ub.N);o80=8;break;case 3:(this.Wa.bh.ml.forEach(function(t){var p80;p80=2;for(;p80 !== 1;){switch(p80){case 2:r.Wa.DE(t,!1);p80=1;break;case 4:r.Wa.DE(t,-7);p80=9;break;p80=1;break;}}}),this.Wa.bh=void 0);o80=9;break;case 2:(r=this,u=m.mediaType);m.UG(n);m.qQb();o80=4;break;}}};h.prototype.zca=function(){var q80,m,n;q80=2;for(;q80 !== 4;){switch(q80){case 9:q80=this.GA?0:6;break;q80=this.GA?1:4;break;case 1:(m=this.GA.Aj,n=this.GA.Db);this.Wa.Pg(n) && (this.GA=void 0,this.nr(m,n));q80=4;break;case 2:q80=this.GA?1:4;break;}}};h.prototype.dn=function(m){var r80,r,p;r80=2;function n(u,t){var s80;s80=2;for(;s80 !== 5;){switch(s80){case 2:var r2u="skip: un";r2u+="expected behaviour - a non-presenti";r2u+="ng branch doesn't have a pr";r2u+="evious branch";u !== r.Wa.Ga.Mh && (u.Tf?n(u.Tf,t):r.H.error(r2u));(u=u.Ed(t)) && u.dn();s80=5;break;}}}for(;r80 !== 7;){switch(r80){case 2:r=this;null === (p=this.CJa) || void 0 === p?void 0:p.cancel();this.Wa.Bsa();r80=4;break;case 4:this.Wa.Ga.Mh.dn(m);k.cf.forEach(function(u){var t80,t;t80=2;for(;t80 !== 9;){switch(t80){case 1:var Q2u="skip: not ";Q2u+="resuming bufferManager,";Q2u+=" audio track switch in p";Q2u+="rogress";t=r.Wa.nb.rf[u];r.Wa.Nq && (t.psa=l.default.time.aa());t.ZN?t.Eb(Q2u):r.Wa.rg[u].resume();n(r.Wa.Ga.Cc,u);t80=9;break;case 2:t80=r.Vb(u)?1:9;break;}}});this.CJa=m=new d.OD(this.Wa.aH());return m.Roa(function(){var u80;u80=2;for(;u80 !== 5;){switch(u80){case 2:r.Wa.T.Ce(f.ja.yc);r.Wa.ZQ();u80=5;break;}}}).jra;break;}}};h.prototype.bi=function(m){var v80,n,r,p;v80=2;for(;v80 !== 8;){switch(v80){case 1:v80=m < (null !== (n=r.Zc) && void 0 !== n?n:r.SVa) || m >= p?5:4;break;case 2:(r=this.Wa.Ga.Mh,p=0 < Object.keys(r.P && r.P.Xk || ({})).length && !r.ik?r.Pd - this.Wa.I.jC:r.Pd);v80=1;break;case 5:return !1;break;case 4:n=this.Wa.Es(m,0,!0);m=this.Wa.Es(m,1,!0);return void 0 !== n && void 0 !== m && n.complete && m.complete;break;}}};d80=14;break;case 2:h.prototype.nr=function(m,n){var f80,w,r,p,u,t,v,x;f80=2;for(;f80 !== 50;){switch(f80){case 7:f80=(u=this.Wa.Pg(n))?6:51;break;case 53:this.Wa.RQ();f80=43;break;case 16:return;break;case 24:t=this.Wa.Bq?this.Wa.em?Math.min(t[0].Z,t[1].Z):t[0].Z:t[1].Z;f80=23;break;case 43:f80=this.Wa.T.AWa()?42:41;break;case 44:k.cf.forEach(function(y){var h80;h80=2;for(;h80 !== 1;){switch(h80){case 2:r.Wa.Du[y].nl(!0);h80=1;break;}}});f80=43;break;case 25:f80=t.length?24:52;break;case 29:this.Wa.Ga.DUb(m,n);f80=28;break;case 31:this.Wa.T.Ce(f.ja.Ig);this.Wa.Bsa();f80=29;break;case 27:return;break;case 21:f80=!this.Wa.o0(u.N.Db + 1)?35:31;break;case 42:var u2u="s";u2u+="e";u2u+="e";u2u+="k";var D2u="pt";D2u+="s";D2u+="c";D2u+="hange";D2u+="d";return (this.Wa.emit(D2u,p),this.Wa.emit(u2u),this.gR(n),m=t && this.Wa.nb.Rw()?100:0,this.Wa.d0(1,m),this.Wa.uj(),p);break;case 19:f80=!this.Wa.yIa(n)?18:15;break;case 32:(m=t,p=m + this.Wa.Ga.Ke);f80=31;break;case 11:n < t.N.Db && u.N.Ze.replace && (u.N.Ze.replace=!1);w=this.Wa.Ga.Cc;k.cf.forEach(function(y){var g80;g80=2;for(;g80 !== 1;){switch(g80){case 2:(y=w.Ed(y)) && r.Wa.GKa(y);g80=1;break;}}});f80=19;break;case 22:f80=u.N.Ze.yg?21:32;break;case 2:var q2u=" p";q2u+="lay";q2u+="erState: ";var l2u=" med";l2u+="ia.cu";l2u+="r";l2u+="rentPts:";l2u+=" ";var j2u=" ";j2u+="c";j2u+="urrent manif";j2u+="e";j2u+="st: ";var A2u=" m";A2u+="a";A2u+="nifestIndex: ";var e2u="s";e2u+="ee";e2u+="k";e2u+=":";e2u+=" ";r=this;null === (p=this.CJa) || void 0 === p?void 0:p.cancel();(u=this.Wa.I,t=this.Wa.T.xe());p=m;u.Gh && this.Ch.Ul(e2u + m + A2u + n + j2u + this.Wa.me.N.Db + l2u + t + q2u + this.Wa.T.getState());c.ga(n) && (n=this.Wa.me.N.Db);f80=8;break;case 39:this.Wa.Eda();v=this.Wa.Ga.Cc.a1(m).JM;u.soa();f80=36;break;case 6:!u.N.Ze.AU && 0 < n && (p=this.Wa.dK(n,m));f80=14;break;case 41:var Y2u="s";Y2u+="ee";Y2u+="kFailed";var G2u="after seeking, playerState ";G2u+="no longer ";G2u+="STARTING:";G2u+=" ";this.H.warn(G2u + this.Wa.T.getState());this.Wa.emit(Y2u);f80=50;break;case 15:f80=this.ns(g.D9.mja(n),!1,!0)?27:26;break;case 14:this.Wa.T.Ce(f.ja.zi);t=this.Wa.me;f80=12;break;case 35:var m2u="seek";m2u+="Del";m2u+="a";m2u+="ye";m2u+="d";this.GA={Db:u.N.Db + 1,Aj:m};this.Wa.emit(m2u);f80=33;break;case 12:f80=n != t.N.Db?11:26;break;case 33:return;break;case 28:f80=(t=this.Wa.me.N.Db === n && !this.Mgb(n) && m === u.Z)?44:39;break;case 18:var O2u="s";O2u+="eek";O2u+="D";O2u+="e";O2u+="layed";this.GA={Db:n,Aj:m};this.Wa.emit(O2u);f80=16;break;case 26:t=this.Wa.Ga.Cc.TS(u.Aa || Infinity,u.N);f80=25;break;case 52:var E2u="se";E2u+="ekDela";E2u+="ye";E2u+="d";(this.GA={Db:n,Aj:m},this.Wa.emit(E2u));f80=50;break;case 36:x=this.Wa.Ga.Cc;k.cf.forEach(function(y){var i80,z;i80=2;for(;i80 !== 5;){switch(i80){case 2:z=x.Ed(y);r.Vb(y) && r.Cib(z,v[y]);i80=5;break;}}});f80=53;break;case 8:this.Wa.Ga.b2a();f80=7;break;case 23:f80=m > t?22:31;break;case 51:var J2u="seek";J2u+="Fai";J2u+="le";J2u+="d";var W2u="seek, no manifes";W2u+="t at mani";W2u+="festIndex:";(this.H.warn(W2u,n),this.Wa.emit(J2u));f80=50;break;}}};h.prototype.seek=function(m,n){var j80,r;j80=2;for(;j80 !== 9;){switch(j80){case 3:return this.nr(r,n);break;case 12:return this.nr(r,n);break;j80=9;break;case 2:r=m;c.ga(n) && (n=this.Wa.me.N.Db);this.Wa.Ga.b2a();this.Wa.Pg(n).N.Ze.AU || this.Wa.pJ || (r=this.Wa.us(n,m));j80=3;break;}}};h.prototype.ns=function(m,n,r){var k80,p,u;k80=2;for(;k80 !== 9;){switch(k80){case 2:u=this.Wa.Ga.ns(m,n);k80=1;break;case 5:return u;break;case 14:return u;break;k80=4;break;case 4:var n2u="s";n2u+="ee";n2u+="k";var I2u="ptsc";I2u+="h";I2u+="a";I2u+="n";I2u+="ged";u?(this.Wa.T.Ce(f.ja.zi),(m=this.Wa.Ga.Mh.children[m]) && this.Wa.emit(I2u,null !== (p=m.Zc) && void 0 !== p?p:m.SVa),this.Wa.T.Ce(f.ja.Ig),this.Wa.emit(n2u),m && this.gR(m.N.Db),this.Wa.d0(1),this.Wa.uj(),this.Wa.nb.Rw()):r || (p=this.Wa.Ga.nBb(m),this.nr(p));return u;break;case 1:k80=n?5:4;break;}}};h.prototype.Mgb=function(m){var l80;l80=2;for(;l80 !== 1;){switch(l80){case 2:return ! !this.Wa.Pg(m).nR;break;}}};d80=3;break;}}})();b.aGa=a;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xxa=void 0;q=a(2);c=q.__importStar(a(10));f=a(14);k=q.__importDefault(a(4));a=(function(){var w80;function l(d,g,h){var x80;x80=2;for(;x80 !== 9;){switch(x80){case 3:this.qIa=this.VD=void 0;x80=9;break;case 2:var c2u="1SIYbZr";c2u+="N";c2u+="JCp";c2u+="9";this.Qa=d;this.H=g;this.Vb=h;c2u;x80=3;break;}}}w80=2;for(;w80 !== 18;){switch(w80){case 2:l.prototype.XZ=function(){var y80;y80=2;for(;y80 !== 1;){switch(y80){case 2:this.VD && (clearTimeout(this.VD),this.VD=void 0);y80=1;break;}}};l.prototype.NIa=function(){var z80,d,g,h,m;z80=2;for(;z80 !== 6;){switch(z80){case 2:z80=!this.Qa.ji.Qda && !this.Qa.pm()?1:6;break;case 1:var h2u="f";h2u+="i";h2u+="rstDriveStr";h2u+="eam";h2u+="ing";void 0 === this.Qa.Nfb && (this.Qa.Nfb=!0,this.Qa.qb.zl(h2u));(d=this.Qa.Ga,g=d.Cc.Ed(0),h=d.Cc.Ed(1),m=!h || h.yh);(!g || g.yh) && m && this.Qa.pJ && d.Xob(h?h.pc:g.pc);h=!h || h.fq;g && !g.fq || !h || this.Qa.pJ || (this.Qa.Yb.mf && this.Qa.Yb.mf.Xo(!0,this.Qa.vl.sessionId),this.Qa.qb.JZa());this.KIa(d.Cc);this.Djb();z80=6;break;}}};l.prototype.PKa=function(){var A80;A80=2;for(;A80 !== 1;){switch(A80){case 2:return this.Qa.pm() || this.Qa.T.CWa() || this.Qa.T.BWa()?!0:!1;break;}}};l.prototype.$Z=function(d){var B80;B80=2;for(;B80 !== 1;){switch(B80){case 2:return this.PKa() || this.Qa.nb.rf[d.mediaType].ZN || this.Qa.Ow.UA?!1:!0;break;}}};w80=3;break;case 7:l.prototype.Rfb=function(d,g){var H80,m,n,r,p,u,t,w,h;H80=2;for(;H80 !== 23;){switch(H80){case 5:m=d.TI.Zm;H80=4;break;case 4:H80=Math.min(m[0] - d.fca[0],m[1] - d.fca[1]) >= h.zob?3:9;break;case 13:H80=1 < u.length?12:20;break;case 3:d.TI=void 0;H80=8;break;case 9:(n=d.TI,r=g.Xk[n.P.id].weight);H80=8;break;case 8:H80=!n?7:26;break;case 7:(p=[],u=[]);c.Te(d.children,function(v,x){var I80;I80=2;for(;I80 !== 5;){switch(I80){case 2:x=g.Xk[x].weight;0 !== x && (x={weight:x,ub:v},v.Xfa(!0,!0) || u.push(x),p.push(x));I80=5;break;}}});0 === u.length?u=p:2 < u.length && (u.sort(function(v,x){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:return x.weight - v.weight;break;case 4:return x.weight * v.weight;break;J80=1;break;}}}),u.length=2);H80=13;break;case 17:n=u[0].ub;r=u[0].weight;d.TI=n;H80=27;break;case 19:var t2u="No subbra";t2u+="nch candidates to ";t2u+="drive";this.H.warn(t2u);H80=18;break;case 20:H80=0 === u.length?19:17;break;case 26:n.Wd || (n.Wd={Y3:k.default.time.aa(),lz:0});n.Wd.weight=r;this.KIa(n,!0);H80=23;break;case 12:n=u.reduce(function(v,x){var K80;K80=2;for(;K80 !== 4;){switch(K80){case 2:x.Zm=x.ub.Zm;x.OYa=Math.min(x.Zm[0],x.Zm[1]);return [v[0] + x.weight,v[1] + x.OYa];break;}}},[0,0]);(t=n[0],w=n[1]);H80=10;break;case 27:d.fca=n.Zm;H80=26;break;case 2:h=this.Qa.I;H80=1;break;case 10:0 !== t && 0 !== w?(c.Te(u,function(v){var L80;L80=2;for(;L80 !== 4;){switch(L80){case 1:v.Wmb=v.OYa / w;v.usage=v.Wmb - v.jYb;L80=4;break;case 2:v.jYb=v.weight / t;L80=1;break;}}}),u.sort(function(v,x){var M80;M80=2;for(;M80 !== 1;){switch(M80){case 2:return v.usage - x.usage;break;}}})):u.sort(function(v,x){var N80;N80=2;for(;N80 !== 4;){switch(N80){case 2:v=Math.min.apply(null,v.ub.Zm);x=Math.min.apply(null,x.ub.Zm);a000.D9b(1);return a000.Q9b(x,v);break;}}});H80=20;break;case 18:return;break;case 1:H80=this.Qa.Yb.pla && d.TI && d.fca?5:8;break;}}};l.prototype.LIa=function(d,g,h){var O80,m,n,t,r,p,u;O80=2;for(;O80 !== 8;){switch(O80){case 1:O80=!g.yh?5:8;break;case 4:O80=r.kg && (void 0 === g.qG || (g.UG(g.qG,g.nMb),void 0 === g.qG))?3:8;break;case 2:(m=this.Qa.I,n=g.mediaType);O80=1;break;case 3:var k2u="Still in buf";k2u+="fering state w";k2u+="hile pipeline does ";k2u+="not h";k2u+="ave vacancy";var p2u="drivePipeline, delaying audio ";p2u+="until video actualSta";p2u+="rtPts determined";t=this.Qa.me;c.ga(t.kG) || (m.mz && 0 === n && c.ga(this.Qa.nb.rf[1].Cn)?g.Eb(p2u):(c.ga(g.Zn) && (g.Zn=g.Vd?g.Vd.index:g.Gia(g.oc)),g.nf && g.Zn > g.nf.index?d.N.Ze.yg && c.ga(t.Aa) && c.ga(d.pc) || (g.yh || this.Qa.GKa(g),d=this.Qa.me.N.Db,d < this.Qa.cL() - 1 && this.Qa.o0(d + 1)):this.$Z(g) && (m.wvb && !this.Qa.T.Pf() && 0 >= g.YF?g.yWb(m.rIb):this.qfb(g,h)?(g.aGb=k.default.time.aa(),h=this.Qa.nb.vka(g),m=h.og,c.ga(m) || (m=g.track.Qd[m],this.pfb(g,m) || ((n=m.b3())?(g.VFb=m.bitrate,g.vHb(m,n,this.Qa.T.Pf(),r.kg,h.kt),this.KWb(m,u,p),d.Wd && ++d.Wd.lz):m.sH()))):this.Qa.T.Pf() && (g.sm(k2u),this.Qa.nb.Rw()))));O80=8;break;case 5:(r=this.Qa.nb.rf[n],p=this.Qa.nb.wz[n],u=this.Qa.nb.yv[n]);O80=4;break;}}};l.prototype.KWb=function(d,g,h){var P80;P80=2;for(;P80 !== 4;){switch(P80){case 2:g.Dma=d.cd;c.xa(h.dv) || (h.HWb(d.qr,d.wy || -1,d.bitrate),c.ga(d.Gra) || this.Qa.Yf.a3a(d.Gra,d.On,d.Pn));d.url && (g.Ima=d.url);P80=4;break;}}};l.prototype.pfb=function(d,g){var Q80,h;Q80=2;for(;Q80 !== 5;){switch(Q80){case 2:h=this.Qa.nb.yv[d.mediaType];return this.Qa.kKa && g.cd && h.Dma && g.cd !== h.Dma && (0 < d.Na.sC || 0 < d.Na.Ar)?!0:!1;break;}}};w80=12;break;case 12:l.prototype.qfb=function(d,g){var R80,x,h,m,n,r,p,u,t,w,v;R80=2;for(;R80 !== 32;){switch(R80){case 21:R80=(r=this.Qa.T.Pf())?35:33;break;case 4:R80=(null === (h=d.Uf) || void 0 === h?0:h.ECb())?3:9;break;case 15:R80=void 0 === w || w < m.OHb?27:26;break;case 23:R80=!c.ga(m.uv) && w >= m.uv || d.bK + p >= Math.max(m.Py,this.Qa.Yb.uz + m.Aoa * r.N.RHb[n])?22:21;break;case 24:w=this.Qa.Ga.yVb();R80=23;break;case 6:h=this.Qa.me.N;x=this.Qa.T.Qn(h);R80=13;break;case 3:return !1;break;case 12:return !1;break;case 7:return !1;break;case 9:p=d.Na.epa;R80=8;break;case 25:return !1;break;case 18:return !1;break;case 2:var z2u="f";z2u+="l";z2u+="oo";z2u+="re";z2u+="d to 0";var S2u="negative sch";S2u+="edul";S2u+="edBufferLevel:";(m=this.Qa.I,n=d.mediaType,r=d.P4,p=this.Qa.T.xe(),u=this.Qa.T.getState(),t=this.Qa.Ga.Ru(r,n),w=d.oc + r.Ke - p);0 > w && (d.Eb(S2u,w,z2u),w=0);v=g?g.oc:0;R80=4;break;case 33:return 0 < m.$s && !r && u + (g?x:0) > m.$s || void 0 !== this.qIa && t > this.qIa || 1 === n && h.Ze.yg && t > m.zna && (g=this.Qa.Yb.Jb.get(),g.confidence && g.Oa && g.Oa.Ea * d.bK > m.yna)?!1:!0;break;case 35:R80=(p=1,d.yfa < m.Qy && (p=m.Qy),d.Na.sC >= p)?34:33;break;case 22:return !1;break;case 34:return !1;break;case 19:R80=this.Qa.Yb.mma?18:17;break;case 20:R80=g && (x=this.Qa.Ga.SE(r,g.mediaType),v=d.oc - v,this.Vb(g.mediaType) && !g.yh && v >= m.Fna && w > m.Qi)?19:26;break;case 13:R80=u === f.ja.yc && t > m.iYa && !h.Ze.yg && !x && !h.zU || t && p > Math.max(t * m.Bna / 100,m.Yna)?12:11;break;case 11:u=this.Qa.Ga.SE(r,n);x=0;R80=20;break;case 8:R80=p >= m.fC?7:6;break;case 17:w=void 0;g && (w=g.mediaType,v=k.default.Mn()[w],w=m.bXb?this.Qa.Ga.SXa(r,w).Tj / v:x / v);R80=15;break;case 27:return !1;break;case 26:R80=this.sgb(n) >= m.SL?25:24;break;}}};l.prototype.sgb=function(d){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:return this.Qa.Ga.Ab.reduce(function(g,h){var T80;T80=2;for(;T80 !== 1;){switch(T80){case 2:return g + h.fBb(d);break;case 4:return g / h.fBb(d);break;T80=1;break;}}},0);break;}}};l.prototype.iob=function(d){var U80,g,h,m;U80=2;for(;U80 !== 4;){switch(U80){case 2:(g=this,h=this.Qa.Ga,m=!0);c.Te(d.P.Xk,function(n,r){var V80,p;V80=2;for(;V80 !== 7;){switch(V80){case 2:V80=(n=h.Me(r))?1:8;break;case 1:r=n.N;n=r.Rg[0];p=r.Rg[1];V80=3;break;case 8:var R2u="in";R2u+=" ";R2u+="dest";R2u+="s";R2u+=":";var v2u="inv";v2u+="alid ";v2u+="segment:";d.Eb(v2u,r,R2u,d.P.Xk);V80=7;break;case 3:n && p && n.stream.ye && p.stream.ye || (m=!1);g.Qa.T.Qn(r) || (m=!1);V80=7;break;}}});return m;break;}}};l.prototype.Djb=function(){var W80,d,g,h;W80=2;for(;W80 !== 5;){switch(W80){case 2:(d=this.Qa.I,g=this.Qa.Ga,h=g.Cc);this.Qa.T.Pf() || g.Ru(h,1) < d.IU || h.N.uta();W80=5;break;}}};return l;break;case 3:l.prototype.uj=function(){var C80,d,g;C80=2;for(;C80 !== 5;){switch(C80){case 2:(d=this,g=this.Qa.I);!this.Qa.kKa || this.Qa.W_ || this.Qa.h0 || (this.Qa.W_=setTimeout(function(){var D80;D80=2;for(;D80 !== 4;){switch(D80){case 2:clearTimeout(d.Qa.W_);d.Qa.W_=void 0;d.NIa();D80=4;break;}}},g.vpa),g.zK && this.Qa.em && (this.VD || (this.VD=setTimeout(function(){var E80,h;E80=2;for(;E80 !== 3;){switch(E80){case 2:clearTimeout(d.VD);d.VD=void 0;h=d.Qa.Ga.Cc.Ed(1);E80=4;break;case 4:h && d.eIa(h);E80=3;break;case 14:h || d.eIa(h);E80=4;break;E80=3;break;}}},g.fkb))));C80=5;break;}}};l.prototype.eIa=function(d,g){var F80,h,m,n,r;F80=2;for(;F80 !== 3;){switch(F80){case 1:F80=m && n?5:3;break;case 7:F80=m || n?6:6;break;F80=m && n?5:3;break;case 2:(h=d.mediaType,m=this.Qa.nb.yv[h].SF,n=d.Cf.hU);F80=1;break;case 5:r=this.Qa.nb.rf[h].kg;r && (this.Qa.T.Pf() || this.Qa.Yf.ekb(h,r,m.bitrate,n.bitrate,d.XCb.bitrate,g));F80=3;break;}}};l.prototype.KIa=function(d,g){var G80,h,m,n,r,p;G80=2;for(;G80 !== 7;){switch(G80){case 3:return;break;case 4:G80=(this.Qa.em && this.LIa(d,m,n),this.Qa.Bq && this.LIa(d,n,m),r=!n || n.yh,p=!m || m.yh,!p || !r)?3:9;break;case 9:var f2u="Still i";f2u+="n buffering ";f2u+="state while pipeline'";f2u+="s are ";f2u+="done";this.Qa.T.Pf() && (this.H.warn(f2u),this.Qa.nb.Rw());g || h.Pt || d.N.Ze.yg || !this.iob(d) || ((g=this.Qa.T.Pf()) && this.Qa.I.kha && (this.Qa.Lda(),g=!1),d.F2 || this.Qa.Ga.aDb(d,g),d.QJ(),d.job() && (g=Object.keys(d.children),this.Qa.I.b2 && 1 === g.length && !d.children[g[0]].active && this.Qa.Ga.QXa(d,g[0]),this.Rfb(d,h)));G80=7;break;case 2:(h=d.P,m=d.Ed(1),n=d.Ed(0),r=!n || n.yh,p=!m || m.yh);h.iM || this.Qa.Ga.R5(d,h,d.N.Ze.yg && 0 === d.N.Db);G80=5;break;case 5:G80=!p || !r?4:9;break;}}};w80=7;break;}}})();b.xxa=a;},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.AAa=void 0;c=a(172);f=a(14);k=a(14);l=a(9);q=(function(){var X80;X80=2;for(;X80 !== 6;){switch(X80){case 2:d.prototype.play=function(){var Z80,g;Z80=2;for(;Z80 !== 5;){switch(Z80){case 2:var Z2u="p";Z2u+="l";Z2u+="a";Z2u+="y";var H2u="play called ";H2u+="after pipelines al";H2u+="rea";H2u+="dy shutdown";g=this;this.pm()?this.H.warn(H2u):(this.Nb.T.Ce(f.ja.yc),this.Nb.ljb(),this.Nb.nb.rf.forEach(function(h){var a90;a90=2;for(;a90 !== 1;){switch(a90){case 2:var C2u="play: not resuming bufferManager, ";C2u+="audio";C2u+=" tra";C2u+="ck s";C2u+="witch in progress";g.Vb(h.mediaType) && (h.ZN?h.Eb(C2u):(g.Nb.rg[h.mediaType].resume(),g.Nb.Du[h.mediaType].resume()));a90=1;break;}}}),this.Nb.ZQ(),this.Nb.emit(Z2u));Z80=5;break;}}};d.prototype.stop=function(){var b90,g,h,m,n;b90=2;for(;b90 !== 6;){switch(b90){case 8:var X2u="s";X2u+="t";X2u+="op";k.cf.forEach(function(r){var d90;d90=2;for(;d90 !== 1;){switch(d90){case 2:(r=g.Nb.rg[r]) && r.pause();d90=1;break;}}});this.Nb.emit(X2u);b90=6;break;case 2:(g=this,h=this.Nb.T.CWa(),m=this.Nb.T.BWa());this.Nb.T.Ce(f.ja.pq);this.Nb.XZ();h || m || this.Nb.Ga.Mh.KC(!1,this.Nb.T);n=this.Nb.Ga.Cc;k.cf.forEach(function(r){var c90;c90=2;for(;c90 !== 5;){switch(c90){case 2:c90=(r=n.Ed(r))?1:5;break;case 1:r.yh=!1;c90=5;break;case 9:r.yh=~6;c90=9;break;c90=5;break;}}});b90=8;break;}}};X80=5;break;case 5:d.prototype.suspend=function(){var e90;e90=2;for(;e90 !== 1;){switch(e90){case 2:this.Qda=!0;e90=1;break;case 4:this.Qda=+6;e90=6;break;e90=1;break;}}};d.prototype.resume=function(){var f90;f90=2;for(;f90 !== 5;){switch(f90){case 2:this.Qda=!1;this.Nb.Mf.uj();f90=5;break;}}};d.prototype.close=function(){var g90,g;g90=2;for(;g90 !== 6;){switch(g90){case 2:var a2u="c";a2u+="l";a2u+="o";a2u+="se";g=this.Nb.I;this.hKa=!0;this.stop();this.Nb.emit(a2u);g90=3;break;case 3:var P2u="e";P2u+="n";P2u+="dplay";var w2u="l";w2u+="og";w2u+="data";g.WQa && (g=c.nw.instance().lb()) && (g={type:w2u,target:P2u,fields:{bridgestat:g}},l.Ta(this.Nb,g.type,g));this.Nb.Yb.mf && this.Nb.Yb.mf.Xo(!0,this.Nb.vl.sessionId,!0);g90=8;break;case 8:this.Nb.qb.JZa();this.Nb.E1a();g90=6;break;}}};d.prototype.flush=function(){var h90,i90,u,t,n,r,p,g,h,m;h90=2;for(;h90 !== 17;){switch(h90){case 14:var V2u="en";V2u+="d";V2u+="p";V2u+="la";V2u+="y";var d2u="l";d2u+="o";d2u+="gd";d2u+="ata";t && t.length && (n.activeRequests=JSON.stringify(t));n.aseApiVersion=this.Nb.IE;h.UQa && ((m=m.j3()) && m.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,n.bytestotalVideo=m.bytestotalVideo),m && m.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,n.bytestotalAudio=m.bytestotalAudio));Object.keys(n).length && (n={type:d2u,target:V2u,fields:n},l.Ta(this.Nb,n.type,n));h90=10;break;case 18:try{i90=2;for(;i90 !== 1;){switch(i90){case 2:this.Nb.l2(f.ja.pq);i90=1;break;}}}catch(v){var K2u="Hind";K2u+="sigh";K2u+="t: Er";K2u+="ror evaluating QoE at stoppi";K2u+="ng: ";a000.u9b(2);this.Nb.qb.Pm(a000.Q9b(K2u,v));}h90=17;break;case 1:h90=m?5:20;break;case 3:r && r.cdnavtp && (n.cdnavtp=r.cdnavtp,n.activecdnavtp=r.activecdnavtp);m.flush();(u=m.fTa(),t=m.jLa);h90=7;break;case 6:for(var w in u){var T2u="n";T2u+="e";var N2u="n";N2u+="e";var g2u="n";g2u+="e";u.hasOwnProperty(w) && (n[g2u + w]=Number(u[w]).toFixed(6),p[N2u + w]=1 * n[T2u + w]);}h90=14;break;case 5:(n={},r=m.get(),p={});r && r.avtp && r.avtp.Ea && (n.avtp=r.avtp.Ea,n.dltm=r.avtp.V1,p.avtp=n.avtp);h90=3;break;case 7:h90=u?6:14;break;case 10:var U4u="end";U4u+="p";U4u+="lay";var F4u="lo";F4u+="g";F4u+="d";F4u+="ata";var i2u="through";i2u+="p";i2u+="ut-";i2u+="sw";var s2u="thr";s2u+="ou";s2u+="ghput";s2u+="-s";s2u+="w";var B2u="th";B2u+="ro";B2u+="ugh";B2u+="put";B2u+="-sw";var x2u="throug";x2u+="h";x2u+="put-sw";h.JS && (r && r[x2u] && r[B2u].Ea && this.Nb.Lt.vkb({avtp:r[s2u].Ea,variance:r[i2u].vi}),this.Nb.Lt.okb(p,null === (g=r.avtp) || void 0 === g?void 0:g.V1),g=this.Nb.Lt.Zyb(),h=this.Nb.Lt.rBb(),g && (g.n=h,g={type:F4u,target:U4u,fields:{ibef:g}},l.Ta(this.Nb,g.type,g),this.Nb.Lt.save()));h90=20;break;case 19:h90=this.oE.Nq?18:17;break;case 20:this.Nb.qb.WJa();h90=19;break;case 2:(h=this.Nb.I,m=this.Nb.Yb.Jb);h90=1;break;}}};d.prototype.pm=function(){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:return this.hKa || this.Nb.Ga.Ej;break;}}};return d;break;}}function d(g,h,m,n){var Y80;Y80=2;for(;Y80 !== 8;){switch(Y80){case 2:var y4u="1SIYbZrNJC";y4u+="p";y4u+="9";this.Nb=g;this.H=h;this.Vb=m;this.oE=n;this.hKa=this.Qda=!1;y4u;Y80=8;break;}}}})();b.AAa=q;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ACa=void 0;q=a(2);c=q.__importStar(a(10));f=a(144);k=q.__importDefault(a(27)).default.Za;l=q.__importDefault(a(4));d=a(9);g=a(6);a=(function(){var k90;k90=2;for(;k90 !== 38;){switch(k90){case 14:h.prototype.tgb=function(m,n){var w90,r,p;w90=2;for(;w90 !== 12;){switch(w90){case 3:var L4u="s";L4u+="e";L4u+="amles";L4u+="s";r.transitionType=p;n.vha || (r.delayToTransition=n.O1);p=L4u === p?0:l.default.time.aa() - n.startTime;r.durationOfTransition=p;r.atTransition=n.u5a;w90=14;break;case 2:var Q4u="res";Q4u+="e";Q4u+="t";var r4u="sk";r4u+="i";r4u+="p";var M4u="lo";M4u+="n";M4u+="g";var b4u="lo";b4u+="n";b4u+="g";var o4u="se";o4u+="am";o4u+="l";o4u+="ess";(r={segment:m,srcsegment:n.L7,srcoffset:n.zN,seamlessRequested:n.Be,atRequest:{},discard:{}},p=n.Wd[m]);p?r.atRequest={weight:p.weight,abuflmsec:p.Eq.Zr,vbuflmsec:p.Eq.ro,abuflbytes:p.Eq.fR,vbuflbytes:p.Eq.Jz}:(p=this.Ya.Ga.mUa(n.L7,m),void 0 !== p && (r.atRequest.weight=p));c.Te(n.Wd,function(u,t){var x90;x90=2;for(;x90 !== 1;){switch(x90){case 2:t != m && (r.discard[t]={weight:u.weight,abuflmsec:u.Eq.Zr,vbuflmsec:u.Eq.ro,abuflbytes:u.Eq.fR,vbuflbytes:u.Eq.Jz});x90=1;break;}}});p=n.Be?n.JT?o4u:b4u:n.lZa?M4u:n.dn?r4u:Q4u;w90=3;break;case 14:r.srcsegmentduration=this.Ya.Ga.mBb(n.L7);return r;break;}}};h.prototype.Qhb=function(m,n,r){var y90;y90=2;for(;y90 !== 4;){switch(y90){case 2:var D4u="s";D4u+="egmen";D4u+="t";D4u+="Presenting";r=r?this.tgb(m.id,r):void 0;m={type:D4u,segmentId:m.id,contentOffset:n,metrics:r,playlistSegment:m.yC,manifestIndex:m.N.Db};d.Ta(this.Ya,m.type,m);y90=4;break;}}};k90=12;break;case 42:h.prototype.JZa=function(){var a01,m;a01=2;for(;a01 !== 3;){switch(a01){case 2:a01=!this.vjb && this.Ya.I.GZa?1:3;break;case 1:var u4u="stre";u4u+="ameren";u4u+="d";this.vjb=!0;m={type:u4u,time:l.default.time.aa()};d.Ta(this.Ya,m.type,m);a01=3;break;}}};k90=41;break;case 24:h.prototype.xhb=function(m,n){var L90;L90=2;for(;L90 !== 3;){switch(L90){case 4:d.Ta(this.Ya,n.type,n);L90=3;break;case 2:var e4u="aud";e4u+="ioTrackS";e4u+="witc";e4u+="hStarted";m=m.cC;n=n.cC;n={type:e4u,oldLangCode:m.language,oldNumChannels:m.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};L90=4;break;}}};h.prototype.whb=function(m,n){var M90,r;M90=2;for(;M90 !== 5;){switch(M90){case 2:r=this;setTimeout(function(){var N90,p;N90=2;for(;N90 !== 5;){switch(N90){case 2:var A4u="audi";A4u+="oTrack";A4u+="SwitchComplete";p={type:A4u,trackId:m,trackIndex:n};d.Ta(r.Ya,p.type,p);N90=5;break;}}},0);M90=5;break;}}};h.prototype.Ahb=function(m){var O90,n;O90=2;for(;O90 !== 4;){switch(O90){case 2:var j4u="buff";j4u+="eringStar";j4u+="ted";n={type:j4u,time:l.default.time.aa(),percentage:m || 0};d.Ta(this.Ya,n.type,n);this.Zca=m || 0;O90=4;break;}}};k90=21;break;case 28:h.prototype.Bhb=function(m){var X90;X90=2;for(;X90 !== 5;){switch(X90){case 2:var l4u="e";l4u+="ndOfStre";l4u+="am";m={type:l4u,mediaType:m};d.Ta(this.Ya,m.type,m);X90=5;break;}}};h.prototype.Pm=function(m){var Y90;Y90=2;for(;Y90 !== 1;){switch(Y90){case 2:var G4u="ase";G4u+="exce";G4u+="ptio";G4u+="n";var q4u="asee";q4u+="x";q4u+="ce";q4u+="pti";q4u+="on";this.Ya.emit(q4u,{type:G4u,msg:m});Y90=1;break;}}};h.prototype.VJb=function(m,n,r,p){var Z90;Z90=2;for(;Z90 !== 5;){switch(Z90){case 2:var m4u="maxvideobi";m4u+="t";m4u+="ratechanged";var Y4u="maxvideobi";Y4u+="t";Y4u+="r";Y4u+="atechanged";m={type:Y4u,time:l.default.time.aa(),spts:p,maxvb_old:m,maxvb:n,reason:r};this.Ya.emit(m4u,m);Z90=5;break;}}};k90=42;break;case 4:h.prototype.Ehb=function(m,n){var q90;q90=2;for(;q90 !== 5;){switch(q90){case 2:var O4u="header";O4u+="Cac";O4u+="heH";O4u+="it";m={type:O4u,movieId:m,streamId:n};d.Ta(this.Ya,m.type,m);q90=5;break;}}};h.prototype.Dhb=function(m,n,r,p,u){var r90,t;r90=2;for(;r90 !== 3;){switch(r90){case 2:var E4u="head";E4u+="erCac";E4u+="heD";E4u+="ataHi";E4u+="t";t=this.Ya.mJa;this.Ya.mJa=void 0;m={type:E4u,movieId:m,audio:n,audioFromMediaCache:p,video:r,videoFromMediaCache:u,actualStartPts:t && t.Cn,headerCount:t && t.pL,stats:t && t.yd};d.Ta(this.Ya,m.type,m);r90=3;break;}}};h.prototype.Lhb=function(m,n,r,p){var s90;s90=2;for(;s90 !== 5;){switch(s90){case 2:var W4u="m";W4u+="ax";W4u+="Pos";W4u+="iti";W4u+="on";m={type:W4u,index:m,endPts:n,maxPts:r,maxSeekPts:p};d.Ta(this.Ya,m.type,m);s90=5;break;}}};h.prototype.Thb=function(m,n,r,p,u,t){var t90;t90=2;for(;t90 !== 4;){switch(t90){case 2:var I4u="noti";I4u+="fyStr";I4u+="eamingEr";I4u+="ro";I4u+="r: ";var J4u="err";J4u+="o";J4u+="r";m={type:J4u,error:m,errormsg:n,networkErrorCode:r,httpCode:p,nativeCode:u,manifestIndex:t};this.H.error(I4u + JSON.stringify(m));d.Ta(this.Ya,m.type,m);t90=4;break;}}};h.prototype.I_=function(m,n){var u90;u90=2;for(;u90 !== 5;){switch(u90){case 2:var n4u="segme";n4u+="ntS";n4u+="t";n4u+="arting";n={type:n4u,segmentId:m.id,contentOffset:n,maxBitrates:{audio:m.N.vv[0],video:m.N.vv[1]}};m.yC || d.Ta(this.Ya,n.type,n);u90=5;break;}}};h.prototype.mda=function(m){var v90,n;v90=2;for(;v90 !== 5;){switch(v90){case 2:var c4u="segmen";c4u+="tA";c4u+="b";c4u+="orted";n={type:c4u,segmentId:m.id};m.yC || d.Ta(this.Ya,n.type,n);v90=5;break;}}};k90=14;break;case 2:h.prototype.zl=function(m){var m90;m90=2;for(;m90 !== 5;){switch(m90){case 2:var h4u="s";h4u+="t";h4u+="ar";h4u+="t";h4u+="Event";m={type:h4u,event:m,time:l.default.time.aa()};d.Ta(this.Ya,m.type,m);m90=5;break;}}};h.prototype.Mhb=function(){var n90,m;n90=2;for(;n90 !== 5;){switch(n90){case 2:var t4u="open";t4u+="Com";t4u+="plet";t4u+="e";m={type:t4u};d.Ta(this.Ya,m.type,m);n90=5;break;}}};h.prototype.Nhb=function(m,n,r,p,u){var o90;o90=2;for(;o90 !== 1;){switch(o90){case 2:var p4u="pt";p4u+="s";p4u+="S";p4u+="ta";p4u+="rts";this.Ya.I.bub || (m={type:p4u,manifestIndex:m,mediaType:n,movieId:p,streamId:r,ptsStarts:u.Z3a()},d.Ta(this.Ya,m.type,m));o90=1;break;}}};k90=4;break;case 21:h.prototype.yhb=function(){var P90,m,n,r,p,u;P90=2;for(;P90 !== 3;){switch(P90){case 2:var k4u="b";k4u+="uf";k4u+="f";k4u+="eri";k4u+="ng";(m=this.Ya.I,n=l.default.time.aa(),r=this.Ya.Ga.Cc,p=this.Ya.em?1:0,u=r.Ra(p));r=r.Hh(p);m=Math.min(Math.max(Math.round(100 * (u.bC?(n - this.Ya.Zba) / m.$y:u.progress?u.progress:r / m.Qi)),this.Zca),99);m != this.Zca && (n={type:k4u,time:n,percentage:m},d.Ta(this.Ya,n.type,n),this.Zca=m);P90=3;break;}}};h.prototype.kda=function(){var Q90,m,n,r,p,u;Q90=2;for(;Q90 !== 8;){switch(Q90){case 2:var S4u="buffer";S4u+="ingCo";S4u+="m";S4u+="ple";S4u+="te";(m=this.Ya.Ga.Cc,n=m.Ra(0),r=m.Ra(1));this.XJa();(p=this.Ya.em?this.Ya.nb.wz[k.Hb]:this.Ya.nb.wz[k.Tb],u=p.LR);m={type:S4u,time:l.default.time.aa(),actualStartPts:u,aBufferLevelMs:m.Hh(0),vBufferLevelMs:m.Hh(1),selector:r?r.jN:n.jN,initBitrate:p.dv,skipbackBufferSizeBytes:this.Ya.Yb.HC};Q90=3;break;case 3:this.Ya.Yf.Fwb({initSelReason:p.xy,initSelectionPredictedDelay:p.wy,buffCompleteReason:p.ls,hashindsight:this.Ya.Nq,hasasereport:! !this.Ya.jr,bcVBufferLevelMs:m.vBufferLevelMs,bcABufferLevelMs:m.aBufferLevelMs});d.Ta(this.Ya,m.type,m);Q90=8;break;}}};h.prototype.XJa=function(){var R90,n,r,p,u,t,w,m;R90=2;for(;R90 !== 12;){switch(R90){case 1:R90=!this.Ya.pm()?5:12;break;case 6:var z4u="update";z4u+="B";z4u+="u";z4u+="fferLevel";r={type:z4u,abuflbytes:w,vbuflbytes:n,totalabuflmsecs:r,totalvbuflmsecs:p,currentBandwidth:u};p > m.PYa && this.Ya.Yb.mf && this.Ya.Yb.mf.Xo(!0,this.Ya.vl.sessionId);d.Ta(this.Ya,r.type,r);R90=12;break;case 5:(n=this.Ya.Ga.Cc,r=n.Hh(0),p=n.Hh(1));this.Ya.Yf.hkb(r,p);u=this.Ya.Yb.Jb.get();u=u.confidence?u.Oa.Ea:0;(t=this.Ya.Ga,w=t.SE(n,0));n=t.SE(n,1);R90=6;break;case 2:m=this.Ya.I;R90=1;break;}}};h.prototype.Ygb=function(m){var S90,n,r,p;S90=2;for(;S90 !== 7;){switch(S90){case 2:S90=!c.ga(m)?1:7;break;case 5:S90=!c.ga(this.rJ)?4:8;break;case 4:var H4u=", osAl";H4u+="loc";H4u+="a";H4u+="tor";H4u+="Delta: ";var f4u=", j";f4u+="sHe";f4u+="apDe";f4u+="lta:";f4u+=" ";var R4u=", fa";R4u+="stMallocDel";R4u+="ta: ";var v4u="m";v4u+="emoryUsa";v4u+="ge";v4u+=" at tim";v4u+="e: ";(n=m.ARa - this.rJ.ARa,r=m.mVa - this.rJ.mVa,p=m.m_a - this.rJ.m_a);(4194304 < n || 4194304 < p) && this.H.warn(v4u + l.default.time.aa() + R4u + n + f4u + r + H4u + p);S90=9;break;case 9:var Z4u=", ";Z4u+="sy";Z4u+="ste";Z4u+="m";Z4u+="Delta: ";var C4u="memoryUsag";C4u+="e a";C4u+="t time";C4u+=": ";c.xa(m.MW) && c.xa(this.rJ.MW) && (n=m.MW - this.rJ.MW,4194304 < n && this.H.warn(C4u + l.default.time.aa(),Z4u + n));S90=8;break;case 8:this.rJ=m;S90=7;break;case 1:c.xa(m.MW);S90=5;break;}}};h.prototype.Vhb=function(){var T90,m;T90=2;for(;T90 !== 3;){switch(T90){case 2:var X4u="streami";X4u+="ngst";X4u+="a";X4u+="t";this.Ya.I.aHb && l.default.memory.Lzb(this.Ygb.bind(this));m={type:X4u,time:l.default.time.aa(),playbackTime:this.Ya.T.xe()};this.Ya.Yf.Gwb(m);T90=4;break;case 4:d.Ta(this.Ya,m.type,m);T90=3;break;}}};k90=31;break;case 16:h.prototype.Rhb=function(m,n,r,p){var G90,u;G90=2;for(;G90 !== 3;){switch(G90){case 2:var a4u="stream";a4u+="Present";a4u+="in";a4u+="g";u=m.mediaType;f.fm.rp(u);m={type:a4u,startPts:Math.floor(n),contentStartPts:Math.floor(r),mediaType:u,manifestIndex:p,trackIndex:m.track.EE,streamIndex:m.og};d.Ta(this.Ya,m.type,m);G90=3;break;}}};h.prototype.Whb=function(m){var H90;H90=2;for(;H90 !== 5;){switch(H90){case 2:var w4u="v";w4u+="id";w4u+="eo";w4u+="Loo";w4u+="ped";m={type:w4u,offset:m};d.Ta(this.Ya,m.type,m);H90=5;break;}}};h.prototype.Uhb=function(m,n,r,p,u){var I90;I90=2;for(;I90 !== 4;){switch(I90){case 2:var P4u="updat";P4u+="eS";P4u+="t";P4u+="rea";P4u+="mingPts";n={type:P4u,mediaType:m,manifestIndex:n,trackIndex:r,movieTime:Math.floor(p),segmentId:u};f.fm.rp(m);d.Ta(this.Ya,n.type,n);I90=4;break;}}};h.prototype.Chb=function(m){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var d4u="fir";d4u+="stRequ";d4u+="estAppended";m={type:d4u,manifestIndex:m.Na.ub.N.Db,mediatype:m.mediaType,time:l.default.time.aa()};d.Ta(this.Ya,m.type,m);J90=5;break;}}};h.prototype.Ghb=function(m,n){var K90;K90=2;for(;K90 !== 5;){switch(K90){case 2:var V4u="initi";V4u+="al";V4u+="A";V4u+="udioTra";V4u+="ck";m={type:V4u,trackId:n,trackIndex:m};d.Ta(this.Ya,m.type,m);K90=5;break;}}};k90=24;break;case 31:h.prototype.WJa=function(){var U90,m;U90=2;for(;U90 !== 4;){switch(U90){case 1:var K4u="a";K4u+="s";K4u+="ereport";m={type:K4u};this.Ya.jr.Ewb(m) && d.Ta(this.Ya,m.type,m);U90=4;break;case 2:U90=this.Ya.jr?1:4;break;}}};h.prototype.vhb=function(){var V90,m;V90=2;for(;V90 !== 5;){switch(V90){case 2:var g4u="aserep";g4u+="orten";g4u+="ab";g4u+="led";m={type:g4u};d.Ta(this.Ya,m.type,m);V90=5;break;}}};h.prototype.Fhb=function(m){var A6u=a000;var W90,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,M;W90=2;for(;W90 !== 6;){switch(W90){case 4:W90=this.Ya.GS || this.Ya.Rv?3:9;break;case 3:n.report=m;W90=9;break;case 2:W90=m?1:6;break;case 7:d.Ta(this.Ya,n.type,n);W90=6;break;case 1:var N4u="h";N4u+="indsi";N4u+="g";N4u+="htrepo";N4u+="rt";(n={type:N4u},r=this.Ya.I.K3);for(M in r){var s4u="hvm";s4u+="a";s4u+="f";s4u+="dp";var B4u="hvm";B4u+="af";B4u+="gr";var x4u="h";x4u+="v";x4u+="m";x4u+="aftb";var T4u="ht";T4u+="wb";T4u+="r";p=r[M];u=0;t=0;w=0;v=0;x=0;y=0;z=void 0;B=void 0;A=!1;C=-1;E=-1;F=-1;D=-1;G=-1;I=-1;for(J in m){B=m[J];void 0 === B.nd && (z=(z=B.sols) && z[p]) && (A=!0,w+=z.dlvdur,u+=z.dltwbr * z.dlvdur,t+=z.dlvmaf * z.dlvdur);y+=B.pbdur;v+=B.pbtwbr * B.pbdur;x+=B.pbvmaf * B.pbdur;z=B.rr;B=B.ra;}0 < y && (C=1 * v / y,D=1 * x / y);A && (0 < w && (E=1 * u / w,G=1 * t / w),0 < w + y && (F=1 * (u + v) / (w + y),I=1 * (t + x) / (w + y)));switch(p){case T4u:n.htwbr=F;n.hptwbr=E;n.pbtwbr=C;z && (n.rr=z,n.ra=B);break;case x4u:n.hvmaftb=I;n.hpvmaftb=G;n.pbvmaftb=D;z && (n.rrvmaftb=z,n.ravmaftb=B);break;case B4u:n.hvmafgr=I;n.hpvmafgr=G;n.pbvmafgr=D;z && (n.rrvmafgr=z,n.ravmafgr=B);break;case s4u:(n.hvmafdp=I,n.hpvmafdp=G,n.pbvmafdp=D,z && (n.rrvmafdp=z,n.ravmafdp=B));}}W90=4;break;case 8:for(var H in m){if((r=m[H],void 0 !== r.N3a))for(p in r.N3a){if((z=r.N3a[p],void 0 !== z.V7)){var y0u=" an";y0u+="d";y0u+=" ";var U0u="e";U0u+="xpect sol.s";U0u+="trmsel.length === sol.fragsel.l";U0u+="engt";U0u+="h but got ";var F0u="expect re";F0u+="port.fragmen";F0u+="tsPrebuffer";F0u+="e";F0u+="d !== undefined";var i4u="expect report.";i4u+="fragmentsPrebuffered !== und";i4u+="efined";M=void 0 !== r.jSa;M || (console.error(i4u),g.assert(M,F0u));M=[];for(var O in r.jSa){u=r.jSa[O];M.push({ca:u.ca,$l:u.duration / 1E3,quality:u.zb});}M=z.V7.length === z.kSa.length;u=U0u + z.V7.length + y0u + z.kSa.length;M || (console.error(u),g.assert(M,u));M=[];u=0;for(var L in z.V7){w=z.V7[L];t=z.kSa[L];A6u.D9b(2);u=w=A6u.r9b(u,w);M.push({x7b:w,V7b:z.CQa[L],k4b:z.Oa[L],xfa:z.xfa[L],wfa:z.wfa[L],jNa:z.jNa[L],P3b:{ca:t.ca,$l:t.duration / 1E3,quality:t.zb?t.zb:z.Qd[w].zb,C7b:t.og,Q3b:t.Kg},h1a:0,d7b:0,ipa:z.ipa[L]});}z=[];M=0;for(var P in r.Bz.trace){u=r.Bz.trace[P];A6u.u9b(2);M=u=A6u.r9b(M,u);z.push(u);}}}}W90=7;break;case 9:W90=this.Ya.Rv?8:7;break;}}};k90=28;break;case 12:h.prototype.Ohb=function(m,n){var z90;z90=2;for(;z90 !== 5;){switch(z90){case 2:var L0u="segmentAp";L0u+="pen";L0u+="ded";n={type:L0u,segmentId:m.id,metrics:n};m.yC || d.Ta(this.Ya,n.type,n);z90=5;break;}}};h.prototype.Phb=function(m,n,r){var A90;A90=2;for(;A90 !== 5;){switch(A90){case 2:var o0u="se";o0u+="gme";o0u+="ntCo";o0u+="m";o0u+="plete";m={type:o0u,mediaType:m,manifestIndex:n,segmentId:r.id};d.Ta(this.Ya,m.type,m);A90=5;break;}}};h.prototype.lda=function(m,n){var B90;B90=2;for(;B90 !== 5;){switch(B90){case 2:var b0u="l";b0u+="ast";b0u+="Segment";b0u+="Pts";n={type:b0u,segmentId:m.id,pts:Math.floor(n)};m.yC || d.Ta(this.Ya,n.type,n);B90=5;break;}}};h.prototype.Jhb=function(m,n,r,p,u){var C90;C90=2;for(;C90 !== 5;){switch(C90){case 2:var M0u="m";M0u+="anifestR";M0u+="ange";m={type:M0u,index:m,manifestOffset:n,startPts:Math.floor(r),endPts:Math.floor(p),maxPts:Math.floor(u)};d.Ta(this.Ya,m.type,m);C90=5;break;}}};k90=19;break;case 41:h.prototype.bKb=function(m){var b01;b01=2;for(;b01 !== 5;){switch(b01){case 2:var r0u="st";r0u+="reamSelectionA";r0u+="ugmentData";m={type:r0u,augmentData:m,fragmentIndex:m[0].kf};d.Ta(this.Ya,m.type,m);b01=5;break;}}};h.prototype.Ul=function(m){var c01;c01=2;for(;c01 !== 5;){switch(c01){case 2:var D0u=",";D0u+=" ";var Q0u="m";Q0u+="a";Q0u+="na";Q0u+="gerdebugevent";m={type:Q0u,message:"@" + l.default.time.aa() + D0u + m};d.Ta(this.Ya,m.type,m);c01=5;break;}}};return h;break;case 19:h.prototype.ZJa=function(m){var D90;D90=2;for(;D90 !== 5;){switch(D90){case 2:var u0u="maxBitr";u0u+="at";u0u+="es";m={type:u0u,audio:m[0],video:m[1]};d.Ta(this.Ya,m.type,m);D90=5;break;}}};h.prototype.Khb=function(m,n){var E90,r;E90=2;for(;E90 !== 3;){switch(E90){case 2:var A0u="no";A0u+="tifyManif";A0u+="estSelected: ";var e0u="mani";e0u+="fes";e0u+="tSe";e0u+="le";e0u+="cted";r=this.Ya.I;m={type:e0u,index:m,replace:n.N.Ze.replace,ptsStarts:n.JM,streamingOffset:n.Z + n.rv};r.Gh && (n=A0u + JSON.stringify(m),r.Gh && this.Ul(n));d.Ta(this.Ya,m.type,m);E90=3;break;}}};h.prototype.Ihb=function(m,n,r,p,u){var F90;F90=2;for(;F90 !== 4;){switch(F90){case 2:var j0u="m";j0u+="ani";j0u+="f";j0u+="es";j0u+="tPresenting";m={type:j0u,index:m.Db,pts:Math.floor(n),movieId:m.K,replace:m.Ze.replace,contentOffset:r};null != p && null != u && (m.previousMovieId=p,m.previousIndex=u);d.Ta(this.Ya,m.type,m);F90=4;break;}}};k90=16;break;}}function h(m,n){var l90;l90=2;for(;l90 !== 4;){switch(l90){case 2:var l0u="1SIY";l0u+="bZ";l0u+="r";l0u+="NJC";l0u+="p9";this.Ya=m;this.H=n;l0u;l90=4;break;}}}})();b.ACa=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.kza=void 0;c=a(2);q=a(16);f=c.__importStar(a(10));a(6);a(228);k=a(245);l=a(399);d=a(96);a(390);a(405);g=a(150);h=c.__importDefault(a(27));a(241);m=a(912);n=c.__importDefault(a(124));a(14);r=c.__importDefault(a(4));a(178);a(411);a(410);a(95);p=r.default.Promise;u=new r.default.Console("HEADERCACHE","media|asejs");a=new r.default.Console("MEDIACACHE","media|asejs");t=r.default.PH;w=u.trace.bind(u);a.trace.bind(a);v=u.warn.bind(u);x=u.error.bind(u);y=u.info.bind(u);a=(function(z){function B(A,C,E,F){var e01;e01=2;for(;e01 !== 25;){switch(e01){case 6:A.WD=0;A.yn=[];e01=13;break;case 2:A=z.call(this) || this;A.sm=w;A.$j=x;A.Eb=v;e01=3;break;case 3:A.b3b=y;A.x_=Object.create(null);A.vn=C;A.If=Object.create(null);e01=6;break;case 13:A.IJa=C.N1;A.Fu=[];e01=11;break;case 18:var Y0u="1";Y0u+="SIY";Y0u+="bZ";Y0u+="r";Y0u+="NJCp9";A.cE=A.vn.Jna;A.rj=void 0;A.Yda && (A.vn.sS || (C=(r.default.options || ({})).WL || 0,A.vn.set?A.vn.set({sS:C}):A.vn.sS=(r.default.options || ({})).WL || 0),A.rj=new m.NBa(A.vn,r.default,A),A.rj.mb(A,F).then(function(){var f01;f01=2;for(;f01 !== 1;){switch(f01){case 2:var q0u="M";q0u+="e";q0u+="dia";q0u+=" cache initialized";w(q0u);f01=1;break;}}}).catch(function(D){var g01;g01=2;for(;g01 !== 1;){switch(g01){case 2:var G0u="M";G0u+="edi";G0u+="a cache did not";G0u+=" in";G0u+="itialize";x(G0u,D);g01=1;break;}}}));A.vl=E;Y0u;return A;break;case 11:A.h_=!1;A.aJ=[];A.uE={};A.Yda=(A.vn.Vta || A.vn.Wta) && 0 < (A.vn.sS || (r.default.options || ({})).WL || 0);e01=18;break;}}}var d01;d01=2;for(;d01 !== 39;){switch(d01){case 8:B.prototype.list=function(){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 2:return this.yn;break;}}};B.prototype.sU=function(A,C){var n01;n01=2;for(;n01 !== 4;){switch(n01){case 1:n01=(C=A.headers[C])?5:4;break;case 9:n01=(A=this.If[A])?9:5;break;n01=(A=this.If[A])?1:4;break;case 5:return C;break;case 2:n01=(A=this.If[A])?1:4;break;}}};B.prototype.kHb=function(A,C){var o01,E,F;o01=2;for(;o01 !== 5;){switch(o01){case 2:(E=this,F=this.jHb(A));o01=1;break;case 1:return F || !this.rj?p.resolve(F):(this.cE?this.Vgb(A,C):this.Ugb(A,C)).then(function(D){var p01;p01=2;for(;p01 !== 1;){switch(p01){case 4:return E.H0a(D);break;p01=1;break;case 2:return E.H0a(D);break;}}});break;}}};d01=14;break;case 2:c.__extends(B,z);Object.defineProperties(B.prototype,{cache:{get:function(){var h01;h01=2;for(;h01 !== 1;){switch(h01){case 2:return this.If;break;}}},enumerable:!1,configurable:!0}});B.prototype.Otb=function(){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:this.flush();this.HIa();i01=5;break;case 3:this.flush();this.HIa();i01=6;break;i01=5;break;}}};B.prototype.C8=function(A){var j01;j01=2;for(;j01 !== 5;){switch(j01){case 2:this.vl=A;this.Fu.forEach(function(){});j01=5;break;}}};d01=3;break;case 3:B.prototype.Xo=function(A,C,E){var k01,F,D;k01=2;for(;k01 !== 9;){switch(k01){case 1:k01=(F[C]=A)?5:4;break;case 7:(F=this.uE,D=A);k01=3;break;k01=1;break;case 2:(F=this.uE,D=A);k01=1;break;case 4:E && delete F[C];D?(this.h_=!1,this.Zgb()):this.h_=!0;k01=9;break;case 6:k01=(F[C]=A)?7:9;break;k01=(F[C]=A)?5:4;break;case 5:for(var G in F){F.hasOwnProperty(G) && !1 === F[G] && (D=!1);}k01=4;break;}}};B.prototype.flush=function(){var l01,C;l01=2;for(;l01 !== 8;){switch(l01){case 3:var O0u="mana";O0u+="gerdebu";O0u+="ge";O0u+="vent";var m0u=",";m0u+=" h";m0u+="eaderCac";m0u+="h";m0u+="e flush: ";this.yn=[];this.vn.Gh && (C="@" + r.default.time.aa() + m0u,this.emit(O0u,{message:C}));l01=8;break;case 2:this.VRa();for(var A in this.x_){C=this.x_[A];C.abort();}this.If=Object.create(null);this.WD=0;l01=3;break;}}};d01=8;break;case 24:B.prototype.Cda=function(A,C){var O01,M,J,H,E,F,D,G,I,L,P,O;O01=2;for(;O01 !== 53;){switch(O01){case 32:O01=(void 0 === M && (M=A.stream.nk(H)),void 0 !== M)?31:36;break;case 54:I.yha && !f.ga(I.Cn) && (A=I.yha,delete I.yha,this.Cda(A,I.Cn));O01=53;break;case 18:M=A.stream.nk(H);O01=17;break;case 1:O01=this.h_?5:9;break;case 36:++H;O01=33;break;case 11:A.mediaType === h.default.Za.Tb && G.ck && !G.VA && D.he && (C=Math.max(D.Y && D.Y.Zi(0) || 0,C + D.he.V));(J=A.stream.Y,H=J && J.Gm(C));O01=20;break;case 42:var E0u="u";E0u+="nde";E0u+="fi";E0u+="ned";f.ga(I.Cn) && (I.Cn=M.Z);M.sh && (M.responseType=0);A.sh && this.rj && A.CU && A.CU[F] && E0u !== typeof M.Z && A.CU[F][M.Z] || (L=this.yfb(M,A.sd),L.sh && (L.Tl=A.Tl),L.sM(),++I.gS,C.push(L));++O;O01=38;break;case 43:++L;O01=28;break;case 37:M=void 0;O01=36;break;case 8:O01=I?7:53;break;case 4:O01=this.aJ.length > G.Zka?3:53;break;case 2:(E=A.K,F=A.La,D=A.stream,G=A.sd);O01=1;break;case 5:this.aJ.push({RCb:A,od:C});O01=4;break;case 31:M.sh=A.sh;O01=30;break;case 13:return;break;case 14:I.yha=A;O01=13;break;case 3:this.aJ.shift();O01=4;break;case 9:I=this.If[E] || A.Tl;O01=8;break;case 7:O01=A.mediaType === h.default.Za.Tb?6:11;break;case 25:void 0 === I.data && (I.data={});void 0 === I.data[F] && (I.data[F]=[]);C=I.data[F];E=this.ehb(G,A,J);O=D=0;(L=M && M.mediaType,P=L === h.default.Za.Hb?G.z5:G.s5);O01=34;break;case 33:O01=H < (J && J.length || 0) && !E(O,D)?32:54;break;case 44:(M.LLa(J.get(L)),M.fM=L + 1,H=L);O01=43;break;case 16:M.sh=A.sh;O=M.Mia(C);O && (M.mediaType === h.default.Za.Tb && !G.m5 && O.od < (G.ck && !G.VA && D.he?Math.floor(D.he.V):0) && (++O.zk,O.od+=M.pa.V),0 < O.zk && M.th({start:O.zk}));O01=26;break;case 29:a000.D9b(2);L=a000.r9b(H,1);O01=28;break;case 34:G=L === h.default.Za.Hb?G.ZIb:G.TIb;O01=33;break;case 28:O01=L < J.length && (M.ca < P || M.duration < G)?44:42;break;case 6:O01=void 0 === I.Cn?14:12;break;case 38:D+=M.duration;O01=37;break;case 19:var W0u="no proper ";W0u+="fragm";W0u+="ent fou";W0u+="nd to request data at";W0u+=" pts";x(W0u,C);O01=53;break;case 26:var h0u="managerde";h0u+="bu";h0u+="gevent";var c0u=", startP";c0u+="ts";c0u+=": ";var n0u=",";n0u+=" ";n0u+="p";n0u+="ts: ";var I0u=", str";I0u+="ea";I0u+="mId: ";var J0u=", head";J0u+="er";J0u+="Cac";J0u+="he";J0u+=" requestData: movieId: ";G.Gh && (C="@" + r.default.time.aa() + J0u + E + I0u + F + n0u + C + c0u + M.Z,this.emit(h0u,{message:C}));O01=25;break;case 17:O01=!f.ga(M)?16:25;break;case 12:C=I.Cn;O01=11;break;case 30:O01=!f.ga(J) && !M.na?29:42;break;case 20:O01=-1 === H || void 0 === H?19:18;break;}}};B.prototype.Keb=function(A){var P01;P01=2;for(;P01 !== 1;){switch(P01){case 2:this.gIa(A,A.Tl);P01=1;break;}}};B.prototype.Jeb=function(A,C){var Q01;Q01=2;for(;Q01 !== 1;){switch(Q01){case 2:this.gIa(A,C);Q01=1;break;}}};B.prototype.gIa=function(A,C){var R01,E;R01=2;for(;R01 !== 4;){switch(R01){case 1:R01=(C=this.If[A.K] || C)?5:4;break;case 2:E=A.La;R01=1;break;case 5:(C.Nkb || C.sh && !this.cE || (C.Nkb=!0,++this.WD),C.headers || (C.headers={}),C.headers[E]=A,this.vn.$ha && (C.pL || (C.pL=0),++C.pL),this.dca());R01=4;break;}}};B.prototype.dca=function(){var S01,C,E,F;function A(G){var T01;T01=2;for(;T01 !== 5;){switch(T01){case 2:G.abort();E+=G.bytesReceived;T01=5;break;}}}S01=2;for(;S01 !== 12;){switch(S01){case 2:E=0;S01=1;break;case 5:S01=this.WD > this.IJa?4:13;break;case 4:S01=(C=this.yn.shift())?3:5;break;case 1:S01=!(this.WD <= this.IJa)?5:12;break;case 7:delete this.If[F];--this.WD;S01=14;break;case 9:S01=C.data?8:7;break;case 8:for(var D in C.data){C.data[D].forEach(A);delete C.data[D];}S01=7;break;case 14:this.Oib(F);S01=5;break;case 3:F=C.K;S01=9;break;case 13:this.Pib(E);S01=12;break;}}};B.prototype.Pib=function(A){var U01;U01=2;for(;U01 !== 1;){switch(U01){case 2:var t0u="discarded";t0u+="By";t0u+="tes";0 !== A && (A={type:t0u,bytes:A},this.emit(A.type,A));U01=1;break;}}};B.prototype.Rib=function(A){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:var p0u="flus";p0u+="he";p0u+="dB";p0u+="ytes";0 !== A && (A={type:p0u,bytes:A},this.emit(A.type,A));V01=1;break;}}};d01=32;break;case 14:B.prototype.jHb=function(A){var q01;q01=2;for(;q01 !== 1;){switch(q01){case 2:return this.H0a(this.If[A]);break;}}};B.prototype.VRa=function(){var r01,E,F,D;r01=2;for(;r01 !== 4;){switch(r01){case 2:E=0;for(F in this.If){D=this.If[F];if(D.data){for(var G in D.data){var S0u="in";S0u+=" e";S0u+="n";S0u+="tr";S0u+="y:";var k0u="missing hea";k0u+="derEn";k0u+="try ";k0u+="for stream";k0u+="Id:";D.headers[G] || x(k0u,G,S0u,D);C(D,G);D.data[G].forEach(A);delete D.data[G];}delete D.data;}}this.Rib(E);r01=4;break;}}function C(I,J){var t01;t01=2;for(;t01 !== 1;){switch(t01){case 2:I && I.data && I.data[J].forEach(function(H){var u01;u01=2;for(;u01 !== 5;){switch(u01){case 2:H.abort();E+=H.bytesReceived;u01=5;break;}}});t01=1;break;}}}function A(I){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 4:I.dOa();s01=7;break;s01=1;break;case 2:I.dOa();s01=1;break;}}}};B.prototype.Wy=function(A){var v01,C;v01=2;for(;v01 !== 5;){switch(v01){case 1:C && (this.Lc(A)?f.ga(C.yd.SCb) && !f.ga(A.loadTime) && (C.yd.SCb=A.loadTime):f.ga(C.yd.B6) && !f.ga(A.loadTime) && (C.yd.B6=A.loadTime));v01=5;break;case 2:C=this.If[A.K];v01=1;break;}}};B.prototype.wk=function(A){var w01;w01=2;for(;w01 !== 1;){switch(w01){case 2:this.Lc(A)?this.mLb(A):this.nLb(A);w01=1;break;}}};d01=10;break;case 10:B.prototype.jV=function(A){var x01;x01=2;for(;x01 !== 5;){switch(x01){case 2:var z0u="_";z0u+="on";z0u+="Err";z0u+="or";z0u+=": ";v(z0u,A.toString());this.YZ(A);x01=5;break;}}};B.prototype.mLb=function(A){var y01,C;y01=2;for(;y01 !== 9;){switch(y01){case 2:C=this;A.cVb=A.Ye;this.Keb(A);f.ga(A.QCb) || A.QCb(A.cVb);y01=3;break;case 3:this.Vib(A,function(){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:f.ga(A) || (f.ga(A.Tl) || A.Tl.kVa--,C.YZ(A));z01=1;break;}}});y01=9;break;}}};B.prototype.nLb=function(A){var A01,D,C,E,F;A01=2;for(;A01 !== 8;){switch(A01){case 1:A01=F?5:8;break;case 4:D=r.default.time.now();this.rj.SQb(A,F,function(G){var B01;B01=2;for(;B01 !== 4;){switch(B01){case 2:G || f.ga(F) || (G=r.default.time.aa() - D,f.ga(F.yd) && (F.yd={}),f.ga(F.yd.xr) && (F.yd.xr=0),F.yd.xr+=G);--F.gS;C.YZ(A);B01=4;break;}}});A01=8;break;case 5:var C0u="m";C0u+="anag";C0u+="erd";C0u+="ebugevent";var H0u=",";H0u+=" r";H0u+="em";H0u+="ai";H0u+="ning: ";var f0u=",";f0u+=" ";f0u+="pt";f0u+="s";f0u+=": ";var R0u=", ";R0u+="st";R0u+="re";R0u+="amId";R0u+=": ";var v0u=", heade";v0u+="rCa";v0u+="che dataComplete: movieId";v0u+=": ";A01=(this.vn.Gh && (E="@" + r.default.time.aa() + v0u + E + R0u + A.La + f0u + A.Z + H0u + (F.gS - 1),this.emit(C0u,{message:E})),A.sh && 0 === A.responseType && this.rj && !this.cE)?4:9;break;case 2:(C=this,E=A.K,F=this.If[E] || A.Tl);A01=1;break;case 9:(--F.gS,C.YZ(A));A01=8;break;}}};B.prototype.CIa=function(){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:0 === this.Fu.length && (this.Fu=[g.cq.instance.nB(0,void 0,!1,!1,this.vl,this.vn),g.cq.instance.nB(1,void 0,!1,!1,this.vl,this.vn)],this.Fu.forEach(function(A){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 2:return A.mb();break;}}}),t.Of());C01=1;break;}}};d01=17;break;case 32:B.prototype.Oib=function(A){var W01;W01=2;for(;W01 !== 5;){switch(W01){case 1:this.emit(A.type,A);W01=5;break;case 2:var Z0u="c";Z0u+="acheEvi";Z0u+="c";Z0u+="t";A={type:Z0u,movieId:A};W01=1;break;case 3:A={type:"",movieId:A};W01=4;break;W01=1;break;case 9:this.emit(A.type,A);W01=6;break;W01=5;break;}}};B.prototype.Vib=function(A,C){var X01,E;X01=2;for(;X01 !== 3;){switch(X01){case 8:E=A.sd;X01=9;break;X01=1;break;case 2:E=A.sd;X01=1;break;case 1:f.ga(A.fQb) || this.Cda(A,A.fQb);!this.rj || !A.sh || this.cE || f.ga(A.CU) || A.CU[A.La] && A.CU[A.La].header?C():this.rj.TQb(A,C);E.D8 || 0 !== Object.keys(this.x_).length || this.HIa();X01=3;break;}}};B.prototype.fjb=function(A,C){var Y01;Y01=2;for(;Y01 !== 4;){switch(Y01){case 2:var X0u="pr";X0u+="ebuffst";X0u+="ats";A.yd.Opa=C;A={type:X0u,movieId:A.K,stats:{prebuffstarted:A.yd.B6,prebuffcomplete:A.yd.Opa}};this.emit(A.type,A);Y01=4;break;}}};B.prototype.Vgb=function(A,C){var Z01,E;Z01=2;for(;Z01 !== 5;){switch(Z01){case 2:var a0u="Me";a0u+="dia";a0u+=" ";a0u+="cache is not ";a0u+="enabled";E=this;return this.rj?this.rj.MGb(A,C).then(function(F){var a11;a11=2;for(;a11 !== 5;){switch(a11){case 1:return (E.If[A]=F.Tl,++E.WD,E.dca(),E.yn.push(F.Tl),E.yn.sort(E.E0a),E.hIa(A,F),E.cache[A]);break;case 3:a11=F || F.Tl?8:3;break;a11=F && F.Tl?1:5;break;case 2:a11=F && F.Tl?1:5;break;}}}):p.reject(a0u);break;}}};d01=28;break;case 28:B.prototype.Ugb=function(A,C){var b11,F,D,E;b11=2;for(;b11 !== 8;){switch(b11){case 5:(F=void 0,D=!1);this.rj.qWa(this.If[A])?(F=p.resolve(this.If[A]),D=!0):F=this.rj.PGb(A);b11=3;break;case 1:b11=this.rj?5:9;break;case 2:E=this;b11=1;break;case 3:return F.then(function(G){var c11;c11=2;for(;c11 !== 1;){switch(c11){case 2:return !f.ga(G) && E.rj?E.rj.LGb(A,C,G).then(function(I){var d11;d11=2;for(;d11 !== 5;){switch(d11){case 2:I && (D || (E.If[A]=G,++E.WD,E.dca(),E.yn.push(G),E.yn.sort(E.E0a)),E.hIa(A,I));return E.If[A];break;}}}):p.resolve(void 0);break;}}});break;case 9:var w0u="Media c";w0u+="ache";w0u+=" is ";w0u+="not enabl";w0u+="ed";return p.reject(w0u);break;}}};B.prototype.hIa=function(A,C){var e11,F,D,E,G;e11=2;for(;e11 !== 7;){switch(e11){case 5:(F=this.If[A],D=C.headers);F && D && Object.keys(D).forEach(function(I){var f11;f11=2;for(;f11 !== 1;){switch(f11){case 2:E.Jeb(D[I],F);f11=1;break;}}});e11=3;break;case 2:E=this;e11=1;break;case 1:e11=C?5:7;break;case 9:G=C.data;Object.keys(G).forEach(function(I){var g11,H,J;g11=2;for(;g11 !== 9;){switch(g11){case 5:f.ga(F.data[I]) && (F.data[I]=[]);H=F.data;J.forEach(function(M){var h11;h11=2;for(;h11 !== 1;){switch(h11){case 2:H[I].push(M);h11=1;break;}}});g11=9;break;case 2:J=G[I];f.ga(F.data) && (F.data={});g11=5;break;}}});e11=7;break;case 3:e11=C.data?9:7;break;}}};B.prototype.E0a=function(A,C){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:return C.priority - A.priority;break;case 4:return C.priority / A.priority;break;i11=1;break;}}};d01=42;break;case 17:B.prototype.HIa=function(){var E01,A;E01=2;for(;E01 !== 4;){switch(E01){case 2:A=this.Fu;this.Fu=[];A.forEach(function(C){var F01;F01=2;for(;F01 !== 1;){switch(F01){case 2:g.cq.instance.oS(C);F01=1;break;}}});E01=4;break;}}};B.prototype.Zgb=function(){var G01,A;G01=2;for(;G01 !== 5;){switch(G01){case 2:A=this;!this.h_ && 0 < this.aJ.length && (this.aJ.forEach(function(C){var H01;H01=2;for(;H01 !== 1;){switch(H01){case 2:A.Cda(C.RCb,C.od);H01=1;break;}}}),this.aJ=[]);G01=5;break;}}};B.prototype.AIa=function(A,C){var I01,E;I01=2;for(;I01 !== 8;){switch(I01){case 2:E=A.stream.mediaType;I01=1;break;case 1:2 > this.Fu.length && this.CIa();C=new l.r9(A.stream,C,this.Fu[E],A,this,!0,u);C.sh=A.sh;C.mf=this;return C;break;}}};B.prototype.yfb=function(A,C){var J01,E;J01=2;for(;J01 !== 8;){switch(J01){case 2:E=A.stream.mediaType;2 > this.Fu.length && this.CIa();C=k.MX.create(A.stream,C,this.Fu[E].track,A,this,!0,u);C.sh=A.sh;J01=3;break;case 3:C.mf=this;return C;break;}}};B.prototype.YZ=function(A){var K01,C;K01=2;for(;K01 !== 9;){switch(K01){case 2:var P0u="sa";P0u+="vetod";P0u+="i";P0u+="sk";this.Lc(A) && delete this.x_[A.La];this.Lc(A) || delete A.response;A.Ic();C=this.If[A.K] || A.Tl;C && 0 === C.kVa && 0 === C.gS && (this.fjb(C,A.Ye),C.sh && this.rj && (C.yd.h6b || (this.cE?this.rj.UQb(C):this.rj.kN(P0u,{u2a:C.yd.xr}))));K01=9;break;}}};B.prototype.ehb=function(A,C,E){var L01,F,D;L01=2;for(;L01 !== 8;){switch(L01){case 4:return function(G,I){var R6u=a000;var M01;M01=2;for(;M01 !== 1;){switch(M01){case 2:R6u.D9b(17);return R6u.Q9b(I,F);break;case 4:R6u.u9b(18);return R6u.Q9b(I,F);break;M01=1;break;}}};break;case 2:F=A.M1;C.sh && this.rj && (A.DYa?F=A.DYa:A.qYa && 0 < A.qYa && (F=2E3 * A.qYa));L01=5;break;case 3:D=E && E.length < A.MPa?E.length:A.MPa;return function(G){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:a000.D9b(17);return a000.Q9b(G,D);break;}}};break;case 5:L01=0 < F?4:3;break;}}};d01=24;break;case 42:B.prototype.H0a=function(A){var j11,F,C,E;j11=2;for(;j11 !== 11;){switch(j11){case 6:C.MB=A.MB;C.On=A.On;C.Pn=A.Pn;return C;break;case 5:for(E in A.data){F=A.data[E];0 < F.length && (C[F[0].mediaType]={La:E,header:A.headers[E],data:F});}C.Cn=A.Cn;C.pL=A.pL;C.yd=A.yd;j11=8;break;case 8:C.dv=A.dv;C.xy=A.xy;j11=6;break;case 1:j11=A && A.data?5:11;break;case 2:C={};j11=1;break;}}};B.prototype.Lc=function(A){var k11;k11=2;for(;k11 !== 1;){switch(k11){case 4:return - +A.Lc;break;k11=1;break;case 2:return ! !A.Lc;break;}}};return B;break;}}})(d.jw);b.kza=a;n.default(q.EventEmitter.prototype,a.prototype);},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.NBa=void 0;c=a(2);f=a(16);k=c.__importStar(a(913));l=c.__importStar(a(10));a(6);d=a(245);g=a(9);q=a(43);h=c.__importStar(a(924));m=h.dBa;a=(function(){function n(r,p,u){var m11;m11=2;for(;m11 !== 12;){switch(m11){case 2:var V0u="me";V0u+="d";V0u+="ia";V0u+="|asej";V0u+="s";var d0u="M";d0u+="EDIAC";d0u+="A";d0u+="CH";d0u+="E";this.H=new p.Console(d0u,V0u);this.Yda=(r.Vta || r.Wta) && 0 < (r.sS || (p.options || ({})).WL || 0);this.Vfb=r.pvb?r.pvb:!1;this.cE=r.Jna?r.Jna:!1;this.dhb=r.CYa?r.CYa:!1;this.I=r;this.xn=p;m11=7;break;case 13:var K0u="1";K0u+="SIYb";K0u+="Zr";K0u+="N";K0u+="JCp9";K0u;m11=12;break;case 7:var g0u="Media cache ";g0u+="has n";g0u+="o";g0u+="t been initiaized";this.Ge=u;this.Tr=Promise.reject(g0u);this.Tr.catch(function(){});m11=13;break;}}}var l11;l11=2;for(;l11 !== 18;){switch(l11){case 7:n.prototype.qWa=function(r){var X11;X11=2;for(;X11 !== 1;){switch(X11){case 2:return !(l.ga(r) || l.ob(r) || l.ga(r.yd) || l.ob(r.yd) || l.ga(r.K) || l.ob(r.K) || l.ga(r.priority) || l.ob(r.priority));break;}}};n.prototype.kN=function(r,p){var Y11,u;Y11=2;for(;Y11 !== 9;){switch(Y11){case 2:var x0u="m";x0u+="ediaca";x0u+="ch";x0u+="elook";x0u+="up";var T0u="sav";T0u+="et";T0u+="o";T0u+="disk";var N0u="mediac";N0u+="ach";N0u+="es";N0u+="tats";u={type:N0u,operation:r};T0u === r && (u.saveTime=p.u2a);x0u === r && (u.lookupTime=p.W4,u.dataFound=p.F1);u.oneObject=this.cE;Y11=3;break;case 3:var B0u="medi";B0u+="aca";B0u+="c";B0u+="he";this.Vfb && this.emit(B0u,u);Y11=9;break;}}};n.prototype.uOb=function(r,p){var Z11,u,t;Z11=2;for(;Z11 !== 5;){switch(Z11){case 2:(u=this,t=Object.keys(r).map(function(w){var a21;a21=2;for(;a21 !== 1;){switch(a21){case 2:return u.Drb(r[w]);break;case 4:return u.Drb(r[w]);break;a21=1;break;}}}));return Promise.all(t).then(function(w){var b21;b21=2;for(;b21 !== 5;){switch(b21){case 2:w.sort(function(v,x){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:return v.Lc === x.Lc?0:v.Lc?-1:1;break;}}});return h.$ja(u.I,u.H,u.Ge,w,p);break;}}});break;}}};n.prototype.Drb=function(r){var d21,p,u,t,w;d21=2;for(;d21 !== 5;){switch(d21){case 2:(p=this,w={});return new Promise(function(v,x){var e21,y;e21=2;for(;e21 !== 5;){switch(e21){case 2:p.un.P6(m.hq,r,function(z,B){var f21,g21,A;f21=2;for(;f21 !== 1;){switch(f21){case 2:try{g21=2;for(;g21 !== 19;){switch(g21){case 3:g21=u instanceof ArrayBuffer?9:7;break;case 13:var s0u="Missi";s0u+="ng or i";s0u+="nvalid header data ";s0u+="parts for stream ";return (A=s0u + y.La,x(A));break;case 2:g21=z || void 0 === B?1:5;break;case 6:g21=y.Lc?14:11;break;case 14:g21=h.Zla(y)?13:12;break;case 7:y=h.qja(t,w,u);g21=6;break;case 9:var i0u="Header fragments wa";i0u+="s an ";i0u+="array buffer, is invalid type ";A=i0u + y.La;g21=8;break;case 1:return x(z);break;case 8:return x(A);break;case 12:v(y);g21=19;break;case 4:g21=h.jWa(t)?3:20;break;case 11:g21=h.Yla(y)?10:12;break;case 5:Object.keys(B).map(function(C){var h21,i21,F,E;h21=2;for(;h21 !== 3;){switch(h21){case 5:try{i21=2;for(;i21 !== 5;){switch(i21){case 2:F=new Uint8Array(B[C]);t=JSON.parse(String.fromCharCode.apply(null,F));i21=5;break;}}}catch(D){t=B[C];}h21=3;break;case 1:h21=E === m.Z$?5:4;break;case 4:E === m.zya?u=B[C]:w[E]=B[C];h21=3;break;case 2:E=C.substr(C.lastIndexOf(".") + 1);h21=1;break;}}});g21=4;break;case 20:y=h.pja(t,{response:w.response});g21=6;break;case 10:var F5u="Missing ";F5u+="or invalid";F5u+=" media data part";F5u+="s for stream ";return (A=F5u + y.La,x(A));break;}}}catch(C){x(C);}f21=1;break;}}});e21=5;break;}}});break;}}};n.prototype.Hib=function(r,p,u){var j21,t;j21=2;for(;j21 !== 5;){switch(j21){case 2:t=this;return new Promise(function(w,v){var k21,x;k21=2;for(;k21 !== 5;){switch(k21){case 2:t.un.read(m.hq,r,function(y,z){var l21,m21,J,H,M,G,I,O,n21,o21,p21,B,A,C,E,D,q21,K,r21,da,na,Q,N,s21,t21,u21,P,R,v21,w21,x21,F;l21=2;for(;l21 !== 4;){switch(l21){case 5:v(y);l21=4;break;case 9:w();l21=4;break;case 17:x=h.$ja(t.I,t.H,t.Ge,z,p);l21=16;break;case 13:l21=F.headers?12:10;break;case 20:L=F.data;B=Object.keys(L);l21=18;break;case 10:l21=F.data?20:17;break;case 11:try{m21=2;for(;m21 !== 12;){switch(m21){case 5:(J=I.value,H=F.headers[J]);m21=4;break;case 3:var U5u="Header fragment";U5u+="s was an arra";U5u+="y buff";U5u+="er, is invalid type ";M=U5u + H.streamId;m21=9;break;case 14:z.push(O);m21=13;break;case 13:I=G.next();m21=1;break;case 1:m21=!I.done?5:12;break;case 2:(G=c.__values(D),I=G.next());m21=1;break;case 8:O=h.qja(H,H,H.fragments);m21=7;break;case 7:m21=h.Zla(O)?6:14;break;case 6:var y5u="Missing or inval";y5u+="id header d";y5u+="ata parts";y5u+=" for stream ";return (M=y5u + O.La,v(M));break;case 4:m21=H.fragments instanceof ArrayBuffer?3:8;break;case 9:return v(M);break;}}}catch(ra){var L;L={error:ra};}finally{n21=2;for(;n21 !== 1;){switch(n21){case 2:try{o21=2;for(;o21 !== 1;){switch(o21){case 2:I && !I.done && (B=G.return) && B.call(G);o21=1;break;}}}finally{p21=2;for(;p21 !== 5;){switch(p21){case 1:throw L.error;p21=5;break;case 2:p21=L?1:5;break;}}}n21=1;break;}}}l21=10;break;case 2:l21=1;break;case 12:D=Object.keys(F.headers);l21=11;break;case 6:y=h.Zja(F.movieEntry);z=[];l21=13;break;case 7:l21=F.movieEntry?6:15;break;case 1:l21=y?5:3;break;case 18:try{q21=2;for(;q21 !== 8;){switch(q21){case 5:J=R.value;K=Object.keys(L[J]);try{r21=2;for(;r21 !== 7;){switch(r21){case 1:r21=!N.done?5:7;break;case 5:(da=L[J][N.value],na=h.pja(da,da));r21=4;break;case 2:(Q=(C=void 0,c.__values(K)),N=Q.next());r21=1;break;case 3:var L5u="Missing or";L5u+=" invalid ";L5u+="media";L5u+=" data parts for stream";L5u+=" ";return (M=L5u + na.La,v(M));break;case 4:r21=h.Yla(na)?3:9;break;case 9:z.push(na);r21=8;break;case 8:N=Q.next();r21=1;break;}}}catch(ra){C={error:ra};}finally{s21=2;for(;s21 !== 1;){switch(s21){case 2:try{t21=2;for(;t21 !== 1;){switch(t21){case 2:N && !N.done && (E=Q.return) && E.call(Q);t21=1;break;}}}finally{u21=2;for(;u21 !== 5;){switch(u21){case 1:throw C.error;u21=5;break;case 2:u21=C?1:5;break;case 3:u21=C?5:4;break;u21=C?1:5;break;}}}s21=1;break;}}}q21=9;break;case 1:q21=!R.done?5:8;break;case 9:R=P.next();q21=1;break;case 2:(P=c.__values(B),R=P.next());q21=1;break;}}}catch(ra){var va;va={error:ra};}finally{v21=2;for(;v21 !== 1;){switch(v21){case 2:try{w21=2;for(;w21 !== 1;){switch(w21){case 2:R && !R.done && (A=P.return) && A.call(P);w21=1;break;}}}finally{x21=2;for(;x21 !== 5;){switch(x21){case 1:throw va.error;x21=5;break;case 2:x21=va?1:5;break;case 3:x21=va?8:1;break;x21=va?1:5;break;}}}v21=1;break;}}}l21=17;break;case 16:void 0 !== x && (x.Tl=y);l21=15;break;case 8:F=z[r];l21=7;break;case 15:var o5u="medi";o5u+="a";o5u+="cacheloo";o5u+="ku";o5u+="p";t.kN(o5u,{W4:t.xn.time.aa() - u,F1:!0});w(x);l21=4;break;case 3:l21=l.ga(z)?9:8;break;}}});k21=5;break;}}});break;}}};l11=11;break;case 2:n.prototype.mb=function(r,p){var n11,u;n11=2;for(;n11 !== 4;){switch(n11){case 2:var M5u="Media cache is";M5u+=" ";M5u+="disable";M5u+="d";u=this;this.Yda?this.Tr=new Promise(function(t,w){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 2:(void 0 !== p && null !== p?p.tL:function(v){var p11;p11=2;for(;p11 !== 1;){switch(p11){case 2:return k.tL(u.xn,u.I,v);break;case 4:return k.tL(u.xn,u.I,v);break;p11=1;break;}}})(function(v){var q11,x;q11=2;for(;q11 !== 4;){switch(q11){case 2:var b5u="M";b5u+="edia cache did not init";b5u+="ialize";u.un=v;x=v.Km;(v=v.MF)?w(v):x?(u.FSb(r),t()):w(Error(b5u));q11=4;break;}}});o11=1;break;}}}):(this.Tr=Promise.reject(M5u),this.Tr.catch(function(){}));return this.Tr;break;}}};l11=1;break;case 11:n.prototype.Ngb=function(r){var y21,p;y21=2;for(;y21 !== 5;){switch(y21){case 2:var r5u="Media cach";r5u+="e is";r5u+=" not enabled";p=this;return this.Tr?this.Tr.then(function(){var z21;z21=2;for(;z21 !== 1;){switch(z21){case 2:return new Promise(function(u){var A21;A21=2;for(;A21 !== 1;){switch(A21){case 2:p.un.IV(m.hq,r.toString(),function(t){var B21;B21=2;for(;B21 !== 1;){switch(B21){case 2:t && 0 !== t.length?1 === t.length && t[0] === r.toString()?u(!0):u(!1):u(!1);B21=1;break;}}});A21=1;break;}}});break;}}}):Promise.reject(r5u);break;}}};n.prototype.cjb=function(r){var C21,t,w;function u(v){var E21;E21=2;for(;E21 !== 1;){switch(E21){case 2:v.map(p);E21=1;break;case 4:v.map(p);E21=8;break;E21=1;break;}}}C21=2;function p(v){var D21;D21=2;for(;D21 !== 1;){switch(D21){case 2:t.un.delete(m.hq,v);D21=1;break;}}}for(;C21 !== 4;){switch(C21){case 2:(t=this,w=r.toString());this.un.IV(m.hq,[m.iBa,r].join("."),u);this.un.IV(m.hq,w,u);C21=4;break;}}};n.prototype.FSb=function(r){var F21,p;F21=2;for(;F21 !== 4;){switch(F21){case 2:var u5u="m";u5u+="edia";u5u+="cache-erro";u5u+="r";var Q5u="me";Q5u+="d";Q5u+="ia";Q5u+="cach";Q5u+="e";p=new f.zh();p.on(this.un,Q5u,function(u){var G21;G21=2;for(;G21 !== 4;){switch(G21){case 1:u.keys || u.items.map(function(t){var H21;H21=2;for(;H21 !== 1;){switch(H21){case 2:return t.key;break;}}});G21=5;break;case 2:G21=u.keys || u.items?1:5;break;case 9:G21=u.keys && u.items?7:4;break;G21=u.keys || u.items?1:5;break;case 5:var D5u="m";D5u+="ed";D5u+="iac";D5u+="ac";D5u+="he";r.emit(D5u,u);G21=4;break;}}});p.on(this.un,u5u,function(u){var I21;I21=2;for(;I21 !== 5;){switch(I21){case 2:var A5u="me";A5u+="dia";A5u+="ca";A5u+="c";A5u+="he";var e5u="e";e5u+="r";e5u+="ror";u.type=e5u;r.emit(A5u,u);I21=5;break;}}});F21=4;break;}}};return n;break;case 1:n.prototype.PGb=function(r){var r11,p,u,t;r11=2;for(;r11 !== 5;){switch(r11){case 2:(p=this,u=[m.iBa,r].join("."),t=this.xn.time.aa());return this.Tr.then(function(){var s11;s11=2;for(;s11 !== 1;){switch(s11){case 2:return new Promise(function(w){var t11;t11=2;for(;t11 !== 1;){switch(t11){case 2:p.un.IV(m.hq,u,function(v){var u11,x;u11=2;for(;u11 !== 3;){switch(u11){case 2:u11=!v || 0 >= v.length?1:5;break;case 5:x=v[0];p.un.read(m.hq,x,function(y,z){var v11,w11,B,A;v11=2;for(;v11 !== 14;){switch(v11){case 6:p.qWa(A)?w(A):(p.cjb(r),w());v11=14;break;case 2:var l5u=" fa";l5u+="i";l5u+="led";var j5u="Read";j5u+="i";j5u+="ng movie";j5u+=" entry ";y && p.H.warn(j5u + x + l5u,y);v11=1;break;case 1:v11=!l.ga(z)?5:9;break;case 5:v11=z instanceof ArrayBuffer?4:3;break;case 3:B={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};v11=9;break;case 4:try{w11=2;for(;w11 !== 1;){switch(w11){case 2:B=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));w11=1;break;}}}catch(C){}v11=9;break;case 9:l.ga(B) || (A=h.Zja(B));l.ga(A) || l.ob(A) || (A.yd=A.yd || ({}),A.headers=A.headers || ({}));v11=6;break;}}});u11=3;break;case 1:var q5u="mediac";q5u+="achelo";q5u+="o";q5u+="kup";(w(),p.kN(q5u,{W4:p.xn.time.aa() - t,F1:!1}));u11=3;break;}}});t11=1;break;}}});break;}}});break;}}};n.prototype.LGb=function(r,p,u){var x11,t,w;x11=2;for(;x11 !== 9;){switch(x11){case 6:x11=-this.Tr?4:0;break;x11=!this.Tr?5:4;break;case 1:x11=!this.Tr?5:4;break;case 7:t=this;x11=5;break;x11=1;break;case 2:t=this;x11=1;break;case 4:w=this.xn.time.aa();return this.Tr.then(function(){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return new Promise(function(v){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:t.un.IV(m.hq,r,function(x){var A11;A11=2;for(;A11 !== 5;){switch(A11){case 2:x=x.reduce(function(y,z){var B11,B;B11=2;for(;B11 !== 9;){switch(B11){case 1:var G5u="drmHea";G5u+="der._";G5u+="_embed__";B11=-1 !== B.indexOf(G5u)?5:4;break;case 4:y[B]?y[B].push(z):y[B]=[z];return y;break;case 5:return y;break;case 2:B=z.substr(0,z.lastIndexOf("."));B11=1;break;}}},{});t.uOb(x,p).then(function(y){var C11,z,B;C11=2;for(;C11 !== 8;){switch(C11){case 5:var m5u="mediac";m5u+="achelo";m5u+="okup";var Y5u="No content";Y5u+=" da";Y5u+="ta found for ";(z=t.xn.time.aa() - w,B=!1);l.ga(y) || l.ga(y.data) || !l.Sg(y.data)?t.H.trace(Y5u + r,u):B=!0;t.kN(m5u,{W4:z,F1:B});C11=9;break;case 9:v(y);C11=8;break;case 1:return v();break;case 2:C11=void 0 === u || void 0 === y?1:5;break;}}},function(){var D11;D11=2;for(;D11 !== 1;){switch(D11){case 2:v();D11=1;break;}}});A11=5;break;}}});z11=1;break;}}});break;}}});break;case 5:var O5u="Med";O5u+="ia";O5u+=" cache is not enabled";return Promise.reject(O5u);break;}}};n.prototype.MGb=function(r,p){var E11,u,t;E11=2;for(;E11 !== 5;){switch(E11){case 2:(u=this,t=this.xn.time.aa());return this.Tr.then(function(){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:return u.Ngb(r);break;}}}).then(function(w){var G11;G11=2;for(;G11 !== 5;){switch(G11){case 2:G11=w?1:4;break;case 4:var E5u="mediaca";E5u+="c";E5u+="helookup";u.kN(E5u,{W4:u.xn.time.aa() - t,F1:!1});G11=5;break;case 1:return u.Hib(r.toString(),p,t);break;case 9:G11=w?0:7;break;G11=w?1:4;break;}}});break;}}};n.prototype.TQb=function(r,p){var H11,u,t,w,v,x,y;H11=2;for(;H11 !== 13;){switch(H11){case 4:H11=r.stream.ye && !l.ga(r.stream.Y)?3:14;break;case 2:(u=this,t=[r.K,r.La,m.P$a].join("."),w=this.xn.time.aa(),v=h.pTa(r),x={});x[t + "." + m.Z$]={Pp:v,xd:m.qD};x[t + "." + m.pab]={Pp:g.jB(r.zg.map(function(z){var I11;I11=2;for(;I11 !== 1;){switch(I11){case 2:return z.data;break;}}})),xd:m.qD};H11=4;break;case 7:x[t + "." + m.H$a]={Pp:y.sizes.buffer,xd:m.qD};H11=6;break;case 3:v={timescale:r.stream.Y.U,startTicks:r.stream.Y.Bk,offset:r.stream.Y.Gd(0)};y=r.stream.Y.uN;x[t + "." + m.zya]={Pp:v,xd:m.qD};H11=7;break;case 14:this.un.t2a(m.hq,x,function(z){var J11;J11=2;for(;J11 !== 5;){switch(J11){case 2:z || (z=u.xn.time.aa() - w,r.Tl && (l.ga(r.Tl.yd.xr) && (r.Tl.yd.xr=0),r.Tl.yd.xr+=z));p();J11=5;break;}}});H11=13;break;case 6:x[t + "." + m.G$a]={Pp:y.fd.buffer,xd:m.qD};H11=14;break;}}};n.prototype.SQb=function(r,p,u){var K11,t,w,v,x,y;K11=2;for(;K11 !== 14;){switch(K11){case 1:K11=w instanceof ArrayBuffer?5:6;break;case 2:(t=this,w=r.response);K11=1;break;case 8:l.ga(w) || (y[x + "." + m.vbb]={Pp:w,xd:m.qD});this.un.t2a(m.hq,y,function(z){var L11;L11=2;for(;L11 !== 5;){switch(L11){case 2:var W5u="Faile";W5u+="d";W5u+=" to save fr";W5u+="agm";W5u+="ent";z?t.H.warn(W5u,z):(z=t.xn.time.aa() - v,l.ga(p.yd.xr) && (p.yd.xr=0),p.yd.xr+=z);u();L11=5;break;}}});K11=14;break;case 5:(v=this.xn.time.aa(),x=[r.K,r.La,r.Jc].join("."));r=h.Wja(r);y={};y[x + "." + m.Z$]={Pp:r,xd:m.qD};K11=8;break;case 6:var J5u="Unabl";J5u+="e to save fragment because response is not";J5u+=" an ArrayBuffer";u(Error(J5u));K11=14;break;}}};n.prototype.UQb=function(r){var M11,p,u,t,w,v,x,y,z,B,A,O11,C,E,F,D,P11,G,I,J,H,Q11,R11,S11,T11,U11,V11;M11=2;for(;M11 !== 20;){switch(M11){case 2:(w=this,v=this.xn.time.aa(),x={},y=h.KTa(r));x.movieEntry=y;M11=5;break;case 4:z={};Object.keys(r.headers).forEach(function(O){var N11,L;N11=2;for(;N11 !== 5;){switch(N11){case 2:L=h.nTa(r.headers[O]);z[O]=L;N11=5;break;}}});M11=9;break;case 9:x.headers=z;M11=8;break;case 8:M11=r && r.data?7:12;break;case 5:M11=r.headers?4:8;break;case 7:y={};(B=r.data,A=Object.keys(r.data));try{O11=2;for(;O11 !== 6;){switch(O11){case 2:(C=c.__values(A),E=C.next());O11=1;break;case 5:(F=E.value,D=B[F]);A={};O11=3;break;case 1:O11=!E.done?5:6;break;case 9:try{P11=2;for(;P11 !== 7;){switch(P11){case 1:P11=!I.done?5:7;break;case 4:P11=J instanceof d.MX && J.response instanceof ArrayBuffer && !l.ga(J.Jc)?3:8;break;case 2:(G=(u=void 0,c.__values(D)),I=G.next());P11=1;break;case 9:A[J.Jc]={mediaType:H.mediaType,streamId:H.streamId,movieId:H.movieId,bitrate:H.bitrate,location:H.location,serverId:H.serverId,saveToDisk:H.saveToDisk,offset:H.offset,bytes:H.bytes,timescale:H.timescale,startTicks:H.startTicks,durationTicks:H.durationTicks,response:J.response};P11=8;break;case 5:J=I.value;P11=4;break;case 3:H=h.Wja(J);P11=9;break;case 8:I=G.next();P11=1;break;}}}catch(O){u={error:O};}finally{Q11=2;for(;Q11 !== 1;){switch(Q11){case 2:try{R11=2;for(;R11 !== 1;){switch(R11){case 2:I && !I.done && (t=G.return) && t.call(G);R11=1;break;}}}finally{S11=2;for(;S11 !== 5;){switch(S11){case 3:S11=u?2:7;break;S11=u?1:5;break;case 9:throw u.error;S11=9;break;S11=5;break;case 2:S11=u?1:5;break;case 1:throw u.error;S11=5;break;}}}Q11=1;break;}}}O11=8;break;case 3:O11=D?9:7;break;case 8:y[F]=A;O11=7;break;case 7:E=C.next();O11=1;break;}}}catch(O){var M;M={error:O};}finally{T11=2;for(;T11 !== 1;){switch(T11){case 2:try{U11=2;for(;U11 !== 1;){switch(U11){case 2:E && !E.done && (p=C.return) && p.call(C);U11=1;break;}}}finally{V11=2;for(;V11 !== 5;){switch(V11){case 2:V11=M?1:5;break;case 1:throw M.error;V11=5;break;}}}T11=1;break;}}}M11=13;break;case 12:M={lifespan:259200};this.dhb && (M.convertToBinaryData=!0);this.un.save(m.hq,r.K,x,M,function(O){var W11;W11=2;for(;W11 !== 1;){switch(W11){case 2:var I5u="savet";I5u+="odi";I5u+="sk";O || w.kN(I5u,{u2a:w.xn.time.aa() - v});W11=1;break;}}});M11=20;break;case 13:x.data=y;M11=12;break;}}};l11=7;break;}}})();b.NBa=a;q.tf(f.EventEmitter,a);},function(q,b,a){var c,f,k,l,d;c=a(10);k=[];d=!1;q.exports={tL:function(g,h,m){var n;if(d)c.Kc(m) && (f.Km || f.MF?setTimeout(function(){m(f);},0):k.push(m));else {d=!0;n=a(126);n.VT(g);l=new n.Console("MEDIACACHE","media|asejs");f=new (a(425))(h,function(r){r && l.warn("Failed to initialize MediaCache",r);c.Kc(m) && setTimeout(function(){m(f);},0);k.map(function(p){setTimeout(function(){p(f);},0);});});}return f;},I4b:function(g,h){f=new (a(425))(g,function(m,n){m && l.warn("Failed to initialize MediaCache",m);c.Kc(h) && setTimeout(function(){h(n);},0);});}};},function(q,b,a){var f,k,l,d,g;function c(h){this.sq=h;this.context=h.context;this.CZa="NULLCONTEXT" === h.context?!0:!1;}f=a(10);k=a(126);l=new k.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,m,n,r,p){p("MediaCache is not supported");},remove:function(h,m,n){n("MediaCache is not supported");},create:function(h,m,n,r){r("MediaCache is not supported");},append:function(h,m,n,r){r("MediaCache is not supported");},query:function(h,m,n){n([]);}};c.prototype.AE=function(){var h,m,n;h=Array.prototype.slice.call(arguments);m=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(r){n(null,r);});try{if(this.CZa)throw Error("Media Cache not supported");m.apply(this.sq,h);}catch(r){n(r);}};c.prototype.query=function(h,m,n,r){try{if(this.CZa)throw Error("Media Cache not supported");this.sq.query(h,m,function(p){n(null,p);},r);}catch(p){n(p);}};c.prototype.read=function(h,m,n,r,p){this.AE(this.sq.read,h,m,n,r,p);};c.prototype.remove=function(h,m,n){this.AE(this.sq.remove,h,m,n);};c.prototype.create=function(h,m,n,r){this.AE(this.sq.create,h,m,n,r);};c.prototype.append=function(h,m,n,r){this.AE(this.sq.append,h,m,n,r);};c.prototype.info=function(h){this.AE(this.sq.info,h);};c.prototype.validate=function(h){this.AE(this.sq.validate,h);};c.prototype.flush=function(h){this.AE(this.sq.flush,h);};c.prototype.clear=function(){this.sq.clear();};q.exports={Grb:function(h){var m,n,r,p,u;m=h.h4b || "NRDMEDIADISKCACHE";g=h.sS || 0;0 !== g || f.ga(k.options) || f.ga(k.options.WL) || (g=k.options.WL);h=g;try{r=k.storage.gub;if(!r || !f.Sg(r))throw (l.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=r[m]){l.warn("Disk store exists, returning");p=new c(n);}else {if(f.ga(k.storage) || !f.Kc(k.storage.$Oa) || k.options && 0 === k.options.WL)throw (l.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");l.warn("Disk store context doesn't exist, creating with size " + h);u=k.storage.$Oa({context:m,size:h,encrypted:!0,signed:!0});if(!u || !u.valid)throw "Failed to create disk store context";p=new c(u);}}catch(t){l.warn("Exception creating disk store context - returning NullContext (noops)",t);p=new c(d);}return p;},izb:function(){return g;},TZb:c};},function(q,b,a){var g,h,m,n,r,p,u,t,w;function c(){}function f(v,x,y,z,B){var A;A=g.Kc(z)?z:c;this.Cu=v;this.$f=y.Su;this.jx=0;this.$fb=y.$vb || "NONE";this.Tw=g.ga(B) || g.ob(B)?0:B;this.ke={};this.Qr=y.g6b || h.storage.rP;this.wu=x;this.IJ=r.create(this.wu,y.Ksb * this.Tw,this.Cu);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.Ta=w.Ta;this.kJa=l(this,f.ue.REPLACE);this.Agb=l(this,f.ue.UHa);this.tE;this.tE=y.p6a?a(920):a(921);this.wu.query(this.Qr,this.Dp(""),(function(C,E){var F;if(C)A(C);else {F=this.IJ.Rja();C=Object.keys(E).filter(function(D){return D !== F && p.zL(D);}).map(this.sta.bind(this));this.P6(C,(function(D,G){Object.keys(G).map((function(I){var J,H;J=G[I];this.ke[p.r2(I)]=J;if(J.gra && 1 < Object.keys(J.gra).length){H=0;Object.keys(J.gra).forEach((function(M){E[this.Dp(M)] && g.xa(E[this.Dp(M)].size) && (H+=E[this.Dp(M)].size);}).bind(this));I=p.r2(I);this.ke[I].size=H;}else (I=p.r2(I),E[this.Dp(I)] && (this.ke[I].size=E[this.Dp(I)].size));}).bind(this));k(this.wu,this.Qr,this.Cu,(function(I,J){this.jx=J;I?A(I):A(null,this);}).bind(this));}).bind(this));}}).bind(this));}function k(v,x,y,z){var B;B=g.Kc(z)?z:c;v.query(x,y,function(A,C){A?B(A):(A=Object.keys(C).reduce(function(E,F){return E + (C[F].size || 0);},0),B(null,A));});}function l(v,x){return function(y,z,B,A,C){return function(E,F){var D;if(E)(z || v.Ta(f.ue.uf,{itemKey:y,error:E}),B(E));else {D={fk:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(G){var I;I=F.actions[G];G={key:v.sta(I.E4),xk:G};I.X?(D.fk+=I.fk,G.D4=I.fk,g.xa(I.duration) && (D.duration+=I.duration)):G.error=I.error;D.items.push(G);});E=g.Kc(A)?A():0;0 < C && (D.mK=C - E);k(v.wu,v.Qr,v.Cu,function(G,I){G?B(G):(v.jx=I,D.Hm=v.$f - I,z || v.Ta(x,t.JSa(D)),B(null,D));});}};};}function d(v,x){return 0 < x && v >= x?!0:!1;}g=a(10);h=a(126);m=a(252);b=a(84);n=new h.Console("MEDIACACHE","media|asejs");r=a(916);p=a(426);u=a(127);t=a(253);w=a(427).EventEmitter;b({ue:{UHa:"writeitem",REPLACE:"replaceitem",G$:"journalupdate",uf:"mediacache-error"}},f);f.prototype.uAb=function(){return this.Cu;};f.prototype.sta=function(v){return v.slice(this.Cu.length + 1);};f.prototype.Kja=function(){return Object.keys(this.ke).filter((function(v){v=p.ija(this.ke[v]);return void 0 === v || 0 >= v.DOa();}).bind(this));};f.prototype.GAb=function(){return Object.keys(this.ke).reduce((function(v,x){var y;y=this.ke[x];return y && y.creationTime < v.creationTime?{resourceKey:x,creationTime:y.creationTime}:v;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).i7b;};f.prototype.vzb=function(){var v;switch(this.$fb){case "FIFO":v=this.GAb();}return v;};f.prototype.ztb=function(v){var x;x=g.Kc(v)?v:c;this.uTa((function(y){var z,B,A;z=this.ke;B=Object.keys(z).reduce(function(C,E){E=z[E];E.resourceIndex && Object.keys(E.resourceIndex).forEach(function(F){C.push(F);});return C;},[]);if((y=y.filter(function(C){return !p.zL(C) && 0 > B.indexOf(C);})) && 0 < y.length){A=this;y=h.Promise.all(y.map(function(C){return new h.Promise(function(E,F){A.delete(C,function(D){D?F(D):E();});});})).then(function(){x(void 0,{Bqa:!0});},function(C){x(C,{Bqa:!1});});t.Lv(y);}else v(void 0,{Bqa:!1});}).bind(this));};f.prototype.IOb=function(v,x,y){var z,B;z=g.Kc(x)?x:c;x=this.Dp(v);B=h.time.now();this.wu.read(this.Qr,x,0,-1,(function(A,C){var E;if(A)z(A);else if(C && C.X && C.value){g.Kc(y) || (y=this.tE.nT(u.jq.dD),p.zL(v)?y=this.tE.nT(u.jq.$Y):(A=this.ke[v],!g.ga(A) && g.xa(A.resourceIndex[v])?(A=A.resourceIndex[v],g.ga(A) && (A=u.jq.dD),y=this.tE.nT(A)):n.warn("Metadata is undefined or does not contain a resource format for key",v,":",A)));try{E=y(C.value);}catch(F){return z(m.vI.$p(F.message));}C={duration:h.time.now() - B};this.ke[v] && g.xa(this.ke[v].size) && (C.Cx=g.xa(this.ke[v].size)?this.ke[v].size:0);z(null,E,C);}else z(m.vI.$p(C.error));}).bind(this));};f.prototype.read=function(v,x,y){this.IOb(v,x,y);};f.prototype.P6=function(v,x,y){var z,B,A;z=g.Kc(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(v))z(m.vI.$p("item keys must be an array"));else {B={};A=[];v=h.Promise.all(v.map((function(C){return new h.Promise((function(E,F){var D;y && !g.ga(y[C]) && (D=this.tE.nT(y[C]));this.read(C,function(G,I,J){G?(I={},I[C]=G,F(I)):(B[C]=I,A.push({duration:J.duration,Cx:J.Cx}),E());},D);}).bind(this));}).bind(this))).then(function(){var C;C={};0 < A.length && (C=A.reduce(function(E,F){g.xa(F.duration) && (E.duration+=F.duration);g.xa(F.Cx) && (E.Cx+=F.Cx);return E;},{duration:0,Cx:0}));z(null,B,C);},function(C){z(C);});t.Lv(v);}};f.prototype.write=function(v,x,y,z,B){var A,C,E;y=g.Kc(y)?y:c;A=this.Dp(v);C="function" === typeof B?B():0;E=u.Eka(x);E=this.tE.rka(E)(x);E.byteLength + this.jx >= this.$f?y(m.JH):d(E.byteLength + C,this.Tw)?y(m.LZ):this.IJ.save(this.Qr,A,x,this.Agb(v,z,y,B,this.Tw),E.byteLength);};f.prototype.replace=function(v,x,y,z,B){var A,C,E,F;A=g.Kc(y)?y:c;C=this.Dp(v);E=0;"function" === typeof B && (E=B());y=u.Eka(x);F=this.tE.rka(y)(x);y=(this.ke[v] || ({})).size || 0;0 >= y && this.ke[v]?this.VTa([v],(function(D){n.trace("Replacing key",v,"which exists:",! !this.ke[v],this.ke[v]?this.ke[v]:void 0,"and has size",D,"with",x,"with size",F.byteLength,"plus _used",this.jx,"vs capacity",this.$f);F.byteLength - D + this.jx >= this.$f?A(m.JH):d(F.byteLength - D + E,this.Tw)?A(m.LZ):this.IJ.replace(this.Qr,C,x,this.kJa(v,z,A,B,this.Tw),F.byteLength);}).bind(this)):(n.trace("Replacing key",v,"which exists:",! !this.ke[v],this.ke[v]?this.ke[v]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.jx,"vs capacity",this.$f),F.byteLength - y + this.jx >= this.$f?A(m.JH):d(F.byteLength - y + E,this.Tw)?A(m.LZ):this.IJ.replace(this.Qr,C,x,this.kJa(v,z,A,B,this.Tw),F.byteLength));};f.prototype.TPb=function(v,x,y,z){var B;B=g.Kc(x)?x:c;"[object Object]" !== Object.prototype.toString.call(v)?B(m.KZ.$p("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(v).map((function(A){return new h.Promise((function(C){this.replace(A,v[A],function(E,F){E?C({error:E,Pp:A}):C(F);},!0,z);}).bind(this));}).bind(this))).then((function(A){var C,E,F,D;try{C=Number.MAX_VALUE;E=A.reduce(function(G,I){I.error || (G.fk+=I.fk,g.xa(I.duration) && (G.duration+=I.duration),!g.ga(I.Hm) && I.Hm < C && (C=I.Hm),I.items.map(function(J){G.items.push({key:J.key,xk:J.xk,D4:J.D4,eHb:J.eHb,duration:J.duration});}),C < Number.MAX_VALUE && (G.Hm=C));return G;},{fk:0,items:[],time:h.time.now(),duration:0});0 < this.Tw && (E.mK=this.Tw - z());F=A.filter(function(G){return !g.ga(G.error);});D=t.NUa(F);y || (D?D.forEach((function(G){this.Ta(f.ue.uf,G);}).bind(this)):this.Ta(f.ue.REPLACE,t.JSa(E)));B(D,E);}catch(G){B(G);}}).bind(this),(function(A){y || this.Ta(f.ue.uf,A);B(A);}).bind(this)),t.Lv(x));};f.prototype.delete=function(v,x){var y;y=g.Kc(x)?x:c;this.wu.remove(this.Qr,this.Dp(v),(function(z,B){z?y(z):B && B.X?k(this.wu,this.Qr,this.Dp(""),(function(A,C){A?y(A):(this.jx=C,y());}).bind(this)):y(m.w9a.$p(B.error));}).bind(this));};f.prototype.uTa=function(v){this.query("",function(x,y){x?(n.error("Failed to get keys",x),v([])):v(y);});};f.prototype.query=function(v,x){var y,z;y=g.Kc(x)?x:c;z=this.IJ.Rja();this.wu.query(this.Qr,this.Dp(v),(function(B,A){B?y(B):y(null,Object.keys(A).filter(function(C){return C !== z;}).map(this.sta.bind(this)));}).bind(this));};f.prototype.Dp=function(v){return this.Cu + "." + v;};f.prototype.clear=function(v){var x;x=g.Kc(v)?v:c;this.uTa((function(y){var z;z=h.Promise.all(y.map((function(B){return new h.Promise((function(A){B && this.delete(B,function(){A();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(B){this.Ta(f.ue.uf,B);x([],B);}).bind(this));t.Lv(z);}).bind(this));};f.prototype.VTa=function(v,x){var y,z;y=g.Kc(x)?x:c;z=(v || []).map((function(B){return this.Dp(B);}).bind(this));this.wu.query(this.Qr,this.Cu,(function(B,A){B?(n.error("failed to get persisted size for keyset ",v,B),y(0)):(B=Object.keys(A).filter(function(C){return 0 <= z.indexOf(C);}).reduce(function(C,E){return C + (A[E].size || 0);},0),y(B));}).bind(this));};f.prototype.Gyb=function(v){return this.IJ.zSa(v);};f.prototype.constructor=f;q.exports=f;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u){var B,A;function t(C,E,F,D){C.info.call(C,(function(G,I){var J;if(G)D(G);else {try{J=I.values[this.context].entries[E][F].size;}catch(H){J=-1;}-1 < J?D(null,J):this.validate(function(H,M){H?D(H):(M[F] && (J=M[F].size),D(null,J));});}}).bind(C));}function w(C,E,F,D,G,I,J){var H;I?I.actions || (I.actions={}):I={actions:{}};B(D);H=k.time.now();D=new m(function(M,O){C.create(k.storage.rP,E,F,function(L,P){L?O(L):M(P);});}).then(function(M){M.X?t(C,k.storage.rP,E,function(O,L){O?J(O):(A(L),B(L),I.actions[c.GX.G$]={X:!0,time:G,fk:L,E4:E,Y0a:M,duration:k.time.now() - H},I.Hm=M.Hm,J(null,I));}):(I.actions[c.GX.G$]={X:!1,E4:E,error:M.error},J(null,I));},function(M){J(M);});g.Lv(D);}function v(C,E,F,D,G,I){D.yp(F.time,F);for(var J=F.time - 864E5,H=D.Ev();H && !isNaN(H.time) && H.time < J;){H=D.qK();B(0 - (H.ca || 0));H=D.Ev();}D=D.no().map(function(M){return M.time + ";" + M.ca;});w(C,E,Array.prototype.join.call(D,"|"),F.ca,F.time,G,I);}function x(C,E,F,D,G,I,J,H,M){var O;O=k.time.now();C.create(F,D,G,function(L,P){var R;if(L)h.error("Failed to replace item",D,L);else if(P.X){R=P.Hm;t(C,F,D,function(K,Q){var N,da;if(K)M(K);else {K={time:H,ca:Q || 0};N={Hm:R,actions:{}};da=k.time.now() - O;N.actions[c.GX.REPLACE]={X:!0,time:H,fk:Q,E4:D,Y0a:P,duration:da};I?v(C,E,K,J,N,M):(B(Q),M(null,N));}});}else M(l.KZ.$p(P.error || "Failed to create item"));});}function y(C,E,F,D,G,I,J,H,M){var O;O=k.time.now();C.append(F,D,G,function(L,P){var R;if(L)(h.error("Failed to save item " + D,L),M(L));else if(P.X){R=P.Hm;t(C,F,D,function(K,Q){var N,da;if(K)M(K);else {K={time:H,ca:Q || 0};N={Hm:R,actions:{}};da=k.time.now() - O;N.actions[c.GX.Ddb]={X:!0,time:H,fk:Q,E4:D,Y0a:P,duration:da};I?v(C,E,K,J,N,M):(B(Q),M(null,N));}});}else M(l.KZ.$p(P.error || "Failed to save item"));});}function z(C,E){C && f.Kc(C.remove) && C.sq.valid && C.remove(k.storage.rP,E.mJ,function(F,D){if(F)h.error("Failed to delete old journal key",F);else try{D && (f.ga(D.error) || D.error.some(function(G){return "NFErr_FileNotFound" === G.w4b;})) && v(C,E.mJ,{time:0,ca:0},E.PQ,0,function(){});}catch(G){}});}if(!r.sq.valid)return n;this.GIa=f.ga(p) || f.ob(p)?0:p;this.rca=r;this.Wca=this.bQ=0;this.PQ=new d();this.nib=u || "default";this.mJ=this.nib + ".NRDCACHEJOURNALKEY";B=(function(C){isNaN(C) || (this.bQ+=C);return this.bQ;}).bind(this);A=(function(C){isNaN(C) || (this.Wca+=C);return this.Wca;}).bind(this);this.Rja=function(){return this.mJ;};this.save=function(C,E,F,D){var G;G=k.time.now();y(this.rca,this.mJ,C,E,F,0 <= this.GIa,this.PQ,G,D);};this.replace=function(C,E,F,D){var G;G=k.time.now();x(this.rca,this.mJ,C,E,F,0 <= this.GIa,this.PQ,G,D);};this.zSa=function(C){var E,G;E=this.bQ;C-=864E5;for(var F=this.PQ.no(),D=0;D < F.length;D++){G=F[D];G.time < C && !isNaN(G.ca) && (E-=G.ca);}return E;};(function(C){var E;E=C.rca;C.bQ=0;E.read(k.storage.rP,C.mJ,0,-1,function(F,D){var G,I,J,M;G=[];I=0;J=!0;if(F)h.error("Failed to compile records",F);else if(D.X){F=String.fromCharCode.apply(null,new Uint8Array(D.value));F=String.prototype.split.call(F,"|");D=F.reduce(function(O,L){return O + (L.length + 40);},0);B(D);G=F.map(function(O){O=O.split(";");return {time:Number(O[0]),ca:Number(O[1])};});try{if(!isNaN(G.reduce(function(O,L){return O + L.ca;},0))){J=!1;for(var H=k.time.now() - 864E5;I < G.length;I++){M=G[I];M.time < H || (C.PQ.yp(M.time,M),B(M.ca));}}}catch(O){}}J && z(E,C);});})(this);}f=a(10);k=a(126);l=a(252);d=a(917);b=a(84);g=a(253);h=new k.Console("DISKWRITEMANAGER","media|asejs");m=k.Promise;b({GX:{Ddb:"saveitem",REPLACE:"replaceitem",G$:"journalupdate"}},c);n={save:function(r,p,u,t){t(l.eBa);},replace:function(r,p,u,t){t(l.eBa);},Rja:function(){return "";},zSa:function(){return 0;}};c.prototype.constructor=c;q.exports={create:function(r,p,u){return new c(r,p,u);},$0b:n};},function(q){function b(f){if(!(this instanceof b))return new b(f);if("undefined" === typeof f)this.mm=function(k,l){return k <= l;};else {if("function" !== typeof f)throw Error("heap comparator must be a function");this.mm=f;}this.Jo=[];}function a(f,k){var l,d,g,h,m,n,r;l=f.Jo;d=f.mm;g=2 * k + 1;h=2 * k + 2;m=l[k];n=l[g];r=l[h];n && d(n.priority,m.priority) && (!r || d(n.priority,r.priority))?(c(l,k,g),a(f,g,d)):r && d(r.priority,m.priority) && (c(l,k,h),a(f,h,d));}function c(f,k,l){var d;d=f[k];f[k]=f[l];f[l]=d;}b.prototype.clear=function(){this.Jo=[];};b.prototype.yp=function(f,k){this.Jo.push({priority:f,value:k});f=this.Jo;k=this.mm;for(var l=f.length - 1,d=0 === l?null:Math.floor((l - 1) / 2);null !== d && k(f[l].priority,f[d].priority);){c(f,l,d);l=d;d=0 === l?null:Math.floor((l - 1) / 2);}};b.prototype.remove=function(){var f;if(0 !== this.Jo.length){f=this.Jo[0];c(this.Jo,0,this.Jo.length - 1);this.Jo.pop();a(this,0);return f.value;}};b.prototype.Ev=function(){if(0 !== this.Jo.length)return this.Jo[0].value;};b.prototype.enqueue=b.prototype.yp;b.prototype.qK=b.prototype.remove;b.prototype.p4=function(){return 0 === this.Jo.length;};b.prototype.no=function(){return this.Jo.map(function(f){return f.value;});};q.exports=b;},function(q){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.ed)return (this.ed={},this.ed[c]=[f],!0);k=this.ed[c];return void 0 === k?(this.ed[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.ed?this.ed[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}q.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.ed)return !1;k=this.ed[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.ed[c],!0);k.splice(f,1);return !0;},Ta:a,emit:a,removeAllListeners:function(c){this.ed && (void 0 === c?delete this.ed:delete this.ed[c]);return this;}};},function(q){function b(c,f,k,l){c.trace(":",k,":",l);f(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)l=c.addEventListener(f,k);else if("function" === typeof c.addListener)l=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,l;k=f[0];l=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,f):"function" === typeof k.removeListener && k.removeListener(l,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};q.exports=a;},function(q,b,a){var c,f,k,l;c=a(10);f=a(127);k={};k[f.jq.dD]=function(d){return d;};k[f.jq.wZ]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};k[f.jq.$Y]=function(d){var g;g=d || new ArrayBuffer(0);d="";g=new Uint8Array(g);for(var h=0;h < g.byteLength;h++){d+=String.fromCharCode(g[h]);}return JSON.parse(d);};l={};l[f.jq.dD]=function(d){return d;};l[f.jq.wZ]=function(d){for(var g=new ArrayBuffer(d.length),h=new Uint8Array(g),m=0,n=d.length;m < n;m++){h[m]=d.charCodeAt(m);}return g;};l[f.jq.$Y]=function(d){return c.ga(d) || c.ob(d)?d:l[f.jq.wZ](JSON.stringify(d));};q.exports={nT:function(d){return k[d] || k[f.jq.dD];},rka:function(d){return l[d] || l[f.jq.dD];}};},function(q,b,a){function c(k){return k;}function f(){return c;}a(10);q.exports={nT:f,rka:f};},function(q,b,a){var k;function c(l,d){return l.length > d.length?1:d.length > l.length?-1:0;}function f(l,d){var g,h,m;g=[];if(k.Sg(d)){h={};m={};m[l]=h;g.push(m);g=Object.keys(d).reduce(function(n,r){var p,u,t;p=d[r];u={};if(k.l4(p)){t=l + ".__embed__." + r;u[t]=p;n.push(u);}else k.Sg(p)?(t=l + ".__sub__." + r,p=f(t,p),h[r]=p[0][t],n=n.concat(p.slice(1))):h[r]=p;return n;},g);}else (m={},m[l]=d,g.push(m));return g;}k=a(127);q.exports={fub:f,dEb:function(l){var d,g,h,t;d=Object.keys(l).map(function(w){return w.split(".");});d.sort(c);g=d[0];h=g.length;g=l[g.join(".")];for(var m=1;m < d.length;m++){for(var n=!1,r=!1,p=g,u=h;u < d[m].length;u++){t=d[m][u];switch(t){case "__metadata__":break;case "__sub__":r=!0;break;case "__embed__":n=!0;break;default:r?(p=p[t],r=!1):n && (p[t]=l[d[m].join(".")],n=!1);}}}return g;},LEb:function(l){return l && (0 <= l.indexOf("__sub__") || 0 <= l.indexOf("__embed__"));}};},function(q,b,a){var l,d;function c(g,h,m){Object.keys(g).forEach(function(n){var r,p;if(l.Sg(g[n]))if(g[n].l4){r=g[n];p=m + r.offset;g[n]=h.slice(p,p + r.byteLength);}else g[n]=c(g[n],h,m);});return g;}function f(g,h,m){Object.keys(g).forEach(function(n){var r;if(l.l4(g[n])){r=g[n];h.push(r);g[n]={l4:!0,offset:m.Zga,byteLength:r.byteLength};m.Zga+=r.byteLength;}else l.Sg(g[n]) && f(g[n],h,m);});return g;}function k(){var g,h,m;g=Array.prototype.concat.apply([],arguments);h=g.reduce(function(n,r){return n + r.byteLength;},0);m=new Uint8Array(h);g.reduce(function(n,r){m.set(new Uint8Array(r),n);return n + r.byteLength;},0);return m.buffer;}l=a(127);d=a(84);q.exports={Lpb:function(g){var h,m,n;h=d(g,{});g=[];h=f(h,g,{Zga:0});h=JSON.stringify(h);m=new ArrayBuffer(h.length + 4);n=new DataView(m);n.setUint32(0,h.length);for(var r=4,p=0,u=h.length;p < u;p++){n.setUint8(r,h.charCodeAt(p));r++;}g=[m].concat(g);return k.apply(null,g);},Kpb:function(g){for(var h=new DataView(g,0,4).getInt32(0),m=new Uint8Array(g,4,h),n="",r=0;r < m.byteLength;r++){n+=String.fromCharCode(m[r]);}h=4 + h;n=JSON.parse(n);return c(n,g,h);}};},function(q,b,a){var f,k,l,d,g;function c(h){return {mediaType:h.mediaType,streamId:h.La,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.Rc,saveToDisk:!0,offset:h.offset,bytes:h.ca,timescale:h.U,frameDuration:h.stream.pa && h.stream.pa.Wb,encrypted:h.kk,initSegments:1 < h.zg.length?h.zg.map(function(m){return {fi:m.kf,s:m.data.byteLength,e:! !m.kk};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Yla=b.Zla=b.jWa=b.KTa=b.nTa=b.pTa=b.Wja=b.$ja=b.Zja=b.pja=b.qja=b.dBa=void 0;f=a(2).__importStar(a(10));k=a(925);l=a(400);d=a(9);g=a(22);b.dBa={iBa:"movieEntry",P$a:"header",Z$:"metadata",pab:"headerData",T_b:"headerMetadata",H$a:"sizes",G$a:"durations",zya:"fragments",vbb:"response",hq:"billboard",qD:{lifespan:259200}};b.qja=function(h,m,n){var r,p;r=m.headerData;n && m.sizes instanceof ArrayBuffer && m.durations instanceof ArrayBuffer && (p={Bk:n.startTicks,offset:n.offset,U:n.timescale,sizes:new Uint32Array(m.sizes),fd:new Uint32Array(m.durations)});return {Lc:!0,mediaType:h.mediaType,K:h.movieId,La:h.streamId,bitrate:h.bitrate,location:h.location,Rc:h.serverId,ca:h.bytes,offset:h.offset,$ka:r,V3:h.initSegments,kk:h.encrypted,U:h.timescale,pa:h.frameDuration,sh:h.saveToDisk,Y:p};};b.pja=function(h,m){var n,r,p;m=m.response;n=h.startTicks;r=h.durationTicks;void 0 !== n && void 0 !== r && (p=n + r);return {Lc:!1,mediaType:h.mediaType,K:h.movieId,La:h.streamId,bitrate:h.bitrate,location:h.location,Rc:h.serverId,ca:h.bytes,offset:h.offset,response:m,U:h.timescale,Xa:h.startTicks,Lq:r,sh:h.saveToDisk,jb:p};};b.Zja=function(h){return {priority:h.priority,K:h.movieId,headers:{},pL:0,gS:0,kVa:0,sh:h.saveToDisk,yd:h.stats,dv:h.firstSelectedStreamBitrate,xy:h.initSelectionReason,MB:h.histDiscountedThroughputValue,Pn:h.histTdigest,On:h.histAge,Cn:void 0};};b.$ja=function(h,m,n,r,p){var u,t;u={headers:{},data:{}};r.forEach(function(w){var v,x,B;v=w.mediaType;v=p && p.jv(v,w.La);x=[];if(w.Lc)if(!Array.isArray(w.V3) || 2 > w.V3.length)x.push({kf:0,data:w.$ka});else for(var y=0,z=0;z < w.V3.length;++z){B=w.V3[z];x.push({kf:B.fi,data:w.$ka.slice(y,y + B.s),kk:B.e});y+=B.s;}v?(w.Y && v.a6(x,w.U,w.pa?new g.S(w.pa,w.U):void 0,w.Y),w.Lc && v && v.ye?(void 0 === u.headers && (u.headers={}),u.headers[w.La]=new l.NX(v,{ca:w.ca,offset:w.offset,zg:x,kk:w.kk},m)):w.response instanceof ArrayBuffer && void 0 !== v.Y && void 0 !== w.Xa && void 0 !== w.U && void 0 !== w.jb && (x=v.Y.w2(new g.S(w.Xa,w.U).V),void 0 !== x && (v=new k.Qua(v,{U:w.U,Xa:w.Xa,jb:w.jb,index:x.index,offset:w.offset,ca:w.ca},w.response,n,h,m),void 0 === u.data && (u.data={}),u.data[w.La] || (u.data[w.La]=[]),u.data[w.La].push(v)))):m.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.La + " movieId: " + w.K);});if(!f.ga(u.data)){t=u.data;Object.keys(t).forEach(function(w){t[w].sort(function(v,x){return v.Xa - x.Xa;});});}return u;};b.Wja=function(h){return {mediaType:h.mediaType,streamId:h.La,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.Rc,saveToDisk:!0,offset:h.offset,bytes:h.ca,timescale:h.U,startTicks:h.Xa,durationTicks:h.Lq};};b.pTa=c;b.nTa=function(h){var m,n,r,p;m=c(h);if(h.stream.ye && h.stream && h.stream.Y){n={timescale:h.stream.Y.U,startTicks:h.stream.Y.Bk,offset:h.stream.Y.Gd(0)};r=h.stream.Y.uN;p=r.sizes.buffer;r=r.fd.buffer;}return {mediaType:m.mediaType,streamId:m.streamId,movieId:m.movieId,bitrate:m.bitrate,location:m.location,serverId:m.serverId,saveToDisk:!0,offset:m.offset,bytes:m.bytes,timescale:m.timescale,frameDuration:m.frameDuration,headerData:d.jB(h.zg.map(function(u){return u.data;})),initSegments:m.initSegments,encrypted:h.kk,fragments:n,sizes:p,durations:r};};b.KTa=function(h){return {priority:h.priority,movieId:h.K,saveToDisk:h.sh,firstSelectedStreamBitrate:h.dv,initSelectionReason:h.xy,histDiscountedThroughputValue:h.MB,histTdigest:h.Pn,histAge:h.On};};b.jWa=function(h){return !f.has(h,"startTicks");};b.Zla=function(h){return !h.$ka || !h.U || !h.Y || void 0 === h.Y.Bk || void 0 === h.Y.offset || void 0 === h.Y.fd || !h.Y.fd.length || void 0 === h.Y.sizes || !h.Y.sizes.length;};b.Yla=function(h){return void 0 === h.ca || void 0 === h.offset || void 0 === h.U || void 0 === h.Xa || void 0 === h.Lq;};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Qua=void 0;c=a(2);f=a(9);q=a(43);k=a(98);a=(function(l){function d(g,h,m,n,r,p){n=l.call(this,g,h,n,r,p) || this;h.ca=m.byteLength;k.Gk.mb(n,g,h);n.yJ=m;n.ifb=h.ca;return n;}c.__extends(d,l);Object.defineProperties(d.prototype,{Lc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Us:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ye:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ri:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Og:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.yJ;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{SGb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{JK:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xqa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.ifb;},enumerable:!1,configurable:!0}});d.prototype.Ss=function(){return !0;};d.prototype.JE=function(g){this.Je=g.appendBuffer(this.response,f.Bp(this));return {X:this.Je};};d.prototype.Jh=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.Ic=function(){};d.prototype.a8=function(){return !1;};return d;})(a(240).GH);b.Qua=a;q.tf(k.Gk,a);},function(q,b,a){var c,f,k,l,d,g,h,m,n,r;Object.defineProperties(b,{__esModule:{value:!0}});b.kGa=void 0;c=a(2);q=a(16);f=a(73);k=c.__importDefault(a(4));l=a(14);d=a(254);g=a(9);h=a(6);m=a(982);n=a(376);r=new k.default.Console("ASEJS","media|asejs");r.trace.bind(r);q=(function(p){var J21;J21=2;for(;J21 !== 18;){switch(J21){case 3:u.prototype.mb=function(t,w,v,x,y,z,B,A){var O21;O21=2;for(;O21 !== 5;){switch(O21){case 2:this.Ma.Sra({audio:t,video:w,Zea:B,cua:A},{V:x,ca:y});this.Ma.open(this.config,this.QC);O21=5;break;}}};u.prototype.tW=function(t,w,v){var P21;P21=2;for(;P21 !== 1;){switch(P21){case 2:this.Ma.Sra({total:t},{V:w,ca:v});P21=1;break;}}};u.prototype.createSession=function(t,w,v,x,y,z,B,A,C,E){var Q21,D,F;Q21=2;for(;Q21 !== 19;){switch(Q21){case 3:this.TG[C]={GNa:function(){},ba:y.ba,equals:function(G){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:return G.da === F && (y.ba === G.ba || !G.ba || !y.ba);break;}}},nF:!1,Dr:Promise.resolve({sa:t,Gi:! !x.Gi,Fd:l.o5(! !x.vR,! !x.UC),config:A}),da:F};A.ay && this.Ma.GC(this.TG[C],{Dv:y.Dv,ba:y.ba,Kq:y.Kq});E=this.hsb(F,t,A.o0a,A,y,E || u.qtb,x);D=E[0];Q21=6;break;case 13:var n5u="endPt";n5u+="s is ";n5u+="not su";n5u+="ppor";n5u+="ted";E[1] && D.push(this.CT(F,E[1].Fa,v,C));h.assert(void 0 === x.Aa,n5u);this.O4=new m.lGa(this.console,this,t,E,w,D,x,y,z,B,A);A.Aq || A.hG || this.Dx();return this.O4;break;case 2:var c5u="creati";c5u+="ng s";c5u+="e";c5u+="ss";c5u+="ion";this.console.trace(c5u);this.Ma.Jb.reset();F=Number(t.movieId);C=this.Kka(F,y.ba);Q21=3;break;case 6:C=D.Fa.Ca[D.Fa.hg].xc;D=[this.CT(F,D.Fa,v,C)];Q21=13;break;}}};u.prototype.CT=function(t,w,v,x){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 2:var h5u="in";h5u+="valid start positio";h5u+="n re";h5u+="lative t";h5u+="o playgraph";return w.Ca[w.hg].xc === x?(t=n.Hga(w,t,g.S.rb(v)),h.assert(t,h5u),t):{va:w.hg,offset:g.S.hb};break;}}};J21=6;break;case 2:c.__extends(u,p);Object.defineProperties(u.prototype,{Jb:{get:function(){var L21;L21=2;for(;L21 !== 1;){switch(L21){case 2:return this.Ma.Jb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Om:{get:function(){var M21;M21=2;for(;M21 !== 1;){switch(M21){case 2:return this.Ma.Om;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mh:{get:function(){var N21;N21=2;for(;N21 !== 1;){switch(N21){case 4:return this.Ma.mh;break;N21=1;break;case 2:return this.Ma.mh;break;}}},enumerable:!1,configurable:!0}});J21=3;break;case 19:return u;break;case 6:u.prototype.hsb=function(t,w,v,x,y,z,B){var T21,G,A,C,E,F,D;T21=2;for(;T21 !== 7;){switch(T21){case 3:G=C.LLb;T21=9;break;case 2:var z5u="v";z5u+="i";z5u+="d";z5u+="e";z5u+="o";var S5u="a";S5u+="udi";S5u+="o";var k5u="a";k5u+="u";k5u+="d";k5u+="i";k5u+="o";var p5u="v";p5u+="i";p5u+="d";p5u+="e";p5u+="o";var t5u="Generated pl";t5u+="ay";t5u+="gra";t5u+="ph fr";t5u+="om choicemap.";(A=this,C=w.choiceMap);C?(t=f.gB(C,{config:x}),this.console.trace(t5u)):t=f.XG(t,z,B.vR || B.UC?B.UC?[p5u]:[k5u]:[S5u,z5u]);T21=5;break;case 5:(E=Object.create(x,{Xha:{value:y.Kq},ZRa:{value:y.gs}}),F=this.Fs.bind(this,y.ba),D=[this.Ma.GE(t,v,E,{Fs:F})]);T21=4;break;case 4:T21=C && C.LLb?3:8;break;case 9:Object.keys(G).forEach(function(I,J){var U21;U21=2;for(;U21 !== 9;){switch(U21){case 4:I=f.gB(C,c.__assign(c.__assign({},G[I]),{config:x}));D.push(A.Ma.GE(I,v,E,{Fs:F}));U21=9;break;case 2:var f5u="Cur";f5u+="r";f5u+="ently parallel graph can";f5u+=" only be media type [audio]";var R5u="au";R5u+="d";R5u+="io";var v5u="Currently only one para";v5u+="llel graph is";v5u+=" supported";a000.D9b(19);h.assert(a000.r9b(J,0),v5u);J=G[I];h.assert(J.Fd && 1 === J.Fd.length && R5u === J.Fd[0],f5u);U21=4;break;}}});T21=8;break;case 8:return D;break;}}};u.prototype.Nob=function(){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 4:this.Jb.pN(1);V21=6;break;V21=1;break;case 2:this.Jb.pN(null);V21=1;break;}}};u.prototype.Fs=function(t,w){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 4:return this.TG[this.Kka(w,t)];break;W21=1;break;case 2:return this.TG[this.Kka(w,t)];break;}}};J21=12;break;case 12:var a5u="s";a5u+="0";u.prototype.JPb=function(t){var X21,w,v;X21=2;for(;X21 !== 13;){switch(X21){case 7:t === this.O4 && delete this.O4;this.Ma.Kqa(this.TG[w]);delete this.TG[w];X21=13;break;case 1:(w=this.Kka(t.da,t.ba),v=this.TG[w]);v && (v.nF=!0);this.Ma.gr(t.qa);t.Ha && this.Ma.QM(t.Ha);t.Dg && this.Ma.gr(t.Dg);t.Kj && this.Ma.QM(t.Kj);X21=7;break;case 2:this.Nob();X21=1;break;}}};u.prototype.wb=function(){var Y21;Y21=2;for(;Y21 !== 9;){switch(Y21){case 3:this.Ma.close();Y21=9;break;case 2:var X5u="Att";X5u+="empt to";X5u+=" destruct ShimManager with latest se";X5u+="ssion still def";X5u+="ined";var Z5u="Attempted t";Z5u+="o destruct ShimMana";Z5u+="ger with session config active";var C5u="Attempted to des";C5u+="truct ShimMan";C5u+="ager wi";C5u+="th players pres";C5u+="ent in ASE";var H5u="Attempted to dest";H5u+="ruct ShimMa";H5u+="nager with playgraphs present in ASE";h.assert(0 === this.Ma.wC.length,H5u);h.assert(0 === this.Ma.n0a.length,C5u);h.assert(0 === Object.keys(this.TG).length,Z5u);h.assert(void 0 === this.O4,X5u);Y21=3;break;}}};u.prototype.Kka=function(t,w){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:a000.D9b(6);return a000.Q9b(w,t,"-");break;}}};u.qtb=a5u;J21=19;break;}}function u(t,w,v,x){var K21,y;K21=2;for(;K21 !== 11;){switch(K21){case 2:y=p.call(this) || this;y.config=t;y.Dx=w;y.Xo=v;K21=3;break;case 3:var P5u="D";P5u+="E";P5u+="BU";P5u+="G";P5u+=":";var w5u="nf-ase";w5u+=" sh";w5u+="im vers";w5u+="io";w5u+="n:";y.QC=x;y.TG={};t=a(428);y.console=r;y.console.trace(w5u,t,P5u,!1);y.Ma=d.zF();K21=13;break;case 13:var d5u="1";d5u+="SIY";d5u+="bZrNJCp9";d5u;return y;break;}}}})(q.EventEmitter);b.kGa=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P;Object.defineProperties(b,{__esModule:{value:!0}});b.Eua=void 0;c=a(2);f=a(16);k=a(386);l=a(228);d=a(928);g=a(222);h=a(14);a(218);m=a(929);n=a(933);r=a(961);p=a(424);u=a(30);t=a(6);w=a(406);v=a(962);x=a(963);y=a(964);z=a(114);B=a(256);A=a(965);C=a(67);E=a(255);F=a(9);D=c.__importDefault(a(4));G=a(966);I=a(967);J=a(968);H=a(969);M=a(54);O=a(434);L=a(980);P=a(981);q=(function(){function R(K){this.H=K;this.events=new f.EventEmitter();this.Gc=k.Gr.CLOSED;this.lx=[];this.xW=[];this.IQ=[];this.Ko=[];this.pIa={};this.c0={};this.Ajb=new z.qA({jt:this,source:"engine",hC:10});}Object.defineProperties(R.prototype,{xt:{get:function(){t.assert(this.cx);return this.cx;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{state:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{n0a:{get:function(){return this.IQ;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{wC:{get:function(){return this.Ko.map(function(K){return K.Fa;});},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{XMb:{get:function(){return this.Ko;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{Jb:{get:function(){this.iH();return this.Jx.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{Om:{get:function(){this.iH();return this.Jx.Om;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{mh:{get:function(){this.iH();return this.Jx.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{VXb:{get:function(){return this.lx.length;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{R0:{get:function(){return this.pIa;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{ZG:{get:function(){return this.c0;},enumerable:!1,configurable:!0}});Object.defineProperties(R.prototype,{yIb:{get:function(){return this.OJa || (this.OJa=this.vnb());},enumerable:!1,configurable:!0}});R.prototype.open=function(K,Q,N,da){var na;na=this;if(this.Gc === k.Gr.OPEN)return !1;this.I=K;this.uo=new C.PP(new E.AZ({tk:!0,currentTime:function(){return F.S.rb(D.default.time.aa());},speed:1}),this.H,"Engine Scheduler");this.iJa=new d.Qya(this.H,K);this.qE=new r.IFa(this.C4.bind(this),K,this.uo);this.Jx=g.MH.UTa(K,Q);this.Gc=k.Gr.OPEN;K=Object.create(K,{alb:{value:K.hG || K.Aq}});this.cx=O.wT(K);N && this.cx.jSb(N);da && this.cx.Yra(da);this.p0a=new L.REa({xm:function(){na.Gc !== k.Gr.CLOSED && na.qE.xm("playgraphOpportunity");}});this.PJa=new J.cCa(function(){return na.e3();},function(){return na.f3().global;},this.H);this.msb();return !0;};R.prototype.GE=function(K,Q,N,da,na){var va,ra,X,ta;va=this;void 0 === na && (na=!0);this.iH();ra=Object.create(N,{vN:{value:this.ZG}});if(na){X=this.xt.Fob(K,ra);if(X)return (X.d6a(Q),X);}ta=new n.Zua(K,Q,ra,R.EJb++,this.Jb,this.Yqa.bind(this,da,N.YXb),function(za,V){var T,ja;ja=da.Fs(za);za=null === (T=u.wg(va.lx,function(Ia){return Ia.WR.equals(ja);})) || void 0 === T?void 0:T.N;return null === za || void 0 === za?void 0:za.Fm(ra,V);},function(za){return va.qE.xm(za);},na?this.xt.Eob.bind(this.xt):function(){},this.e3.bind(this));ta.ai(new x.AGa(ta));ta.ai(new y.VGa(ta.st));ta.yXa.ai(new H.dva(ta));this.fx.UM.forEach(function(za){return ta.ai(za);});this.p0a.GE(ta);K=new f.zh();K.on(ta.events,"requestsPruned",this.kQb.bind(this));K.on(ta.events,"weightUpdated",this.apa.bind(this));K.on(ta.events,"underflow",this.Ij.bind(this,ta));this.Ko.push({Fa:ta,Ag:K,RV:0});this.apa();return ta;};R.prototype.Ij=function(K){K=this.PJa.Gxb(K);(null === K || void 0 === K?0:K.Q1) || this.xt.reset();};R.prototype.gr=function(K){this.p0a.gr(K);this.Ko=this.Ko.filter(function(Q){return Q.Fa === K?(Q.Ag.clear(),!1):!0;});K.wb();this.apa();};R.prototype.yLa=function(K,Q){var N,da,na;this.iH();na=Q.Fd;K=new m.Yua(K,void 0 === na?[0,1]:na,c.__assign({vN:null !== (da=null !== (N=Q.vN) && void 0 !== N?N:this.c0) && void 0 !== da?da:{}},Q));this.IQ.push(K);return K;};R.prototype.QM=function(K){this.iH();this.IQ=this.IQ.filter(function(Q){return Q !== K;});K.wb();};R.prototype.Sra=function(K,Q){this.pIa=K;this.c0=Q;this.OJa=void 0;};R.prototype.GC=function(K,Q){var N,da;da=null === (N=u.wg(this.lx,function(na){return na.WR.equals(K);})) || void 0 === N?void 0:N.N;da?da.GC(c.__assign(c.__assign({},Q),{Pm:this.voa.bind(this)})):this.xW.push({J6a:K,C3a:Q});};R.prototype.Kqa=function(K){this.xW=this.xW.filter(function(Q){return !Q.J6a.equals(K);});};R.prototype.close=function(){this.Gc !== k.Gr.CLOSED && (this.yPb(),t.assert(0 === this.lx.length,"Unexpected viewable lease after Playgraph destruction."),this.xPb(),this.xW=[],delete this.Jx,this.Gc=k.Gr.CLOSED,this.uo.wb());};R.prototype.Ln=function(){return this.fx.Ln();};R.prototype.msb=function(){this.fx=new M.hba(this.I);this.fx.ai(new G.iya(this));this.fx.ai(new A.KFa(this.Jb,this.qE));this.fx.ai(new v.eya(this.Jb));this.fx.ai(new B.pA(this.Ajb));this.fx.ai(new B.pA(this.qE.Sn));this.fx.ai(new B.pA(this.iJa.Ph));this.fx.ai(new B.pA(this.PJa.Ph));};R.prototype.voa=function(){};R.prototype.Yqa=function(K,Q,N){var da,na,va;da=this;na=K.Fs(N);t.assert(na,"ase.requestViewable(): Viewable config not found.");va=u.wg(this.lx,function(ra){return !0 !== ra.WR.nF && ra.WR.equals(na);});va?va.uX.then(function(ra){return c.__awaiter(da,void 0,void 0,function(){var X,ta;return c.__generator(this,function(za){switch(za.label){case 0:return (ta=(X=ra).SWb,[4,na.Dr]);case 1:return (ta.apply(X,[za.Oe()]),[2]);}});});}):(va={WR:na,uX:(function(){return c.__awaiter(da,void 0,void 0,function(){var ra,X;return c.__generator(this,function(ta){switch(ta.label){case 0:return [4,na.Dr];case 1:return (ra=ta.Oe(),X=this.eS(N,na,ra),va.N=X,[2,X]);}});});})(),N:void 0,hGb:new w.nAa(function(ra){ra() && va.WR.nF && da.F1a(va);da.uo.gK(C.mj.VC(F.S.rb(Q)),function(){ra() && da.F1a(va);},"viewable cleanup");})},this.lx.push(va));return {get N() {return null === va || void 0 === va?void 0:va.N;},uX:va.uX,Lma:va.hGb.nx()};};R.prototype.F1a=function(K){var Q,N;t.assert(K,"expected viewableEntry to exist");Q=K.N;N=K.uX;Q?Q.wb():N.then(function(da){da.wb();});this.lx=this.lx.filter(function(da){return da !== K;});};R.prototype.eS=function(K,Q,N){var na,va,ra,X,ta,za;function da(V){na.events.emit("logdata",V);}na=this;this.iH();ra=N.sa;X=N.Gi;ta=N.Fd;ta=void 0 === ta?h.cf:ta;N=N.config;za=[new p.eaa(0),new p.eaa(1)];ra={sa:ra,config:N,Gi:X,Fd:ta,N2:void 0,Jb:this.Jx.Jb,mh:this.Jx.mh,iRa:{DL:function(){return !1;},Sq:function(){return na.qE.xm("networkFailureReset");},qh:this.qh.bind(this,K),Lm:this.Lm.bind(this,K),Qm:da},jVa:{Qm:da,BT:void 0,AB:function(V){return za[V];},n4:function(){return !0;},mf:void 0,ol:void 0,Pg:void 0,LB:void 0},ZM:{px:this.px.bind(this),BG:this.BG.bind(this)},ZG:this.c0,Db:0,bo:void 0,AYa:{Ula:!1,yWa:!1},ZU:function(){}};K=new l.u9(K,ra);N.ay && (ra=(null === (va=u.wg(this.xW,function(V){return V.J6a.equals(Q);})) || void 0 === va?void 0:va.C3a) || ({}),this.Kqa(Q),K.GC(c.__assign(c.__assign({},ra),{Pm:this.voa.bind(this)})));return K;};R.prototype.C4=function(){var K,Q;t.assert(this.state === k.Gr.OPEN);K=this.f3();Q=this.iL();return this.iJa.d_a(K,Q);};R.prototype.iL=function(){var K,Q;Q=null !== (K=this.I.uNb) && void 0 !== K?K:this.Ko.every(function(N){return !N.Fa.F3;});K=u.flatten(this.Ko.map(function(N){return N.Fa.iL().map(function(da){N.Fa.F3 || 1 === N.RV || (da.EF=N.RV);return da;});}));Q || (Q=K.filter(function(N){var da;return 1 === (null !== (da=N.EF) && void 0 !== da?da:1);}),Q.length && (K=Q));Q=this.lx.reduce(function(N,da){return da.N?c.__spread(N,da.N.iL()):N;},[]);return u.flatten(c.__spread(K,Q));};R.prototype.iH=function(){if(this.Gc === k.Gr.CLOSED)throw Error("Engine CLOSED");};R.prototype.yPb=function(){var K,da;try{for(var Q=c.__values(this.Ko),N=Q.next();!N.done;N=Q.next()){da=N.value;da.Ag.clear();this.gr(da.Fa);}}catch(va){var na;na={error:va};}finally{try{N && !N.done && (K=Q.return) && K.call(Q);}finally{if(na)throw na.error;}}};R.prototype.xPb=function(){var K;try{for(var Q=c.__values(this.IQ),N=Q.next();!N.done;N=Q.next()){this.QM(N.value);}}catch(na){var da;da={error:na};}finally{try{N && !N.done && (K=Q.return) && K.call(Q);}finally{if(da)throw da.error;}}};R.prototype.qh=function(K,Q,N,da,na,va){this.$Ta(K).forEach(function(ra){return ra.qh(Q,K,N,da,na,va);});};R.prototype.Lm=function(K){return this.$Ta(K).some(function(Q){return Q.Lm();});};R.prototype.$Ta=function(K){return this.Ko.filter(function(Q){Q=Q.Fa.Fa;return "" + K === "" + Q.Ca[Q.hg].da;}).map(function(Q){return Q.Fa;});};R.prototype.f3=function(){var K;K=new I.Oya();this.Ko.forEach(function(Q){var N,da;N=Q.Fa;Q=Q.RV;da=N.f3();da.EF=Q;K.add(N.id,da);});return K;};R.prototype.e3=function(){return this.yIb;};R.prototype.vnb=function(){var K,Q;Q=P.CNa(this.I,this.R0);return {total:(K={},K[1]=this.R0.video || Infinity,K[0]=this.R0.audio || Infinity,K.total=this.R0.total || Infinity,K),Asa:Q};};R.prototype.px=function(K){this.qE.px(K);};R.prototype.BG=function(K){this.qE.BG(K);};R.prototype.apa=function(){var K;K=this.wC.reduce(function(Q,N){return Math.max(N.weight,0) + Q;},0);this.Ko.forEach(function(Q){Q.RV=0 >= Q.Fa.weight?0:Q.Fa.weight / K;});};R.prototype.kQb=function(){};R.EJb=0;c.__decorate([z.Xb({methodName:"open"})],R.prototype,"open",null);c.__decorate([z.Xb({methodName:"addPlaygraph",context:function(K){var Q,N;return {playgraphCount:null !== (N=null === (Q=K.SZa.Ko) || void 0 === Q?void 0:Q.length) && void 0 !== N?N:0};}})],R.prototype,"GE",null);c.__decorate([z.Xb({methodName:"removePlaygraph",context:function(K){return {playgraphCount:K.SZa.Ko.length};}})],R.prototype,"gr",null);c.__decorate([z.Xb({methodName:"close"})],R.prototype,"close",null);c.__decorate([z.Xb({methodName:"notifyAseException",cs:!0})],R.prototype,"voa",null);c.__decorate([z.Xb({methodName:"createViewable"})],R.prototype,"eS",null);c.__decorate([z.Xb({methodName:"issueRequestOpportunity",Jl:!0,return:!0})],R.prototype,"C4",null);c.__decorate([z.Xb({methodName:"reportStreamingFailure",cs:!0})],R.prototype,"qh",null);return R;})();b.Eua=q;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p){return r.filter(function(u){return u.groupId === p.groupId;}).reduce(l.QYa(function(u){return u.Zy.V;}),p).Zy;}Object.defineProperties(b,{__esModule:{value:!0}});b.Qya=void 0;f=a(2);k=a(218);l=a(30);d=a(14);g=a(9);h=a(114);m=f.__importDefault(a(4));n=a(429);q=(function(){function r(p,u){this.H=p;this.config=u;this.gXa=0;this.Ph=new h.qA({hC:10,jt:this,source:"GraphStreamingProcess"});}r.prototype.d_a=function(p,u){var t,w,v,x,y,z,B,A,F,D,G,I,J;v=!1;x=[];if(0 < u.length){y=this.sTb(u);z=y.some(function(M){return 1 === n.ENa(M) && d.Vq(M.hf);});B=y.slice();A=[!1,!1];try{for(var C=f.__values(y),E=C.next();!E.done;E=C.next()){F=E.value;if(F.VB && "global" !== A[F.mediaType]){D=F.JWa(p,null !== (w=F.EF) && void 0 !== w?w:1);G=k.f1a(D.reason);G && (A[F.mediaType]=G,l.nMa(B,F));if(D.result){I=c(B,F);if(this.tob(F,z,I)){J=F.NWa();this.Zma(x,F,J.reason);J.zp && (this.gXa=m.default.time.aa());if(v=J.zp)break;}else if((this.Zma(x,F,"concurrencyCheck"),!G))break;}else this.Zma(x,F,D.reason);}}}catch(M){var H;H={error:M};}finally{try{E && !E.done && (t=C.return) && t.call(C);}finally{if(H)throw H.error;}}}this.Ph.Ju({streamableCount:u.length,streamableReasons:x,lastSuccessfulIssueRequestMs:this.gXa});return v;};r.prototype.sTb=function(p){return this.RNb(p).sort(function(u,t){return u.priority - t.priority;}).map(function(u){return u.ZTb;});};r.prototype.RNb=function(p){var u;u=this;return p.map(function(t){return {priority:-n.DNa(u.config,t,u.H),ZTb:t};});};r.prototype.Zma=function(p,u,t){this.Ph.enabled && p.push(this.CBb(t,u));};r.prototype.CBb=function(p,u){return {mediaType:u.mediaType,reason:p,bufferingState:u.hf,currentPlayerMs:u.Cd.V,pathCompletePlayerMs:u.Zy.V,streamingPlayerMs:u.Ck.V};};r.prototype.tob=function(p,u,t){return this.config.KR && (u || d.Vq(p.hf))?this.uob(p,t):this.vob(p,t);};r.prototype.wob=function(p){return p.Ck.Fy(p.Zy);};r.prototype.vob=function(p,u){var t;t=p.Zy.Ba(p.Cd).V;t=Math.max(this.config.Zna,Math.min(t * this.config.Hsa,this.config.aIb));u=p.Cd.greaterThan(u)?p.Cd:u;return p.Ck.Ba(u).V <= t;};r.prototype.uob=function(p,u){var t,w;if(void 0 === this.config.KR)return !0;t=g.S.rb(this.config.KR);w=p.Cd.add(t);return p.Ck.Fy(w)?!0:this.wob(p) && u.xp(w) && p.Ck.Ba(u).lessThan(t);};f.__decorate([h.Xb({methodName:"onRequestOpportunity",Jl:!0})],r.prototype,"d_a",null);return r;})();b.Qya=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Yua=void 0;c=a(2);f=a(16);k=a(9);l=a(6);d=c.__importDefault(a(4));g=a(67);h=a(30);m=a(930);q=a(430);n=a(932);a=(function(r){function p(u,t,w){var v;v=r.call(this) || this;v.T=u;v.Fd=t;v.Eu=w;v.zS=[];v.xca=new f.zh();v.H=new d.default.Console("ASEJS","media|asejs");v.xca.on(v.T,"underflow",function(){return v.Ij();});v.dQ=new n.zEa(u);v.xca.on(v.T,"skipped",function(){return v.fV();});v.bx=new g.PP(v.dQ,v.H,"player");v.jua=new k.BZ();return v;}c.__extends(p,r);Object.defineProperties(p.prototype,{cw:{get:function(){var u;return null === (u=this.ih) || void 0 === u?void 0:u.cw;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{st:{get:function(){return this.bx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ab:{get:function(){var u,t;return null !== (t=null === (u=this.ih) || void 0 === u?void 0:u.iy()) && void 0 !== t?t:[];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qa:{get:function(){var u;return null === (u=this.ih) || void 0 === u?void 0:u.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wa:{get:function(){return this.dQ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zz:{get:function(){var u;return !(null === (u=this.ih) || void 0 === u || !u.zz);},enumerable:!1,configurable:!0}});p.prototype.qW=function(u){-1 === this.zS.indexOf(u) && this.zS.push(u);this.ih && this.ih.dV(u);this.events.emit("drmReady",{viewableId:u});};p.prototype.Ura=function(u){u=this.zS.indexOf(u);-1 !== u && this.zS.splice(u,1);};p.prototype.Qn=function(u){var t;return -1 !== this.zS.indexOf(u) || !(null === (t=h.wg(this.Ab,function(w){return w.N.da === u;})) || void 0 === t || !t.N.Gi);};p.prototype.reset=function(){var u;this.jua=new k.BZ();r.prototype.reset.call(this);this.jE=void 0;null === (u=this.ih) || void 0 === u?void 0:u.reset();};p.prototype.bW=function(u){var t;r.prototype.bW.call(this,u);null === (t=this.ih) || void 0 === t?void 0:t.bW(u);};p.prototype.TE=function(){var u;null === (u=this.ih) || void 0 === u?void 0:u.TE();};p.prototype.pause=function(u){this.bH(u);r.prototype.pause.call(this,null !== u && void 0 !== u?u:this.Fd);};p.prototype.resume=function(u){var t;null === (t=this.ih) || void 0 === t?void 0:t.resume(u);r.prototype.resume.call(this,null !== u && void 0 !== u?u:this.Fd);};p.prototype.wb=function(){this.Vr=this.G3()?this.vp():void 0;this.ih && this.Cha(this.ih.qa);this.dQ.wb();this.bx.wb();this.xca.clear();r.prototype.wb.call(this);};p.prototype.ZK=function(){var u,t;if(null === (u=this.ih) || void 0 === u?0:u.QNb){u=this.T.qc;if(this.wa.tk){if(this.jE){if(this.jE.greaterThan(u))return (u=this.jE.Ba(u),this.jua.push(u.V),this.jE);if(this.Ab.length){t=this.ih.fGb;if(t && t.lessThan(u))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Sb:{clockdrift:{type:"count"}}}),this.jE);}}this.jE=u;}return u;}return r.prototype.ZK.call(this);};p.prototype.up=function(){var u;u=this.T.playbackRate;void 0 === u && (u=r.prototype.up.call(this));return u;};p.prototype.G3=function(){return ! !this.Vr || 0 < this.Ab.length;};p.prototype.vp=function(){if(this.Vr)return this.Vr;l.assert(0 < this.Ab.length,"Could not find presenting branch. Player has no branches.");return this.Mh;};p.prototype.Cha=function(u){var t;l.assert(u === this.qa);null === (t=this.ih) || void 0 === t?void 0:t.wb();this.ih=void 0;};p.prototype.H0=function(u,t){this.Vr=void 0;if(t=r.prototype.H0.call(this,u,t))(this.ih=new m.mva(u,this,this.H,u.config,this.Eu,this.events,this.Fd,this.bx,this.DA,this.CA),this.bH(this.vM));return t;};p.prototype.hia=function(){var w;for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}w=this.ih;l.assert(w);u.forEach(function(v){return w.Nvb(v);});};p.prototype.bi=function(u){var t,w,v;if(!this.ih)return !1;t=this.P2(u);if(!t)return !1;w=t.P;v=k.S.rb(this.Eu.jC);return w.Ll.Ba(v).lessThan(u) || !t.YR(u)?!1:this.ih.bi(u);};p.prototype.Ij=function(){var u,t,w;t=this.Cd;l.assert(this.qa);w=this.dr(t);l.assert(w);null === (u=this.ih) || void 0 === u?void 0:u.Ij();u=this.P2(t);null === u || void 0 === u?void 0:u.N.Ij();this.qa.Ij(w);};p.prototype.fV=function(){this.jE=void 0;};p.prototype.sja=function(){var u;return null === (u=this.ih) || void 0 === u?void 0:u.sja();};p.prototype.bH=function(u){var t;null === (t=this.ih) || void 0 === t?void 0:t.bH(u);};p.prototype.mta=function(u){l.assert(this.qa && this.ih);return r.prototype.mta.call(this,u);};return p;})(q.Vaa);b.Yua=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperties(b,{__esModule:{value:!0}});b.mva=void 0;c=a(2);f=a(417);k=c.__importDefault(a(4));l=a(247);a(14);d=a(242);g=a(9);h=a(30);m=a(67);n=a(378);r=a(6);p=a(931);q=(function(){function u(t,w,v,x,y,z,B,A,C,E){var F;F=this;this.qa=t;this.T=w;this.H=v;this.I=x;this.Eu=y;this.Bh=z;this.Fd=B;this.st=A;this.DA=C;this.CA=E;this.SZ=!1;this.WIa=new g.oGa();this.nda=this.yKb.bind(this);this.oj=new l.PX(this.H);this.cw=new p.oHa(this.H,t);this.dsb(this.cw);this.Lk && (this.wib=this.rja(this.XAb()),this.chb=g.nq.iua(this.Lk.map(function(D){return D.Ry;}),function(D){return D.every(function(G){return G;});},function(D){return F.DA.set(D);}),this.gfb=new n.paa(this.Lk.map(function(D){return D.fU;}),function(D){return g.S.min.apply(g.S,c.__spread(D));},function(D){F.CA.set(D);},g.S.rb(-Infinity)));this.Lo=A.mB(function(){return F.Rmb();},"branchPruner");}u.prototype.Rmb=function(){var t,w,v,x,y,z,B;return c.__generator(this,function(A){switch(A.label){case 0:if(!this.oj.yOa)return [3,2];t=c.__read(this.oj.hta(),1);w=t[0];v=null !== (B=null === (z=this.Eu.vN) || void 0 === z?void 0:z.V) && void 0 !== B?B:0;x=w.Kma || w.pf;y=x.add(g.S.rb(v + 1E3));return [4,m.mj.YN(y)];case 1:return (A.Oe(),this.oj.remove(w),w.events.removeListener("branchEdited",this.nda),w.zf(),[3,0]);case 2:return [2];}});};Object.defineProperties(u.prototype,{QNb:{get:function(){var t;return !(null === (t=this.wib) || void 0 === t || !t.Ry.value);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zz:{get:function(){var t;return !(null === (t=this.Lk[0]) || void 0 === t || !t.zz);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{fGb:{get:function(){return this.SZ?g.S.max.apply(g.S,c.__spread(this.Lk.map(function(t){var w;return null === (w=t.Nlb) || void 0 === w?void 0:w.bXa;}).filter(h.S5))):void 0;},enumerable:!1,configurable:!0}});u.prototype.yKb=function(){var t;this.Lo.nl();t=this.Lk.filter(function(w){return w.tEb;}).map(function(w){return w.mediaType;});this.bH(t);this.resume(t);};u.prototype.Nvb=function(t){t.events.addListener("branchEdited",this.nda);this.oj.enqueue(t);this.Lo.state === m.ul.complete && this.Lo.nl();t.P.Pt && this.oj.i2();this.SZ || this.gxb(t);};u.prototype.dV=function(t){this.Lk.forEach(function(w){w.dV(t);});};u.prototype.reset=function(){this.Lk.forEach(function(t){t.reset();});this.SZ=!1;this.WIa.removeAllListeners();this.TE();};u.prototype.bW=function(t){t=this.rja(t);null === t || void 0 === t?void 0:t.reset();};u.prototype.TE=function(){var t;t=this;this.oj.hta().forEach(function(w){return w.events.removeListener("branchEdited",t.nda);});this.oj.clear();this.Lo.nl();};u.prototype.resume=function(t){this.Lk.forEach(function(w){void 0 !== t && -1 === t.indexOf(w.mediaType) || w.resume();});};u.prototype.bH=function(t){this.Lk.forEach(function(w){return (void 0 === t || -1 !== t.indexOf(w.mediaType)) && w.stop();});};u.prototype.Ij=function(){this.H.trace("attached-player: onUnderflow");};u.prototype.nUa=function(){return this.oj.getIterator();};u.prototype.Qzb=function(){return this.iy()[0];};u.prototype.iy=function(){return this.oj.hta();};u.prototype.dsb=function(t){var w,v;w=this;this.zl("createMediaSourceStart");if(this.Eu.uT)v=this.Eu.uT();else (v=new k.default.MediaSource(this.T.T),v.Ub || (v.Ub=k.default.MediaSource.Ub));if(1 !== v.readyState)this.Mo("exception in init","NFErr_MC_StreamingInitFailure");else {this.zl("createMediaSourceEnd");this.xf=v;if(!v.w0(this.Fd))throw (this.H.trace("Error:",v.error),this.Mo("error creating source buffers","NFErr_MC_StreamingInitFailure"),v.error);this.Lk=v.sourceBuffers.filter(function(x){return 0 <= w.Fd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.E9(w.H,x.mediaType,v,x,w.I,{xe:function(){return w.T.Cd.V;},Qn:function(z){return w.T.Qn(z.da);}},w.st);y.addListener("error",function(z){return w.Mo(z.errorstr);});y.addListener("logdata",function(z){return w.Bh.emit("logdata",z);});return new f.t9(y,x.mediaType,w,w.I,w.H,w.T,w.Eu,w.st,t);});}};u.prototype.wb=function(){this.chb.clear();this.gfb.clear();this.Lk.forEach(function(t){return t.wb();});this.Eu.uT || this.xf.gp();this.TE();this.Lo.wb();};u.prototype.bi=function(t){return this.Lk.every(function(w){return w.bi(t);});};u.prototype.sja=function(){return {COb:this.iy(),RMb:this.Lk};};u.prototype.gxb=function(t){var w;w=this;this.SZ=!0;t.Fg.forEach(function(v){var x;x=w.rja(v.mediaType);if(void 0 !== x)w.WIa.once(v.Sia,function(y){return x.hxb(y);});});if(t.Xc)this.HQa();else t.events.once("branchNormalized",function(){return w.HQa();});};u.prototype.HQa=function(){var t;t=this.Qzb();t && (r.assert(t.Ui),this.Bh.emit("ptsChanged",{initialTimestamp:t.Ui}));};u.prototype.rja=function(t){return h.wg(this.Lk,function(w){return w.mediaType === t;});};u.prototype.XAb=function(){return -1 !== this.Fd.indexOf(1)?1:0;};u.prototype.zl=function(t){t={type:"startEvent",event:t,time:k.default.time.aa()};this.Bh.emit(t.type,t);};u.prototype.Mo=function(t,w){this.qa.qh(t,void 0,w);};return u;})();b.mva=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oHa=void 0;c=a(2).__importDefault(a(4));f=a(39);q=(function(){function k(l,d){this.H=l;this.wJ=d;}k.prototype.KC=function(l,d,g,h,m){var n,r;void 0 === m && (m=!1);n=l.P;r=this.ngb(n);this.XQ={startTime:c.default.time.aa(),vTb:l,uTb:g.V,Oub:d,Yd:this.eAb(h,d),MVb:this.MBb(h,m),vha:m,Be:h,WNa:r,DJb:this.yAb(n,g)};};k.prototype.Yja=function(l){var d,g,h,m,n,r,p,u,t,w,v,x,y;if(this.XQ && 0 !== Object.keys(this.XQ.WNa).length && l === this.XQ.Oub){d=this.XQ;g=d.WNa;h=d.DJb;m=d.vha;n=d.Be;r=d.vTb;p=d.uTb;u=d.startTime;t=d.Yd;d=d.MVb;this.XQ=void 0;w=this.Fca(l).Eq;v=this.iyb(r.P.id,l,g);w=this.GJa(v.weight,w);x={};for(y in g){y !== l && (x[y]=g[y].details);}g=c.default.time.aa() - u;return {segment:l,srcsegment:r.P.id,srcsegmentduration:r.p8.V,srcoffset:this.xBb(r,p,n,m),seamlessRequested:n,atRequest:v,atTransition:w,discard:x,transitionType:t,transitionTypeAtRequest:d,delayToTransition:this.bzb(g,n,m),durationOfTransition:n?0:g,nextExitPositionAtRequest:h};}};k.prototype.iyb=function(l,d,g){var h,m,n;n={};(g=g[d])?n=g.details:(f.assert(this.wJ),n.weight=null === (m=null === (h=this.wJ.Fa.Ca[l].next) || void 0 === h?void 0:h[d]) || void 0 === m?void 0:m.weight);return n;};k.prototype.bzb=function(l,d,g){var h;g || (h=d?l:0);return h;};k.prototype.yAb=function(l,d){var g,h,m;h=l.uh.add(d);null === (g=l.Qv) || void 0 === g?void 0:g.some(function(n){h.lessThan(n.Xc) && (m=n.Xc.V);});return m;};k.prototype.xBb=function(l,d,g,h){return g || h?l.p8.V:d;};k.prototype.eAb=function(l,d){return l?"seamless":this.Fca(d).JT?"reset":"long";};k.prototype.MBb=function(l,d){return l || d?"lazy":"immediate";};k.prototype.ngb=function(l){var d,g;d=this;g={};l.Uy.forEach(function(h){var m,n;m=l.GJb[h];n=d.Fca(h).Eq;g[h]={details:d.GJa(m,n)};});return g;};k.prototype.Fca=function(l){var d,g;l=this.wJ.vja(l);d=0 < l.length?l[0]:void 0;l=null === d || void 0 === d?void 0:d.sF();if(!l)return {JT:!1,Eq:{ro:0,Zr:0,Jz:0,fR:0}};g=d && d.Ra(0) && 0 === l.Zr;d=d && d.Ra(1) && 0 === l.ro;return {JT:!g && !d,Eq:l};};k.prototype.GJa=function(l,d){return {weight:l,vbuflmsec:d.ro,abuflmsec:d.Zr,vbuflbytes:d.Jz,abuflbytes:d.fR};};return k;})();b.oHa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zEa=void 0;c=a(16);q=a(43);a=(function(){function f(k){var l;l=this;this.T=k;this.Uca=!1;this.dE=new c.zh();this.dE.on(k,"paused",function(){return l.g6();});this.dE.on(k,"playing",function(){return l.g6(!0);});this.dE.on(k,"underflow",function(){return l.g6();});this.dE.on(k,"skipped",function(){return l.fV();});this.dE.on(k,"clockAdjusted",function(){return l.cV();});this.dE.on(k,"playbackRateChanged",function(){return l.TKb();});}Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.MKa || this.T.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tk:{get:function(){return this.Uca;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var k;return null !== (k=this.T.playbackRate) && void 0 !== k?k:1;},enumerable:!1,configurable:!0}});f.prototype.g6=function(k){void 0 === k && (k=!1);k !== this.Uca && (this.MKa=(this.Uca=k)?void 0:this.T.qc);this.emit("stopStart",{type:"stopStart"});};f.prototype.fV=function(){this.MKa=void 0;this.cV();};f.prototype.cV=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};f.prototype.TKb=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.wb=function(){this.g6();this.dE.clear();};return f;})();b.zEa=a;q.tf(c.EventEmitter,a);},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q,N,da,na,va;Object.defineProperties(b,{__esModule:{value:!0}});b.Zua=void 0;c=a(2);f=a(16);k=a(226);l=a(14);d=a(934);g=a(9);h=a(935);m=a(936);n=c.__importDefault(a(4));r=a(6);p=a(937);u=a(30);t=a(67);w=a(95);v=a(54);x=a(431);y=a(255);z=a(256);B=a(938);A=a(114);C=c.__importDefault(a(146));E=a(939);F=a(940);D=a(941);G=a(942);I=a(943);J=a(944);H=a(945);M=a(948);O=a(950);L=a(951);P=a(952);R=a(953);K=a(954);Q=a(956);N=a(957);da=a(958);na=a(959);va=a(960);q=(function(){function ra(X,ta,za,V,T,ja,Ia,wa,Sa,Ua){var $a;$a=this;this.wJ=X;this.eLa=ta;this.config=za;this.id=V;this.Wib=ja;this.ggb=Ia;this.xm=wa;this.Gob=Sa;this.IE="2.0";this.Gc=k.hn.CLOSED;this.Dca=!0;this.gs=!1;this.cNa=new f.zh();this.p6=[];this.sB=0;this.S7=!1;this.qC=function(Za){var mb,db;Za=$a.navigator.Me(Za.position.va);if((Za=$a.MTa(Za)) && $a.T.Nn){db=$a.T.Mh;null === (mb=$a.T.cw) || void 0 === mb?void 0:mb.KC({P:db.P,get p8() {return db.Md.Ba(db.P.uh);}},Za,$a.di.offset,!0,!1);}$a.$o.start();};this.dV=function(){$a.xm("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Ph=new A.qA({hC:10,jt:this,source:"AsePlaygraph"});this.f3a(X);this.Ab=new M.EEa();this.Ji=new na.GEa(this.console);this.events=new f.EventEmitter();this.Oka=new G.Pya(this.config,g.S.rb(this.config.f5),{parent:this.rUa.bind(this)},this.events,this.console);this.Jsa=new m.KGa(this.console,this.events);this.IR={JF:za.$s || Infinity};this.T=new p.Jaa(this);this.st=new t.PP(this.T.wa,this.console,"playgraph");this.uo=new t.PP(new y.AZ({tk:!0,currentTime:function(){return g.S.rb(n.default.time.aa());},speed:1}),this.console,"wallclock");this.yf=new O.Ova(this.console,za,T,this.events,this,this.uo);this.O0=new R.Hva(this.st,this.uo,this.config,this.Ak.bind(this),this.hf,this.console);this.Y5=this.yf.Y5.bind(this.yf);this.gV=this.yf.gV.bind(this.yf);this.h6=this.yf.h6.bind(this.yf);this.t7=this.t7.bind(this);this.VM=new v.hba(za);N.YOa({yf:this.yf,uo:this.uo},t.mj.VC(g.S.rb(this.config.$y)),function(){$a.T.Nn && $a.T.Mh && ($a.yf.state.value === l.wc.ef || $a.yf.state.value === l.wc.Sc) && $a.gE($a.T.Mh);},"buffering");this.VM.ai(new z.pA(this.yf.Ph));this.VM.ai(new B.$Da(this.MAb.bind(this)));this.VM.ai(new z.pA(this.Ph));this.VM.ai(new E.DEa(this.Ab));this.l4a=new da.JGa(this,this.console,Ua);this.yXa=new F.UAa(this.uo,this.console,this.events);this.$o=new va.IEa(this.U6.bind(this));}Object.defineProperties(ra.prototype,{state:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{F3:{get:function(){return !(this.T instanceof p.Jaa);},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Fa:{get:function(){return this.wJ;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{weight:{get:function(){return this.eLa;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{n7:{get:function(){r.assert(this.oL,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Oo.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{z2a:{get:function(){r.assert(this.oL,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.GB(this.n7).kB;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{hf:{get:function(){return this.yf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{fe:{get:function(){return this.yf.fe;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{oL:{get:function(){return void 0 !== this.Oo;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{di:{get:function(){return this.T.Nn?this.T.di:this.n7;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Cd:{get:function(){return this.T.Nn?this.T.Cd:this.z2a;},enumerable:!1,configurable:!0}});ra.prototype.open=function(){this.Dca=!0;this.events.emit("openComplete");if(this.Gc !== k.hn.CLOSED)return !1;this.Gc=k.hn.OPEN;return !0;};ra.prototype.wb=function(){this.uo.wb();this.st.wb();this.Gc !== k.hn.CLOSED && (this.zf(),this.$o.wb(),this.yf.stop(),this.Gc=k.hn.CLOSED);};ra.prototype.Vv=function(X,ta){var za,V,T;za=this;this.FMa=X;this.H6a=ta;ta=L.mRa(this.Ab,this.t7.bind(this));X=ta.fob;ta=ta.Smb;if(0 !== X.length && 1 === X.length && 0 === X[0]){V=this.di;this.T.pause(X);X.forEach(function(ja){return za.T.bW(ja);});T=this.GB(V).kB;ta.forEach(function(ja){var Ia;Ia=ja.ub;Ia.Vv(ja.Fg,V.va === Ia.P.id?T:void 0,void 0 !== za.Ab.gka(Ia));});this.yf.jLb(V,ta[0].Fg);this.T.resume(X);}};ra.prototype.$E=function(X){return w.$E(this.config,X);};ra.prototype.aF=function(X){return w.aF(this.config,X);};ra.prototype.NTa=function(X,ta){var za,V;za=this.navigator.Me(X);V=this.navigator.Me(ta);return {y6a:za.ICb(ta),T0:ta !== X && this.Ab.has(ta) && this.Ab.iy(ta)[0].sk,Jc:V.uh.V,eM:this.Ji.get(za.id)};};ra.prototype.Ak=function(X,ta,za,V){var T,ja,Ia,wa;T=this;void 0 === V && (V=!0);if(!ta)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(V && this.Ji.get(X))za || this.Ji.set(X,ta);else {Ia=this.vja(X)[0];wa=this.navigator.Me(X);this.di.va === X && Ia && (null === (ja=this.T.cw) || void 0 === ja?void 0:ja.KC({P:Ia.P,get p8() {return Ia.Md.Ba(Ia.P.uh);}},ta,this.di.offset,V,za));V || (X={offset:g.S.hb,va:ta},this.Oo={position:X,sk:!0,K5a:X});za?this.Ji.PRb(wa.id,ta):this.Ji.set(wa.id,ta);this.$o.start();V && wa.Qv && 0 < wa.Qv.length && (r.assert(Ia),Ia.vta(wa.Qv) && this.vja(ta).forEach(function(Sa){return T.Hz(Ia,Sa);}));V || this.yf.f_a(this.n7);}};ra.prototype.Hz=function(X,ta){var za;za=this;X=X.pf.Ba(ta.P.uh);ta.Hz(X);this.Ab.Qyb(ta).forEach(function(V){return za.Hz(ta,V);});};ra.prototype.ti=function(X){this.navigator.ti(X);this.$o.start();};ra.prototype.bsa=function(X,ta){this.bfa=X;this.Mz=ta;this.xm("setStreamFilters");};ra.prototype.MG=function(X,ta){var za,V,T;if(D.GWa(this.Fa,X)){T=this.sra(X);if(void 0 === T)this.qh("Invalid seekPosition");else if(void 0 === this.FMa || void 0 === this.H6a)this.qh("No track selectors available");else if(this.F3 && this.T.nL || !D.MUa(null === (za=this.Oo) || void 0 === za?void 0:za.K5a,T))(this.oL && (za=this.navigator.Me(this.di.va),null === (V=this.T.cw) || void 0 === V?void 0:V.KC({P:za,p8:za.duration},T.va,this.di.offset,!1),this.di.va === X.va?this.Ji.Lob(X.va):this.Ji.fga()),this.zf(!0),this.Kob(),this.Oo={position:T,K5a:T,sk:!1,UMb:ta},this.yf.f_a(),this.Gc=k.hn.Zj,this.$o.start());}else this.qh("Invalid seekPosition");};ra.prototype.zf=function(X){var ta,za,V;V=this.ZBb();this.Ab.reset();this.p6=[];if(!X && (this.Ji.fga(),V.length))try{for(var T=c.__values(V),ja=T.next();!ja.done;ja=T.next()){ja.value.wPb();}}catch(wa){var Ia;Ia={error:wa};}finally{try{ja && !ja.done && (ta=T.return) && ta.call(T);}finally{if(Ia)throw Ia.error;}}this.st.reset();this.uo.reset();this.T.reset();this.Oo=void 0;this.O0.reset();null === (za=this.cNa) || void 0 === za?void 0:za.clear();this.Gc === k.hn.Zj && (this.Gc=k.hn.OPEN);};ra.prototype.vja=function(X){return this.Ab.iy(X);};ra.prototype.Ij=function(X){this.yf.Ij(X);r.assert(this.T.QF,"Must have an appended branch on underflow");this.O0.jta(this.T.QF,this.Cd);this.xm("onUnderflow");this.events.emit("underflow");};ra.prototype.ai=function(X){this.VM.ai(X);};ra.prototype.Vea=function(X){this.ai(new x.GFa(X));this.Klb(X);};ra.prototype.Klb=function(X){this.T.mta(X)?(this.T=X,this.st.vMa(this.T.wa),this.T.events.on("segmentPresenting",this.qC),this.T.events.on("drmReady",this.dV)):this.qh("player in use");};ra.prototype.GB=function(X){var ta,za;ta=X.offset;za=this.navigator.Me(X.va);X=za.da;ta=za.uh.add(ta);return {da:X,kB:ta};};ra.prototype.dr=function(X,ta){var za;za=this.T.dr(X);if(void 0 !== za)return za;za=this.T.QF;return D.dr(X,{qa:this,WDb:za && ({id:za.P.id,jRb:za.AM})},ta);};ra.prototype.FT=function(X){return this.T.FT(X);};ra.prototype.sra=function(X){var ta;ta=this.Fa.Ca[X.va];if(void 0 !== ta)return null === ta.Yc || void 0 === ta.Yc?{va:X.va,offset:g.S.max(g.S.hb,X.offset)}:{va:X.va,offset:g.S.max(g.S.hb,g.S.min(X.offset,g.S.rb(ta.Yc - ta.xc)))};};ra.prototype.Fm=function(X,ta){return this.ggb(this.Fa.Ca[X].da,ta);};ra.prototype.f3=function(){return K.vSa(this.Ab,this.m4.bind(this));};ra.prototype.m4=function(X){X=this.Ab.gka(X);return void 0 === X || X.Wo && this.m4(X);};ra.prototype.e3=function(){return this.IR.JF;};ra.prototype.qzb=function(X){return Q.vUa(this.Ab,X);};ra.prototype.Hh=function(X){var ta,za,V;ta=this;this.Ab.YS(function(T){var ja,Ia;ja=T.q3(0);Ia=T.q3(1);if(T.P.Pt || !ta.Ab.Ska(T) || !T.Wo){if(!za || ja < za)za=ja;if(!V || Ia < V)V=Ia;}return T.Wo;});return {XW:za?Math.max(za - X.V,0):0,ZW:V?Math.max(V - X.V,0):0};};ra.prototype.TK=function(){var X,ta,za,V;za=this.oL?this.Hh(this.Cd):{XW:0,ZW:0};V=C.default.instance().get();return {totalabuflmsecs:za.XW,totalvbuflmsecs:za.ZW,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (ta=Number(0 < V.confidence) && (null === (X=V.Oa) || void 0 === X?void 0:X.Ea)) && void 0 !== ta?ta:0};};ra.prototype.iL=function(){var X,ta,za,V,T,ja;X=this;if(this.Lm())return (this.Ph.Ju({isStreamingFailureReported:!0}),[]);ta=this.Ab.size;this.Ph.Ju({branchCount:ta});if(0 === ta)return [];za=this.Cd;V=this.di;T=[];ja=this.oL?this.navigator.Me(this.di.va).Tv:1;ta=this.Ab.reduce(function(Ia,wa,Sa){var Ua,$a,db,Ta,Ca;try{for(var Za=c.__values(wa.Xja()),mb=Za.next();!mb.done;mb=Za.next()){db=mb.value;if(!db.Ts()){Ta="p" + X.id + "-" + Sa + (null === ($a=wa.Ui) || void 0 === $a?void 0:$a.V);Ca=X.qUa(db);Ia.push(X.osb(db,Ca,Ta,ja,za,V));}!db.VB() && X.Ph.enabled && T.push({segmentId:db.va,isDoneStreaming:db.Ts(),isNormalized:db.sk(),needsHeaderRequest:db.track.goa});}}catch(Ma){var La;La={error:Ma};}finally{try{mb && !mb.done && (Ua=Za.return) && Ua.call(Za);}finally{if(La)throw La.error;}}return Ia;},[]);this.Ph.Ju({nonStreamables:T});return ta;};ra.prototype.qUa=function(X){var ta;if(X.kea)return X.kea;ta=this.rUa(X);return !ta || this.config.d2 && this.navigator.GCb(ta.ub.P,X.va)?X.n1:this.qUa(ta);};ra.prototype.rUa=function(X){var ta;return null === (ta=this.Ab.gka(X.ub)) || void 0 === ta?void 0:ta.vT(X.mediaType);};ra.prototype.lLb=function(X){var ta,za;if(!this.Jsa.Lm()){ta=void 0;za=this.T.di;za && (ta=this.navigator.Me(za.va).da);this.qh("BufferingStateTracker: Temporary failure while buffering",ta,"NFErr_MC_StreamingFailure",null === X || void 0 === X?void 0:X.Og,null === X || void 0 === X?void 0:X.GF,null === X || void 0 === X?void 0:X.Ri);}};ra.prototype.qh=function(X,ta,za,V,T,ja){this.Jsa.qh(X,ta,za,V,T,ja);};ra.prototype.t8=function(X,ta){ta=this.d3(ta);this.events.emit("logdata",{type:"logdata",target:X,fields:ta});};ra.prototype.d3=function(X){var ta;this.yXa.mGb(X);ta=this.VM.Ln(X);X === v.ae.ip && (X=this.TK(),ta.vbuflmsec=X.totalvbuflmsecs,ta.abuflmsec=X.totalabuflmsecs,ta.vbuflbytes=X.vbuflbytes,ta.abuflbytes=X.abuflbytes);return ta;};ra.prototype.Q5a=function(X){this.IR=X;this.xm("updateBudget");};ra.prototype.Lm=function(){return this.Jsa.Lm();};ra.prototype.d6a=function(X){X !== this.weight && (this.eLa=X,this.events.emit("weightUpdated"));};ra.prototype.gX=function(X){var ta,za,V,T,ja,Sa,Ua,$a,Za,mb,db,Ta,Ca,La,Ma;V=H.zNa(this.Fa,X);T=V.eob;ja=V.hWb;if([V.Mkb,V.SM,T].every(function(ib){return !ib.length;}))return {X:!0,reason:l.Mw.Jcb};if(0 === T.length && 0 === ja.length)return {X:!1,reason:l.Mw.Wbb};try{for(var Ia=c.__values(T),wa=Ia.next();!wa.done;wa=Ia.next()){Sa=wa.value;Ua=this.Fa.Ca[Sa];$a=Ua.xc;Za=Ua.Yc;mb=Ua.da;db=X.Ca[Sa];Ta=db.Yc;Ca=db.xc;La=db.da;if(this.di.va === Sa && Ta !== Za){if(!Ta)return {X:!1,reason:l.Mw.Hdb};Ma=g.S.rb(Ta - Ca);if(null === (za=this.di.offset) || void 0 === za?0:za.greaterThan(Ma))return {X:!1,reason:l.Mw.k7a};}if($a !== Ca)return {X:!1,reason:l.Mw.w$a};if(mb !== La)return {X:!1,reason:l.Mw.x$a};}}catch(ib){var Va;Va={error:ib};}finally{try{wa && !wa.done && (ta=Ia.return) && ta.call(Ia);}finally{if(Va)throw Va.error;}}this.f3a(X);this.$o.start();return {X:!0,reason:l.Mw.Icb};};ra.prototype.f3a=function(X){this.wJ=X;this.navigator=new J.OEa(X);this.eCb=H.JOa(this.navigator);};ra.prototype.Zoa=function(X,ta){this.G1a(X);X.FK.addListener("criticalNetworkError",this.Y5);X.FK.addListener("temporaryNetworkError",this.gV);X.FK.addListener("updatingLastSuccessEvent",this.h6);this.Gc === k.hn.Zj && ta && this.ura();};ra.prototype.$oa=function(X){0 === this.Ab.filter(function(ta){return ta.NT && ta.N === X;}).length && this.G1a(X);};ra.prototype.G1a=function(X){X.FK.removeListener("criticalNetworkError",this.Y5);X.FK.removeListener("temporaryNetworkError",this.gV);X.FK.removeListener("updatingLastSuccessEvent",this.h6);};ra.prototype.kLa=function(X){var ta;r.assert(X.sk,"expected branch to be normalized on addBranchToPlayer");this.T.nL || (null === (ta=this.Oo) || void 0 === ta?0:ta.sk) || this.fxb(X);this.yf.C8(X.Fg);this.T.hia(X);this.O0.jta(X,this.Cd);};ra.prototype.fxb=function(X){r.assert(X.Xc,"Normalized branch should have a defined content start timestamp");r.assert(this.Oo,"AsePlaygraph should have a seek position on first branch normalization");r.assert(!this.Oo.sk,"Seek position should not already be normalized on first branch normalization");this.Oo=c.__assign(c.__assign({},this.Oo),{position:{va:X.P.id,offset:X.Xc.Ba(X.P.uh)},sk:!0});this.yf.LRb(this.Oo.position,X.Fg.filter(function(ta){return 0 === ta.mediaType;})[0]);};ra.prototype.Kob=function(){var X;this.O0.reset();this.T.TE();this.Oo=void 0;null === (X=this.cNa) || void 0 === X?void 0:X.clear();};ra.prototype.osb=function(X,ta,za,V,T,ja){var Ia,wa,Sa;Ia=this;Sa=null !== (wa=X.ub.Ui) && void 0 !== wa?wa:X.ub.yy;wa=g.S.max(X.Ck,Sa);return {P:X.va,mediaType:X.mediaType,oh:X.oh,hf:this.hf.value,Zy:ta,Ck:wa,Cd:T,H6:ja.offset,HM:V,Tv:X.ub.P.Tv,duration:X.ub.BS,m4a:wa.Ba(Sa),VB:X.VB(),Ts:X.Ts(),groupId:za,JWa:function(Ua,$a){Ua=Ia.l4a.Onb(Ua,X.mediaType,1 > $a || !Ia.m4(X.ub));1 === $a && "global" === l.uqa(Ua.reason) && Ia.yf.IKb(X.mediaType,Ia.Hh(Ia.Cd));return Ua;},NWa:function(){var Ua,$a,Za,mb,db,Ta,Ca,La,Ma;mb=X.mediaType;db=Ia.Oka.pRb(Ia.hf.value,Ia.Cd,Ia.T.playbackRate,X,0 === mb?Ia.bfa:Ia.Mz,Ia.gs);Ta=db.stream;Ca=db.yN;La=db.rRb;db=db.kt;if(!Ta)return {zp:!1,reason:"selectLocationsAndStream"};if(Ia.hf.value === l.wc.Zj && X.ub && X.ub.N.LT && !X.ub.N.zU && !Ia.T.Qn(X.ub.N.da) && X.Ck.V - Ia.Cd.V > Ia.config.iYa)return {zp:!1,reason:"maxBufferingCompleteBufferInMs"};Ma=1;if(null === (Ua=X.ub) || void 0 === Ua?0:Ua.Fg.every(function(Va){return 0 === Va.mediaType;}))Ma=0;Ia.yf.Pf && mb === Ma && Ia.yf.XRb(X.xz.jN,Ta.bitrate,La);Ia.oN(Ca);Ua=null === ($a=X.ub.Rt) || void 0 === $a?void 0:$a.V;$a=X.$Vb(Ta,db);$a.zp && (Ia.Dca && (Ia.zl("firstDriveStreaming"),Ia.Dca=!1),0 < Ia.sB && (Ta=null === (Za=X.ub.Rt) || void 0 === Za?void 0:Za.V,Ua && Ta && (Ia.sB-=Ua - Ta,0 >= Ia.sB && Ia.ura())));return $a;}};};ra.prototype.oN=function(X){var ta;ta=this;X.forEach(function(za){za.N.QRb(za,function(){var V,T,ja;r.assert(ta.oL,"Speculative header callback after streaming is cancelled");V=ta.yf.state.value;T=ta.Cd;ja=T.add(g.S.rb(ta.config.IU));return {P:"" + za.N.da,mediaType:za.mediaType,oh:[],hf:V,Ts:!1,VB:!0,Zy:ja,Ck:ja,Cd:T,H6:ta.di.offset,HM:1,Tv:1};});});};ra.prototype.ura=function(){var X;X=this;this.$o.O8(va.pD.uw,function(){return X.$o.start();});};ra.prototype.U6=function(){var X,ta,za,V,T;X=this;if(this.Gc === k.hn.Zj){this.p6=[];ta=this.di;za=this.navigator.Me(ta.va);V=this.Ab.RBb();T=this.hyb(ta.va).map(function(ja){return ja.P.id;});za=I.U6(this.console,this.eCb,za,V,this.Ji,T,g.S.rb(this.config.Qmb),this.config.boa,g.S.rb(this.config.qfa));V=za.U1a;this.sB=za.sB || 0;za=this.Ab.tWb(V,function(ja,Ia){var wa;wa=X.navigator.Me(ja);ja=ja === ta.va?wa.uh.add(ta.offset):wa.uh;return X.XVb(wa,ja,Ia);});V=za.pending;za.SM.forEach(function(ja){ja.zf();X.Ji.clear(ja.P.id);X.T.yCb(ja) || X.$o.O8(va.pD.uw,function(){return X.mda(ja.P.id);});});this.t1a();0 === V.length && this.SNa();this.p6=V;this.$o.O8(va.pD.uw,function(){X.xm("reevaluateBranches");X.$o.GU(va.pD.HP);});}};ra.prototype.hyb=function(X){var ta;ta=!1;return this.T.Ab.filter(function(za){za.P.id === X && (ta=!0);return ta;});};ra.prototype.ZBb=function(){return u.lMa(this.Ab.filter(function(X){return X.NT;}).map(function(X){return X.N;}));};ra.prototype.t1a=function(){var X;if(this.Gc === k.hn.Zj){if(!this.T.QF){X=c.__read(this.Ab.iy(this.n7.va),1)[0];(null === X || void 0 === X?0:X.sk) && this.kLa(X);}if(this.T.QF)for(;;){X=this.MTa(this.T.QF.P);if(!X)break;X=c.__read(this.Ab.iy(X),1)[0];if(null === X || void 0 === X || !X.sk)break;this.kLa(X);}}};ra.prototype.MTa=function(X){var ta;ta=this.Ji.get(X.id);if(void 0 !== ta)return ta;X=this.navigator.hzb(X);if(1 === X.length)return X[0].id;};ra.prototype.SNa=function(){var X;X=0 !== this.byb();X || this.S7?X && this.S7 && (this.S7=!1):(this.yf.Pf && (X=this.Hh(this.Cd),this.yf.Se("complete",X.XW,X.ZW)),this.Shb(),this.S7=!0);};ra.prototype.byb=function(){return this.Ab.filter(function(X){return !X.Wo;}).length;};ra.prototype.gE=function(X){this.m4(X) && this.yf.$fa(this.Cd,this.T.playbackRate,X,{Zfa:this.Oka.Zfa.bind(this.Oka,this.l4a)});};ra.prototype.Noa=function(X,ta){var za,V;za=this;if(ta.didNormalizeSegment){V=P.eGa.YBb(X);r.assert(V,"Segment should be normalized");Promise.resolve().then(function(){return za.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:X.P.id,normalizedStart:ta.segmentContentStart,normalizedEnd:ta.branchContentEnd,viewableContentEnd:V.UXb,viewableEarliestContentEnd:V.WXb});});}this.p6.some(function(T){return T.lNb === X;})?this.ura():Promise.resolve().then(function(){za.t1a();});};ra.prototype.Ooa=function(){this.SNa();};ra.prototype.zKb=function(){this.$o.start();};ra.prototype.XVb=function(X,ta,za){var V,T,ja,Ia,wa;V=this;if(this.Gob(X,ta))throw Error("Not implemented");wa=new d.Kva(X.da,this.Wib,function(Sa,Ua,$a){V.Zoa(Ua,$a);V.$o.O8(va.pD.HP,function(){V.I_(Sa.P.id,Ua,Sa.yj);});},this.$oa.bind(this));X=new h.Gva(this.config,this.console,this.events,X,this.t7,ta,null !== (Ia=null === (ja=null === (T=this.Oo) || void 0 === T?void 0:T.UMb) || void 0 === ja?void 0:ja.Ba(this.z2a)) && void 0 !== Ia?Ia:g.S.hb,function(){return V.Cd.V;},za,this.hf,this.st,wa);X.events.on("branchNormalized",this.Noa.bind(this,X));X.events.on("lastRequestIssued",this.zKb.bind(this,X));X.events.on("branchStreamingComplete",this.Ooa.bind(this,X));X.events.on("checkBufferingProgress",this.gE.bind(this,X));void 0 === za && (this.zl("createDlTracksStart"),X.events.once("requestQueuesCreated",function(){V.zl("createDlTracksEnd");}));X.mb();return X;};ra.prototype.MAb=function(X){if(this.T.Nn)return this.T.Mh.Ra(X);};ra.prototype.t7=function(X){return [[0,this.FMa,"audio_tracks"],[1,this.H6a,"video_tracks"]].map(function(ta){var za,V;za=c.__read(ta,3);ta=za[0];V=za[1];za=za[2];r.assert(V,"Expected mediaType " + ta + " track selector to be defined");V=V.pr(X.sa,X.sa[za]);return void 0 !== V?X.HUa(ta,V):void 0;}).filter(u.S5);};ra.prototype.I_=function(X,ta,za){X={type:"segmentStarting",segmentId:X,contentOffset:za.V,maxBitrates:{audio:ta.vv[0],video:ta.vv[1]}};this.events.emit(X.type,X);};ra.prototype.mda=function(X){X={type:"segmentAborted",segmentId:X};this.events.emit(X.type,X);};ra.prototype.Shb=function(){var X;X={type:"streamerEnd",time:n.default.time.aa()};this.events.emit(X.type,X);};ra.prototype.zl=function(X){X={type:"startEvent",event:X,time:n.default.time.aa()};this.events.emit(X.type,X);};c.__decorate([A.Xb({methodName:"getStreamables",Jl:!0})],ra.prototype,"iL",null);return ra;})();b.Zua=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kva=void 0;q=(function(){function a(c,f,k,l){this.da=c;this.Yqa=f;this.Zoa=k;this.$oa=l;}Object.defineProperties(a.prototype,{N:{get:function(){var c;return null === (c=this.wX) || void 0 === c?void 0:c.N;},enumerable:!1,configurable:!0}});a.prototype.wb=function(){var c;this.N && (this.N.Dta(this.ub),this.$oa(this.N));null === (c=this.wX) || void 0 === c?void 0:c.Lma.release();this.wX=void 0;};a.prototype.mb=function(c){var f,k,l,d;f=this;this.ub=c;k=this.Yqa(this.da);l=k.uX;d=k.N;this.wX={Lma:k.Lma,N:d};d?this.PVa(d,c,!1):l.then(function(g){f.PVa(g,c,!0);});};a.prototype.PVa=function(c,f,k){var l;this.wX && (this.wX.N=c,c.Dqa(f),null === (l=f.normalize) || void 0 === l?void 0:l.call(f,c),this.Zoa(f,c,k));};return a;})();b.Kva=q;},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r){return (1 === n.mediaType?0:1) - (1 === r.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Gva=b.Jva=b.Iaa=void 0;f=a(2);k=a(16);l=a(22);q=a(112);d=a(43);g=a(408);h=a(6);b.Iaa={QXb:c};(function(n){n[n.G9=0]="CREATED";n[n.RX=1]="CANCELLED";})(m=b.Jva || (b.Jva={}));a=(function(){function n(r,p,u,t,w,v,x,y,z,B,A,C){var E;E=this;this.I=r;this.H=p;this.upa=u;this.Gu=t;this.Pja=w;this.RB=v;this.sA=x;this.Gca=y;this.parent=z;this.aQ=B;this.bx=A;this.vX=C;this.Gc=m.G9;this.events=new k.EventEmitter();this.UEb=new Promise(function(F){E.Noa=F;});}Object.defineProperties(n.prototype,{state:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fn:{get:function(){return this.Gc === m.RX;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.Gu;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ZB:{get:function(){var r;return null === (r=this.md) || void 0 === r?void 0:r.ZB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Wo:{get:function(){var r;return null === (r=this.md) || void 0 === r?void 0:r.Wo;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{rx:{get:function(){var r,p;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.rx) && void 0 !== p?p:0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sk:{get:function(){var r;return !(null === (r=this.md) || void 0 === r || !r.sk);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bYb:{get:function(){return this.UEb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fg:{get:function(){var r,p;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.Fg) && void 0 !== p?p:[];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{NT:{get:function(){var r;return !(null === (r=this.vX) || void 0 === r || !r.N);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){h.assert(this.vX.N,"viewable should be available");return this.vX.N;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{U:{get:function(){var r;return null === (r=this.md) || void 0 === r?void 0:r.U;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Xa:{get:function(){var r;return null === (r=this.md) || void 0 === r?void 0:r.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jb:{get:function(){var r;return null === (r=this.md) || void 0 === r?void 0:r.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Lj:{get:function(){var r,p;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.Lj) && void 0 !== p?p:this.yj.Vf(this.U).Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yy:{get:function(){var r,p,u;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.yy) && void 0 !== p?p:null === (u=this.RB) || void 0 === u?void 0:u.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{AM:{get:function(){var r,p;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.AM) && void 0 !== p?p:this.P.uh.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yV:{get:function(){var r,p;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.yV) && void 0 !== p?p:this.P.Ll.add(this.yj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kma:{get:function(){var r;return null === (r=this.md) || void 0 === r?void 0:r.Kma;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yj:{get:function(){var r,p;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.yj) && void 0 !== p?p:this.sA;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Rt:{get:function(){var r,p;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.Rt) && void 0 !== p?p:this.P.Ll.Ba(this.RB || this.P.uh);},enumerable:!1,configurable:!0}});n.prototype.mb=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(r){switch(r.label){case 0:return this.parent?[4,this.parent.bYb]:[3,2];case 1:(r.Oe(),r.label=2);case 2:return (this.state !== m.RX && this.vX.mb(this),[2]);}});});};n.prototype.normalize=function(r){var p;if(this.state !== m.RX){if(null === (p=this.parent) || void 0 === p?0:p.pf)this.sA=this.parent.pf.Ba(this.Gu.uh);this.md=new g.maa(this,this.I,this.H,r,this.upa,this.Gu,this.Pja,void 0,this.RB,this.sA,this.Gca,this.parent,[],this.aQ,this.events,this.bx);this.parent=void 0;this.md.events.on("branchNormalized",this.Noa);this.md.mb();}};n.prototype.update=function(r){var p;this.Gu=r;null === (p=this.md) || void 0 === p?void 0:p.update(r);};n.prototype.Hz=function(r){var p;this.sA=r;null === (p=this.md) || void 0 === p?void 0:p.Hz(r);};n.prototype.AF=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.AF(r);};n.prototype.KS=function(){var r;null === (r=this.md) || void 0 === r?void 0:r.KS();};n.prototype.reset=function(){var r;null === (r=this.md) || void 0 === r?void 0:r.reset();};n.prototype.zf=function(){var r;this.Gc=m.RX;null === (r=this.md) || void 0 === r?void 0:r.zf();this.vX.wb();};n.prototype.k4=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.k4(r);};n.prototype.Ra=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.Ra(r);};n.prototype.ny=function(r){var p,u;void 0 === r && (r=c);return null !== (u=null === (p=this.md) || void 0 === p?void 0:p.ny(r)) && void 0 !== u?u:[];};n.prototype.Xja=function(){var r,p;return null !== (p=null === (r=this.md) || void 0 === r?void 0:r.Xja()) && void 0 !== p?p:[];};n.prototype.vT=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.vT(r);};n.prototype.Hh=function(r,p){var u;return null === (u=this.md) || void 0 === u?void 0:u.Hh(r,p);};n.prototype.sF=function(){var r;return null === (r=this.md) || void 0 === r?void 0:r.sF();};n.prototype.q3=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.q3(r);};n.prototype.Vv=function(r,p,u){var t;null === (t=this.md) || void 0 === t?void 0:t.Vv(r,p,u);};n.prototype.qo=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.qo(r);};n.prototype.Qoa=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.Qoa(r);};n.prototype.YR=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.YR(r);};n.prototype.Bja=function(r){return this.md?this.md.Bja(r):l.S.hb;};n.prototype.vta=function(r){var p;return null === (p=this.md) || void 0 === p?void 0:p.vta(r);};n.prototype.toJSON=function(){var r;return null === (r=this.md) || void 0 === r?void 0:r.toJSON();};return n;})();b.Gva=a;d.tf(q.Uz,a);d.tf(q.Sz,a);},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KGa=void 0;q=(function(){function a(c,f){this.H=c;this.Bh=f;this.Isa=!1;}a.prototype.qh=function(c,f,k,l,d,g){this.Isa || (this.Isa=!0,c={type:"error",error:null !== k && void 0 !== k?k:"NFErr_MC_StreamingFailure",errormsg:c,networkErrorCode:l,httpCode:d,nativeCode:g,viewableId:f},this.H.error("notifyStreamingError: " + JSON.stringify(c)),this.Bh.emit("error",c));};a.prototype.Lm=function(){return this.Isa;};return a;})();b.KGa=q;},function(q,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Jaa=void 0;c=a(2);f=a(6);k=a(9);l=a(19);d=a(255);q=(function(g){function h(m){var n;n=g.call(this) || this;n.qa=m;n.Ab=[];n.dQ=new d.AZ({tk:!1,currentTime:function(){return n.Nn?n.Cd:k.S.PB;},speed:1});return n;}c.__extends(h,g);Object.defineProperties(h.prototype,{wa:{get:function(){return this.dQ;},enumerable:!1,configurable:!0}});h.prototype.H0=function(m,n){var r;r=!this.qa;r && (this.qa=m,this.mca=(null === n || void 0 === n?0:n.Nn)?n.Cd:void 0);return r;};h.prototype.TE=function(){this.Ab=[];this.mca=void 0;};h.prototype.Cha=function(m){l.ka && f.assert(this.qa === m);this.qa=void 0;this.TE();};h.prototype.hia=function(){for(var m,n=[],r=0;r < arguments.length;r++){n[r]=arguments[r];}(m=this.Ab).push.apply(m,c.__spread(n));};h.prototype.ZK=function(){return this.mca?this.mca:g.prototype.ZK.call(this);};h.prototype.Qn=function(){return !1;};h.prototype.bH=function(){};return h;})(a(430).Vaa);b.Jaa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$Da=void 0;c=a(54);q=(function(){function f(k){this.Ra=k;}Object.defineProperties(f.prototype,{Ii:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Ln=function(k){var l,d;k=k.ji;if(k === c.ae.zr || k === c.ae.ip){k={};l=this.Ra(1);d=this.Ra(0);l && (k.videoPipelineSummary=this.v4a(l));d && (k.audioPipelineSummary=this.v4a(d));return k;}};f.prototype.v4a=function(k){var l,d,g,h,m;m=k.Na.Y;return {actualStartPlayerTimestamp:null === (l=m.Ui) || void 0 === l?void 0:l.V,actualPartialPlayerTimestamp:m.L_a,actualCompletePlayerTimestamp:null === (d=k.kea) || void 0 === d?void 0:d.V,segmentId:k.va,contentStartMs:null === (g=k.Xc) || void 0 === g?void 0:g.V,contentEndMs:null === (h=k.Md) || void 0 === h?void 0:h.V,streamingPlayerMs:k.Ck.V,isStreamable:k.VB(),isNormalized:k.sk(),isDoneStreaming:k.Ts(),trackNeedsHeaderRequest:k.track.goa,completedRequests:m.zOa,activeRequests:k.Na.Uo,unsentRequests:k.Na.Ar,bytes:{current:m.ca,received:m.k1a,partial:m.jl,completed:m.iB,unsent:m.mWb}};};return f;})();b.$Da=q;},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DEa=void 0;c=a(2);f=a(19);k=a(54);l=a(431);q=(function(){function d(g){this.WMb=g;}Object.defineProperties(d.prototype,{Ii:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nC:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ka;},enumerable:!1,configurable:!0}});d.prototype.Ln=function(g){var h;g=g.ji;if(g === k.ae.ip || g === k.ae.zr){h={};this.WMb.forEach(function(m,n){var r;r=l.uja(m);h[n]=c.__assign({probabilities:m.oh.map(function(p){return {duration:p.duration,immediate:p.NB,seamless:p.Be};})},r);});return h;}};return d;})();b.DEa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UAa=void 0;q=(function(){function a(c,f,k){this.Df=c;this.H=f;this.events=k;this.UM=[];}a.prototype.ai=function(c){var f;f=this;this.UM.push(c);this.Df.Qrb(function(){f.y5a(c,{xEb:!0});},c.wNa,c.$u);};a.prototype.mGb=function(c){var f,k;f=this;k={ji:c};this.UM.forEach(function(l){f.y5a(l,k);});};a.prototype.y5a=function(c,f){var k,l;try{k=c.Of(f);l=k.event;k.z3a && this.events.emit(c.$u,l);}catch(d){this.H.error("Error generating event for " + c.$u,d);}};return a;})();b.UAa=q;},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dr=b.MUa=b.GWa=void 0;c=a(9);f=a(6);k=a(19);b.GWa=function(d,g){d=d.Ca[g.va];if(void 0 === d)return !1;if(void 0 === d.Yc || null === d.Yc)throw Error("Cannot validate graph position without endTimeMs");d=d.Yc - d.xc;return 0 <= g.offset.V && g.offset.V < d;};l=c.S.rb(100);b.MUa=function(d,g){if(d === g)return !0;if(d && g && d.va === g.va){if(d.offset === g.offset)return !0;d=c.S.abs(d.offset.Ba(g.offset));if(l.greaterThan(d))return !0;}return !1;};b.dr=function(d,g,h){var m,n,r,p;r=g.qa;g=g.WDb;void 0 === h && (h={});p=r.Fa;r=r.navigator;p=r.Me(null !== (m=null === g || void 0 === g?void 0:g.id) && void 0 !== m?m:p.hg);m=null !== (n=null === g || void 0 === g?void 0:g.jRb) && void 0 !== n?n:p.uh;if(m.greaterThan(d))return h.K3a?{offset:d.Ba(m),va:p.id}:void 0;g=r.yFb(p);for(r=g.next();!r.done;){n=r.value;r=n.Ll.Ba(n.uh);p=m;m=p.add(r);if(m.greaterThan(d))return (d=d.Ba(p),k.ka && f.assert(d.xp(c.S.hb) && d.lessThan(r)),{va:n.id,offset:d});r=g.next();if(r.done && h.L3a)return {va:n.id,offset:d.Ba(p)};}};},function(q,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Pya=void 0;q=a(2);c=a(14);f=q.__importDefault(a(146));k=q.__importDefault(a(4));l=a(178);d=a(30);a=(function(){function g(h,m,n,r,p){this.config=h;this.nTb=m;this.navigator=n;this.events=r;this.console=p;h=l.fL(this.config);this.v0a=[h.AC,h.C6];}g.prototype.pRb=function(h,m,n,r,p,u){var t,w,v,x,y;w=[];if(!this.U_a(r.track))return {stream:v,yN:w};v=r.Cf.Ws;x=p?p.Dm(r.track.Qd,h):r.track.Qd;if(0 === x.length && (null === p || void 0 === p?0:p.Nnb))return {stream:void 0,yN:w};v && !v.track.equals(r.track) && (v=this.Vwb(v,x));if(0 === r.mediaType && v && !this.RSb(r,v))return {stream:v,yN:w};h=this.esb(h === c.wc.Sc?c.ja.Sc:h === c.wc.ef?c.ja.ef:h === c.wc.NP?c.ja.Sc:h === c.wc.Zj?c.ja.yc:c.ja.Ig,m,n,r,! !u);h=r.xz.Hra(h,x,void 0,this.v0a[r.mediaType],!0,r.track.N.jp);if(!h)return {stream:v,yN:w};h.reason && (y={reason:h.reason,Gra:h.Ps,wy:h.wy,On:h.On,Pn:h.Pn});this.Zub(r.mediaType,h,x);v=x[h.ie];r.Cf.j3a(v);if(null === (t=h.Vx) || void 0 === t?0:t.length)w=h.Vx.map(function(z){return d.wg(x,function(B){return B.id === z;});}).filter(d.S5);r=h.kt;return void 0 !== y?{stream:v,yN:w,rRb:y,kt:r}:{stream:v,yN:w,kt:r};};g.prototype.Zfa=function(h,m,n,r,p,u,t){var w,v;if(!c.Vq(m))return {complete:!0,reason:"playing"};if(!u.JNb)return {complete:!1,reason:"unknown"};if(u.ELb)return u.FLb;w=this.xSa(u,n);v=u.Cf.Ws;n=w.Hl - w.qc;if(n < this.config.Qi || void 0 === v)return {complete:!1,bB:n,reason:"preBuf"};if(0 === u.mediaType)return {complete:!0,bB:n,reason:"audio"};if(h=h.TNa(u.mediaType))return {complete:!0,bB:n,reason:h};this.U_a(u.track);u.xz.Qpa([v],!1,w,this.v0a[u.mediaType]);m=u.xz.Hx(w,m,p,v,{xs:t});if(!m.complete && r)return {complete:!0,reason:"prebufferTimeLimit",bB:n};m.bB=n;return m;};g.prototype.Zub=function(h,m,n){this.events.emit("streamSelection",{type:"streamSelection",mediaType:h,result:m,streamList:n});};g.prototype.Vwb=function(h,m){var n;n=m[0];m.filter(function(r){return r.Vs;}).every(function(r){return r.bitrate <= h.bitrate?n=r:!1;});return n;};g.prototype.RSb=function(h,m){return 0 < this.config.IN.length?!0:(h=h.Cf.HL) && h === m.location?!1:!0;};g.prototype.U_a=function(h){return h.N.Pl.hX(h.N.da,h.Qd);};g.prototype.xSa=function(h,m){var z;for(var n,r=m.Ba(this.nTb),p=[],u=h,t=m,w,v,x=0,y=!0;u;){z=u.Fzb(r);if(!y && !u.Wo)break;0 < z.Y.length && (t=z.Y[0].Ui,void 0 === w && (w=z.Y[z.Y.length - 1].pf,v=z.gpa >= z.Y.length?w:z.Y[z.gpa].Ui),p=z.Y.concat(p),x+=z.jl);u=this.navigator.parent(u);y=!1;}return {Su:k.default.Mn()[h.mediaType],Z:Math.floor(t.V),qc:m.V,oc:Math.floor(null !== (n=null === w || void 0 === w?void 0:w.V) && void 0 !== n?n:m.V),Hl:Math.floor(v?v.V:m.V),Tj:p.reduce(function(B,A){return B + A.ca;},0),jl:x,hSa:p.length,Y:p};};g.prototype.esb=function(h,m,n,r,p){var u,t,w;u=this.xSa(r,m);t=1 === r.mediaType?this.config.oX:this.config.tR;w=f.default.instance();return {state:h,UB:h === c.ja.yc,kf:r.Zn,playbackRate:n,buffer:u,Nha:t,FXa:!1,xK:p,Uo:null === w || void 0 === w?void 0:w.Uo,mediaType:r.mediaType,qc:m.V,Wq:!1,Xla:!1,R6:0};};return g;})();b.Pya=a;},function(q,b,a){var k,l;function c(d,g,h,m,n){var r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H;w=d.console;v=d.nWb;x=d.Ji;y=d.mQb;z=d.jub;B=d.boa;A=d.qfa;d=d.BLb;C=n || ({complete:!0,Rt:0});E=C.root;F=C.complete;D=C.dkb;G=C.V1a;G=void 0 === G?0:G;C=C.Rt;I=G < y.length && y[G] === g.id;x=m && x.get(m.id);J=n && m && x !== g.id?void 0 !== x?{Be:0}:m.wnb(g.id):{Be:1};x=J.Be;J=J.NB;H=void 0 === J?0:J;J=(x + H) * (null !== (r=null === n || void 0 === n?void 0:n.TNb) && void 0 !== r?r:1);l && w.trace("reevaluateBranches: visiting " + g.id + ", distance: " + (h + ", predecessor: ") + ((null === m || void 0 === m?void 0:m.id) + ", predecessorComplete: ") + (F + ", isOnRequiredPath: ") + (I + ", requiredPathIndex: ") + (G + ", activeDistance: ") + (D + ", seamless ") + (x + ", immediate ") + (H + ", predecessor sum of: successor weights=") + ((null === m || void 0 === m?void 0:m.Nsa) + ", immediate weights= ") + (null === m || void 0 === m?void 0:m.W7));r=null !== (u=null === (p=v[g.id]) || void 0 === p?void 0:p.shift()) && void 0 !== u?u:g.duration.V;p=0 === r;if(!I){if(0 === J)return {L8:!1};if(!F && 0 === H && C > A)return (d.sB=Math.min(d.sB || Infinity,C - A),{L8:!1});if(!p && h >= z && 1 > J || !1 === E && J < B)return {L8:!1};}G < y.length && k.assert(y[G] === g.id,"");n=null !== (t=null === n || void 0 === n?void 0:n.oh) && void 0 !== t?t:[];m && 1 > x && (n=n.concat([0 < H?{Be:x,NB:H,duration:m.duration.V}:{Be:x}]));d.U1a.push({P:g,vt:null === m || void 0 === m?void 0:m.id,oh:n});h=F?h + g.duration.V:D;l && w.trace("reevaluateBranches: added " + g.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n));return {L8:!0,state:{root:!m,complete:p,TNb:J,oh:n,dkb:h,V1a:G + 1,Rt:C + r}};}function f(d,g,h,m){m("reevaluateBranches: " + Array(h + 1).join(" ") + d.P.id + " (" + (JSON.stringify(d.oh) + ")"));g.filter(function(n){return n.vt === d.P.id;}).forEach(function(n){return f(n,g,h + 1,m);});}Object.defineProperties(b,{__esModule:{value:!0}});b.AVb=b.$Xb=b.U6=void 0;k=a(6);l=a(19).ka && !1;b.U6=function(d,g,h,m,n,r,p,u,t){var w,v,x,y;v={U1a:[]};x=(null === (w=h.Ll) || void 0 === w?void 0:w.Ba(h.uh).V) || 0;0 < r.length && k.assert(h.id === r[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");l && d.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(r));y={console:d,nWb:m,Ji:n,mQb:r,jub:p.V + x,boa:u,qfa:t.V,BLb:v};g.ZXb(h,function(z,B,A,C){return c(y,z,B,A,C);});return v;};b.$Xb=c;b.AVb=function(d,g){f(d[0],d,0,g);};},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.OEa=void 0;c=a(2);f=a(415);q=(function(){function k(l){this.Fa=l;this.Ca={};}k.prototype.Me=function(l){var d;d=this.Ca[l];if(void 0 === d){d=this.Fa.Ca[l];if(void 0 === d)throw Error("Segment not found (" + l + ")");d=new f.TEa(l,d,this.Fa.Yd);this.Ca[l]=d;}return d;};k.prototype.hzb=function(l){var d;d=this;return l.P.next?Object.keys(l.P.next).map(function(g){return d.Me(g);}):[];};k.prototype.yFb=function(l){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,l];case 1:(g.Oe(),d=l,g.label=2);case 2:if(!d.P.Ki)return [3,4];d=this.Me(d.P.Ki);return [4,d];case 3:return (g.Oe(),[3,2]);case 4:return [2];}});};k.prototype.GCb=function(l,d){return f.kWa(l.jL(d));};k.prototype.ti=function(l){var d;d=this;Object.keys(l).forEach(function(g){var h;return null === (h=d.Me(g)) || void 0 === h?void 0:h.ti(l[g]);});};return k;})();b.OEa=q;},function(q,b,a){var k,l,d;function c(g,h){var m,n;m=Object.keys(g);if(m.some(function(r){var p,u,t,w;return (null === (p=g[r]) || void 0 === p?void 0:p.Yd) !== (null === (u=h[r]) || void 0 === u?void 0:u.Yd) || (null === (t=g[r]) || void 0 === t?void 0:t.weight) !== (null === (w=h[r]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(h);return 0 !== k.__spread(l.ds(m,n),l.ds(n,m)).length?!0:!1;}function f(g,h){return g.some(function(m,n){var r;return 0 !== l.ds(m,null !== (r=h[n]) && void 0 !== r?r:[]).length;}) || g.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.zNa=b.JOa=void 0;k=a(2);l=a(30);d=a(946);b.JOa=function(g){return new d.qxa(function(h){return Object.keys(h.P.next || ({})).map(function(m){var n,r,p;m=g.Me(m);p=null !== (r=null === (n=h.Ll) || void 0 === n?void 0:n.Ba(h.uh).V) && void 0 !== r?r:Infinity;return {IXb:m,weight:p};});});};b.zNa=function(g,h){var m,n,r,p,u,t;m=Object.keys(g.Ca);n=Object.keys(h.Ca);r=n.filter(function(w){return -1 === m.indexOf(w);});p=m.filter(function(w){return -1 === n.indexOf(w);});u=m.filter(function(w){var v,x,y,z,B;if(-1 === n.indexOf(w))v=!1;else {v=g.Ca[w];w=h.Ca[w];v=v.Ki !== w.Ki || v.Yc !== w.Yc || v.xc !== w.xc || v.Yd !== w.Yd || v.da !== w.da || f(null !== (x=v.av) && void 0 !== x?x:[],null !== (y=w.av) && void 0 !== y?y:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (B=w.next) && void 0 !== B?B:{})?!0:!1;}return v;});t=l.ds(m,k.__spread(u,r,p));return {Mkb:r,SM:p,eob:u,hWb:t};};},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qxa=void 0;c=a(6);f=a(244);k=a(947);l=a(432);q=(function(){function d(g){this.Rub=g;this.eua=!1;this.M8=new k.dba();this.Nv=new k.dba();this.XLa=new l.cba();}d.prototype.ZXb=function(g,h){var n,r,p;function m(){var w,v,x,y,z,B;w=u.pop();v=p.get(w);x=v.vt;y=v.tK;v=v.state;if(!t.M8.has(w)){t.M8.add(w);x=h(w,y,x,v);z=x.L8;B=x.state;r(w).forEach(function(A){var C,E;C=A.IXb;if(!n.M8.has(C) && (A=y + A.weight,z))if(n.Nv.has(C)){E=n.XLa.get(C);A < E.tK && (E.tK=A,E.vt=w,E.state=B,u.SNb(C));}else (n.Nv.add(C),p.set(C,{tK:A,vt:w,state:B}),u.push(C));});}}n=this;r=this.Rub;p=this.XLa;c.assert(!this.eua);this.eua=!0;this.M8.clear();this.Nv.clear();p.set(g,{tK:0,state:{root:!1,complete:!0,V1a:0,Rt:0}});for(var u=new f.RY([g],function(w,v){return p.get(w).tK - p.get(v).tK;}),t=this;!u.empty;){m();}this.eua=!1;};return d;})();b.qxa=q;},function(q,b){var f,k,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.dIa);}function c(d){return (a(d)?d:Object.defineProperties(d,{dIa:{value:{},configurable:!1,enumerable:!1}})).dIa;}Object.defineProperties(b,{__esModule:{value:!0}});b.dba=void 0;k=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;l=Date.now() % k;q=(function(){function d(){this.v7=0;this.id=l=(l + 1) % k;}d.prototype.add=function(g){c(g)[this.id]=this.v7;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.v7;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.v7=(this.v7 + 1) % k;return this;};return d;})();b.dba=q;},function(q,b,a){var f,k,l,d,g;function c(h){return {value:h.ub,parent:h.vt};}Object.defineProperties(b,{__esModule:{value:!0}});b.EEa=void 0;f=a(2);k=a(9);l=a(30);d=a(6);g=a(949);q=(function(){function h(){this.Ab=new k.qCa();this.yr=new g.rHa();}Object.defineProperties(h.prototype,{empty:{get:function(){return this.Ab.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{size:{get:function(){return this.Ab.size;},enumerable:!1,configurable:!0}});h.prototype.reset=function(){var m;m=this.Ab.values();this.Ab.clear();this.yr.clear();m.forEach(function(n){return n.zf();});};h.prototype.iy=function(m){return this.Ab.get(m);};h.prototype.has=function(m){return this.Ab.has(m);};h.prototype.YS=function(m){this.yr.YS(m);};h.prototype.gka=function(m){return this.yr.parent(m);};h.prototype.Qyb=function(m){return this.yr.children(m);};h.prototype.Ska=function(m){return this.yr.Ska(m);};h.prototype.Hqa=function(m){var n;if(this.Ab.delete(m.P.id,m)){n=this.yr.children(m);this.yr.root === m?0 === n.length?this.yr.clear():(d.assert(1 === n.length,"cannot remove the root branch with multiple successors"),this.yr.UPb(n[0])):(d.assert(0 === n.length,"cannot remove non-root branch with successors"),this.yr.remove(m));}};h.prototype.forEach=function(m){var n;n=this;this.Ab.forEach(function(r,p){return m(r,p,n);});};h.prototype.reduce=function(m,n){var r;r=this;return this.Ab.reduce(function(p,u,t){return m(p,u,t,r);},n);};h.prototype.map=function(m){var n;n=this;return this.Ab.map(function(r,p){return m(r,p,n);});};h.prototype.filter=function(m){var n;n=this;return this.Ab.filter(function(r,p){return m(r,p,n);});};h.prototype.RBb=function(){var m;m={};this.forEach(function(n,r){var p;(n=n.Rt) && (null !== (p=m[r]) && void 0 !== p?p:m[r]=[]).push(n.V);});return m;};h.prototype.tWb=function(m,n){var r,p;r=this;n=this.JHb(m,n);m=n.pending;p=this.yr.MOb(n.target.map(c));n=p.SM;p=p.J1a;n.forEach(function(u){return r.Ab.delete(u.P.id,u);});return {SM:n,J1a:p.map(function(u){return u.value;}),pending:m};};h.prototype.JHb=function(m,n){var p,u;function r(t,w){(t=n(t.P.id,w)) && p.Ab.set(t.P.id,t);return t;}p=this;u=[];return {target:m.reduce(function(t,w,v){var x,y;d.assert(0 === v || w.vt);if(w.vt){y=null === (x=l.mMa(t,function(z){return z.ub.P.id === w.vt;})) || void 0 === x?void 0:x.ub;if(!y)return (d.assert(void 0 !== l.wg(u,function(z){return z.P.id === w.vt;}),"predecessorSegmentId " + w.vt + " specified without previously specifying predecessor requiredBranch."),u.push(w),t);}x=l.wg(p.iy(w.P.id),function(z){return z.NT && p.yr.parent(z) === y || 0 === v;});if(x=null !== x && void 0 !== x?x:r(w,y))(x.oh=w.oh,t.push({ub:x,vt:y}));(null === x || void 0 === x?0:x.NT)?x.update(w.P):u.push(f.__assign(f.__assign({},w),{lNb:y}));return t;},[]),pending:u};};return h;})();b.EEa=q;},function(q,b,a){var f,k,l;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(g,h){return 0 === h || l.fs(d,function(m){return m.value === g.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.rHa=void 0;f=a(432);k=a(6);l=a(30);q=(function(){function d(){this.J=new f.cba();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.oz;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var g;return null === (g=this.oz) || void 0 === g?void 0:g.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var g;g=[];this.YS(function(h){return ! !g.push(h);});return g;},enumerable:!1,configurable:!0}});d.prototype.has=function(g){return ! !this.J.get(g);};d.prototype.parent=function(g){var h;g=this.J.get(g);k.assert(g,"Attempted to find the parent of a node not in the tree");return null === (h=g.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(g){g=this.J.get(g);k.assert(g,"Attempted to find the children of a node not in the tree");return g.children?g.children.map(function(h){return h.value;}):[];};d.prototype.Ska=function(g){g=this.J.get(g);k.assert(g,"Attempted to find the children of a node not in the tree");return void 0 !== g.children && 0 < g.children.length;};d.prototype.add=function(g,h){var m;k.assert(!this.J.get(g),"Attempted to add a value to tree that is already present");m={value:g};void 0 === this.oz?(k.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.oz=m):(k.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.J.get(h),k.assert(h,"Parent value does not exist in tree"),this.AMa(m,h));this.J.set(g,m);return this;};d.prototype.remove=function(g){g=this.J.get(g);k.assert(g,"Attempted to remove a node not in the tree");this.removeNode(g);return this;};d.prototype.removeNode=function(g){var h;h=this;this.Zia(function(m){return h.J.delete(m);},g.value);void 0 === g.parent?this.oz=void 0:this.detach(g);};d.prototype.move=function(g,h){g=this.J.get(g);h=this.J.get(h);k.assert(g,"cannot move a value that is not in the tree");k.assert(h,"cannot move a value to a parent value not in the tree");k.assert(g.parent,"cannot move the root node");k.assert(!this.qEb(g,h),"cannot move a node below itself or one of its decendants");g.parent !== h && (this.detach(g),this.AMa(g,h));return this;};d.prototype.UPb=function(g){var h,m;h=this;g=this.J.get(g);k.assert(g,"cannot replant at a value that is not in the tree");m=[];this.detach(g);this.Zia(function(n){h.J.delete(n);m.unshift(n);return !0;});this.oz=g;};d.prototype.clear=function(){this.oz && this.remove(this.oz.value);return this;};d.prototype.XRa=function(g,h){var m,n;m=this;g=this.J.get(g);k.assert(g,"cannot iterate children of a value not in the tree");null === (n=g.children) || void 0 === n?void 0:n.forEach(function(r){return h(r.value,m);});};d.prototype.YS=function(g,h){var m;m=this;k.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.oz.value,g(h,this) && this.XRa(h,function(n){return m.YS(g,n);}));};d.prototype.Zia=function(g,h){var m;m=this;k.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.oz.value,this.XRa(h,function(n){return m.Zia(g,n);}),g(h,this));};d.prototype.MOb=function(g){var h,m,n;h=this;k.assert(c(g),"entries must be in topological order");if(0 === g.length){m=this.values;n=[];this.clear();}else (n=g.filter(function(r){return h.has(r.value) && r.parent !== h.parent(r.value);}),m=this.values.filter(function(r){return -1 === l.fs(g,function(p){return p.value === r;});}),this.clear(),g.forEach(function(r){return h.add(r.value,r.parent);}));return {SM:m,J1a:n};};d.prototype.AMa=function(g,h){var m;g.parent=h;(null !== (m=h.children) && void 0 !== m?m:h.children=[]).push(g);};d.prototype.detach=function(g){var h;k.assert(g.parent,"cannot detach the root");k.assert(void 0 !== g.parent.children,"logic error: parent node does not have children");h=g.parent.children.indexOf(g);k.assert(0 <= h,"logic error: node does not appear in the children of its parent");g.parent.children.splice(h,1);g.parent=void 0;};d.prototype.qEb=function(g,h){for(;void 0 !== h;){if(h === g)return !0;h=h.parent;}return !1;};return d;})();b.rHa=q;},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Ova=void 0;c=a(2);f=c.__importDefault(a(4));k=a(14);l=a(9);d=a(22);g=a(6);h=a(114);m=a(67);q=(function(){function n(r,p,u,t,w,v,x){var y;y=this;void 0 === x && (x=500);this.H=r;this.config=p;this.Jb=u;this.events=t;this.kia=w;this.Df=v;this.$mb=x;this.Tpa=this.Tk=0;this.p5=[];this.k2={xs:0};this.state=new l.nq(k.wc.zi);this.fe=new l.nq(k.ja.Ig);this.Ph=new h.qA({hC:10,jt:this,source:"BufferStateTracker",yea:function(){return {isBuffering:y.Pf,alwaysRunUnderflowTimer:y.config.KJ};}});}Object.defineProperties(n.prototype,{xs:{get:function(){return this.k2.xs;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Pf:{get:function(){return k.Vq(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.C8=function(r){var p;p=this;Array.isArray(r) || (r=[r]);r.forEach(function(u){0 === u.mediaType && (p.mNa=c.__assign(c.__assign({},p.mNa),{audio:{trackId:u.trackId,trackIndex:u.ON}}));});};n.prototype.f_a=function(r){this.set(k.wc.zi);this.aH(r,k.wc.Sc);};n.prototype.Y5=function(){this.k2.xs++;};n.prototype.gV=function(r){this.config.KJ || void 0 === this.Ey && this.Pf && this.Uga();this.Ey={GF:r.httpCode,Og:r.errorCode,Ri:r.nativeCode};};n.prototype.h6=function(){this.Ey=void 0;this.config.KJ || this.P1();};n.prototype.Ij=function(r){this.Pf || (this.aH(r,k.wc.ef),this.Pf && (this.Ey || this.config.KJ) && this.Uga());};n.prototype.jLb=function(r,p){this.state.value !== k.wc.Sc && this.aH(r,k.wc.NP);this.C8(p);};n.prototype.IKb=function(r,p){var u;u=this;this.config.Zmb && this.Pf && (-1 === this.p5.indexOf(r) && this.p5.push(r),2 === this.p5.length && Promise.resolve().then(function(){u.Pf && void 0 !== u.Xv && u.Se("memoryLimit",p.XW,p.ZW);}));};n.prototype.LRb=function(r,p){g.assert(this.state.value === k.wc.Sc && void 0 === this.Xv);this.Xv=r;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.ON}),this.C8(p));};n.prototype.XRb=function(r,p,u){g.assert(this.Pf);this.Jla=null !== r && void 0 !== r?r:this.Jla;this.Hla=null !== p && void 0 !== p?p:this.Hla;void 0 === this.a4?this.a4=u:void 0 !== (null === u || void 0 === u?void 0:u.reason) && (this.a4.reason=u.reason);};n.prototype.Se=function(r,p,u){var t;g.assert(this.Pf && void 0 !== this.Xv && void 0 === this.OE && void 0 === this.H8 && void 0 === this.s0);this.OE=r;this.H8=p;this.s0=u;this.ap=100;this.cOa();this.P1();null === (t=this.aga) || void 0 === t?void 0:t.wb();this.state.value === k.wc.ef && (this.Tpa=f.default.time.aa());this.c2();this.set(k.wc.Zj);this.s0=this.H8=this.OE=this.a4=this.Hla=this.Jla=this.Xv=void 0;};n.prototype.stop=function(){var r;this.set(k.wc.zi);this.cOa();this.P1();null === (r=this.aga) || void 0 === r?void 0:r.wb();};n.prototype.$fa=function(r,p,u,t){var w,v,x,y,z,B,A,C,E,F;w=this;g.assert(this.Pf);null === (v=this.aga) || void 0 === v?void 0:v.wb();if(this.state.value === k.wc.ef && f.default.time.aa() < this.Tpa + this.config.aoa){z=this.config.aoa - (f.default.time.aa() - this.Tpa);this.aga=this.Df.gK(m.mj.VC(d.S.rb(z)),function(){w.$fa(r,p,u,t);});}else {v=u.vT(0);B=u.vT(1);A=f.default.time.aa() - this.Tk;if(v || B){C=function(D){return D?D.VB() || D.Ts()?t.Zfa(w.state.value,r,A >= w.config.$y,p,D,w.xs):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};E=C(v);C=C(B);F=function(D){var G;return {reason:D.reason,complete:D.complete,bl:null !== (G=D.bB) && void 0 !== G?G:0};};this.Ph.Ju({as:F(E),vs:F(C),bt:A});F=B?C:E;F.MXb=B && C.bB || 0;F.Qlb=v && E.bB || 0;E.complete && C.complete?(F.complete=!0,this.Se(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.MXb) && void 0 !== x?x:0,null !== (y=F.Qlb) && void 0 !== y?y:0)):(F.complete=!1,this.nnb(F),this.Ph.Ju({bp:this.ap}));}}};n.prototype.nnb=function(r){var p,u,t;t=r.progress;r.bC?t=(f.default.time.aa() - this.Tk) / this.config.$y:t || (t=(null !== (p=r.bB) && void 0 !== p?p:0) / this.config.Qi);r=Math.min(Math.max(Math.round(100 * t),null !== (u=this.ap) && void 0 !== u?u:0),99);r != this.ap && (this.ap=r);};n.prototype.aH=function(r,p){g.assert(p === k.wc.Sc || void 0 !== r);this.Xv=r;this.ap=0;this.U5=void 0;this.k2.xs=0;this.p5=[];r=this.state.value === k.wc.Sc || this.state.value === k.wc.ef;this.Tk=f.default.time.aa();this.set(p);r || (this.Yub(),this.uSb());};n.prototype.set=function(r){this.state.set(r);switch(r){case k.wc.zi:this.fe.set(k.ja.zi);break;case k.wc.Sc:case k.wc.NP:this.fe.set(k.ja.Sc);break;case k.wc.ef:this.fe.set(k.ja.ef);break;case k.wc.Zj:this.fe.set(k.ja.yc);}};n.prototype.Yub=function(){g.assert(this.events && void 0 !== this.ap);this.U5=this.ap;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.aa(),percentage:this.ap});};n.prototype.uSb=function(){var r;r=this;this.uoa=setInterval(function(){return r.Xub();},this.$mb);};n.prototype.cOa=function(){this.uoa && (clearInterval(this.uoa),this.uoa=void 0);};n.prototype.Xub=function(){this.Pf && this.events && void 0 !== this.ap && this.ap !== this.U5 && this.events.emit("buffering",{type:"buffering",time:f.default.time.aa(),percentage:this.ap}) && (this.U5=this.ap);};n.prototype.c2=function(){var r;g.assert(this.events && this.Xv && void 0 !== this.OE && void 0 !== this.s0 && void 0 !== this.H8);this.U5=this.ap;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.aa(),actualStartPosition:this.Xv,reason:this.OE,aBufferLevelMs:this.s0,vBufferLevelMs:this.H8,selector:this.Jla,initBitrate:this.Hla,initSelReason:null === (r=this.a4) || void 0 === r?void 0:r.reason,skipbackBufferSizeBytes:this.D7b},this.mNa));};n.prototype.Uga=function(){var r;r=this;this.config.l6a && (!this.Gz || this.Gz.state !== m.ul.complete && this.Gz.state !== m.ul.rK?void 0 === this.Gz && (this.Gz=this.Df.mB(function(){return r.H5a();},"underflow")):this.Gz.nl());};n.prototype.P1=function(){this.Gz && (this.Gz.state !== m.ul.rK && this.Gz.wb(),this.Gz=void 0);};n.prototype.H5a=function(){var r,p,u;return c.__generator(this,function(t){switch(t.label){case 0:return (r=this.config.Z4,this.H.trace("BufferingStateTracker: starting underflow timer: " + r + "ms"),[4,m.mj.VC(d.S.rb(r))]);case 1:(t.Oe(),t.label=2);case 2:if(!this.Pf)return [3,4];p=this.Jb.WWa || 0;u=f.default.time.aa() - p;if(u >= r)return (this.H.trace("Forcing streaming failure, " + u + "ms since data received"),this.kia.lLb(this.Ey),[2]);this.H.trace("BufferingStateTracker: network activity, wait " + (r - u) + "ms");return [4,m.mj.VC(d.S.rb(r - u))];case 3:return (t.Oe(),[3,2]);case 4:return [2];}});};c.__decorate([h.Xb({methodName:"onTemporaryNetworkError",Jl:!0})],n.prototype,"gV",null);c.__decorate([h.Xb({methodName:"onUnderflow",Jl:!0})],n.prototype,"Ij",null);c.__decorate([h.Xb({methodName:"bufferingComplete",Jl:!0})],n.prototype,"Se",null);c.__decorate([h.Xb({methodName:"stop",Jl:!0})],n.prototype,"stop",null);c.__decorate([h.Xb({methodName:"checkStreamingBufferingComplete",Jl:!0})],n.prototype,"$fa",null);c.__decorate([h.Xb({methodName:"createUnderflowTask",Jl:!0})],n.prototype,"Uga",null);c.__decorate([h.Xb({methodName:"destroyUnderflowTask",Jl:!0})],n.prototype,"P1",null);c.__decorate([h.Xb({methodName:"onUnderflowTimeout",Jl:!0})],n.prototype,"H5a",null);return n;})();b.Ova=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mRa=void 0;c=a(30);b.mRa=function(f,k){var l;l=[];f=f.filter(function(d){return d.NT;}).map(function(d){var g,h;g=k(d.N);h=c.ds(g,d.Fg).map(function(m){return m.mediaType;});l=c.qMa(l,h);return {ub:d,Fg:g};});return {fob:l,Smb:f};};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eGa=void 0;c=a(2);f=a(22);k=a(6);b.eGa=(function(){function l(){}l.YBb=function(d){var g,h,m;if(d.sk){d=c.__read(d.Fg,2);m=d[1];d=null === (g=d[0].oo) || void 0 === g?void 0:g.Ll;g=null === (h=null === m || void 0 === m?void 0:m.oo) || void 0 === h?void 0:h.Ll;k.assert(d);h=g?f.S.min(d,g):d;return {UXb:d,WXb:h};}};return l;})();},function(q,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Hva=void 0;c=a(16);f=a(9);k=a(67);l=a(19);d=a(14);q=(function(){function g(h,m,n,r,p,u){this.Df=h;this.uo=m;this.config=n;this.xKb=r;this.hf=p;this.console=u;this.o_=new c.zh();}g.Cyb=function(h){var m;return null !== (m=h.pf) && void 0 !== m?m:h.yV;};g.Dzb=function(h){var m,n;m=h.P;n=h.gM;return m.Ki?m.Ki:n.length?n[0]:h.Uy[0];};g.prototype.jta=function(h,m){var n,r,p,u;n=this;p=h.P;this.reset();if(!(p.Pt || 1 >= p.Uy.length && (null === (r=p.Qv) || void 0 === r || !r.length))){u=this.pnb(h);r=u.xra;m=m.lessThan(u.yDb);this.XQb(p,m?r:void 0);m && !this.config.KLb && (l.ka && this.console.trace("BranchDecisionMaker: listening for branch streaming complete on " + h.P.id),p=this.Ooa.bind(this,p),this.o_.on(h.events,"branchStreamingComplete",p),this.o_.on(h.events,"branchEdited",function(){n.jta(h,n.Df.wa.currentTime);}));}};g.prototype.bOa=function(){var h;null === (h=this.jha) || void 0 === h?void 0:h.wb();this.jha=void 0;};g.prototype.reset=function(){this.bOa();this.o_.clear();};g.prototype.pnb=function(h){var m,n;h=g.Cyb(h);m=f.S.rb(this.config.jC);n=f.S.rb(this.config.bJb + this.config.MU);m=h.Ba(m);return {yDb:d.Vq(this.hf.value)?h.Ba(n):m,xra:m};};g.prototype.XQb=function(h,m){var n;n=this;this.bOa();this.jha=m?this.Df.gK(k.mj.YN(m),function(){return n.mna(h);},"scheduled branch decision"):this.uo.gK(k.mj.dYb,function(){return n.mna(h);},"immediate branch decision");};g.prototype.Ooa=function(h){var m;d.Vq(this.hf.value) && (null === (m=this.jha) || void 0 === m?void 0:m.wb(),this.mna(h));};g.prototype.mna=function(h){var m;this.o_.clear();m=g.Dzb(h);l.ka && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + m);this.xKb(h.id,m,!0);};return g;})();b.Hva=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vSa=void 0;c=a(955);b.vSa=function(f,k){return f.reduce(function(l,d){var g;g=k(d);d.ny().forEach(function(h){return l.rea(h.mediaType,h.rx,!g);});return l;},new c.NEa());};},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NEa=void 0;c=a(433);q=(function(){function f(){this.Gq=new c.nP();this.rS=new c.nP();}Object.defineProperties(f.prototype,{total:{get:function(){var k;k=new c.nP();k.add(this.Gq);k.add(this.rS);return k;},enumerable:!1,configurable:!0}});f.prototype.add=function(k){this.Gq.add(k.Gq);this.rS.add(k.rS);};f.prototype.rea=function(k,l,d){(d?this.rS:this.Gq).rea(k,l);};return f;})();b.NEa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vUa=void 0;b.vUa=function(a,c){return a.reduce(function(f,k){return f + k.Bja(c).V;},0);};},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YOa=void 0;c=a(2);f=a(14);b.YOa=function(k){var h,m;function l(n){f.Vq(n.newValue) && !f.Vq(n.oldValue)?(null === m || void 0 === m?void 0:m.wb(),m=h.gK.apply(h,c.__spread(d))):null === m || void 0 === m?void 0:m.wb();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=k.yf;h=k.uo;g.state.addListener(l);l({oldValue:f.wc.zi,newValue:g.state.value});};},function(q,b,a){var f,k;function c(l,d){return Object.keys(l.wC).map(function(g){return l.wC[g];}).filter(function(g){return void 0 === g.EF || 1 === g.EF;}).reduce(function(g,h){return g + h.Gq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.JGa=void 0;f=a(14);k=a(19);q=(function(){function l(d,g,h){this.Fa=d;this.console=g;this.Mja=h;}l.prototype.Onb=function(d,g,h){var m,n,r;k.ka && this.console.log("canIssueRequest " + this.Fa.id + " [" + g + "] " + h + " usage: " + JSON.stringify(d));m=h && this.Fa.config.pXb;h=this.Fa.config.Sta || m;n=this.Mja();if(m){m=d.global;m=(r={},r[0]=m[0] - c(d,0),r[1]=m[1] - c(d,1),r);}r=m;d=this.TNa(g) || this.qob(d) || this.oob(d,n,r) || this.pob(d,n,r,g);n=f.uqa(d);return !d || n && !h?{result:!0,reason:d}:(k.ka && this.console.log("canIssueRequest: " + this.Fa.id + " [" + g + "] Cannot issue request due to " + d),{result:!1,reason:d});};l.prototype.TNa=function(d){var g;g=this.Fa.config.Py;if(this.Fa.qzb(d) >= (g || Infinity))return "mediaDurationLimit";};l.prototype.qob=function(d){return d.wC[this.Fa.id].total.total > (this.Fa.e3() || Infinity)?"playgraphMemoryLimit":void 0;};l.prototype.oob=function(d,g,h){d=d.global;return h?h[0] + h[1] > (g.Asa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};l.prototype.pob=function(d,g,h,m){var n;n=d.global;return h?(k.ka && this.console.log("checkRequestByMediaTypeMemory [" + m + "]: using static limit " + (g.Asa[m] + ", usage: " + h) + (" (global: " + n[m] + "  - certain contiguous: ") + (c(d,m) + ")")),h[m] > (g.Asa[m] || Infinity)?1 === m?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[m] > (g.total[m] || Infinity)?1 === m?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return l;})();b.JGa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GEa=void 0;q=(function(){function a(c){this.console=c;this.fga();}a.prototype.get=function(c){return this.L1[c] || this.Ji[c];};a.prototype.set=function(c,f){void 0 === this.Ji[c] && (this.Ji[c]=f);};a.prototype.PRb=function(c,f){void 0 === this.get(c) && (this.L1[c]=f);};a.prototype.clear=function(c){this.L1[c]=void 0;this.Ji[c]=void 0;};a.prototype.Lob=function(c){var f;this.Ji=(f={},f[c]=this.Ji[c],f);this.L1={};};a.prototype.fga=function(){this.Ji={};this.L1={};};return a;})();b.GEa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.IEa=b.pD=void 0;c=a(2);f=a(6);(function(l){l[l.G9=0]="CREATED";l[l.lba=1]="STARTED";l[l.HP=2]="REQUEST_ISSUED";l[l.uw=3]="EVALUATED";})(k=b.pD || (b.pD={}));q=(function(){function l(d){this.Sv=d;this.Gc=k.G9;this.LC={};this.FW={};}Object.defineProperties(l.prototype,{state:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});l.prototype.start=function(){var d;d=this;this.Gc !== k.lba && (this.GU(k.lba),[k.uw,k.HP].forEach(function(g){var h;h=new Promise(function(m){f.assert(d.FW && d.LC,"state promises should be defined");d.FW[g]=m;d.LC[g]=h;});}),this.Sv(),this.GU(k.uw));};l.prototype.GU=function(d){this.Gc=d;this.FW && (d=this.FW[d],null === d || void 0 === d?void 0:d());};l.prototype.wb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Gc !== k.lba)return [3,2];f.assert(this.LC,"state resolves should be defined");return [4,this.LC[k.uw]];case 1:(d.Oe(),d.label=2);case 2:return (this.FW=this.LC=void 0,[2]);}});});};l.prototype.O8=function(d,g){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(m){switch(m.label){case 0:if(this.Gc === k.uw)return [3,6];f.assert(this.LC,"state promises should be defined");h=d;switch(h){case k.uw:return [3,1];case k.HP:return [3,3];}return [3,5];case 1:return [4,this.LC[k.uw]];case 2:return (m.Oe(),[3,6]);case 3:return [4,this.LC[k.HP]];case 4:return (m.Oe(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return l;})();b.IEa=q;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IFa=void 0;c=a(2);f=a(6);k=c.__importDefault(a(4));l=a(114);d=a(67);g=a(9);q=(function(){function h(m,n,r){var b31,p;b31=2;for(;b31 !== 14;){switch(b31){case 4:var N5u="R";N5u+="eque";N5u+="st";N5u+="Pacer";var g5u="1S";g5u+="IYbZr";g5u+="NJ";g5u+="C";g5u+="p9";var K5u="m";K5u+="edia|";K5u+="as";K5u+="ejs";var V5u="ASE";V5u+="JS_";V5u+="REQUEST_";V5u+="P";V5u+="ACER";this.fE=0;this.console=new k.default.Console(V5u,K5u);g5u;this.Sn=new l.qA({jt:this,source:N5u,yea:function(){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 2:return {numOutstanding:p.fE};break;}}},hC:10});b31=7;break;case 2:p=this;this.C4=m;this.config=n;b31=4;break;case 7:this.Q1a=new g.BZ();this.Yfa=r.mB(function(){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:return p.UNa(k.default.time.aa());break;}}});b31=14;break;}}}var a31;a31=2;for(;a31 !== 13;){switch(a31){case 2:Object.defineProperties(h.prototype,{iKb:{get:function(){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:return this.fE;break;}}},enumerable:!1,configurable:!0}});h.prototype.xm=function(){var f31;f31=2;for(;f31 !== 5;){switch(f31){case 2:this.Sn.Ju({taskState:this.Yfa.state});this.Yfa.state !== d.ul.eW && this.Yfa.nl();f31=5;break;}}};h.prototype.px=function(m){var g31;g31=2;for(;g31 !== 4;){switch(g31){case 2:var T5u="More th";T5u+="an maxAllowedOu";T5u+="tstandingR";T5u+="eque";T5u+="sts are outstanding";this.Sn.Ju({mediaType:m.mediaType,contentStartPts:m.Jc,contentEndPts:m.pc});this.fE++;f.assert(this.fE <= this.config.Y4,T5u);g31=4;break;}}};h.prototype.BG=function(m){var h31;h31=2;for(;h31 !== 3;){switch(h31){case 4:var x5u="rem";x5u+="ov";x5u+="eR";x5u+="eq";x5u+="uest";this.xm(x5u);h31=3;break;case 2:var B5u="Received remove request ";B5u+="when there are no ";B5u+="r";B5u+="eq";B5u+="uests outstanding";this.Sn.Ju({mediaType:m.mediaType,contentStartPts:m.Jc,contentEndPts:m.pc});this.fE--;f.assert(0 <= this.fE,B5u);h31=4;break;}}};a31=3;break;case 7:var U6u="U";U6u+="N";U6u+="a";var F6u="check";F6u+="Req";F6u+="uestOpportunity";F6u+="R";F6u+="unner";var i5u="B";i5u+="G";var s5u="r";s5u+="emove";s5u+="Reque";s5u+="st";c.__decorate([l.Xb({methodName:s5u,Jl:!0})],h.prototype,i5u,null);c.__decorate([l.Xb({methodName:F6u,Jl:!0})],h.prototype,U6u,null);return h;break;case 3:var M6u="p";M6u+="x";var b6u="addRe";b6u+="que";b6u+="st";var o6u="x";o6u+="m";var L6u="c";L6u+="heckR";L6u+="eque";L6u+="stOpportunity";h.prototype.UNa=function(m){var i31,n,r,p;i31=2;for(;i31 !== 5;){switch(i31){case 2:return c.__generator(this,function(){var j31;j31=2;for(;j31 !== 6;){switch(j31){case 4:this.Q1a.push(r);j31=3;break;case 2:n=this.config.Y4;r=k.default.time.aa() - m;p=0;j31=4;break;case 3:j31=this.fE < n && this.C4()?9:8;break;case 9:p++;j31=3;break;case 8:var y6u="requestO";y6u+="pportunit";y6u+="yR";y6u+="unnerCompl";y6u+="ete";this.Sn.lR(y6u,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:r},!0);return [2];break;}}});break;}}};c.__decorate([l.Xb({methodName:L6u,Jl:!0,cs:!0})],h.prototype,o6u,null);c.__decorate([l.Xb({methodName:b6u,Jl:!0})],h.prototype,M6u,null);a31=7;break;}}})();b.IFa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eya=void 0;c=a(54);q=(function(){function f(k){this.Jb=k;}Object.defineProperties(f.prototype,{Ii:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Ln=function(k){var l;if(k.ji === c.ae.ip && this.Jb){k={};l=this.Jb.get();l && l.avtp && l.avtp.Ea && (k.avtp=l.avtp.Ea,k.dltm=l.avtp.V1);l && l.cdnavtp && (k.cdnavtp=l.cdnavtp,k.activecdnavtp=l.activecdnavtp);if(l=this.Jb.j3())(l.bytesRequestedPacingVideo && (k.bytesRequestedPacingVideo=l.bytesRequestedPacingVideo,k.bytestotalVideo=l.bytestotalVideo),l.bytesRequestedPacingAudio && (k.bytesRequestedPacingAudio=l.bytesRequestedPacingAudio,k.bytestotalAudio=l.bytestotalAudio));this.Jb.flush();if(l=this.Jb.fTa())for(var d in l){l.hasOwnProperty(d) && (k["ne" + d]=Number(l[d]).toFixed(6));}return k;}};return f;})();b.eya=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.AGa=void 0;c=a(54);q=(function(){function f(k){k.events.on("streamSelection",this.Xoa.bind(this));}f.prototype.Xoa=function(k){0 === k.mediaType && void 0 === this.QVa?this.QVa=k:1 === k.mediaType && void 0 === this.TVa && (this.TVa=k);};Object.defineProperties(f.prototype,{Ii:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Ln=function(k){var l;if(k.ji === c.ae.JC)return (k=null !== (l=this.TVa) && void 0 !== l?l:this.QVa,{histdiscbw:null === k || void 0 === k?void 0:k.result.Ps,histage:null === k || void 0 === k?void 0:k.result.On});};return f;})();b.AGa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.VGa=void 0;q=a(2);c=a(16);f=a(19);k=q.__importDefault(a(4));a=(function(){function l(d){this.Df=d;this.RZ=[];this.reset();}Object.defineProperties(l.prototype,{Ii:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nC:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return f.ka;},enumerable:!1,configurable:!0}});l.prototype.reset=function(){var d,g;d=this;null === (g=this.cJ) || void 0 === g?void 0:g.clear();this.cJ=new c.zh();this.cJ.on(this.Df,"clockChanged",function(){d.reset();d.eT("initial");});this.cJ.on(this.Df,"stopping",function(){d.eT("stopping");});this.cJ.on(this.Df.wa,"clockAdjusted",function(){d.eT("clockAdjusted");});this.cJ.on(this.Df.wa,"stopStart",function(){d.eT("stopStart");});this.cJ.on(this.Df.wa,"speedChanged",function(){d.eT("speedChanged");});};l.prototype.eT=function(d){this.RZ.push({reason:d,audit:this.Df.oyb(),time:k.default.time.aa()});5 < this.RZ.length && this.RZ.shift();};l.prototype.Ln=function(){return this.RZ;};return l;})();b.VGa=a;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KFa=void 0;c=a(54);q=(function(){function f(k,l){this.Jb=k;this.R1a=l;}Object.defineProperties(f.prototype,{Ii:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Ln=function(k){var l;k=k.ji;if(k === c.ae.ip || k === c.ae.zr || void 0 === k){k={numOutstandingRequests:this.R1a.iKb,requestOpportunityDelayStats:this.R1a.Q1a};l=this.Jb.jLa;l && l.length && (k.activeRequests=JSON.stringify(l));return k;}};return f;})();b.KFa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iya=void 0;q=(function(){function a(c){this.h2=c;this.nC="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{Ii:{get:function(){return this.nC;},enumerable:!1,configurable:!0}});a.prototype.Ln=function(){var c;c=this.h2.XMb.map(function(f){var k;k=f.Fa;return {id:k.id,weight:k.weight,relativeWeight:f.RV};});return {prefetcher:this.h2.xt.getStats(),playgraphs:c,viewables:this.h2.VXb,players:this.h2.n0a.length};};return a;})();b.iya=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Oya=void 0;c=a(6);f=a(433);q=(function(){function k(){this.global=new f.nP();this.wC={};}k.prototype.add=function(l,d){c.assert(void 0 === this.wC[l],"Cannot add new memory object for playgraph");this.wC[l]=d;this.global.add(d.Gq);this.global.add(d.rS);};return k;})();b.Oya=q;},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cCa=void 0;c=a(2);f=a(19);k=a(429);l=a(114);q=(function(){function d(g,h,m){this.Mja=g;this.Hzb=h;this.H=m;this.Ph=new l.qA({jt:this,console:m,source:"MemoryDeadlockProtector",hC:5});}d.prototype.Gxb=function(g){var h,m,n,r;n=g.config;r=n.Qi + (null !== (m=null === (h=n.vN) || void 0 === h?void 0:h.V) && void 0 !== m?m:0);h=this.CCb(r,g);f.ka && this.H.debug("MDP: has prebuf: " + h);return h?{Q1:!0}:(m=this.znb(n),h=m.DLb,m=m.yXb,h && m?(f.ka && this.H.debug("MDP: utilizing " + Math.round(100 * m) + "%"),m >= n.wIb?this.$1a(g,h):{Q1:!0}):{Q1:!1});};d.prototype.$1a=function(g,h){var m,n,r,p,u,w,y,z;this.Ph.Ju({o:h});p=g.T;g=g.Ab;u=p.Ab;p=p.QF;for(var t=0;t < u.length;t++){if(!u[t].Wo){p=u[t];u=u.slice(0,t + 1);break;}}t=!1;w=[{mediaType:0,cB:0},{mediaType:1,cB:0}];if(null === p || void 0 === p || !p.Wo){g=g.map(function(A){return A;}).filter(function(A){return -1 === u.indexOf(A);}).sort(function(A,C){return k.Jfa(A) - k.Jfa(C);});try{for(var v=c.__values(g),x=v.next();!x.done;x=v.next()){y=x.value;z=y.sF();w[0].cB+=null !== (n=z.fR) && void 0 !== n?n:0;w[1].cB+=null !== (r=z.Jz) && void 0 !== r?r:0;f.ka && this.H.debug("Resetting discontiguous branch " + y.P.id,z);y.reset();if(t=w.every(function(A){return A.cB >= h[A.mediaType].cB;}))break;}}catch(A){var B;B={error:A};}finally{try{x && !x.done && (m=v.return) && m.call(v);}finally{if(B)throw B.error;}}}return {Q1:t,K4b:w};};d.prototype.znb=function(g){var h,m,n,r;if(!g.xIb)return {};h=this.Hzb();m=this.Mja().total;n=g.vIb;r=0;g=[0,1].map(function(p){var u;u=h[p] - m[p] * n;r=Math.max(0 < m[p]?h[p] / m[p]:0,r);return {cB:Math.max(0,u),mediaType:p};});return {yXb:r,DLb:g};};d.prototype.CCb=function(g,h){var m,n;m=!1;h=h.F3?h.T:void 0;if(null === h || void 0 === h?0:h.UDb){m=h.Mh.ny().map(function(r){return r.mediaType;});n=h.Tyb();m=m.every(function(r){var p,u;if(0 === r)r=null !== (p=n.Zr) && void 0 !== p?p:0;else if(1 === r)r=null !== (u=n.ro) && void 0 !== u?u:0;else throw Error("Unsupported media type:" + r);return r >= g;});}return m;};c.__decorate([l.Xb({methodName:"resetDiscontiguousBranches",return:!0,Jl:!0})],d.prototype,"$1a",null);return d;})();b.cCa=q;},function(q,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dva=void 0;q=a(2);c=a(9);f=q.__importDefault(a(27));k=a(30);l=q.__importDefault(a(404));d=a(54);a=(function(){function g(h){var m,n;m=this;this.Fa=h;this.$u="aseReport";this.wNa=c.S.PB;this.wn=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.WA || h.config.ZRa){this.wNa=c.S.rb(h.config.E0);this.Fa.gs=!0;n=[];n[f.default.Za.Hb]=new l.default(h.config,f.default.Za.Hb);n[f.default.Za.Tb]=new l.default(h.config,f.default.Za.Tb);this.Pda=n;this.Fa.events.on("openComplete",function(){return m.open();});}}g.prototype.open=function(){this.Fa.gs && !this.wn && (this.wn=!0,this.Fa.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.Fa.events.on("streamSelection",this.Xoa.bind(this)));};g.prototype.Xoa=function(h){this.Pda[h.mediaType].add(h.result,h.streamList);};g.prototype.wka=function(){var h;h=k.flatten(this.Pda.map(function(m){return m.get();}).filter(function(m){return void 0 !== m;}));this.Pda.forEach(function(m){return m.reset(!0);});return h;};g.prototype.Of=function(h){var m;m=h.ji;h=h.xEb;return this.Fa.gs && this.wn && (h || m === d.ae.ip) && (m=this.wka()) && m.length?{z3a:!0,event:{type:"asereport",strmsel:m}}:{z3a:!1,event:{type:"asereport",strmsel:[]}};};return g;})();b.dva=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.bFa=void 0;c=a(2);f=a(16);k=a(14);l=a(9);d=a(971);g=a(30);h=a(6);m=a(972);n=a(19);r=a(95);p=a(973);u=c.__importDefault(a(4));t=a(974);w=a(975);v=a(976);x=a(257);y=a(978);z=a(979);q=(function(){function B(A,C,E,F,D){void 0 === F && (F=new w.gxa());void 0 === D && (D=new t.fxa());this.dRa=A;this.config=C;this.q1a=F;this.Yl=[];this.x0a=[];this.$N=[];this.events=new f.EventEmitter();this.H=l.Ys(u.default,E,"PREFETCH");this.zLa(new v.Jwa(C));this.zLa(new z.iGa(C));this.U2a({JF:C.qNb});this.Yra(D);}Object.defineProperties(B.prototype,{rNb:{get:function(){return this.Yl.map(function(A){return A.context;});},enumerable:!1,configurable:!0}});B.prototype.jSb=function(A){n.ka && h.assert(A,"Reconciliation strategy is undefined");this.q1a=A;};B.prototype.zLa=function(A){this.x0a.unshift(A);};B.prototype.r3a=function(A){n.ka && this.H.debug("Wish list changed",{A6b:A.length});this.$N=A;this.Zpa();};B.prototype.reset=function(){var A,F,D,G,I,J;if(this.config.ANb)try{for(var C=c.__values(this.Yl),E=C.next();!E.done;E=C.next()){F=E.value;D=F.Fa;G=F.H4;I=F.context;if(D){D.zf();G.Iqa(function(M){return "segmentNormalized" !== M.$u;});J=x.o3(I.Pe,D.Fa);D.MG(J);}}}catch(M){var H;H={error:M};}finally{try{E && !E.done && (A=C.return) && A.call(C);}finally{if(H)throw H.error;}}else this.r3a([]);};B.prototype.U2a=function(A){n.ka && this.H.debug("Budget changed",{J6b:this.IR,z6b:A});this.IR=A;this.Zpa();};B.prototype.Fob=function(A,C){var E,F,D,G,I;if(C=this.q1a.Wwb(this.Yl,{Fa:A,kl:C})){D=this.$N.indexOf(C.context.Pe);n.ka && this.H.debug("Claiming item: " + x.Ls(C.context.Pe.key),{Cl:u.default.time.aa() - C.g8,buffer:null === (E=C.Fa) || void 0 === E?void 0:E.Hh(l.S.hb)});this.Tha(C.context,{UWa:! !C.Fa});if(C.Fa){E=C.Fa;G=C.context;I=C.jr;y.$Ea.VPb(E,C.H4,this.H);A=x.o3(G.Pe,A);I.RQb(null !== (F=E.FT(A)) && void 0 !== F?F:l.S.hb,D);E.Q5a({JF:this.config.$s || Infinity});}}this.config.alb || this.reset();return null === C || void 0 === C?void 0:C.Fa;};B.prototype.Eob=function(){};B.prototype.getStats=function(){var A;A=u.default.time.aa();return {wishListLength:this.$N.length,prefetchList:this.rNb.length,contents:this.Yl.map(function(C){var E,F,D,G,I;return {id:x.Ls(C.context.Pe.key),buffer:null === (E=C.Fa) || void 0 === E?void 0:E.Hh(l.S.hb),pId:null === (F=C.Fa) || void 0 === F?void 0:F.id,budget:{inMemoryBytes:C.context.OWa.JF},weight:C.context.A6,age:A - C.g8,timeOpened:A - (null !== (D=C.dVb) && void 0 !== D?D:0),state:k.wc[null !== (I=null === (G=C.Fa) || void 0 === G?void 0:G.hf.value) && void 0 !== I?I:k.wc.zi]};})};};B.prototype.Tha=function(A,C){var E,F,D;void 0 === C && (C={});F=c.__assign({UWa:!1,SWa:!1},C);C=F.UWa;F=F.SWa;D=g.wg(this.Yl,function(G){return G.context === A;});D && (this.Yl.splice(this.Yl.indexOf(D),1),F || (this.$N=this.$N.filter(function(G){return G !== A.Pe;})),n.ka && this.H.debug("Dropping playgraph",{Cl:u.default.time.aa() - D.g8,buffer:null === (E=D.Fa) || void 0 === E?void 0:E.Hh(l.S.hb),e7b:!C}),C || this.gr(D),this.Zpa());};B.prototype.Yra=function(A){h.assert(A,"Playgraph resolver is undefined");this.Ipa=A;return this;};B.prototype.Zpa=function(){var A,C,E,F,D,G;A=this;C=d.qwa.lEb({oYb:this.$N,cCb:this.IR},this.x0a.map(function(I){return I.ANa.bind(I);})).Yl;E=g.ds(C,this.Yl,function(I,J){return x.isEqual(I.Pe.key,J.context.Pe.key);});F=g.ds(this.Yl,C,function(I,J){return x.isEqual(I.context.Pe.key,J.Pe.key);});D=g.ds(this.Yl,F);n.ka && this.H.debug("Re-evaluated prefetch items. new:" + E.length + ", evict: " + F.length + ", update: " + E.length);F=F.map(function(I){var J;J=I.context.Pe.key;n.ka && A.H.debug("Releasing playgraph",x.Ls(J));return A.gr(I).then(function(){A.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:I.context.Pe});});});G=D.map(function(I){return c.__awaiter(A,void 0,void 0,function(){var J,H;return c.__generator(this,function(M){switch(M.label){case 0:return (J=g.wg(C,function(O){return x.isEqual(O.Pe.key,I.context.Pe.key);}),h.assert(J,"Couldn't find the requested item context"),[4,I.z6]);case 1:return (H=M.Oe(),g.wg(this.Yl,function(O){return O === I;}) && (this.iMa(I.context,H),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:I.context.Pe})),[2]);}});});});E=E.map(function(I){var J;J=A.isb(I);A.events.emit("itemQueued",{type:"itemQueued",wishListItem:I.Pe});return J;});this.Yl=c.__spread(D,E);D=E.map(function(I){return I.z6.then(function(){});});D=F.concat(G).concat(D);Promise.all(D).then(function(){});};B.prototype.gr=function(A){var C;C=this;return A.z6.then(function(E){return c.__awaiter(C,void 0,void 0,function(){var F;return c.__generator(this,function(D){switch(D.label){case 0:return (n.ka && this.H.debug("Removing prefetch playgraph",{size:E.Hh(l.S.hb)}),A.ria.clear(),[4,this.dRa()]);case 1:return (F=D.Oe(),F.gr(E),[2]);}});});});};B.prototype.fsb=function(A){return c.__awaiter(this,void 0,void 0,function(){var C,E,F,D,G,I;I=this;return c.__generator(this,function(J){switch(J.label){case 0:return (C=A.context,E=x.Ls(C.Pe.key),n.ka && this.H.debug("Creating playgraph",E),[4,this.Ipa.aYa(C)]);case 1:return (F=J.Oe(),[4,this.dRa()]);case 2:return (D=J.Oe(),G=D.GE(F,C.A6,C.kl,C.Pe.zH,!1),A.ria.addListener(G.events,"error",function(H){n.ka && I.H.debug("Prefetch playgraph resulted in error",H.x4b);I.Tha(C);}),[2,G]);}});});};B.prototype.oLb=function(A,C){var E,F,D;E=this;F=A.context;D=x.Ls(F.Pe.key);this.iMa(F,C);C.open();C.Vv({pr:function(G,I){var J;J=G.defaultTrackOrderList[0].audioTrackId;return g.fs(I,function(H){return H.track_id === J;});}},{pr:function(G,I){var J;J=G.defaultTrackOrderList[0].videoTrackId;return g.fs(I,function(H){return H.track_id === J;});}});C.MG(x.o3(F.Pe,C.Fa));C=F.Pe.zH.Fs(D);C.events && A.ria.addListener(C.events,"viewableExpired",function(){A.N5b=!0;E.Tha(A.context,{SWa:!0});});};B.prototype.iMa=function(A,C){var E;C.d6a(A.A6);C.Q5a(A.OWa);A=A.VTb;E=A.video;C.bsa(new r.LD(A.audio,!0),new r.LD(E,!0));};B.prototype.isb=function(A){var C,E,F;C=this;E=new m.aFa();F={context:A,g8:u.default.time.aa(),ria:new f.zh(),jr:E};F.z6=this.fsb(F);F.z6.then(function(D){return c.__awaiter(C,void 0,void 0,function(){var G;G=this;return c.__generator(this,function(){try{return (F.Fa=D,D.ai(E),E.Llb(D),F.H4=new p.qya(D.events,{TSb:function(I){var J;J=I.$u;switch(J){case "buffering":return !1;case "bufferingStarted":F.H4.Iqa(function(H){return "bufferingComplete" === H.$u || "updateStreamingPts" === H.$u;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.H4.Iqa(function(H){return H.$u === J;});default:return !0;}}}),D.events.on("bufferingComplete",function(){G.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:A.Pe});}),this.oLb(F,D),F.dVb=u.default.time.aa(),[2,D]);}catch(I){throw (n.ka && this.H.error("Exception occurred creating playgraph",I),this.gr(F),I);}});});});return F;};return B;})();b.bFa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qwa=void 0;b.qwa=(function(){function a(){}a.lEb=function(c,f){var d;function k(g){return l(d++)(g,k);}function l(g){return g >= f.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + g);}:f[g];}d=0;return k(c);};return a;})();},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aFa=void 0;c=a(2).__importDefault(a(4));f=a(54);q=(function(){function k(){this.creationTime=c.default.time.aa();this.Sb={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}k.prototype.Llb=function(l){this.Fa=l;};k.prototype.RQb=function(l,d){var g;l=null === (g=this.Fa) || void 0 === g?void 0:g.Hh(l);this.Sb={isPrefetchItem:!0,prefetchedVideoMs:l.ZW,prefetchedAudioMs:l.XW,prefetchClaimDurationMs:c.default.time.aa() - this.creationTime,prefetchRank:d};};Object.defineProperties(k.prototype,{Ii:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Ln=function(l){if(l.ji === f.ae.JC)return this.Sb;};return k;})();b.aFa=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qya=void 0;c=a(2);q=(function(){function k(l,d){void 0 === d && (d={});this.lp=l;this.options=d;this.mF=[];this.YT=new f(l,this.rkb.bind(this));}k.prototype.rkb=function(l){for(var d,g,h,m,n,r,p=[],u=1;u < arguments.length;u++){p[u - 1]=arguments[u];}p={$u:l,cs:p};(null !== (h=null === (g=(d=this.options).TSb) || void 0 === g?void 0:g.call(d,p,this.mF)) && void 0 !== h?h:1) && this.mF.push(p);return null !== (r=null === (n=(m=this.options).z7b) || void 0 === n?void 0:n.call(m,p)) && void 0 !== r?r:!0;};k.prototype.Iqa=function(l){this.mF=this.mF.filter(function(d,g){return !l(d,g);});};k.prototype.Pqa=function(){var l;l=this;this.YT.J5a();this.mF.forEach(function(d){var g;(g=l.lp).emit.apply(g,c.__spread([d.$u],d.cs));});this.YT.$Va();};Object.defineProperties(k.prototype,{length:{get:function(){return this.mF.length;},enumerable:!1,configurable:!0}});k.prototype.clear=function(){this.mF=[];};k.prototype.wb=function(){this.YT.J5a();};return k;})();b.qya=q;f=(function(){function k(l,d){var g;g=this;this.lp=l;this.MR=d;this.YT=function(h){for(var m,n=[],r=1;r < arguments.length;r++){n[r - 1]=arguments[r];}return g.MR.apply(g,c.__spread([h],n))?(m=g.l_a).call.apply(m,c.__spread([g.lp,h],n)):!1;};this.l_a=this.lp.emit;this.$Va();}k.prototype.$Va=function(){this.lp.emit=this.YT;};k.prototype.J5a=function(){this.lp.emit=this.l_a;};return k;})();},function(q,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fxa=void 0;c=a(2);f=a(73);k=c.__importDefault(a(4));l=a(257);q=(function(){function d(){}d.prototype.aYa=function(g){return c.__awaiter(this,void 0,void 0,function(){var h,m,n,r,p;return c.__generator(this,function(u){switch(u.label){case 0:h=g.Pe.key;if(!l.cU(h))return [3,2];m=h.da;n=g.Pe.zH.Fs(m);return [4,k.default.Promise.resolve(n.Dr)];case 1:return (r=u.Oe(),p=r.sa,p.ym?[2,f.gB(p.ym,{config:r.config})]:[2,f.XG(m,"ps0")]);case 2:return [2,h.Fa];}});});};return d;})();b.fxa=q;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gxa=void 0;c=a(2);f=a(6);k=a(257);q=(function(){function l(){}l.Ls=function(d){var g,h;g=d.Ca;d=d.hg;h=g[d].da;Object.keys(g).forEach(function(m){return f.assert(g[m].da === h);});return g[d].da;};l.prototype.Wwb=function(d,g){return c.__read(d.filter(function(h){return l.Ls(g.Fa) === k.Ls(h.context.Pe.key);}),1)[0];};return l;})();b.gxa=q;},function(q,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Jwa=b.Nwa=void 0;c=a(95);f=a(977);b.Nwa=625E3;q=(function(){function k(l){this.config=l;}k.prototype.ANa=function(l){var d,g,h;d=this.config.N1;g=(this.config.DYa || this.config.M1) * b.Nwa / 1E3;h=Math.floor(l.cCb.JF / g);return {Yl:l.oYb.sort(function(m,n){return m.priority - n.priority;}).slice(0,d).map(function(m,n){var r;r=m.key.config;return {OWa:{JF:n > h - 1?0:g},Pe:m,A6:1,kl:r,VTb:{audio:[c.$E(r),new f.sba()],video:[c.aF(r),new f.sba()]}};})};};return k;})();b.Jwa=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sba=void 0;c=a(14);q=(function(){function f(){}f.prototype.Dm=function(k,l){return l === c.wc.Zj?[]:k;};return f;})();b.sba=q;},function(q,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ea=void 0;c=a(19);b.$Ea=(function(){function f(){}f.VPb=function(k,l,d){var g;g=k.open;k.open=function(){c.ka && d.log("Replaying " + l.length + " events from prefetched playgraph");l.Pqa();l.wb();k.open=g;return g.call(k);};};return f;})();},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iGa=void 0;q=(function(){function a(c){this.config=c;}a.prototype.ANa=function(c,f){var k,l;k=this;c=f(c);l=c.Yl.map(function(d){return d.Pe.priority;}).sort();c.Yl.forEach(function(d){d.A6=k.config.tNb / (2 << l.lastIndexOf(d.Pe.priority));});return c;};return a;})();b.iGa=q;},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.REa=void 0;q=(function(){function a(c){var f;f=this;c=c.xm;this.FF=function(){f.xm();};this.xm=c;}a.prototype.GE=function(c){c.events.on("requestsPruned",this.FF);};a.prototype.gr=function(c){c.events.removeListener("requestsPruned",this.FF);};return a;})();b.REa=q;},function(q,b){function a(c,f,k,l){return c && f?Math.min(c - f * k,c - l):(c || Infinity) - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.CNa=void 0;b.CNa=function(c,f){var k,l,d;l=a(f.audio,f.Zea,c.ROa,c.POa);d=a(f.video,f.cua,c.ROa,c.QOa);return (k={},k[0]=l,k[1]=d,k.total=(f.total || Infinity) - c.POa - c.QOa,k);};},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B;Object.defineProperties(b,{__esModule:{value:!0}});b.lGa=void 0;c=a(2);f=a(16);k=c.__importStar(a(10));l=a(14);d=a(226);g=a(14);h=a(9);m=a(6);n=a(22);r=a(220);p=a(54);u=a(95);t=a(114);w=a(256);v=c.__importDefault(a(4));x=a(983);y=a(984);z=v.default.Promise;B=0;q=(function(A){function C(E,F,D,G,I,J,H,M,O,L,P){var R,K,Q,N,da;N=A.call(this) || this;N.console=E;N.Wn=F;N.CQ=D;N.FJ=I;N.DW=J;N.Vu=M;N.T=L;N.config=P;N.vq=!1;N.QZ=!1;N.Vr=void 0;N.Se=function(){var na,va,ra,X,ta;null === (na=N.$P) || void 0 === na?void 0:na.clear();na=N.hfb;ta=N.jib;m.assert(na);N.Dg && m.assert(ta);N.Ok.value !== g.ja.pq && N.Ok.value !== g.ja.zi && (null !== (va=N.Ha) && void 0 !== va && va.Nn?(va=null === (X=null === (ra=N.Wn.Ma.Jb.get()) || void 0 === ra?void 0:ra.Oa) || void 0 === X?void 0:X.Ea,N.qa.t8("startplay",p.ae.JC),N.m8.lR("emitBufferingComplete",{}),x.c2(N,na,N.Ha.Cd,va,ta,N.qa.gs)):N.console.error("Shim received buffering complete but player has no position (player " + (N.Ha?"":"un") + "defined, state " + N.Ok.value + ")"));};N.yR=function(){var na,va,ra;N.m8.lR("audioTrackSwitchComplete",{});m.assert(void 0 !== N.rm);va=N.CQ.audio_tracks[N.rm];ra=N.rm;N.rm=void 0;x.FQa(N,va,ra);null === (na=N.bV) || void 0 === na?void 0:na.call(N);N.bV=void 0;};m.assert(2 >= G.length,"Ase session shim suports a maximum of 1 parallel graph.");D=c.__read(G,2);E=D[0];D=D[1];N.Yh=new f.zh();N.da=E.Fa.Ca[J[0].va].da;N.Ok=new h.nq(g.ja.Ig);N.Mz=new u.RD(N.console);N.qa=E;N.Dg=D;G.forEach(function(na){var va,ra;va=na.aF(N.Mz);ra=na.$E();na.bsa(ra,va);});N.g3a();N.e4b=!1;N.aQa=!1;x.bYa(N.console,F,N,E,D);da=B++;N.m8=new t.qA({jt:N,source:"ShimSession",console:N.console,hC:50,yea:function(){return {shimId:da};}});N.qa.ai(new w.pA(N.m8));N.v6a=void 0 !== (null === (Q=null === (K=(R=N.T).tT) || void 0 === K?void 0:K.call(R)) || void 0 === Q?void 0:Q.la);N.kd=y.KMa(L);F=N.WOa({Fd:N.YXa(N.qa.Fa.Fd),uT:N.i3.bind(N)});N.Ha=F;N.Dg && (N.Kj=N.WOa({Fd:N.YXa(N.Dg.Fa.Fd),uT:N.i3.bind(N)}));N.Ha.events.on("segmentPresenting",function(){N.Vr=N.eJa();});N.on("streamerend",function(){return N.bUb();});return N;}c.__extends(C,A);Object.defineProperties(C.prototype,{K:{get:function(){return this.da;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ba:{get:function(){return this.Vu.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ag:{get:function(){return this.Yh;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{me:{get:function(){return {VDb:{1:{Y:{Aa:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{pH:{get:function(){return void 0 !== this.rm;},enumerable:!1,configurable:!0}});C.prototype.GGb=function(){var E,F,D,G,I;E=this;I=null === (G=null === (D=(F=this.T).tT) || void 0 === D?void 0:D.call(F)) || void 0 === G?void 0:G.la;m.assert(I,"video element is not defined");I.addEventListener("play",function(){return E.ZKa();});I.addEventListener("pause",function(){return E.Nk();});};C.prototype.bUb=function(){this.Wn.Xo(!0,this.Vu.sessionId);};C.prototype.RN=function(E,F){var D;this.qa.ti((D={},D[E]=F,D));};C.prototype.open=function(){var E,F,D,G;E=this;if(!this.vq){this.vq=!0;this.Wn.Xo(this.config.Aq,this.Vu.sessionId);G=new z(function(I){setTimeout(I,0);}).then(function(){E.emit("openComplete",{type:"openComplete"});});this.qa.open();null === (F=this.Dg) || void 0 === F?void 0:F.open();this.qa.MG(this.DW[0]);m.assert(this.Ha,"asePlayer should be defined on session.open");this.DW[1] && (F=this.qa.GB(this.DW[0]),m.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (D=this.Dg) || void 0 === D?void 0:D.MG(this.DW[1],F.kB));x.$Xa(this.Wn,this,this.Ha,this.console);this.Ok.set(g.ja.Sc);G.then(function(){E.Zp(E.Se);});this.qa.Vea(this.Ha);this.Dg && (m.assert(this.Kj,"parallelPlayer should be defined on session.open"),this.Dg.Vea(this.Kj));this.v6a && this.GGb();}};C.prototype.i3=function(){this.Oi || (this.Oi=new v.default.MediaSource(this.kd),this.Oi.Ub || (this.Oi.Ub=v.default.MediaSource.Ub));return this.Oi;};C.prototype.WOa=function(E){void 0 === E && (E={});E=c.__assign({jC:this.config.jC,Epa:this.config.Epa},E);return this.Wn.Ma.yLa(this.kd,E);};C.prototype.YXa=function(E){return E?null === E || void 0 === E?void 0:E.map(function(F){return "video" === F?1:0;}):[0,1];};C.prototype.close=function(){this.vq && (this.vq=!1);this.Wn.Xo(!0,this.Vu.sessionId,!0);};Object.defineProperties(C.prototype,{IE:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});C.prototype.flush=function(){var E;this.vq && this.Ok.value !== g.ja.zi && this.Ok.value !== g.ja.pq && this.stop();this.qa.t8("endplay",p.ae.ip);this.qa.zf();null === (E=this.Dg) || void 0 === E?void 0:E.zf();this.Wn.mh.save();this.Wn.Om.save();};C.prototype.paused=function(){this.v6a || this.Nk();};C.prototype.Nk=function(){this.Ok.value === g.ja.yc && (this.Ok.set(g.ja.Wh),this.kd.emit("paused",{type:"paused",od:this.kd.qc}));};C.prototype.ZKa=function(){this.Ok.value === g.ja.Wh && (this.Ok.set(g.ja.yc),this.kd.emit("playing",{type:"playing",od:this.kd.qc}));};C.prototype.Ic=function(){var E,F;this.vq && this.Ok.value !== g.ja.zi && this.Ok.value !== g.ja.pq && this.stop();this.Wn.JPb(this);this.vq && this.close();this.Pw && (clearInterval(this.Pw),this.Pw=void 0);null === (E=this.$P) || void 0 === E?void 0:E.clear();this.Ha && this.Wn.Ma.QM(this.Ha);this.Kj && this.Wn.Ma.QM(this.Kj);null === (F=this.Oi) || void 0 === F?void 0:F.gp();};C.prototype.suspend=function(){};C.prototype.resume=function(){};C.prototype.play=function(){var E;E=this;this.qa.state !== d.hn.CLOSED && (m.assert(this.Ha,"ShimSession.play(), expected asePlayer to exist."),this.Ha.resume(this.QZ?[1]:void 0),this.Dg && (m.assert(this.Kj,"ShimSession.play(), expected parallelPlayer to exist."),this.Kj.resume(this.QZ?[1]:void 0)),this.Ok.set(g.ja.yc),this.kd.emit("playing",{type:"playing",od:this.kd.qc}),this.emit("play"),this.Pw || (this.Pw=setInterval(function(){return E.QJb();},this.config.UJ)));};C.prototype.stop=function(){this.Ok.set(g.ja.pq);m.assert(this.Ha,"ShimSession.stop(), expected asePlayer to exist.");this.Ha.pause();this.Dg && (m.assert(this.Kj,"ShimSession.stop(), expected parallelPlayer to exist."),this.Kj.pause());this.kd.emit("paused",{type:"paused",od:this.kd.qc});this.emit("stop");};C.prototype.Yx=function(E){var F,D,G;void 0 === F && (F=!0);this.Ha?(E=parseInt(E),k.isFinite(E) && (F?(this.Ha.qW(E),null === (D=this.Kj) || void 0 === D?void 0:D.qW(E)):(this.Ha.Ura(E),null === (G=this.Kj) || void 0 === G?void 0:G.Ura(E)))):this.fail("Must call open prior to drmReady");};C.prototype.E3=function(){var E;if(!this.Ha || !this.Ha.Nn)return !1;E=this.Ha.Qn(this.qa.Fa.Ca[this.Ha.di.va].da);return E && this.Dg && this.Kj?this.Kj.Qn(this.Dg.Fa.Ca[this.Kj.di.va].da):E;};C.prototype.zr=function(){this.Ok.set(g.ja.ef);this.kd.emit("underflow",{type:"underflow",od:this.kd.qc});this.Zp(this.Se);};C.prototype.d3=function(E){var F;F=p.ae.JC;switch(E){case "intrplay":F=p.ae.zr;break;case "endplay":F=p.ae.ip;}E=this.qa.d3(F);return c.__assign(c.__assign({},E),{aseApiVersion:this.IE});};C.prototype.ypa=function(){this.kd.emit("playbackRateChanged",{type:"playbackRateChanged",od:this.kd.qc});};C.prototype.dn=function(){var E;E=this.kd.xe();E={type:"skipped",pts:n.S.rb(E)};this.kd.emit(E.type,E);return new r.OD(z.resolve()).jra;};C.prototype.Kfa=function(E,F){var D;F=this.pka(F || 0,E);return null === (D=this.qa.Fm(F,E)) || void 0 === D?void 0:D.Jc;};C.prototype.us=function(E,F){var D;D=new n.S(F,1E3);return (D=this.qa.dr(D,{L3a:!0,K3a:!0}))?this.qa.Fa.Ca[D.va].xc + Number(D.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + E + ", playerPts: " + F);};C.prototype.dK=function(E,F){E=this.pka(E || 0,F);E={va:E,offset:new n.S(F - this.qa.Fa.Ca[E].xc,1E3)};return (E=this.qa.FT(E))?E.V:F;};C.prototype.h4=function(){var E,F,D;F={};D=null === (E=this.qa) || void 0 === E?void 0:E.TK();E=this.Dg?this.Dg.TK():D;D && (F.vbuflmsec=D.totalvbuflmsecs,F.vbuflbytes=D.vbuflbytes);E && (F.abuflmsec=E.totalabuflmsecs,F.abuflbytes=E.abuflbytes);return F;};C.prototype.iT=function(){return {Ke:0};};C.prototype.vp=function(){var E,F;return null !== (E=this.Vr) && void 0 !== E?E:(null === (F=this.Ha) || void 0 === F?0:F.G3())?this.eJa():{id:this.DW[0].va,Ke:0,Jc:0,pc:Infinity,Pd:Infinity,Zc:0};};C.prototype.eJa=function(){var E,F,D,G,I,J,H,M,O;m.assert(this.Ha,"attempted to get presenting branch information with no player");m.assert(this.Ha.G3(),"attempted to get presenting branch information but player has no branches");J=this.Ha.vp() || ({});H=J.P;M=J.yj;O=J.yV;J=J.AM;return {id:H.id,Ke:null !== (E=null === M || void 0 === M?void 0:M.V) && void 0 !== E?E:0,Jc:null !== (F=null === H || void 0 === H?void 0:H.uh.V) && void 0 !== F?F:0,pc:null !== (D=null === H || void 0 === H?void 0:H.Ll.V) && void 0 !== D?D:Infinity,Pd:null !== (G=null === O || void 0 === O?void 0:O.V) && void 0 !== G?G:Infinity,Zc:null !== (I=null === J || void 0 === J?void 0:J.V) && void 0 !== I?I:0};};C.prototype.E1a=function(){this.$F("removeSession");};C.prototype.nr=function(E,F){void 0 === F && (F=0);m.assert(!this.Dg,"Seeking with dual playgraphs not supported.");F=this.pka(F,E);this.Wn.Xo(this.config.Aq,this.Vu.sessionId);E={va:F,offset:n.S.rb(E - this.qa.Fa.Ca[F].xc)};this.Vr=void 0;this.qa.MG(E);m.assert(this.Ha);this.Ha.resume();this.Ok.set(g.ja.Sc);this.Zp(this.Se);E=this.qa.sra(E);m.assert(E,"Valid position must be provided for seek");return E.offset.V;};C.prototype.seek=function(E,F){E=this.us(F,E);return this.nr(E,F);};C.prototype.ns=function(E,F,D){var G,I;G=this.vp().id;I=this.qa.NTa(G,E);if(F){if(!I.y6a)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (E + " for current segment: " + G)),!1);if(void 0 !== I.eM)return (this.qa.Ak(G,E,!1,F),I.eM === E);this.qa.Ak(G,E,!1,F);return !0;}if(void 0 !== I.eM)return (D || this.nr(I.Jc,0),!1);I.T0?(m.assert(this.Ha),this.Ha.reset(),this.qa.Ak(G,E,!1,F),this.Ha.resume(),this.Ok.set(g.ja.Sc),this.Zp(this.Se)):D || this.nr(I.Jc,0);return ! !I.T0;};C.prototype.FE=function(){this.$F("addManifest");};C.prototype.gR=function(){return this.$F("activateManifest");};C.prototype.UZa=function(){this.wIa();};C.prototype.b8=function(E){var F,D,G,I,J;F=this.Dg?this.Kj:this.Ha;D=E.KE;m.assert(!this.Dg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.rm)return !1;E=this.CQ.audio_tracks;if(!E.some(function(H,M){if(H.track_id === D)return (G=H,I=M,!0);}))return !1;E=E[this.FJ[0]];this.rm=I;J=null === F || void 0 === F?void 0:F.zz;J?this.wIa():(this.QZ=!0,null === F || void 0 === F?void 0:F.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:E.language,oldNumChannels:E.channels,newLangCode:G.language,newNumChannels:G.channels,sourceBufferReset:J}));return !0;};C.prototype.Qp=function(E,F){this.Mz.Qp(E,F);};C.prototype.bi=function(E){return this.Ha?this.Ha.bi(n.S.rb(E)):!1;};C.prototype.l2=function(){this.$F("evaluateQoE");};C.prototype.Bsa=function(){this.$F("stopBuffering");};C.prototype.aH=function(){return this.$F("startBuffering");};C.prototype.sUa=function(){return this.$F("getStreamingStatistics");};C.prototype.fail=function(E){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:E,manifestIndex:0});};C.prototype.pka=function(E,F){return 0 !== E?this.fail("Unexpected manifestIndex: " + E + ", single viewable playback only supports manifestIndex: 0"):this.US(F);};C.prototype.US=function(E){var F,D,I,J,H,M,O;F=this.qa.Fa;D=[];m.assert(0 <= E,"contentPts must be 0 or greater for segmentId lookup");for(var G in F.Ca){I=F.Ca[G];J=I.xc;I=I.Yc;H=E < Number(null !== I && void 0 !== I?I:Infinity);if(J <= E && H)D.push(G);else if((J=Math.min(Math.abs(E - J),Math.abs(E - I)),void 0 === M || J < M))(M=J,O=G);}m.assert(1 >= D.length,"Overlapped segments detected in branching, this is not supported");E=D[0] || O;m.assert(void 0 !== E,"segmentId from contentPts lookup failed");return E;};C.prototype.QJb=function(){var E,F;F=null === (E=this.qa) || void 0 === E?void 0:E.TK();E=this.Dg?this.Dg.TK():F;F && E && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:E.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:E.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};C.prototype.$F=function(E){return this.fail("Method not implemented " + E);};C.prototype.wIa=function(){m.assert(void 0 !== this.rm);this.FJ[0]=this.rm;this.g3a();this.Zp(this.yR);};C.prototype.g3a=function(){var E;E=this;this.Dg?(this.qa.Vv({pr:function(){}},{pr:function(){return E.FJ[1];}}),this.Dg.Vv({pr:function(){return E.FJ[0];}},{pr:function(){}})):this.qa.Vv({pr:function(){return E.FJ[0];}},{pr:function(){return E.FJ[1];}});this.QZ=!1;};C.prototype.KRb=function(E){this.hfb=E;};C.prototype.eSb=function(E){this.jib=E;};C.prototype.Zp=function(E){var F,D;F=this;E !== this.yR && void 0 !== this.rm?this.bV=E:(null === (D=this.$P) || void 0 === D?void 0:D.clear(),this.$P=this.Dg?h.nq.iua([this.qa.hf,this.Ha.fU,this.Dg.hf,this.Kj.fU],function(G){var I,J,H,M,O;G=c.__read(G,4);H=G[1];M=G[2];O=G[3];return G[0] === l.wc.Zj && (null === (I=F.Ha) || void 0 === I?void 0:I.Nn) && H.greaterThan(F.Ha.Cd) && M === l.wc.Zj && (null === (J=F.Kj) || void 0 === J?void 0:J.Nn) && O.greaterThan(F.Kj.Cd);},this.XOa(E)):h.nq.iua([this.qa.hf,this.Ha.fU],function(G){var I,J;G=c.__read(G,2);J=G[1];return G[0] === l.wc.Zj && (null === (I=F.Ha) || void 0 === I?void 0:I.Nn) && J.greaterThan(F.Ha.Cd);},this.XOa(E)));};C.prototype.XOa=function(E){var F;F=this;return function(D){var G;D && (null === (G=F.$P) || void 0 === G?void 0:G.clear(),F.$P=void 0,z.resolve().then(E));};};c.__decorate([t.Xb({methodName:"updateChoiceMapEntry",cs:!0})],C.prototype,"RN",null);c.__decorate([t.Xb({methodName:"open"})],C.prototype,"open",null);c.__decorate([t.Xb({methodName:"close"})],C.prototype,"close",null);c.__decorate([t.Xb({methodName:"paused"})],C.prototype,"Nk",null);c.__decorate([t.Xb({methodName:"unpaused"})],C.prototype,"ZKa",null);c.__decorate([t.Xb({methodName:"cleanup"})],C.prototype,"Ic",null);c.__decorate([t.Xb({methodName:"suspend"})],C.prototype,"suspend",null);c.__decorate([t.Xb({methodName:"resume"})],C.prototype,"resume",null);c.__decorate([t.Xb({methodName:"play"})],C.prototype,"play",null);c.__decorate([t.Xb({methodName:"stop"})],C.prototype,"stop",null);c.__decorate([t.Xb({cs:!0,methodName:"drmReady"})],C.prototype,"Yx",null);c.__decorate([t.Xb({methodName:"underflow"})],C.prototype,"zr",null);c.__decorate([t.Xb({methodName:"getLogdataReport"})],C.prototype,"d3",null);c.__decorate([t.Xb({methodName:"skipped"})],C.prototype,"dn",null);c.__decorate([t.Xb({methodName:"seekByContentPts"})],C.prototype,"nr",null);c.__decorate([t.Xb({methodName:"seek"})],C.prototype,"seek",null);c.__decorate([t.Xb({methodName:"chooseNextSegment",cs:!0})],C.prototype,"ns",null);c.__decorate([t.Xb({methodName:"onAudioTrackSwitchStarted"})],C.prototype,"UZa",null);c.__decorate([t.Xb({methodName:"switchTracks"})],C.prototype,"b8",null);return C;})(f.EventEmitter);b.lGa=q;},function(q,b,a){var k,l;function c(d,g,h){var m,n;m=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;g.on(m,function(r){d.emit(n,k.__assign(k.__assign({},r),{type:n}));});}function f(d,g,h,m){var n,r;g.events.once(d,function(p){(n=p) && r && m(n,r);});h.events.once(d,function(p){r=p;n && r && m(n,r);});}Object.defineProperties(b,{__esModule:{value:!0}});b.FQa=b.c2=b.$Xa=b.bYa=void 0;k=a(2);l=a(19);b.bYa=function(d,g,h,m,n){var p;function r(u,t){c(h,u,t);}g=n?[m,n]:[m];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(u){return r(m.events,u);});n?(r(n.events,"initialAudioTrack"),f("streamerEnd",m,n,function(u){h.emit("streamerend",k.__assign(k.__assign({},u),{type:"streamerend"}));})):(r(m.events,["streamerEnd","streamerend"]),r(m.events,"initialAudioTrack"));m.events.on("logdata",function(u){h.emit("logdata",k.__assign(k.__assign({},u),{fields:k.__assign(k.__assign({},u.fields),{aseApiVersion:h.IE})}));});p=!0;m.events.on("bufferingStarted",function(u){h.pH && p?p=!1:(h.m8.lR("bufferingStarted",{}),h.emit("bufferingStarted",u));});m.events.on("bufferingComplete",function(u){h.pH?p=!0:h.KRb(u);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(u){h.pH || h.eSb(u);});m.events.on("error",function(u){u=k.__assign(k.__assign({},u),{manifestIndex:0});h.emit("error",u);});h.on("error",function(){});m.events.on("segmentComplete",function(u){h.emit("segmentComplete",{type:"segmentComplete",mediaType:u.mediaType,manifestIndex:0,segmentId:u.segmentId});});m.events.on("segmentNormalized",function(u){var t;t=Math.floor(u.viewableContentEnd.V);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:t,maxPts:t,maxSeekPts:Math.floor(u.viewableEarliestContentEnd.V)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:t,maxPts:t});});m.events.on("segmentStarting",function(u){h.emit("maxBitrates",{type:"maxBitrates",audio:u.maxBitrates.audio,video:u.maxBitrates.video});h.emit("segmentStarting",u);});g.forEach(function(u){u.events.on("serverSwitch",function(t){h.emit("serverSwitch",{type:"serverSwitch",segmentId:t.segmentId,mediatype:t.mediatype,server:t.server,reason:t.reason,location:t.location,bitrate:t.bitrate,confidence:t.confidence,throughput:t.throughput,oldserver:t.oldserver});});u.events.on("streamSelected",function(t){var w;w=u.GB(t.position);h.emit("streamSelected",{type:"streamSelected",nativetime:t.nativetime,mediaType:t.mediaType,streamId:t.streamId,manifestIndex:0,trackIndex:t.trackIndex,streamIndex:t.streamIndex,movieTime:w.kB.V,bandwidth:t.bandwidth,longtermBw:t.longtermBw,rebuffer:t.rebuffer});});u.events.on("updateStreamingPts",function(t){var w;w=h.K;l.ka && d.trace("converting updateStreamingPts, movieId:",w);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:t.mediaType,manifestIndex:0,trackIndex:t.trackIndex,segmentId:t.position.va,movieTime:Math.floor(t.completePlayerStreamingTimestamp.V)});});});};b.$Xa=function(d,g,h,m){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(n){return c(g,h.events,n);});h.events.on("streamPresenting",function(n){var r,p;r=n.playerTimestamp.V;p=g.qa.GB(n.position);void 0 === p?m.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):g.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(r),contentStartPts:Math.floor(p.kB.V),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var r,p,u;r=g.qa.GB(n.position);p=n.playerTimestamp.Ba(r.kB);u=n.position.va;g.aQa || (g.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.V,movieId:r.da.toString(),replace:!1,contentOffset:p.V}),g.aQa=!0);g.emit("segmentPresenting",{type:"segmentPresenting",segmentId:u,contentOffset:p.V,metrics:n.metrics});});h.events.on("ptsChanged",function(n){g.emit("ptschanged",n.initialTimestamp.V);g.kd.emit("skipped");});};b.c2=function(d,g,h,m,n,r){var p;h=h.V;n=null !== n && void 0 !== n?n:g;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !r,hashindsight:!1,buffCompleteReason:g.reason,actualbw:m,initSelReason:null !== (p=g.initSelReason) && void 0 !== p?p:"unknown",bcVBufferLevelMs:g.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:g.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:g.vBufferLevelMs,selector:g.selector,initBitrate:g.initBitrate,skipbackBufferSizeBytes:g.skipbackBufferSizeBytes});};b.FQa=function(d,g,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:g.track_id,trackIndex:h});};},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.KMa=void 0;q=a(2);c=a(16);f=q.__importDefault(a(124));k=a(9);b.KMa=function(l){if(l.Geb)return l;f.default(c.EventEmitter.prototype,l);Object.defineProperties(l,{Geb:{value:!0},qc:{get:function(){return new k.S(this.xe(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.up?this.up():1,.01);}}});return l;};},function(q,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xpb={zv:["minInitVideoBitrate",-Infinity],Xna:["minHCInitVideoBitrate",-Infinity],Oy:["maxInitVideoBitrate",Infinity],KU:["minInitAudioBitrate",-Infinity],JU:["minHCInitAudioBitrate",-Infinity],wU:["maxInitAudioBitrate",Infinity],r5:["minAcceptableVideoBitrate",-Infinity],HU:["minAcceptableVMAF",0],QIb:["minAcceptableVMAFRebufferScalingFactor",0],Vna:["minAllowedVideoBitrate",-Infinity],LHb:["maxAllowedVideoBitrate",Infinity],bG:["minAllowedVmaf",-Infinity],fYa:["maxAllowedVmaf",Infinity],EN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],f2:["enableResolutionVMAFStreamFilter",!1],opa:["percentCapTitlesForResolutionVMAFStreamFilter",100],g7:["resolutionVMAFCappingRuleList",[]],wVa:["ignoreUserFilterOnEmptyResult",!0],LU:["minRequiredBuffer",2E4],x5:["minRequiredAudioBuffer",0],Qi:["minPrebufSize",5800],Wna:["minCheckBufferingCompleteInterval",200],TQa:["enableMoreFrequentBufferingCompleteCheck",!1],aoa:["minimumBufferingCompleteInterval",1E4],a7:["requireDownloadDataAtBuffering",!1],HVa:["indicatorForDownloadDataAtBuffering","oncomplete"],b7:["requireSetupConnectionDuringBuffering",!1],wqa:["rebufferingFactor",1],$q:["maxBufferingTime",2E3],Uta:["useMaxPrebufSize",!0],gC:["maxPrebufSize",4E4],Ena:["maxRebufSize",Infinity],vwb:["fastRebufferRecoveryThreshold",Infinity],uwb:["fastRebufferRecoverBwThrehold",3E3],X3:["initialBitrateSelectionCurve",null],MVa:["initSelectionLowerBound",-Infinity],NVa:["initSelectionUpperBound",Infinity],e8:["throughputPercentForAudio",15],ifa:["bandwidthMargin",0],kfa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],smb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Gx:76376,scale:18862.4,gamma:3.0569}],jfa:["bandwidthMarginContinuous",!1],tmb:["bandwidthMarginForAudio",!0],Tsa:["switchConfigBasedOnInSessionTput",!0],Aga:["conservBandwidthMargin",20],XR:["conservBandwidthMarginTputThreshold",6E3],Bga:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],C4a:["switchAlgoBasedOnHistIQR",!1],OC:["switchConfigBasedOnThroughputHistory","iqr"],Dna:["maxPlayerStateToSwitchConfig",-1],ena:["lowEndMarkingCriteria","iqr"],C$:["IQRThreshold",.5],jla:["histIQRCalcToUse","simple"],hs:["bandwidthManifold",{curves:[{min:.05,max:.82,Gx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Gx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],$s:["maxTotalBufferLevelPerSession",0],oVa:["highWatermarkLevel",3E4],j5a:["toStableThreshold",3E4],k8:["toUnstableThreshold",0],nsa:["skipBitrateInUpswitch",!1],kua:["watermarkLevelForSkipStart",8E3],dla:["highStreamRetentionWindow",9E4],fna:["lowStreamTransitionWindow",51E4],fla:["highStreamRetentionWindowUp",5E5],hna:["lowStreamTransitionWindowUp",1E5],ela:["highStreamRetentionWindowDown",6E5],gna:["lowStreamTransitionWindowDown",0],cla:["highStreamInfeasibleBitrateFactor",.5],Hy:["lowestBufForUpswitch",9E3],S4:["lockPeriodAfterDownswitch",15E3],jna:["lowWatermarkLevel",15E3],Iy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],kna:["lowestWaterMarkLevelBufferRelaxed",!1],Ona:["mediaRate",1.5],f5:["maxTrailingBufferLen",15E3],tR:["audioBufferTargetAvailableSize",262144],oX:["videoBufferTargetAvailableSize",1048576],xYa:["maxVideoTrailingBufferSize",8388608],hYa:["maxAudioTrailingBufferSize",393216],t2:["fastUpswitchFactor",3],zRa:["fastUpswitchFactorWithoutHeaders",3],Aia:["fastDownswitchFactor",3],Py:["maxMediaBufferAllowed",27E4],r6b:["minMediaBufferLen",1E4],lsa:["simulatePartialBlocks",!0],D3a:["simulateBufferFull",!0],Cga:["considerConnectTime",!0],zga:["connectTimeMultiplier",1],HXa:["lowGradeModeEnterThreshold",12E4],IXa:["lowGradeModeExitThreshold",9E4],lYa:["maxDomainFailureWaitDuration",3E4],gYa:["maxAttemptsOnFailure",18],pRa:["exhaustAllLocationsForFailure",!0],rYa:["maxNetworkErrorsDuringBuffering",20],Z4:["maxBufferingTimeAllowedWithNetworkError",6E4],KJ:["alwaysRunUnderflowTimer",!0],xRa:["fastDomainSelectionBwThreshold",2E3],P4a:["throughputProbingEnterThreshold",4E4],Q4a:["throughputProbingExitThreshold",34E3],vXa:["locationProbingTimeout",1E4],ERa:["finalLocationSelectionBwThreshold",1E4],N4a:["throughputHighConfidenceLevel",.75],O4a:["throughputLowConfidenceLevel",.4],Tma:["locationStatisticsUpdateInterval",6E4],XGb:["locationSelectorPersistFailures",!0],VQa:["enablePerfBasedLocationSwitch",!1],W5b:["maxRateMaxFragmentGroups",4500],vpa:["pipelineScheduleTimeoutMs",2],Qy:["maxPartialBuffersAtBufferingStart",2],Yna:["minPendingBufferLen",3E3],fC:["maxPendingBufferLen",6E3],svb:["enableNginxRateLimit",!1],Q5:["nginxSendingRate",4E4],wvb:["enableRequestPacingToken",!1],rIb:["mediaRequestPacingSpeed",2],Ila:["initialMediaRequestToken",2E4],X4:["maxActiveRequestsSABCell100",2],d5:["maxPendingBufferLenSABCell100",500],Y1a:["resetActiveRequestsAtSessionInit",!0],JQa:["enableCprAudio",!1],KQa:["enableCprVideo",!1],h1:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1,coefficients:{bitrate:0,upswitchBitrate:0,maxBitrate:1,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,inStartingState:0,inBufferingState:0,inPlayingState:0,inRebufferingState:0,startingObservedThroughput:0,bufferingObservedThroughput:0,offset:0}}],LTb:["staticPacingRateKbps",0],HLb:["paceRateSelectorAlgorithm","default"],UQa:["enablePaceReportLogging",!1],Fna:["maxStreamingSkew",2E3],OHb:["maxBufferOccupancyForSkewCheck",Infinity],bXb:["useBufferOccupancySkipBack",!0],Bna:["maxPendingBufferPercentage",10],SL:["maxRequestsInBuffer",120],H3:["headerRequestSize",4096],oia:["estimateHeaderSize",!0],d5b:["headerCacheEstimateHeaderSize",!1],hG:["neverWipeHeaderCache",!1],oXb:["useSidxInfoFromManifestForHeaderRequestSize",!1],yRa:["fastPlayHeaderRequestSize",0],RL:["maxRequestSize",0],ZL:["minRequestSize",65536],IU:["minBufferLenForHeaderDownloading",1E4],J3a:["smartHeaderPreDownloading",!1],dvb:["enableAllHeadersPreDownloading",!1],N6b:["onlyAllowPtsUpdatePolling",!1],WIb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],$M:["reserveForSkipbackBufferMs",15E3],Aoa:["numExtraFragmentsAllowed",2],Fp:["pipelineEnabled",!0],QL:["maxParallelConnections",3],lXb:["usePipelineForAudio",!1],kXb:["usePipelineDetectionForAudio",!1],M3a:["socketReceiveBufferSize",0],J0:["audioSocketReceiveBufferSize",32768],WN:["videoSocketReceiveBufferSize",65536],r6a:["usePipelineDetectionForVideo",!1],$Ib:["minVideoSocketReceiveBufferSize",65536],ala:["headersSocketReceiveBufferSize",32768],GSb:["shareDownloadTracks",!0],HSb:["shareOpenRangeTracks",!1],aub:["disableHeaderDownloadTracks",!1],$na:["minTimeBetweenHeaderRequests",void 0],B8:["updatePtsIntervalMs",1E3],vfa:["bufferTraceDenominator",0],UJ:["bufferLevelNotifyIntervalMs",2E3],Ksa:["streamingStatusIntervalMs",2E3],$y:["prebufferTimeLimit",6E4],t5:["minBufferLevelForTrackSwitch",2E3],uvb:["enablePenaltyForLongConnectTime",!1],mpa:["penaltyFactorForLongConnectTime",2],cna:["longConnectTimeThreshold",200],wea:["additionalBufferingLongConnectTime",2E3],xea:["additionalBufferingPerFailure",8E3],PV:["rebufferCheckDuration",6E4],SQa:["enableLookaheadHints",!1],EXa:["lookaheadFragments",2],ay:["enableOCSideChannel",!0],Wpa:["probeRequestTimeoutMilliseconds",3E4],$6b:["probeRequestConnectTimeoutMilliseconds",8E3],aZ:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],xvb:["enableSCByteRangeHints",!1],T5a:["updateDrmRequestOnNetworkFailure",!0],kYa:["maxDiffAudioVideoEndPtsMs",1E3],ttb:["deferAseHeaderCache",!1],QPa:["deferAseScheduling",!1],V4a:["timeBeforeEndOfStreamBufferMark",6E3],zna:["maxFastPlayBufferInMs",2E4],yna:["maxFastPlayBitThreshold",2E8],iYa:["maxBufferingCompleteBufferInMs",Infinity],Zmb:["bufferingCompleteOnMemoryLimit",!1],s5:["minAudioMediaRequestSizeBytes",0],z5:["minVideoMediaRequestSizeBytes",0],NHb:["maxAudioMediaRequestSizeBytes",Infinity],cIb:["maxVideoMediaRequestSizeBytes",Infinity],UHb:["maxMediaRequestSizeBytesInFraction",1],XL:["minAudioMediaRequestDuration",0],aM:["minVideoMediaRequestDuration",0],v5:["minMediaRequestDuration",0],MHb:["maxAudioMediaRequestDuration",Infinity],bIb:["maxVideoMediaRequestDuration",Infinity],b5:["maxMediaRequestDuration",Infinity],Dea:["allowFirstRequestAggregation",!1],TIb:["minAudioMediaRequestDurationCache",0],ZIb:["minVideoMediaRequestDurationCache",0],rvb:["enableMultiFragmentRequest",!1],SN:[["useHeaderCache","usehc"],!0],D8:[["useHeaderCacheData","usehcd"],!0],N1:["defaultHeaderCacheSize",4],MPa:["defaultHeaderCacheDataCount",4],M1:["defaultHeaderCacheDataPrefetchMs",0],Zka:["headerCacheMaxPendingData",6],hVa:["headerCachePriorityLimit",5],gVa:["headerCacheAdoptBothAV",!1],mXb:["usePipelineForBranchedAudio",!0],zob:["childBranchBatchedAmount",1E4],jC:["minimumTimeBeforeBranchDecision",2E3],bJb:["minimumAppendedMediaBeforePlayback",5E3],KLb:["parallelBranchesDuringBuffering",!1],YHb:["maxRequestsToAttachOnBranchActivation",void 0],MU:["minimumJustInTimeBufferLevel",3E3],mvb:["enableJustInTimeAppends",!1],OQa:["enableDelayedSeamless",!1],B3b:["branchEndPtsIntervalMs",250],vDb:["ignorePtsJustBeforeCurrentSegment",!1],nYa:["maxFragsForFittableOnBranching",300],dMb:["pausePlaylistAtEnd",!0],fkb:["adaptiveParallelTimeoutMs",1E3],zK:["enableAdaptiveParallelStreaming",!1],ufa:["bufferThresholdToSwitchToSingleConnMs",45E3],tfa:["bufferThresholdToSwitchToParallelConnMs",35E3],avb:["enableAPSForBranching",!1],Q8:["waitForPendingConnAdaptation",!1],loa:["networkFailureResetWaitMs",2E3],koa:["networkFailureAbandonMs",6E4],e5:["maxThrottledNetworkFailures",5],d8:["throttledNetworkFailureThresholdMs",200],ina:["lowThroughputThreshold",400],tia:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],bVb:["timeAtEachBitrateRoundRobin",1E4],IQb:["roundRobinDirection","forward"],lDb:["httpsConnectErrorAsPerm",!1],cZa:["mp4ParsingInNative",!1],Gh:["enableManagerDebugTraces",!1],VXa:["managerDebugMessageInterval",1E3],UXa:["managerDebugMessageCount",20],GZa:["notifyManifestCacheEom",!0],$ha:["enableUsingHeaderCount",!1],O3a:["sourceBufferInOrderAppend",!0],mz:["requireAudioStreamToEncompassVideo",!1],OLa:["allowAudioToStreamPastVideo",!1],VOa:["countGapInBuffer",!1],PLa:["allowCallToStreamSelector",!1],hNa:["bufferThresholdForAbort",2E4],Gsa:["ase_stream_selector","optimized"],DMa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Fla:["initBitrateSelectorAlgorithm","default"],zfa:["bufferingSelectorAlgorithm","default"],YTb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],XQa:["enableThroughputTraceResearchData",!1],R4a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Rv:["researchEnvironmentEnabled",!1],zvb:["enableStreamSelectionAugmentData",!1],cmb:["augmentDataNumOfChunks",30],FPa:["ase_ls_failure_simulation",""],fha:["ase_dump_fragments",!1],hha:["ase_location_history",0],iha:["ase_throughput",0],HPa:["ase_simulate_verbose",!1],Uf:["stallAtFrameCount",void 0],S3a:["stallAtFrameCountAudio",void 0],vna:["marginPredictor","simple"],l6a:["useBackupUnderflowTimer",!0],IJb:["noDuplicateUnderflowTimer",!1],f8b:["useManifestDrmHeader",!0],g8b:["useOnlyManifestDrmHeader",!0],moa:["networkMeasurementGranularity","video_location"],zJb:["netIntrStoreWindow",36E3],y6b:["minNetIntrDuration",8E3],fgb:["fastHistoricBandwidthExpirationTime",10368E3],Egb:["bandwidthExpirationTime",5184E3],egb:["failureExpirationTime",86400],jKa:["historyTimeOfDayGranularity",4],bgb:["expandDownloadTime",!0],mhb:["minimumMeasurementTime",500],lhb:["minimumMeasurementBytes",131072],yib:["throughputMeasurementTimeout",2E3],xib:["initThroughputMeasureDataSize",262144],Xgb:["historicBandwidthUpdateInterval",2E3],khb:["minimumBufferToStopProbing",1E4],l3b:["throughputPredictor","ewma"],Ara:["secondThroughputEstimator","slidingwindow"],x2a:["secondThroughputMeasureWindowInMs",3E5],k3b:["throughputMeasureWindow",5E3],m3b:["throughputWarmupTime",5E3],j3b:["throughputIQRMeasureWindow",1E3],W2b:["IQRBucketizerWindow",15E3],oYa:["maxIQRSamples",100],RYa:["minIQRSamples",5],g3b:["connectTimeHalflife",10],a3b:["responseTimeHalflife",10],qJa:["historicThroughputHalflife",14400],pJa:["historicResponseTimeHalflife",100],oJa:["historicHttpResponseTimeHalflife",100],nza:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],UJa:["minReportedNetIntrDuration",4E3],i3b:["throughputBucketMs",500],Z2b:["bucketHoltWintersWindow",2E3],Ufb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],cgb:["experimentalFilter",["throughput-wssl"]],Aca:["filterDefinitionOverrides",{}],Jfb:["defaultFilter","throughput-ewma"],djb:["secondaryFilter","throughput-sw"],bJ:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],aia:["enableWsslEstimate",!1],Z5b:["maxWsslRequestSize",131072],Y5b:["maxWsslRequestRatio",.2],Z6a:["wsslAggregationMethod","max"],JS:["enableSessionHistoryReport",!0],Wha:["earlyStageEstimatePeriod",1E4],iXa:["lateStageEstimatePeriod",3E4],c5:["maxNumSessionHistoryStored",10],y5:["minSessionHistoryDuration",3E5],UCb:["highAndStableModelName","baseline"],Zha:["enableHighAndStablePredictor",!1],w5:["minNumSessionHistory",5],x3b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],J3:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],VCb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],pea:["addHeaderDataToNetworkMonitor",!0],xsa:["startMonitorOnLoadStart",!1],Rqa:["reportFailedRequestsToNetworkMonitor",!1],r6:["periodicHistoryPersistMs",0],k7:["saveVideoBitrateMs",0],QU:["needMinimumNetworkConfidence",!0],nfa:["biasTowardHistoricalThroughput",!1],aHb:["logMemoryUsage",!1],iVa:["headerCacheTruncateHeaderAfterParsing",!0],At:["probeServerWhenError",!0],sx:["allowSwitchback",!0],yG:["probeDetailDenominator",100],a5:["maxDelayToReportFailure",300],Aq:["allowParallelStreaming",!1],j6b:["mediaPrefetchDisabled",!1],PYa:["minBufferLevelToAllowPrefetch",5E3],m7:["seamlessAudio",!1],r7b:["seamlessAudioProfiles",[]],s7b:["seamlessAudioProfilesAndTitles",{}],yra:["seamlessAudioMaximumSyncError",void 0],zra:["seamlessAudioMinimumSyncError",void 0],d4:["insertSilentFrames",0],e4:["insertSilentFramesOnSeek",!1],f4:["insertSilentFramesOnSeekForTitles",[]],ZVa:["insertSilentFramesOnSeekCount",3],sxb:["forceDiscontinuityAtTransition",!0],Psa:["supportAudioResetOnDiscontinuity",void 0],X7:["supportAudioEasingOnDiscontinuity",void 0],Sub:["editCompleteFragments",!0],VYa:["minimumAudioFramesPerFragment",1],VA:["applyProfileTimestampOffset",!1],ck:["applyProfileStreamingOffset",!0],K0a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Vlb:["audioProfilesNonSyncSamples",["xheaac-dash"]],VVb:["truncateEndOfStreamAudio",!1],dXb:["useDpiAssumedAacEncoderDelay",!0],m5:["mediaSourceSupportsNegativePts",!1],YL:["minAudioPtsGap",void 0],Ulb:["audioOverlapGuardSampleCount",2],WQa:["enableRecordJSBridgePerf",!1],H$:["JSBridgeTDigestConfig",{maxc:25,c:.5}],ZUb:["throughputThresholdSelectorParam",0],ZWb:["upswitchDuringBufferingFactor",2],flb:["allowUpswitchDuringBuffering",!1],MOa:["contentOverrides",void 0],Gga:["contentProfileOverrides",void 0],ila:["hindsightDenominator",0],hla:["hindsightDebugDenominator",0],K3:["hindsightAlgorithmsEnabled",[]],L3:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],eMa:["appendMediaRequestOnComplete",!1],P8:["waitForDrmToAppendMedia",!1],C2:["forceAppendHeadersAfterDrm",!1],kha:["declareBufferingCompleteAtSegmentEnd",!1],uv:["maxActiveRequestsPerSession",void 0],Nma:["limitAudioDiscountByMaxAudioBitrate",!1],Hea:["appendFirstHeaderOnComplete",!0],T7:["strictBufferCapacityCheck",!1],WA:["aseReportDenominator",0],E0:["aseReportIntervalMs",3E5],r8:["translateToVp9Draft",!1],IN:["switchableAudioProfiles",[]],Wlb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],D4a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Zlb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],wYa:["maxStartingVideoVMAF",110],$L:["minStartingVideoVMAF",1],hR:["activateSelectStartingVMAF",!1],s7:["selectStartingVMAFTDigest",-1],fN:["selectStartingVMAFMethod","fallback"],C2a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],uC:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],bub:["disablePtsStartsEvent",!0],zqa:["recordFirstFragmentOnSubBranchCreate",!0],CYa:["mediaCacheConvertToBinaryData",!1],Jna:["mediaCacheSaveOneObject",!1],eYa:["markRequestActiveOnFirstByte",!1],b2:["earlyAppendSingleChildBranch",!0],Iz:["useNativeDataViewMethods",!0],Eea:["alwaysNotifyEOSForPlaygraph",!1],cXb:["useCorrectDrainingAmounts",!0],AK:["enableNewAse",!1],kX:["useNewApi",!1],Eha:["aseDiagnostics",[{Ii:"queue-audit",enabled:!0},{Ii:"task-audit",enabled:!0},{Ii:"trace-ShimSession",enabled:!0},{Ii:"trace-engine",enabled:!0},{Ii:"trace-RequestPacer",enabled:!0},{Ii:"trace-BufferStateTracker",enabled:!0},{Ii:"trace-GraphStreamingProcess",enabled:!0},{Ii:"trace-AsePlaygraph",enabled:!0},{Ii:"playgraph-branch-audit",enabled:!0}]],Qmb:["branchDistanceThreshold",6E4],Y4:["maxAllowedOutstandingRequests",4],Zna:["minStreamableConcurrencyWindow",3E3],aIb:["maxStreamableConcurrencyWindow",Infinity],Hsa:["streamableConcurrencyFactor",.3],KR:["bufferingConcurrencyWindow",7800],qfa:["branchCreationThreshold",12E4],d2:["enableDiscontiguousBuffering",!1],bja:["forceImmediateTransitionTypeForTitles",[]],ROa:["contiguousBufferMultiplier",3],POa:["contiguousBufferMinimumAudio",1048576],QOa:["contiguousBufferMinimumVideo",8388608],qNb:["prefetchBudgetInBytes",0],j1a:["rebufferRiskHalfLife",1E4],Sta:["useBufferSizeLimiter",!1],pXb:["useStaticBufferSizeLimiter",!1],YXb:["viewableReleaseTimeoutMs",1E3],tNb:["prefetchWeightBudget",32],boa:["minimumDownstreamBranchProbability",.075],Tta:["useExitZones",!0],uNb:["prefetchWhilePlaying",!0],ANb:["prefetcherSoftReset",!0],o0a:["playgraphDefaultWeight",65520],utb:["delayNotificationOfEoS",!1],xIb:["memDeadlockShouldCheckMemory",!0],wIb:["memDeadlockOverageThreshold",.9],vIb:["memDeadlockMaxUtilizationPercentage",.5],Epa:["playerPtsPadding",1]};b.jk=b.xpb;},function(q,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mq=b.lq=b.Nr=b.Ky=b.zZ=void 0;c=a(2);f=a(111);Object.defineProperties(b,{lq:{enumerable:!0,get:function(){return f.lq;}}});Object.defineProperties(b,{mq:{enumerable:!0,get:function(){return f.mq;}}});Object.defineProperties(b,{Ky:{enumerable:!0,get:function(){return f.Ky;}}});Object.defineProperties(b,{zZ:{enumerable:!0,get:function(){return f.zZ;}}});k=c.__importDefault(a(4));q=(function(l){function d(g,h,m,n,r){return l.call(this,d.console,g,h,m,n,r) || this;}c.__extends(d,l);Object.defineProperties(d,{console:{get:function(){return this.H || (this.H=new k.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.Nr);b.Nr=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.qPa=void 0;b.qPa=function(a,c,f,k){return {dUa:function(){var l;l=a.dka();k.Os && (l+=k.Os);return l;},ya:c,request:f,We:!1};};},function(q,b,a){var f,k,l,d,g;function c(h,m){var n;h=f.EventEmitter.call(this) || this;h.content="";h.entries=[];k.gb(("videoSize" in m) && ("xml" in m) && ! !m.xml,"Subtitle options didn't contain XML data");("videoSize" in m) && ("xml" in m) && (h.content=null !== (n=m.xml) && void 0 !== n?n:"",h.Lz=m.videoSize);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;f=a(16);k=a(21);l=a(13);d=a(29);g=a(989);ka(c,f.EventEmitter);c.prototype.tF=function(h){var m;d.Hc(h) && d.Hc(this.duration) && h < this.duration && this.entries && (m=this.CJb || this.entries[Math.floor(h * this.eVb)] || this.entries[0]);if(m){for(;m && m.endTime < h;){m=m.next;}for(;m && m.previous && m.previous.endTime >= h;){m=m.previous;}this.CJb=m;}return m?[m]:[];};c.prototype.DT=function(h,m){var n;n=[];try{n=this.entries.filter(function(r){var p;p=aa([r.startTime,r.endTime]);r=p.next().value;p=p.next().value;return r >= h && r <= m || r <= h && h <= p;});}catch(r){}return n;};c.prototype.Rq=function(h,m){return this.DT(h,m).reduce(function(n,r){return n + r.blocks.length;},0);};c.prototype.start=function(){var h,m;h=this;if(this.content)g.J_a(this.content,this.Lz.width / this.Lz.height,l.config.cta,l.config.h8).then(function(n){h.duration=n && Math.max.apply(Math,ca(n.map(function(r){return r.endTime;}))) || 0;h.eVb=n && n.length / h.duration || 0;h.entries=n;h.emit("ready");}).catch(function(n){h.emit("error",n);});else {m=Error("Subtitle content was empty");m.errorDetails="Subtitle content was empty";this.emit("error",m);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.eqa=function(){throw Error("Method not implemented.");};c.prototype.Br=function(){throw Error("Method not implemented.");};c.prototype.rz=function(){throw Error("Method not implemented.");};c.prototype.Ak=function(){throw Error("Method not implemented.");};c.prototype.ti=function(){throw Error("Method not implemented.");};b.uAa=c;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.J_a=void 0;c=a(990);f=a(258);b.J_a=function(k,l,d,g){return new Promise(function(h,m){f.pua(k,function(n){n.X?c.B_a(n.object,l,d,g,function(r){r.X?h(r.entries):m(r);}):m(n);});});};},function(q,b,a){var c,f,k,l,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.D_a=b.C_a=b.dpa=b.F_a=b.OLb=b.PLb=b.E_a=b.G_a=b.m6=b.H_a=b.I_a=b.B_a=void 0;c=a(21);f=a(29);k=a(12);l=a(152);d=a(11);g=a(17);h=a(24);b.B_a=(function(){var F,D,G,I,J,H,M,O,L,P,R,K;function m(Q){if(f.Dy(Q)){Q=Q.toLowerCase();if("#" == Q[0]){if(7 == Q.length)return Q;if(4 == Q.length)return "#" + Q[1] + Q[1] + Q[2] + Q[2] + Q[3] + Q[3];}return b.G_a[Q];}}function n(Q,N,da){N=N[Q];0 <= N || (N=parseFloat(Q));if(0 <= N)return d.xo(N,da);}function r(Q,N){var da,na;da=Q.length;na=Q[da - 1];if("t" === na)return parseFloat(Q) * N | 0;if("s" === na)return "m" === Q[da - 2]?parseFloat(Q) | 0:parseFloat(Q) * k.Ik | 0;if((Q=Q.match(L)) && 4 <= Q.length)return (3600 * parseInt(Q[1],10) + 60 * parseInt(Q[2],10) + parseFloat(Q[3])) * k.Ik | 0;throw Error("dfxp-badtime");}function p(Q,N,da,na,va){var ra,X,ta,za,V,T,ja,Ia;ra=void 0;if(Q){X=Q.style;da=X?da[X]:void 0;na=(X=Q.region)?na[X]:void 0;X=va.length;for(ta=0;ta < X;ta++){V=va[ta];T=Q[V];void 0 === T && da && (T=da[V]);void 0 === T && na && (T=na[V]);if(void 0 !== T && T !== N[V]){if(!ra)for((ra={},za=0);za < X;za++){ja=va[za];Ia=N[ja];void 0 !== Ia && (ra[ja]=Ia);}ra[V]=T;}}}return ra || N;}function u(Q,N,da,na,va,ra,X,ta,za){var T,ja;function V(Ia,wa,Sa){var Ua,$a,Za,mb,db,Ta;Ua=Ia[l.Vj];$a=Ua.style || wa.style || "";Za=Ua.region || wa.region || "";if($a || Za)(mb=$a + "/" + Za,db=da[mb]);else db=N;if(!db){db=N;Ta=f.sN(na);f.Qb(Ta,va[$a]);db=x(db,Ta,X,ta,za);da[$a + "/"]=db;Za && (f.Qb(Ta,ra[Za]),f.Qb(Ta,va[$a]),db=x(db,Ta,X,ta,za),da[mb]=db);}if(!Sa)a:{for(Sa=H.length;Sa--;){if(void 0 !== Ua[H[Sa]]){Sa=!0;break a;}}Sa=void 0;}Sa && (Ua=p(Ua,wa,va,ra,M),db=x(db,Ua,X,ta,za));wa=(Ia=Ia[l.dO]) && Ia.length;for($a=0;$a < wa;$a++){Za=Ia[$a];f.Sg(Za)?P.test(Za[l.eO])?ja++:V(Za,Ua,Sa):(T.push({text:Za,lineBreaks:ja,style:db}),ja=0);}}T=[];ja=0;V(Q,na,!1);0 < ja && T.push({text:"",lineBreaks:ja,style:N});return T;}function t(Q,N,da,na,va,ra,X,ta){var za,V;da && (da=D[da] || "top",Q.verticalAlignment !== da && (Q.verticalAlignment=da));na && (da=G[na] || "left",Q.horizontalAlignment !== da && (Q.horizontalAlignment=da));if(va){if(za=ta[va])(na=za.marginLeft,da=za.marginTop);else {V=va.split(" ");na=z(V[0],X.x) || 0;da=z(V[1],X.y) || 0;za={Ml:0,marginLeft:na,marginTop:da,Tkb:na * N.Pka + N.HT,Vkb:da * N.aua + N.I8};30 > ta.Ml && (ta.Ml++,ta[va]=za);}Q.marginLeft=za.Tkb;Q.marginTop=za.Vkb;}else (da=na=0,(za=ta["default"]) || (ta["default"]=za={Ml:0}));ra && (va=za[ra],va || (V=ra.split(" "),va={Ukb:(1 - (na + (z(V[0],X.x) || 0))) * N.Pka + N.HT,Skb:(1 - (da + (z(V[1],X.y) || 0))) * N.aua + N.I8},30 > za.Ml && (za.Ml++,za[ra]=va)),Q.marginRight=va.Ukb,Q.marginBottom=va.Skb);}function w(Q,N,da,na,va){var ra,X,ta;ra=Q.displayAlign;X=Q.textAlign;ta=Q.origin;Q=Q.extent;da=f.sN(da);t(da,N,ra,X,ta,Q,na,va);da.id=F++;return da;}function v(Q,N,da,na){var va,ra,X,ta,za,V;va=n(da.characterSize || N.characterSize,b.H_a,2) || 1;ra=(ra=Q.fontSize) && R.test(ra)?f.yo(f.pe(ra),25,200):void 0;va*=ra / 100 || 1;if((ra=Q.textOutline) && "none" != ra){X=ra.split(" ");if(K.test(X))(ta=0,za=Q.color);else (ta=1,za=m(X[0]));V=y(X[ta]);X=y(X[ta + 1]);}return {characterStyle:da.characterStyle || b.I_a[Q.fontFamily] || N.characterStyle,characterSize:va * na,characterColor:m(da.characterColor || Q.color || N.characterColor),characterOpacity:n(f.j1(da.characterOpacity,Q.opacity,N.characterOpacity),b.m6,1),characterEdgeAttributes:da.characterEdgeAttributes || ra && ("none" === ra?b.E_a:X?b.dpa:b.F_a) || N.characterEdgeAttributes,characterEdgeColor:m(da.characterEdgeColor || za || N.characterEdgeColor),characterEdgeWidth:V,characterEdgeBlur:X,characterItalic:"italic" === Q.fontStyle,characterUnderline:"underline" === Q.textDecoration,backgroundColor:m(da.backgroundColor || Q.backgroundColor || N.backgroundColor),backgroundOpacity:n(f.j1(da.backgroundOpacity,Q.opacity,N.backgroundOpacity),b.m6,1)};}function x(Q,N,da,na,va){var ra;N=v(N,da,na,va);h.de(N,function(X,ta){ta !== Q[X] && (ra || (ra=d.FD(Q)),ra[X]=ta);});return ra || Q;}function y(Q){Q=f.pe(Q);return g.Cy(Q,0,100)?Q:0;}function z(Q,N){var da;da=Q[Q.length - 1];if("%" === da)return f.yo(.01 * parseFloat(Q),0,1);if("c" === da)return f.yo(f.pe(Q) / N,0,1);}function B(Q){for(var N=Q.length,da=Q[--N].endTime;N--;){da=d.xo(Q[N].endTime,da);}return da;}function A(Q){h.de(Q,function(N,da){0 <= N.toLowerCase().indexOf("color") && (Q[N]=m(da));});}function C(Q,N){var da,na,va,ra;da=Q.pixelAspectRatio;na={HT:0,Pka:1,I8:0,aua:1};Q=(Q.extent || "640px 480px").split(" ");if(2 <= Q.length){da=(da || "").split(" ");va=parseFloat(Q[0]) * (parseFloat(da[0]) || 1);ra=parseFloat(Q[1]) * (parseFloat(da[1]) || 1);}va=0 < va && 0 < ra?va / ra:1280 / 720;N=N || 1280 / 720;da=va / N;.01 < d.tD(N - va) && (N >= va?(na.HT=(1 - da) / 2,na.Pka=da):c.gb(!1,"not implemented"));return na;}function E(Q){var N,da,na,va,ra;if(N=Q.cellResolution)if((N=N.split(" "),2 <= N.length)){da=f.pe(N[0]);N=f.pe(N[1]);if(0 < da && 0 < N)return {x:da,y:N};}if((N=Q.extent) && (N=N.split(" "),2 <= N.length)){da=f.pe(N[0]);na=f.pe(N[1]);if(Q=Q.pixelAspectRatio){N=Q.split(" ");va=f.pe(N[0]);ra=f.pe(N[1]);}if(da && na && 1.5 < da * (va || 1) / (na * (ra || 1)))return b.D_a;}return b.C_a;}F=1;D={before:"top",center:"center",after:"bottom"};G={left:"left",start:"left",center:"center",right:"right",end:"right"};I={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};J={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};H=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");M=H.concat(["style","region"]);O=["region","textAlign","displayAlign","extent","origin"];L=/^([0-9]+):([0-9]+):([0-9.]+)$/;P=/^br$/i;R=/^[0-9]{1,3}%$/;K=/^[0-9]/;return function(Q,N,da,na,va){var za,V,T,ja,Ia,wa,Sa,Ua,$a,Za,mb,db,Ta,Ca,La,Ma,Va,ib,yb,Hb,Ob,Cb,Kb,Vb,mc,Dc,Md,re,Nd,fd;function ra(){var dc,ec,ac,ub,fc,nb,Rb,hc,Lc,qc,cc,Ec,Mc,uc,rd,sd,Ub;try{for(var pc;Kb;){ib=Kb[l.Vj];dc=Vb;ec=dc.push;ac=F++;ub=r(ib.begin,T);fc=r(ib.end,T);nb=void 0;Rb=Ua;hc=ja;Lc=db;qc=Ma;cc=Kb[l.Vj];Ec=p(Kb[l.Vj],Dc,wa,Sa,O);Mc=Ec.region;uc=cc.displayAlign;rd=Ec.textAlign;sd=cc.origin;Ub=cc.extent;Mc || uc || rd || sd || Ub?((nb=Rb[Mc])?nb=d.FD(nb):uc || sd || Ub?(nb=d.FD(J),nb.id=F++):nb=d.FD(I),t(nb,hc,uc,rd,sd,Ub,Lc,qc)):nb=I;ec.call(dc,{id:ac,startTime:ub,endTime:fc,region:nb,textNodes:u(Kb,Md,re,mc,wa,Sa,Ca,La,Ta)});Kb=Kb[l.WC];pc=d.NH();if(100 < pc - Nd){Nd=Date.now();fd=setTimeout(ra,1);return;}}}catch(Fc){ta({oa:f.M.uY,sb:f.vd(Fc)});return;}fd=setTimeout(X,1);}function X(){var dc,ec,ac,ub,fc,nb,Rb;function pc(hc,Lc){for(var qc,cc=[],Ec={},Mc,uc=ec.length;uc--;){qc=ec[uc];Mc=qc.region.id;Ec[Mc] || (Ec[Mc]=1,cc.unshift(qc));}(qc=dc[dc.length - 1]) && qc.endTime == hc && f.qs(qc.blocks,cc)?qc.endTime=Lc:dc.push({id:F++,startTime:hc,endTime:Lc,blocks:cc});}try{if(!Vb.length){ta({X:!0,entries:[]});return;}f.oMa(Vb,"startTime");dc=[];ec=[];ac=Vb[0];ub=Vb[0].startTime;for(fc=1;ec.length || ac;){for(;!ec.length || ac && ac.startTime == ub;){ec.push(ac);ub=ac.startTime;ac=Vb[fc++];}Rb=B(ec);if(!ac || Rb <= ac.startTime)for((pc(ub,Rb),ub=Rb,nb=ec.length);nb--;){ec[nb].endTime <= ub && ec.splice(nb,1);}else (pc(ub,ac.startTime),ub=ac.startTime,ec.push(ac),ac=Vb[fc++]);}for(fc=dc.length;fc--;){dc[fc].index=fc;dc[fc].previous=dc[fc - 1];dc[fc].next=dc[fc + 1];}}catch(hc){ta({oa:f.M.uY,sb:f.vd(hc)});return;}ta({X:!0,entries:dc});}function ta(pc){setTimeout(function(){za.abort=f.kj;va(pc);},1);}za={abort:function(){fd && clearTimeout(fd);}};try{V=Q[l.Vj];T=k.Ik / (f.pe(V.tickRate) || 1);ja=C(V,N);Ia=f.Qb(J,{marginLeft:ja.HT,marginTop:ja.I8,marginRight:ja.HT,marginBottom:ja.I8});wa={};Sa={};Ua={};Za=Q.head;mb=Q.body;db=E(V,N);Ta=1 / db.y * ja.aua;Ca=f.Qb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.dpa,characterEdgeColor:"#000000",characterSize:1},da,{Vy:!0});La=na || ({});Ma={Ml:0};if(Za){Va=Za.styling;if(Va)for($a=Va.style;$a;){ib=$a[l.Vj];A(ib);wa[ib.id]=ib;$a=$a[l.WC];}yb=Za.layout;if(yb)for(var Eb=yb.region;Eb;){ib=Eb[l.Vj];Hb=ib.id;Ob=f.sN(wa[ib.style]);Ob=f.Qb(Ob,ib);for($a=Eb.style;$a;){f.Qb(Ob,$a[l.Vj]);$a=$a[l.WC];}A(Ob);Sa[Hb]=Ob;Ua[Hb]=w(Ob,ja,Ia,db,Ma);Eb=Eb[l.WC];}}Cb=mb.div;Kb=Cb.p;Vb=[];mc={};mc=p(mb[l.Vj],mc,wa,Sa,M);mc=p(Cb[l.Vj],mc,wa,Sa,M);Dc={};Dc=p(mb[l.Vj],Dc,wa,Sa,O);Dc=p(Cb[l.Vj],Dc,wa,Sa,O);Md=v(mc,Ca,La,Ta);f.Qb(Md,{windowColor:m(La.windowColor || Ca.windowColor),windowOpacity:n(f.j1(La.windowOpacity,Ca.windowOpacity),b.m6,1),cellResolution:db},{Vy:!0});re={};Cb.p=void 0;Cb[l.dO]=[];}catch(pc){ta({oa:f.M.uY,sb:f.vd(pc)});return;}Nd=d.NH();fd=setTimeout(ra,1);return za;};})();b.I_a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.H_a={SMALL:.5,MEDIUM:1,LARGE:2};b.m6={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.G_a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.E_a="NONE";b.PLb="RAISED";b.OLb="DEPRESED";b.F_a="UNIFORM";b.dpa="DROP_SHADOW";b.C_a={x:40,y:19};b.D_a={x:52,y:19};},function(q,b,a){var h,m,n,r;function c(p){var u,t,v;u=0;this.Ia.info("show subtitle called at " + this.Vw() + " for displayTime " + p.displayTime);this.emit("showsubtitle",p);t=this.AA[this.AA.length - 1];t.tN || (t.tN={});if("dfxp-ls-sdh" === this.JQ)for(var w=0;w < p.blocks.length;w++){v=p.blocks[w];t.tN[v.id] || (u++,t.tN[v.id]=!0);}else t.tN[p.id] || (u++,t.tN[p.id]=!0);t.wW+=u;}function f(p){this.Ia.info("remove subtitle called at " + this.Vw() + " for remove time " + (p.displayTime + p.duration));this.emit("removesubtitle",p);}function k(p){this.Ia.info("stage subtitle called at " + this.Vw() + " for displayTime " + p.displayTime);this.emit("stagesubtitle",p);}function l(){this.Ia.info("underflow fired by the subtitle timer");this.emit("underflow");}function d(){this.Ia.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}function g(p){var u;this.Ia.info("ending subtitle interval at " + p);u=this.AA[this.AA.length - 1];u.Aa=p;u.Aa < u.Z && (this.Ia.warn("correcting for interval where endPts is smaller than startPts"),u.Z=0 < u.Aa?u.Aa - 1:0);u.q2=this.Uc.Rq(u.Z,u.Aa);delete u.tN;u.q2 > u.wW && u.Bma && 500 > u.Aa - u.Bma && (u.q2=this.Uc.Rq(u.Z,u.Bma));this.Ia.info("showed " + u.wW + " during this interval");this.Ia.info("expected " + u.q2 + " for this interval");}h=a(109).EventEmitter;m=a(992);b=a(437)();n=a(993);r=a(1E3);a=function w(u,t){var v,x;v=this;x=u.We || !1;if(!(v instanceof w))return new w(u,t);h.call(v);v.Ia=u.ya || console;v.pE=u.request;v.Vw=u.dUa;v.vg=null;v.Nk=!0;v.AA=[];v.JQ=t.profile;v.Qk=t.url;v.mE=t.od;v.P_=t.preferences;v.i_=t.jk;v.Xw=v.mE || 0;u={url:v.Qk,request:v.pE,od:v.mE,xml:t.xml,preferences:v.P_,jk:v.i_,ya:v.Ia,We:x,bufferSize:t.bufferSize,et:t.et,dqa:t.dqa || 0,iNa:t.iNa};if("nflx-cmisc" === v.JQ)(u.offset=t.Una,u.size=t.MYa,u.o7=t.o7,u.IQa=t.IQa,v.Uc=new n(u));else if(-1 < ["simplesdh","dfxp-ls-sdh"].indexOf(v.JQ) && "function" === typeof r)v.Uc=new r(u);else throw Error("SubtitleManager: " + v.JQ + " is an unsupported profile");v.Uc.on("ready",function(){var y,z;y=! !t.OMa;v.Ia.info("ready event fired by subtitle stream");v.emit("ready");z=v.Uc.tF.bind(v.Uc);v.vg=new m(v.Vw,z,v.Ia,t);if("dfxp-ls-sdh" === v.JQ && "function" === typeof r)v.vg.on("stagesubtitle",k.bind(v));v.vg.on("showsubtitle",c.bind(v));v.vg.on("removesubtitle",f.bind(v));v.vg.on("underflow",l.bind(v));v.vg.on("bufferingComplete",d.bind(v));y && (v.Ia.info("autostarting subtitles"),setTimeout(function(){v.Br(v.Vw());},10));});v.Uc.on("error",v.emit.bind(v,"error"));};a.prototype=Object.create(h.prototype);a.prototype.start=function(){this.Uc.start();};a.prototype.eqa=function(){this.Nk || (this.Nk=!0,g.call(this,this.Xw));};a.prototype.Br=function(u){!this.Nk && 1E4 < Math.abs(u - this.Xw) && (this.Ia.warn("Detected an unexpected pts jump larger than",1E4,"at",u,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.eqa());this.Xw=u;this.Nk && (this.Nk=!1,this.Ia.info("creating a new subtitle interval at " + u),this.AA.push({Z:u,wW:0}));null !== this.vg && (this.AA[this.AA.length - 1].Bma=u,this.vg.Br(u));};a.prototype.stop=function(){var u;this.Ia.info("stop called");this.Nk || this.pause();this.Uc.removeAllListeners(["ready"]);null !== this.vg && this.vg.stop();u=this.AA.reduce(function(t,w){t.B3a+=w.wW;t.p2+=w.q2;t.hEb.push(w);return t;},{B3a:0,p2:0,hEb:[]});"object" === typeof this.Uc && this.Uc.close();this.Ia.info("metrics: " + JSON.stringify(u));return u;};a.prototype.pause=function(){var u;u=this.Vw();this.Nk?this.Ia.warn("pause called on subtitle manager, but it was already paused!"):(this.Ia.info("pause called at " + u),this.Nk=!0,g.call(this,u));null !== this.vg && this.vg.pause();};a.prototype.DT=function(u,t){return this.Uc.DT(u,t);};a.prototype.Rq=function(u,t){return this.Uc.Rq(u,t);};a.prototype.tF=function(u){return this.Uc.tF(u);};a.prototype.rz=function(u){var w;function t(){w.Ia.trace("bufferingComplete from setStreamStartPosition");w.emit("bufferingComplete");}w=this;"function" === typeof w.Uc.rz?w.Uc.rz(u,t):t();};a.prototype.Ak=function(u,t){this.Uc.Ak && this.Uc.Ak(u,t);};a.prototype.ti=function(u,t){this.Uc.ti && this.Uc.ti(u,t);};a=b([{request:"function",dUa:"function",ya:"object"},"object"],a);q.exports.default=a;},function(q,b,a){var l;function c(d,g){return g.reduce(f.bind(this,d),[]);}function f(d,g,h){var m,n;m=h.displayTime - d;d=h.displayTime + h.duration - d;n=0 < g.length?g[0].timeout:Infinity;return 0 < m && m < n?[k("showsubtitle",h,m)]:m === n?g.concat([k("showsubtitle",h,m)]):0 < d && d < n?[k("removesubtitle",h,d)]:d === n?g.concat([k("removesubtitle",h,d)]):g;}function k(d,g,h){return {timeout:h,type:d,entry:g};}l=a(109).EventEmitter;b=a(437)({});a=function r(g,h,m,n){if(!(this instanceof r))return new r(g,h,m,n);l.call(this);this.Vw=g;this.rgb=h;this.hx={};this.wE={};this.Ia=m || console;this.TZ=!1;this.Fib=n && n.dqa || 0;};a.prototype=Object.create(l.prototype);a.prototype.stop=function(){clearTimeout(this.vg);this.zPb();};a.prototype.zPb=function(){var g;g=this;Object.keys(g.hx).forEach(function(h){g.emit("removesubtitle",g.hx[h]);});g.hx={};g.wE={};};a.prototype.pause=function(){clearTimeout(this.vg);};a.prototype.Br=function(g,h){var m,n;m=this;n=m.Vw();clearTimeout(this.vg);g=m.rgb(n);null !== g && m.TZ && (m.TZ=!1,m.emit("bufferingComplete"));h="number" === typeof h?h:0;Object.keys(m.hx).forEach(function(r){r=m.hx[r];r.displayTime - m.Fib <= n && n < r.displayTime + r.duration || (delete m.hx[r.id],m.emit("removesubtitle",r));});Object.keys(m.wE).forEach(function(r){r=m.wE[r];n >= r.displayTime + r.duration && delete m.wE[r.id];});null !== g && 0 < g.length?(h=g.length,m.Ia.info("found " + h + " entries for pts " + n),g.forEach(function(r){r.displayTime - 0 <= n && n < r.displayTime + r.duration && !m.hx[r.id] && (m.emit("showsubtitle",r),m.hx[r.id]=r,delete m.wE[r.id]);}),h=g[g.length - 1],m.hx[h.id] || m.wE[h.id] || (m.emit("stagesubtitle",h),m.wE[h.id]=h),h=c(n,g),0 < h.length?m.X_(h[0].timeout):m.X_(2E4)):null === g?(g=250 * Math.pow(2,h),2E3 < g && (g=2E3),m.Ia.warn("checking buffer again in " + g + "ms"),m.TZ || (m.TZ=!0,m.emit("underflow")),m.X_(g,h + 1)):m.X_(2E4);};a.prototype.X_=function(g,h){var m;m=this;m.Ia.info("Scheduling pts check.");m.vg=setTimeout(function(){m.Br(m.Vw(),h);},g);};q.exports=b(["function","function","object","object"],a);},function(q,b,a){var f,k,l,d,g,h;function c(m){f.call(this);this.Qk=m.url;this.pE=m.request;this.mE=m.od || 0;this.Ia=m.ya;this.Zh=this.wq=null;m.et?this.wq=m.et:(this.ve=m.offset,this.BJ=m.size);this.Bl;this.qda=m;}f=a(109).EventEmitter;k=a(994);l=a(995);d=a(996);g=a(153);h=c.events={sbb:"midxready",Kdb:"sidxready",vdb:"ready",uf:"error"};c.prototype=Object.create(f.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Ho:{get:function(){return this.Bl && this.Bl.bha;}}});c.prototype.start=function(){this.wq?(this.Ia.warn("midx was prefectched and provided"),this.QIa(this.wq)):this.Ofb(this.ve,this.BJ,this.Aib.bind(this));};c.prototype.close=function(){};c.prototype.DT=function(m,n){return this.Bl && this.Bl.xka(m,n);};c.prototype.Rq=function(m,n){return (m=this.DT(m,n))?m.length:m;};c.prototype.rz=function(m,n){this.Ia.debug("setStreamStartPosition: buffering subtitles at pts " + m);this.mE=m;this.Bl?this.Bl.rz(m,n):n && n();};c.prototype.tF=function(m){var n,r,p;if(!this.Bl || m > g.Bzb(this.wq))return [];this.Bl && this.Bl.Oha(m);n=this.Ho.Wv;r=this.Ho.index;p=[];r=g.Hc(r) && this.Zh[r + 1];if(!(r && r.entries.length || n && !(m > n.endTime)))return [];n && n.images.length && (p=this.bJa(n,m,[]));2 > p.length && r && r.images.length && (n=this.bJa(r,m,p),p.push.apply(p,n));return this.Bl.gsa(m)?null:g.IOa(p);};c.prototype.ti=function(m,n){this.Bl && this.Bl.ti(m,n);};c.prototype.Ak=function(m,n){this.Bl && this.Bl.Ak(m,n);};c.prototype.Ofb=function(m,n,r){this.Ia.debug("downloading midx...");this.nJa(m,n,"binary",r);};c.prototype.Pfb=function(m,n,r){this.Ia.debug("downloading sidx...");this.nJa(m,n,void 0,r);};c.prototype.nJa=function(m,n,r,p){this.pE({url:this.Qk,offset:m,size:n,responseType:r},p);};c.prototype.Aib=function(m,n){if(m)this.emit(h.uf,g.pT(m,"midxdownloaderror"));else try{this.wq=new k(n);this.QIa(this.wq);}catch(r){this.emit(h.uf,g.pT(r,"midxparseerror"));}};c.prototype.QIa=function(m){var n;n=m.entries.reduce(function(r,p){return r + p.size;},0);n?(this.emit(h.sbb,m),this.Pfb(m.startOffset,n,this.Dib.bind(this,m))):this.emit(h.uf,g.pT({},"nosidxfoundinmidx"));};c.prototype.Dib=function(m,n,r){var p,u,t,w;p=this;if(n)p.emit(h.uf,g.pT(n,"sidxdownloaderror"));else {u=0;t=0;p.Zh=[];try{w=0;m.entries.forEach(function(v){var x;x=new l(r,u,m.Ela,p.Ia,t,t + v.duration,w);p.Zh.push(x);v.eTb=x;t=x.Jp;u+=v.size;w++;});}catch(v){p.emit(h.uf,g.pT(v,"sidxparseerror"));return;}p.emit(h.Kdb,p.Zh);this.Bl=new d(p.qda,m,p.Zh);n=p.mE;p.qda && p.qda.o7 || (n=Math.max(p.mE - 1E4,0));this.Bl.Oha(n,function(v){v && p.Ia.error("initial sidx download failed");p.emit(h.vdb);});}};c.prototype.bJa=function(m,n,r){var y;for(var p=m.entries,u=0,t=p.length,w=[],v,x=this.wq;u < t;){v=p[u];if(v.displayTime <= n)v.displayTime + v.duration >= n && w.push(g.Tga(v,m.images[u].data,x));else {y=w.length && w[w.length - 1] || r.length && r[r.length - 1];if(y && y.displayTime > n && y.displayTime !== v.displayTime)break;y.IF !== v.IF && w.push(g.Tga(v,m.images[u].data,x));}u++;}return w;};q.exports=c;},function(q,b,a){var f,k;function c(l,d){this.duration=l;this.size=d;this.eTb=void 0;}f=a(259);k=a(153);q.exports=function(l){var m;l=new f(l);this.identifier=l.oqa(4);k.assert("midx" === this.identifier);this.version=l.Kp(4);k.assert(0 === this.version);this.Ela=l.ph(36);this.creationTime=l.OM();this.Ep=l.OM();this.K=l.OM();this.FQb=l.Vg();this.GQb=l.Vg();this.language=l.ph(16);l.ph(16);this.startOffset=l.OM();this.Ml=l.Vg();for(var d=[],g=0,h=0;h < this.Ml;h++){m=new c(l.Kp(4),l.Vg());d.push(m);g+=m.duration;}this.entries=d;this.endTime=g;};},function(q,b,a){var k,l;function c(d,g,h,m,n,r,p,u){this.displayTime=d;this.duration=g;this.qLb=h;this.rLb=m;this.lTb=n;this.mTb=r;this.IF=p;this.rla=u;}function f(d,g,h,m,n,r,p){var u;d=new k(d);u=0;d.position=g;this.Ia=m;this.identifier=d.oqa(4);l.assert("sidx" === this.identifier,m);this.Ela=d.ph(36);l.epb(this.Ela,h,m);this.duration=d.Kp(4);this.Ml=d.Vg();this.Ov=n;this.Jp=r;this.index=p || 0;this.entries=[];this.images=[];for(this.Fda=0;u < this.Ml;){g=new c(d.Kp(4),d.Kp(4),d.Vg(),d.Vg(),d.Vg(),d.Vg(),d.OM(),d.Kp(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}k=a(259);l=a(153);f.prototype.JDb=function(){this.Fda++;};f.prototype.htb=function(){var d;d=0;this.Fda--;1 > this.Fda?this.images && 0 < this.images.length && (d+=l.tka([this]),this.images=[]):this.Ia.debug("Not cleaning up shared sidx with range",this.Ov,"-",this.Jp);return d;};q.exports=f;},function(q,b,a){var l,d;function c(g,h){var n;g=g || 0;if(h)for(var m in h.Ca){n=h.Ca[m];if(g >= (n.xc || 0) && (!n.Yc || g < n.Yc))return m;}}function f(g,h){return g && h && h.Ca[g];}function k(g,h,m){var n;this.Ia=g.ya;this.Zh=m;this.KA=this.tfb(g.o7);this.Lg=[];n=m && m[m.length - 1];this.Xw=n && (n.endTime || n.Jp);this.qg=new l(g,h,m);g=c(g.od || 0,this.KA);this.rn=this.Sw(g);}l=a(997);d=a(999);Object.defineProperties(k.prototype,{bha:{get:function(){return this.qg.bha;}}});k.prototype.xka=function(g,h){return this.qg && this.qg.xka(g,h);};k.prototype.Oha=function(g,h){this.qg.NRb(g);this.$Ka(g);if(!this.KA && this.Xw && g > this.Xw)h && h();else if((g=this.MIa(g,this.rn,2,h),this.KA && 0 < this.rn.rZa.length))h && h();else if(this.KA && this.rn.yL && g){2 > this.Lg.length && this.zfb(this.rn);h=Math.ceil(2 / (this.Lg.length - 1));for(var m=0;m < this.Lg.length && g && 3 > m;m++){g=this.Lg[m];g=this.MIa(g.startTime,g,h);}}};k.prototype.gsa=function(g){return this.qg.gsa(g)?(this.qg.Ykb(),this.Oha(g),this.rn.yL=!1,!0):!1;};k.prototype.rz=function(g,h){var m;this.$Ka(g);this.Lg.forEach(function(n){n.yL=!1;});m=this.rn.bn && this.rn.bn[0];this.qg.rz(g,m && m.index);(g=this.qg.tBb(g)) && g.length?this.qg.sQa(g,h):h && h();};k.prototype.Ak=function(g,h){var m;this.Ia.debug("Set next segment to",h,"for segment",g);g=this.UIa(g) || this.Sw(g);g.D2a=h;m=this;g.WU=g.WU.filter(function(n){if(n.id === h)return !0;m.pca(n);return !1;});};k.prototype.ti=function(g,h){var m;m=f(g,this.KA);Object.keys(m.next).forEach(function(n){m.next[n].weight=h[n] || 0;});};k.prototype.tfb=function(g){var h,n;h={};if(g=(g || ({})).Ca){h.Ca={};for(var m in g){n=g[m] || ({});h.Ca[m]={xc:n.xc,Yc:n.Yc,Ki:n.Ki,next:this.sfb(n.next)};}}return h;};k.prototype.sfb=function(g){var h,m;h={};for(m in g){h[m]={weight:(g[m] || ({})).weight};}return h;};k.prototype.$Ka=function(g){var h,m;if(this.KA && this.rn.startTime > g || this.rn.endTime && this.rn.endTime < g){h=this.rn;m=c(g,this.KA);m?(this.Ia.debug("Switching segments from",this.rn.id,"to",m,"at pts",g),this.rn=this.UIa(m) || this.Sw(m),this.pca(h)):this.Ia.debug("The pts is outside of the current segment but not in a new one yet");}};k.prototype.Sw=function(g){this.Ia.debug("SegmentManager: creating segment",g);g=new d(g,f(g,this.KA),this.Zh,this.Ia);this.Lg.push(g);this.Ia.debug("SegmentManager: segment contains",g.bn.length,"sidxes");return g;};k.prototype.pca=function(g){var h;if(g && g !== this.rn){this.Ia.debug("SegmentManager: deleting segment",g.id);g.WU.forEach(this.pca.bind(this));this.Lg=this.Lg.filter(function(m){return m !== g;});h=g.ZNa();this.qg.vPb(h && h.size || 0,h && h.bn);}};k.prototype.UIa=function(g){var m;for(var h=0;g && h < this.Lg.length;h++){m=this.Lg[h];if(g === m.id)return m;}};k.prototype.zfb=function(g){var h,n;h=g.D2a;if(h && "" !== h)g.WU.push(this.Sw(h));else {h=g.rZa;for(var m in h){n=h[m];if(!n || !n.weight)break;g.WU.push(this.Sw(m));}}};k.prototype.MIa=function(g,h,m,n){if(!h || h.yL)return (this.Ia.debug("Done driving segment",h && h.id),!0);if(!this.qg.Lnb)return (this.Ia.debug("Throttling buffering in quiet period"),!1);this.Ia.debug("Drive streaming of segment",h.id,"from pts",g);m=(g=this.qg.uBb(g,h,m)) && g.length || 0;if(0 === m)return (this.Ia.debug("Segment is fully downloaded",h && h.id),h.yL=!0,n && n(),!0);this.Ia.debug("Downloading",m,"sidxes in segment",h.id);return this.qg.sQa(g,function(r,p){r && (h.yL=!1);n && n(r,p);});};q.exports=k;},function(q,b,a){var h,m;function c(n,r,p){var u;u=p.displayTime <= n && n <= p.displayTime + p.duration;return n <= p.displayTime && p.displayTime <= r || u;}function f(n,r,p){return r && (!r.entries.length && n > r.Ov || n > r.endTime) && p.entries.length && n < p.endTime;}function k(n,r,p){this.sE=this.vu=0;this.ahb=n.bufferSize || 4194304;this.Ho=new g();this.kE;this.aE=n.We;this.Ia=n.ya;this.wq=r;this.Zh=p;this.zn=new h(n);this.CE=new d(this.Zh.length,n.IQa);this.MQ=new l(n.iNa);}function l(n){this.Wfb=0 !== n;this.on=!1;this.qj=n || 3E3;this.vg;}function d(n,r){if(this.enabled=r)this.bn=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,r){this.Wv=n;this.index=r;}h=a(998);m=a(153);g.prototype.reset=function(){this.index=this.Wv=void 0;};d.prototype.ea=function(n){this.enabled && n < this.bn.length && (this.bn[n]="x");};d.prototype.n_a=function(n){this.enabled && n < this.bn.length && (this.bn[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.bn.join("") + "|";};l.prototype.start=function(){var n;if(this.Wfb){n=this;this.on=!0;this.vg=setTimeout(function(){n.on=!1;n.vg=void 0;},this.qj);}};l.prototype.stop=function(){this.on=!1;clearTimeout(this.vg);this.vg=void 0;};Object.defineProperties(k.prototype,{bha:{get:function(){return this.Ho;}},Lnb:{get:function(){return !this.MQ.on;}}});k.prototype.BQ=function(){this.CE.enabled && this.Ia.debug("Buffer: " + this.CE.toString());};k.prototype.Xib=function(n){this.sE+=n;this.Ia.debug("Reserved buffer size is",this.vu + this.sE,"after reserving",n);};k.prototype.Gjb=function(n){this.sE-=n;this.Ia.debug("Reserved buffer size is",this.vu + this.sE,"after unreserving",n);};k.prototype.rfb=function(n){this.vu+=n;this.Ia.debug("Buffer size is",this.vu,"after claiming",n);};k.prototype.yKa=function(n){this.vu-=n;this.Ia.debug("Buffer size is",this.vu,"after clearing",n);};k.prototype.vPb=function(n,r){var p;this.yKa(n);p=this;r && this.CE.enabled && (r.forEach(function(u){p.CE.n_a(u.index);}),this.BQ());};k.prototype.gsa=function(n){var r;r=this.hgb(n);return m.xVa(r) && m.oUb(n,r);};k.prototype.NRb=function(n){var r;r=this.gJa(n);(!r || r.index) !== (!this.Ho || this.Ho.index) && (this.kE=this.Ho.Wv,r?(this.aE && this.Ia.debug("Current sidx is index",r.index),this.Ho=r):(this.aE && this.Ia.debug("Current sidx is out of range"),this.Ho.reset()));this.kE && "number" === typeof this.kE.index && (n < this.kE.Ov - 35E3 || n > this.kE.Jp + 35E3) && (this.gca(this.kE.index),this.kE=void 0,this.BQ());};k.prototype.rz=function(n,r){var p,u;p=this.Zh && this.Zh.length;for(r;r < p;r++){(u=this.Zh[r]) && ((u.endTime || u.Jp) >= n - 1E4 && (u.endTime || u.Jp) < n + 3E5 || this.gca(r));}this.MQ.stop();this.BQ();};k.prototype.Ykb=function(){var n,r;this.Ia.debug("executing aggressive cleanup");n=this.Zh && this.Zh.length;for(r=0;r < n;r++){r === this.Ho.index && (r+=2);this.gca(r);}this.MQ.stop();this.BQ();};k.prototype.tBb=function(n){var r,p,u,t;r=[];p=this.gJa(n);if(!p)return (this.Ho.reset(),r);this.Ho=p;u=n + 1E4;p=p.index;t=this.Zh[p];p;for(t;p < this.Zh.length && u > t.Ov;(p++,t=this.Zh[p])){m.xVa(t) && m.pUb(n,u,t) && r.push(t);}return r;};k.prototype.sQa=function(n,r){var p,u,t,w,v,x;if(!n || !n.length)return (r && r(null),!0);this.zn.HQ && 2 <= Object.keys(this.zn.HQ).length && !this.MQ.on && (this.Ia.debug("Enabling buffering quiet period"),this.MQ.start());p=this;u=n[0];t=n[n.length - 1];if(0 < u.entries.length)(w=u.entries[0].IF,v=u.entries[u.entries.length - 1]);0 < t.entries.length && (m.Hc(w) || (w=t.entries[0].IF),v=t.entries[t.entries.length - 1]);if(w)x=v.IF + v.rla - w;else return (r && r(null),!0);u=m.Gja(w,x);if(this.zn.HQ[u])(this.Ia.debug("The request for",u,"is already pending. Not requesting again"),r && r());else if(this.Bgb(m.tka(n)))(this.Ia.debug("Reserving",x,"bytes for subtitle request",n[0].Ov,n[n.length - 1].Jp),this.Xib(x),this.zn.wub(n,w,x,function(y,z){p.Ia.debug("Claiming reserved space.  Expected",x,"received",z);p.CE.enabled && (n.forEach(function(B){p.CE.ea(B.index);}),p.BQ());p.Gjb(x);p.rfb(z);r && r(y);}));else return (this.Ia.debug("Not enough space in buffer to download all of the imaages in the list"),r && r(),!1);return !0;};k.prototype.xka=function(n,r){var p,u,t;p=this.wq;u=this.fJa(n,r,this.Zh);if(!u || 0 === u.length)return [];t=[];r=c.bind(null,n,r);for(var w=0;w < u.length;w++){n=u[w];t=t.concat(n.entries.filter(r));}t=t.map(function(v){return m.Tga(v,null,p);});return m.IOa(t);};k.prototype.uBb=function(n,r,p){return this.fJa(n,r.endTime,r.bn,p,!0);};k.prototype.fJa=function(n,r,p,u,t){var w,v,x,y;if(r && n > r || 0 > n)this.Ia.error("invalid range startPts: " + n + ", endPts: " + r);else {w=p && p.length || 0;v=[];if(p && 0 !== w){x=p[0].duration;y=p[0].Ov;if(m.Hc(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.aE && this.Ia.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=p[x],!m.qub(y,n));x++){;}for(;x < w && (!u || v.length < u);){y=p[x];if(!t || !y.images.length && y.endTime > n)v.push(y);else if(v.length)break;if(r && r <= y.Jp)break;x++;}return v;}}};k.prototype.hgb=function(n){var r,p,t;r=this.Zh;if(r && 0 !== r.length){p=r[Math.floor(n / 6E4)];if(p && (p.Ov > n || n > p.Jp))a:{this.Xfb || (this.Xfb=!0,p=m.cAb(this.wq.language),this.Ia.error("bruteforce search for ",{movieId:this.wq.K,packageId:this.wq.Ep,lang:p}));p=r.length;for(var u=0;u < p;u++){t=r[u];if(t.Ov <= n && n <= t.Jp){p=t;break a;}}p=void 0;}return p;}};k.prototype.gJa=function(n){var r,p,u,t,w,v,x,y;r=this.Ho;p=r.Wv;u=r.index;t=this.Zh;this.nca(m.Hc(n));if(p)if(p.entries.length){if(0 === u && n <= p.startTime || n >= p.startTime && n <= p.endTime)(w=!0,v=r);else {if(0 < u){x=t[u - 1];f(n,x,p) && (w=!0,v=r);}}}else {x=t[u - 1];y=t[u + 1];f(n,x,p)?(w=!0,v=r):y && y.endTime && n <= y.endTime && (n >= p.endTime || n >= p.Jp) && (w=!0,v=new g(y,u + 1));}if(!w)for((r=t.length,p=0);p < r;p++){if((u=t[p],u.entries.length && n <= u.endTime)){v=new g(u,p);break;}}return v;};k.prototype.Bgb=function(n){return this.vu + this.sE + n <= this.ahb;};k.prototype.gca=function(n){var r,p,u;r=this.Zh[n];p=r && r.images && r.images.length || 0;if(0 < p){u=m.tka([r]);r.images=[];this.CE.n_a(n);this.yKa(u);this.aE && this.Ia.debug("cleaning up space from sidx",{index:n,start:r.startTime,size:u,images:p,C6b:this.vu});}};k.prototype.nca=function(n){this.aE && m.assert(n,this.Ia);};q.exports=k;},function(q,b,a){var f,k;function c(l){this.Qk=l.url;this.pE=l.request;this.mE=l.od || 0;this.aE=l.We;this.Ia=l.ya;this.HQ={};}f=a(259);k=a(153);c.prototype.wub=function(l,d,g,h){this.HQ[k.Gja(d,g)]=!0;l && l.forEach(function(m){m.P1a=!0;});this.pE({url:this.Qk,offset:d,size:g},this.Zhb.bind(this,l,d,g,h));};c.prototype.Zhb=function(l,d,g,h,m,n){var r,p,u,t;r=this;p=k.Gja(d,g);setTimeout(function(){delete r.HQ[p];},1E3);if(m)(h && h(m,0),l && l.forEach(function(w){delete w.P1a;}));else {u=new f(n);t=0;l && l.forEach(function(w){delete w.P1a;w.entries.forEach(function(v,x){u.position=v.IF - d;v={data:u.ph(v.rla)};w.images[x]=v;k.CXb(w.images[x].data,r.nca.bind(r));t+=w.images[x].data.length;});});h && h(null,t);}};c.prototype.nca=function(l){this.aE && k.assert(l,this.Ia);};q.exports=c;},function(q){function b(a,c,f,k){this.Ia=k;this.id=a;this.startTime=c && c.xc || 0;this.endTime=c && c.Yc;this.rZa=c && c.next || [];this.D2a;this.WU=[];this.yL=!1;a=this.startTime;c=this.endTime;for(var l=[],d=0;d < f.length;d++){(k=f[d]) && (!c || c > k.Ov) && a < k.Jp && (k.JDb(),l.push(k));}this.bn=l;}b.prototype.ZNa=function(){this.Ia.debug("Cleaning up segment",this.id);for(var a,c=0,f,k=[],l=0;l < this.bn.length;l++){a=this.bn[l];(f=a.htb()) && k.push(a);a && (c+=f);}this.bn=[];return {size:c,bn:k};};q.exports=b;},function(q,b,a){var u,t,w,v,x,y,z,B,A;function c(C){var E,F,D,G,I;E=C.preferences;F=C.jk;D=C.od;G=C.xml;I=C.ya;if(!C.xml && !C.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.Kg=this.Kca=null;this.P_="object" === typeof E?C.preferences:{};this.i_="object" === typeof F?C.jk:{};this.NA="number" === typeof D?C.od:0;this.BE="string" === typeof G?C.xml:"";this.Ia="object" === typeof I?C.ya:A;this.pE=C.request;this.Qk=C.url;this.tA=[];this.Xw=this.NA;this.vg=null;this.tda=this.uKa=!1;this.bfb=C.dqa || 0;}function f(){var C,E,F;C=this;E=C.BE.indexOf("<p");if(-1 < E){F=C.BE.slice(0,E);d(F,function(D,G){null !== D?(D.e5b=F,C.emit("error",D)):(C.Kca=G,C.Kg=new w(C.BE,G.tickRate),l.call(C,C.NA));});}else C.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function k(C,E){var F;F=C.filter(function(D){return D.startTime <= E && E <= D.endTime;});C=C.filter(function(D){return D.startTime > E;});return 0 < C.length?F.concat([C[0]]):F;}function l(C){var E,F,D,G,I,J,H;E=this;F=E.Kca;D=0;G=[];I=F.defaultStyle?[F.defaultStyle]:[];E.Ia.info("parsing the next 5 entries...");J=E.Kg.zAb(C);E.Ia.info(J);H=t.$b(!0);H.onerror=function(M){M.xml=J;E.emit("error",M);};H.onend=function(){var M;M=E.tA.reduce(function(O,L){L=L.blocks.reduce(function(P,R){return P.concat([R.id]);},[]);return O.concat(L);},[]);G.forEach(function(O){-1 === M.indexOf(O.id) && E.tA.push(O);});E.tda=!1;E.uKa || (E.uKa=!0,E.emit("ready"));};H.ontext=function(M){("" !== M.trim() || M.match(/ +/)) && n(n(G).blocks).textNodes.push({text:M.match(/ +/)?M:M.trim(),style:n(I),lineBreaks:D});D=0;};H.onclosetag=function(){"undefined" !== typeof H.tag.attributes.style && I.pop();};H.onopentag=function(M){var O,L,P,R,K;O=M.attributes;L=M.name;M=F.tickRate;if("p" === L){D=0;L=O["xml:id"];O.style && I.push(O.style);P=Math.floor(parseInt(O.begin) / M * 1E3);if(0 === G.length || n(G).displayTime !== P){P=G.push;R={};K=parseInt(O.begin) / M;M=parseInt(O.end) / M;R.id=L;R.startTime=Math.floor(1E3 * K);R.endTime=Math.floor(1E3 * M);R.style=O.style;R.region=O.region;R.displayTime=R.startTime;R.duration=R.endTime - R.startTime;R.extent=O["tts:extent"] || null;R.origin=O["tts:origin"] || null;R.latestEndSoFar=0 > R.endTime?0:R.endTime;R.blocks=[{textNodes:[],region:R.region,id:L,extent:R.extent,origin:R.origin}];P.call(G,R);}else n(G).blocks.push({textNodes:[],region:O.region,id:L,extent:O["tts:extent"] || null,origin:O["tts:origin"] || null});}else "span" === L?I.push(O.style):"br" === L && D++;};H.write("<entries>").write(J).write("</entries>").close();}function d(C,E){var F,D,G,I,J;F=t.$b(!0);D={};G=[];I=null;J=[];F.onerror=function(H){E(H,null);};F.onend=function(){E(null,D);};F.onclosetag=function(){G.pop();};F.onopentag=function(H){var M,O,L,P;M=H.attributes;O=H.name;L=D.regions;P=D.styles;G.push(H);"tt" === O?D=g(M):"body" === O?"undefined" !== typeof M.style && (D.defaultStyle=M.style,J.push(M.style)):"style" === O && m(G,"styling")?P[M["xml:id"]]=h(M,y):"style" === O && m(G,"region")?(H=Object.keys(M)[0],"string" === typeof H && (L[I][H.slice(4)]=M[H])):"region" === O && m(G,"layout") && (I=M["xml:id"],L[I]=h(M,B));};setTimeout(function(){var H;for(F.write(C);0 < G.length && !F.error;){H=n(G).name;F.write("</" + H + ">");}F.close();},10);}function g(C){var E;C=h(C,z);if("string" === typeof C.extent){E=C.extent.split(" ").map(function(F){return parseInt(F,10);});C.width=E[0];C.height=E[1];}else (C.width=1280,C.height=720);C.aspectRatio=C.width / C.height;"string" === typeof C.cellResolution?(E=C.cellResolution.split(" ").map(function(F){return parseInt(F,10);}),C.cellResolution={},C.cellResolution.x=E[0],C.cellResolution.y=E[1]):C.cellResolution={x:52,y:19};return C;}function h(C,E){var F;F={};E.forEach(function(D){"undefined" !== typeof C["tts:" + D]?F[D]=C["tts:" + D]:"undefined" !== typeof C["ttp:" + D] && (F[D]=C["ttp:" + D]);});F.styles={};F.regions={};return F;}function m(C,E){var F;for(F=C.length - 1;0 <= F;F--){if(C[F].name === E)return !0;}return !1;}function n(C){if(!Array.isArray(C))throw Error("last called on non-array: " + C);return C[C.length - 1];}function r(C,E){return {lineBreaks:E.lineBreaks,text:E.text,style:x.psb(C[E.style] || ({}),this.i_,this.P_),id:E.id};}function p(C,E){var F,D;F=this;D=C.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(G){var I;I=v.lsb(C,G);return {textNodes:G.textNodes.map(r.bind(F,D)),region:I,id:G.id};})};}u=a(109).EventEmitter;t=a(1001);w=a(1002);v=a(1003);x=a(1004);y=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline").split(" ");z=["cellResolution","pixelAspectRatio","tickRate","timeBase","extent"];B=["backgroundColor","displayAlign","extent","origin"];A={info:function(){}};b=Object.create(u.prototype);c.prototype=b;b.start=function(){var C;C=this;C.Ia.info("incremental text stream created, starting at pts " + C.NA);C.BE?f.call(C):C.pE({url:C.Qk},function(E,F){C.BE=F;f.call(C);});};b.tF=function(C){var E,F,D;E=this;C < E.Xw - E.bfb && (E.tA=[]);F=E.tA;D=0 < F.length?F[F.length - 1].startTime:C;E.Xw=C;for(!E.vg && 5 > E.tA.length && !E.tda && (E.Ia.info("buffer size: " + E.tA.length + "; minimum: 5"),E.tda=!0,E.vg=setTimeout(function(){E.vg=null;l.call(E,D + 1);},10));0 < F.length && F[0].endTime < C;){F.shift();}F=k(F,C).map(p.bind(E,E.Kca));C < E.Kg.Nwb() && 0 === F.length && (F=null);return F;};b.Rq=function(C,E){return this.Kg?this.Kg.Rq(C,E):0;};b.close=function(){};b.c8b=function(C){this.P_=C && "object" === typeof C.preferences?C.preferences:{};this.i_=C && "object" === typeof C.jk?C.jk:{};};q.exports=c;},function(q,b){(function(a){var x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L;function c(){}function f(P,R){if(!(this instanceof f))return new f(P,R);for(var K=0,Q=x.length;K < Q;K++){this[x[K]]="";}this.q=this.c=this.Cm=this.textNode="";this.eNa=a.W$;this.Um=R || ({});this.Um.JXa=this.Um.JXa || this.Um.F5b;this.dna=this.Um.JXa?"toLowerCase":"toUpperCase";this.Xp=[];this.closed=this.SR=this.dN=!1;this.tag=this.error=null;this.NC=! !P;this.BZa=!(!P && !this.Um.BZa);this.state=L.w9;this.tw=(this.n4a=this.Um.n4a)?Object.create(a.Ceb):Object.create(a.tw);this.XA=[];this.Um.EX && (this.Hj=Object.create(H));if(this.n8=!1 !== this.Um.position)this.position=this.line=this.TR=0;this.onready && this.onready(void 0);}function k(P,R){var K;if(!(this instanceof k))return new k(P,R);c.apply(this);this.ax=new f(P,R);this.readable=this.writable=!0;K=this;this.ax.onend=function(){K.emit("end");};this.ax.onerror=function(Q){K.emit("error",Q);K.ax.error=null;};y.forEach(function(Q){Object.defineProperty(K,"on" + Q,{get:function(){return K.ax["on" + Q];},set:function(N){if(!N)return (K.removeAllListeners(Q),K.ax["on" + Q]=N);K.on(Q,N);},enumerable:!0,configurable:!1});});}function l(P){return P.split("").reduce(function(R,K){R[K]=!0;return R;},{});}function d(P,R){return "[object RegExp]" === Object.prototype.toString.call(P)?! !R.match(P):P[R];}function g(P,R,K){P.textNode && h(P);P[R] && P[R](K);}function h(P){P.textNode=m(P.Um,P.textNode);P.textNode && P.ontext && P.ontext(P.textNode);P.textNode="";}function m(P,R){P.trim && (R=R.trim());P.normalize && (R=R.replace(/\s+/g," "));return R;}function n(P,R){h(P);P.n8 && (R+="\nLine: " + P.line + "\nColumn: " + P.TR + "\nChar: " + P.c);R=Error(R);P.error=R;P.onerror && P.onerror(R);return P;}function r(P){P.dN && !P.SR && p(P,"Unclosed root tag");P.state !== L.w9 && P.state !== L.x9 && P.state !== L.tl && n(P,"Unexpected end");h(P);P.c="";P.closed=!0;P.onend && P.onend(void 0);f.call(P,P.NC,P.Um);return P;}function p(P,R){if("object" !== typeof P || !(P instanceof f))throw Error("bad call to strictFail");P.NC && n(P,R);}function u(P,R){var K,Q;K=0 > P.indexOf(":")?["",P]:P.split(":");Q=K[0];K=K[1];R && "xmlns" === P && (Q="xmlns",K="");return {prefix:Q,local:K};}function t(P){var R,K,Q;P.NC || (P.Di=P.Di[P.dna]());if(-1 !== P.XA.indexOf(P.Di) || P.tag.attributes.hasOwnProperty(P.Di))return P.Di=P.Ei="";if(P.Um.EX){R=u(P.Di,!0);K=R.local;if("xmlns" === R.prefix)if("xml" === K && P.Ei !== I)p(P,"xml: prefix must be bound to " + I + "\nActual: " + P.Ei);else if("xmlns" === K && P.Ei !== J)p(P,"xmlns: prefix must be bound to " + J + "\nActual: " + P.Ei);else {R=P.tag;Q=P.Xp[P.Xp.length - 1] || P;R.Hj === Q.Hj && (R.Hj=Object.create(Q.Hj));R.Hj[K]=P.Ei;}P.XA.push([P.Di,P.Ei]);}else (P.tag.attributes[P.Di]=P.Ei,g(P,"onattribute",{name:P.Di,value:P.Ei}));P.Di=P.Ei="";}function w(P,R){var K,Q,da,na,va,ra,X;if(P.Um.EX){K=P.tag;Q=u(P.tagName);K.prefix=Q.prefix;K.local=Q.local;K.uri=K.Hj[Q.prefix] || "";K.prefix && !K.uri && (p(P,"Unbound namespace prefix: " + JSON.stringify(P.tagName)),K.uri=Q.prefix);Q=P.Xp[P.Xp.length - 1] || P;K.Hj && Q.Hj !== K.Hj && Object.keys(K.Hj).forEach(function(ta){g(P,"onopennamespace",{prefix:ta,uri:K.Hj[ta]});});Q=0;for(var N=P.XA.length;Q < N;Q++){da=P.XA[Q];na=da[0];va=da[1];ra=u(na,!0);da=ra.prefix;X="" == da?"":K.Hj[da] || "";va={name:na,value:va,prefix:da,local:ra.local,uri:X};da && "xmlns" != da && !X && (p(P,"Unbound namespace prefix: " + JSON.stringify(da)),va.uri=da);P.tag.attributes[na]=va;g(P,"onattribute",va);}P.XA.length=0;}P.tag.x5b=! !R;P.dN=!0;P.Xp.push(P.tag);g(P,"onopentag",P.tag);R || (P.state=P.BZa || "script" !== P.tagName.toLowerCase()?L.tl:L.wI,P.tag=null,P.tagName="");P.Di=P.Ei="";P.XA.length=0;}function v(P){var R,K,N;if(P.tagName){if(P.Pj){if("script" !== P.tagName){P.Pj+="</" + P.tagName + ">";P.tagName="";P.state=L.wI;return;}g(P,"onscript",P.Pj);P.Pj="";}R=P.Xp.length;K=P.tagName;P.NC || (K=K[P.dna]());for(var Q=K;R--;){if(P.Xp[R].name !== Q)p(P,"Unexpected close tag");else break;}if(0 > R)(p(P,"Unmatched closing tag: " + P.tagName),P.textNode+="</" + P.tagName + ">");else {P.tagName=K;for(K=P.Xp.length;K-- > R;){N=P.tag=P.Xp.pop();P.tagName=P.tag.name;g(P,"onclosetag",P.tagName);for(var da in N.Hj){;}Q=P.Xp[P.Xp.length - 1] || P;P.Um.EX && N.Hj !== Q.Hj && Object.keys(N.Hj).forEach(function(na){g(P,"onclosenamespace",{prefix:na,uri:N.Hj[na]});});}0 === R && (P.SR=!0);P.tagName=P.Ei=P.Di="";P.XA.length=0;}}else (p(P,"Weird empty close tag."),P.textNode+="</>");P.state=L.tl;}a.$b=function(P,R){return new f(P,R);};a.V1b=f;a.W1b=k;a.nPa=function(P){return new k(P,void 0);};a.W$=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.ue=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(P){function R(){this.__proto__=P;}R.prototype=P;return new R();});Object.getPrototypeOf || (Object.getPrototypeOf=function(P){return P.__proto__;});Object.keys || (Object.keys=function(P){var R,K;R=[];for(K in P){P.hasOwnProperty(K) && R.push(K);}return R;});f.prototype={end:function(){r(this);},write:function(P){var N,da,na,va,ra,X;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === P)return r(this);if(this.error)throw this.error;for(var R=0,K;this.c=K=P.charAt(R++);){switch((this.n8 && (this.position++,"\n" === K?(this.line++,this.TR=0):this.TR++),this.state)){case L.w9:if((this.state=L.x9,"\ufeff" === K))continue;case L.x9:"<" === K?(this.state=L.oaa,this.zsa=this.position):d(z,K) || (p(this,"Non-whitespace before first tag."),this.textNode=K,this.state=L.tl);continue;case L.tl:if(this.dN && !this.SR){for(var Q=R - 1;K && "<" !== K && "&" !== K;){(K=P.charAt(R++)) && this.n8 && (this.position++,"\n" === K?(this.line++,this.TR=0):this.TR++);}this.textNode+=P.substring(Q,R - 1);}"<" !== K || this.dN && this.SR && !this.NC?(d(z,K) || this.dN && !this.SR || p(this,"Text data outside of root node."),"&" === K?this.state=L.vba:this.textNode+=K):(this.state=L.oaa,this.zsa=this.position);continue;case L.wI:"<" === K?this.state=L.LFa:this.Pj+=K;continue;case L.LFa:"/" === K?this.state=L.F9:(this.Pj+="<" + K,this.state=L.wI);continue;case L.oaa:"!" === K?(this.state=L.kba,this.ur=""):d(z,K) || (d(M,K)?(this.state=L.FCa,this.tagName=K):"/" === K?(this.state=L.F9,this.tagName=""):"?" === K?(this.state=L.cDa,this.K6=this.zG=""):(p(this,"Unencoded <"),this.zsa + 1 < this.position && (K=Array(this.position - this.zsa).join(" ") + K),this.textNode+="<" + K,this.state=L.tl));continue;case L.kba:(this.ur + K).toUpperCase() === D?(g(this,"onopencdata"),this.state=L.SX,this.Fl=this.ur=""):"--" === this.ur + K?(this.state=L.UX,this.ur=this.ps=""):(this.ur + K).toUpperCase() === G?(this.state=L.ZX,(this.doctype || this.dN) && p(this,"Inappropriately located doctype declaration"),this.ur=this.doctype=""):">" === K?(g(this,"onsgmldeclaration",this.ur),this.ur="",this.state=L.tl):(d(C,K) && (this.state=L.OFa),this.ur+=K);continue;case L.OFa:K === this.q && (this.state=L.kba,this.q="");this.ur+=K;continue;case L.ZX:">" === K?(this.state=L.tl,g(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=K,"[" === K?this.state=L.Q9:d(C,K) && (this.state=L.Vwa,this.q=K));continue;case L.Vwa:this.doctype+=K;K === this.q && (this.q="",this.state=L.ZX);continue;case L.Q9:this.doctype+=K;"]" === K?this.state=L.ZX:d(C,K) && (this.state=L.Uwa,this.q=K);continue;case L.Uwa:this.doctype+=K;K === this.q && (this.state=L.Q9,this.q="");continue;case L.UX:"-" === K?this.state=L.Xva:this.ps+=K;continue;case L.Xva:"-" === K?(this.state=L.Wva,(this.ps=m(this.Um,this.ps)) && g(this,"oncomment",this.ps),this.ps=""):(this.ps+="-" + K,this.state=L.UX);continue;case L.Wva:">" !== K?(p(this,"Malformed comment"),this.ps+="--" + K,this.state=L.UX):this.state=L.tl;continue;case L.SX:"]" === K?this.state=L.Qva:this.Fl+=K;continue;case L.Qva:"]" === K?this.state=L.Rva:(this.Fl+="]" + K,this.state=L.SX);continue;case L.Rva:">" === K?(this.Fl && g(this,"oncdata",this.Fl),g(this,"onclosecdata"),this.Fl="",this.state=L.tl):"]" === K?this.Fl+="]":(this.Fl+="]]" + K,this.state=L.SX);continue;case L.cDa:"?" === K?this.state=L.zaa:d(z,K)?this.state=L.yaa:this.K6+=K;continue;case L.yaa:if(!this.zG && d(z,K))continue;else "?" === K?this.state=L.zaa:this.zG+=K;continue;case L.zaa:">" === K?(g(this,"onprocessinginstruction",{name:this.K6,body:this.zG}),this.K6=this.zG="",this.state=L.tl):(this.zG+="?" + K,this.state=L.yaa);continue;case L.FCa:if(d(O,K))this.tagName+=K;else {this.NC || (this.tagName=this.tagName[this.dna]());Q=this.Xp[this.Xp.length - 1] || this;N=this.tag={name:this.tagName,attributes:{}};this.Um.EX && (N.Hj=Q.Hj);this.XA.length=0;">" === K?w(this):"/" === K?this.state=L.bZ:(!d(z,K) && p(this,"Invalid character in tag name"),this.state=L.EH);}continue;case L.bZ:">" === K?(w(this,!0),v(this)):(p(this,"Forward-slash in opening tag not followed by >"),this.state=L.EH);continue;case L.EH:if(d(z,K))continue;else ">" === K?w(this):"/" === K?this.state=L.bZ:d(M,K)?(this.Di=K,this.Ei="",this.state=L.JX):p(this,"Invalid attribute name");continue;case L.JX:"=" === K?this.state=L.b9:">" === K?(p(this,"Attribute without value"),this.Ei=this.Di,t(this),w(this)):d(z,K)?this.state=L.sua:d(O,K)?this.Di+=K:p(this,"Invalid attribute name");continue;case L.sua:if("=" === K)this.state=L.b9;else if(d(z,K))continue;else (p(this,"Attribute without value"),this.Ei=this.tag.attributes[this.Di]="",g(this,"onattribute",{name:this.Di,value:""}),this.Di="",">" === K?w(this):d(M,K)?(this.Di=K,this.state=L.JX):(p(this,"Invalid attribute name"),this.state=L.EH));continue;case L.b9:if(d(z,K))continue;else d(C,K)?(this.q=K,this.state=L.e9):(p(this,"Unquoted attribute value"),this.state=L.f9,this.Ei=K);continue;case L.e9:if(K !== this.q){"&" === K?this.state=L.c9:this.Ei+=K;continue;}t(this);this.q="";this.state=L.tua;continue;case L.tua:d(z,K)?this.state=L.EH:">" === K?w(this):"/" === K?this.state=L.bZ:d(M,K)?(p(this,"No whitespace between attributes"),this.Di=K,this.Ei="",this.state=L.JX):p(this,"Invalid attribute name");continue;case L.f9:if(!d(F,K)){"&" === K?this.state=L.d9:this.Ei+=K;continue;}t(this);">" === K?w(this):this.state=L.EH;continue;case L.F9:if(this.tagName)">" === K?v(this):d(O,K)?this.tagName+=K:this.Pj?(this.Pj+="</" + this.tagName,this.tagName="",this.state=L.wI):(!d(z,K) && p(this,"Invalid tagname in closing tag"),this.state=L.Uva);else if(d(z,K))continue;else d(M,K)?this.tagName=K:this.Pj?(this.Pj+="</" + K,this.state=L.wI):p(this,"Invalid tagname in closing tag.");continue;case L.Uva:if(d(z,K))continue;">" === K?v(this):p(this,"Invalid characters in closing tag");continue;case L.vba:case L.c9:case L.d9:switch(this.state){case L.vba:(da=L.tl,na="textNode");break;case L.c9:da=L.e9;na="attribValue";break;case L.d9:(da=L.f9,na="attribValue");}if(";" === K){K=na;Q=this[K];N=this.Cm;va=N.toLowerCase();ra="";if(this.tw[N])N=this.tw[N];else if(this.tw[va])N=this.tw[va];else {N=va;if("#" === N.charAt(0))if("x" === N.charAt(1)){N=N.slice(2);X=parseInt(N,16);ra=X.toString(16);}else (N=N.slice(1),X=parseInt(N,10),ra=X.toString(10));N=N.replace(/^0+/,"");N=ra.toLowerCase() !== N?(p(this,"Invalid character entity"),"&" + this.Cm + ";"):String.fromCodePoint(X);}this[K]=Q + N;this.Cm="";this.state=da;}else d(E,K)?this.Cm+=K:(p(this,"Invalid character entity"),this[na]+="&" + this.Cm + K,this.Cm="",this.state=da);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.eNa){P=Math.max(a.W$,10);K=R=0;for(da=x.length;K < da;K++){na=this[x[K]].length;if(na > P)switch(x[K]){case "textNode":h(this);break;case "cdata":g(this,"oncdata",this.Fl);this.Fl="";break;case "script":g(this,"onscript",this.Pj);this.Pj="";break;default:n(this,"Max buffer length exceeded: " + x[K]);}R=Math.max(R,na);}this.eNa=a.W$ - R + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.Fl && (g(this,"oncdata",this.Fl),this.Fl="");"" !== this.Pj && (g(this,"onscript",this.Pj),this.Pj="");}};y=a.ue.filter(function(P){return "error" !== P && "end" !== P;});k.prototype=Object.create(c.prototype,{constructor:{value:k}});k.prototype.write=function(P){this.ax.write(P.toString());this.emit("data",P);return !0;};k.prototype.end=function(P){P && P.length && this.write(P);this.ax.end();return !0;};k.prototype.on=function(P,R){var K;K=this;K.ax["on" + P] || -1 === y.indexOf(P) || (K.ax["on" + P]=function(){var Q;Q=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,P);K.emit.apply(K,Q);});return c.prototype.on.call(K,P,R);};z="\r\n\t ";B="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";C="'\"";E=B + A + "#";F=z + ">";D="[CDATA[";G="DOCTYPE";I="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";H={xml:I,EX:J};z=l(z);B=l(B);A=l(A);M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;C=l(C);E=l(E);F=l(F);L=0;a.lA={w9:L++,x9:L++,tl:L++,vba:L++,oaa:L++,kba:L++,OFa:L++,ZX:L++,Vwa:L++,Q9:L++,Uwa:L++,sZb:L++,UX:L++,Xva:L++,Wva:L++,SX:L++,Qva:L++,Rva:L++,cDa:L++,yaa:L++,zaa:L++,FCa:L++,bZ:L++,EH:L++,JX:L++,sua:L++,b9:L++,e9:L++,tua:L++,f9:L++,c9:L++,d9:L++,F9:L++,Uva:L++,wI:L++,LFa:L++};a.Ceb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.tw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.tw).forEach(function(P){var R;R=a.tw[P];R="number" === typeof R?String.fromCharCode(R):R;a.tw[P]=R;});for(L in a.lA){a.lA[a.lA[L]]=L;}L=a.lA;String.fromCodePoint || (function(){var R,K;function P(){var Q,N,da,va,ra;Q=[];N=-1;da=arguments.length;if(!da)return "";for(var na="";++N < da;){va=Number(arguments[N]);if(!isFinite(va) || 0 > va || 1114111 < va || K(va) != va)throw RangeError("Invalid code point: " + va);if(65535 >= va)Q.push(va);else {va-=65536;ra=(va >> 10) + 55296;va=va % 1024 + 56320;Q.push(ra,va);}if(N + 1 == da || 16384 < Q.length)(na+=R.apply(null,Q),Q.length=0);}return na;}R=String.fromCharCode;K=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:P,configurable:!0,writable:!0}):String.fromCodePoint=P;})();})(b);},function(q){function b(a,c){var f,k,l,d,g,h;f=[];k=a.indexOf("<p");l=-1;do {d={};d.qTb=k;g=a.indexOf("begin=",k) + 7;h=a.indexOf("end=",k) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);l=h > l?h:l;d.startTime=g;d.endTime=h;d.latestEndSoFar=l;d.hRa=a.indexOf("/p>",k) + 3;k=d.hRa;f.push(d);k=a.indexOf("<p",k);}while(-1 !== k);this.n_=f;this.BE=a;}b.prototype.Nwb=function(){return this.n_[this.n_.length - 1].endTime;};b.prototype.Rq=function(a,c){return this.n_.filter(function(f){return f.startTime <= c && f.endTime >= a;}).length;};b.prototype.zAb=function(a){for(var c="",f=this.n_.filter(function(l){return l.startTime <= a && a < l.endTime || l.startTime >= a;}),k=4;k + 1 < f.length && f[k + 1].startTime === f[4].startTime;){k++;}f=f.slice(0,k + 1);0 < f.length && (c=this.BE.slice(f[0].qTb,f[f.length - 1].hRa));return c;};q.exports=b;},function(q,b,a){var k,l,d;function c(g){return "string" !== typeof g?null:l[g];}function f(g){return g.split(" ").map(function(h){return .01 * parseFloat(h);});}k=a(438);q.exports={lsb:function(g,h){var m,n,r,p,u,t;m=h.textNodes[0] || ({});n=g.regions;r=g.styles;g=g.aspectRatio;n=n && n[h.region]?n[h.region]:{};m=r && r[m.style]?r[m.style]:{};r=f(k(h.extent,n.extent,"80% 80%"));p=f(k(h.origin,n.origin,"10% 10%"));h=Object;g/=1280 / 720;u=(1 - g) / 2;t=p[0];p=p[1];r=h.create.call(h,{marginLeft:t * g + u,marginTop:p,marginRight:(1 - (t + r[0])) * g + u,marginBottom:1 - (p + r[1])});1 < Object.keys(n).length?r.verticalAlignment=c(k(m.displayAlign,n.displayAlign,"before")):r.verticalAlignment=c(k(m.displayAlign,"after"));n=k(m.textAlign,n.textAlign,"center");r.horizontalAlignment="string" !== typeof n?null:d[n];return r;}};l={before:"top",center:"center",after:"bottom"};d={left:"left",start:"start",center:"center",right:"right",end:"end"};},function(q,b,a){var k,l,d,g,h,m,n;function c(r){return "string" !== typeof r || "#" === r[0] && 7 === r.length?r:"#" === r[0] && 4 === r.length?"#" + r[1] + r[1] + r[2] + r[2] + r[3] + r[3]:d[r.toLowerCase()];}function f(r){var p,u,t;p=(r || "").split(" ");u=(/^[0-9]/).test(p);r=u?"#000000":c(p[0]);t=u?0:1;u=parseInt(p[t]);p=parseInt(p[t + 1]);return {color:r,width:0 < u?u:0,blur:0 < p?p:0};}k=a(438);q.exports={psb:function(r,p,u){var t,w,v,x,y,z,B,A,C,E,F,D,G,I;t=k(u.characterSize,p.characterSize,"MEDIUM");w=r.fontFamily;w=k(u.characterStyle,"string" !== typeof w?null:g[w],p.characterStyle,"PROPORTIONAL_SANS_SERIF");v=parseInt(r.fontSize,10) / 100 || 1;x="underline" === r.textDecoration;y="italic" === r.fontStyle;z=l[k(u.lYb,p.lYb,"OPAQUE")];B=l[k(u.characterOpacity,p.characterOpacity,"OPAQUE")];A=l[k(u.backgroundOpacity,r.opacity,p.backgroundOpacity,"OPAQUE")];C=c(k(u.characterColor,r.color,p.characterColor,"#ffffff"));E=c(k(u.backgroundColor,r.backgroundColor,p.backgroundColor,null));F=c(k(u.T6a,r.T6a,p.T6a,null));D=k(u.characterEdgeAttributes,p.characterEdgeAttributes,null);v*=h[t] || 1;G=1;m[t] && (G=m[t][w] || 1);v*=1 / 19 * G;G=0;n[t] && (G=n[t][w] || 0);t=G;G=r.textOutline;G="string" !== typeof G?null:f(G).width;G=k(G,0);I=r.textOutline;I="string" !== typeof I?null:f(I).blur;I=k(I,0);u=u.characterEdgeColor;r=r.textOutline;r="string" !== typeof r?null:f(r).color;return {characterUnderline:x,characterItalic:y,characterStyle:w,windowOpacity:z,characterOpacity:B,backgroundOpacity:A,characterColor:C,backgroundColor:E,windowColor:F,characterEdgeAttributes:D,characterSize:v,characterTracking:t,characterEdgeWidth:G,characterEdgeBlur:I,characterEdgeColor:c(k(u,r,p.characterEdgeColor,"#000000"))};}};l={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};g={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,LARGE:2};m={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.lC=void 0;q=a(0);c=a(440);f=a(1006);k=a(141);b.lC=new q.ad(function(l){l(c.jaa).to(f.nCa).$();l(k.pP).WW(function(d){return function(){return d.$a.get(c.jaa).sJb;};});});},function(q,b,a){function c(){var f;f=this;this.ready=!1;this.sJb=new Promise(function(k){f.tQb=k;});}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;q=a(1);a=a(0);c.prototype.tJb=function(f){this.ready || (this.tQb(f),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};a=q.__decorate([a.R()],c);b.nCa=a;},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.ei=void 0;q=a(0);c=a(85);f=a(441);k=a(1008);l=a(443);d=a(1009);b.ei=new q.ad(function(g){g(c.rw).sf(function(){return function(){return pb._cad_global.device;};});g(l.mxa).to(d.lxa).$();g(f.jxa).to(k.ixa).$();});},function(q,b,a){var f,k,l,d,g,h;function c(m,n){this.wa=m;this.iqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;q=a(1);f=a(40);k=a(5);l=a(136);d=a(442);g=a(56);a=a(0);c.prototype.Sxb=function(){for(var m="",n=this.wa.Ue.ea(k.ma),r=6;r--;){m=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + m;n=Math.floor(n / 32);}for(;30 > m.length;){m+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.iqa.W0a(new d.gba(0,31,g.RZa))];}return m;};h=c;h=q.__decorate([a.R(),q.__param(0,a.l(f.wi)),q.__param(1,a.l(l.sZ))],h);b.ixa=h;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t;function c(w,v,x,y,z,B,A,C,E){this.Stb=w;this.en=v;this.bb=y;this.Xga=z;this.Bc=B;this.debug=A;this.xXb=C;this.hMb=E;this.Vxa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.Cb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.lxa=void 0;q=a(1);f=a(3);k=a(26);l=a(1010);d=a(8);g=a(441);h=a(35);m=a(91);n=a(28);r=a(0);p=a(78);u=a(444);a=a(445);c.prototype.sRa=function(w){try{return w.match(this.Vxa)[2];}catch(v){}};c.prototype.uRa=function(w){try{return w.match(this.Vxa)[1];}catch(v){}};c.prototype.create=function(w){var v;v=this;return new Promise(function(x,y){v.en.create().then(function(z){var A,C,E,F,D,G;function B(I){v.bb.Bn(I) && v.bb.Bn(A)?(C=new l.kxa(I,A,void 0,E,w.qS || "cadmium"),x(C)):y({oa:f.M.Rwa});}A=w.Kn;if(w.Dja){E="bind_device";v.hMb.Of(v.log,{}).then(function(I){B(I.esn);}).catch(function(I){y(I);});}else if(w.SK){D=w.gi;if(v.bb.Bn(D)){G=v.uRa(D);G != w.Kn && v.log.error("esn prefix from ui is different",{ui:G,cad:w.Kn,ua:w.userAgent});}else w.Wma && v.log.error("esn from ui is missing");z.load(w.YPa).then(function(I){F=I.value;v.bb.Bn(F) && (!1,v.bb.Bn(D)?(I=v.sRa(D),E=I === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):E="storage_esn_not_in_config",B(A + F));}).catch(function(I){var M;function J(){z.save(w.YPa,M,!1).then(function(){B(A + M);}).catch(function(O){y(O);});}function H(){M=v.Stb.Sxb();!1;J();}if(I.oa === f.M.mA){if(v.bb.Bn(w.gi)){M=v.sRa(w.gi);v.bb.Bn(M)?(E="config_since_not_in_storage",J()):(E="generated_since_invalid_in_config_and_not_in_storage",v.log.error("invalid esn passed from UI",w.gi),H());}else (E="generated_since_not_in_config_and_storage",H());}else y(I);});}else w.Ttb && v.Xga && v.Xga.getKeyByName?v.Xga.getKeyByName(w.dmb).then(function(I){I=I.id;if(v.bb.So(I))(I=String.fromCharCode.apply(void 0,v.Bc.decode(I)),v.debug.assert("" != I),A=v.uRa(I),B(I));else throw "ESN from getKeyByName is not a string";}).catch(function(I){y({oa:f.M.Qwa,sb:v.xXb.vd(I)});}):B();}).catch(function(z){y(z);});});};t=c;t=q.__decorate([r.R(),q.__param(0,r.l(g.jxa)),q.__param(1,r.l(p.Rz)),q.__param(2,r.l(d.Kb)),q.__param(3,r.l(k.Gf)),q.__param(4,r.l(u.Kwa)),q.__param(5,r.l(h.Rh)),q.__param(6,r.l(m.Yt)),q.__param(7,r.l(n.Hf)),q.__param(8,r.l(a.kDa))],t);b.lxa=t;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.kxa=void 0;b.kxa=function(a,c,f,k){this.gi=a;this.Kn=c;this.nia=k;};},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E;Object.defineProperty(b,"__esModule",{value:!0});b.CXa=void 0;q=a(0);c=a(141);f=a(1012);k=a(1013);l=a(1014);d=a(1015);g=a(1016);h=a(15);m=a(1017);n=a(1018);r=a(1019);p=a(46);u=a(85);t=a(451);w=a(447);v=a(446);x=a(99);y=a(260);z=a(58);B=a(452);A=a(1020);C=a(454);E=a(455);b.CXa=new q.ad(function(F){F(z.iq).to(k.FAa).$();F(w.gCa).to(l.fCa).$();F(v.WAa).to(d.VAa).$();F(y.QAa).to(g.PAa).$();F(z.P$).to(m.EAa).$();F(x.eA).to(n.MAa).$();F(y.OAa).to(r.NAa).$();F(B.SAa).to(A.RAa).$();F(C.txa).to(E.sxa).$();F(t.Kua).to(f.Jua).$();F(z.GAa).WW(function(D){return function(){return D.$a.get(c.pP)().then(function(G){return new Promise(function(I){var H,M,O;function J(){M() && O() && G.OU?I(D.$a.get(z.iq)):H.ol(J);}H=D.$a.get(p.lj);M=D.$a.get(h.dd);O=D.$a.get(u.rw);H.ol(J);});});};});});},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p,u){var t;t=this;this.iHb=n;this.qU=r;this.config=u;this.Aqa=[];this.iHb.V6(f.i7a,this.nCb.bind(this));p().then(function(w){var v;v=u().Mq.rxb;t.THb=v?m.hj[v.toUpperCase()]:m.hj.uf;t.Ql=w;t.xRb();});}Object.defineProperty(b,"__esModule",{value:!0});b.Jua=void 0;q=a(1);k=a(0);l=a(15);d=a(108);g=a(58);h=a(99);m=a(8);c.prototype.nCb=function(n,r){this.Ql?this.U0a(n,r):this.Aqa.push([n,r]);};c.prototype.xRb=function(){var n,r;n=this;r=this.Aqa;this.Aqa=[];r.forEach(function(p){n.U0a(p[0],p[1]);});};c.prototype.U0a=function(n,r){var p;if(this.Ql && this.NSb(n)){p={debugMessage:n.message,debugCategory:n.Gn};n.Sb.forEach(function(u){return p=Object.assign(Object.assign({},p),u.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});n=this.qU.Uu("debug",m.hj[n.level].toLowerCase(),p,r);this.Ql.Xd(n);}};c.prototype.NSb=function(n){var r;r=this.THb;return void 0 !== r && n.level <= r && !n.Sb.find(function(p){return p.NS(m.DO);});};a=f=c;a.i7a="adaptorAll";a=f=q.__decorate([k.R(),q.__param(0,k.l(d.eI)),q.__param(1,k.l(h.eA)),q.__param(2,k.l(g.GAa)),q.__param(3,k.l(l.dd))],a);b.Jua=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u;function c(t,w,v,x,y,z,B){this.config=t;this.json=w;this.vc=v;this.ZGb=x;this.EU=z;this.gha=B;this.u4=this.Km=!1;this.listeners=[];k.Vn(this,"json");this.ya=y.Cb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;q=a(1);f=a(0);k=a(56);l=a(36);d=a(446);g=a(46);h=a(8);m=a(58);n=a(447);r=a(3);p=a(93);a(180);u=a(448);c.prototype.mb=function(){this.Km=!0;};c.prototype.Xd=function(t){var w;w=this;this.WSb(t) || (!1,0 < t.size.Wk(this.config.QHb)?this.ya.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(v){return v.BIb(t);}),!1,this.EU.sea(t),this.vc.ol(function(){w.cxb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.u4?(this.ya.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,x){w.ya.trace("Flushing",h.DO);w.Vp();w.vc.ol(function(){w.Jra(t).then(function(){v();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.Jra=function(t){var w,v;w=this;t=void 0 === t?!1:t;if(!this.Km)return (this.ya.trace("LogBatcher is not initialized"),Promise.resolve());if(this.u4)return (this.ya.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.EU.xyb();if(0 === v.length && !t)return (this.ya.trace("No logblobs to send"),Promise.resolve());!1;this.Vp();this.listeners.forEach(function(){});t=Promise.resolve();for(var x={},y=aa(v),z=y.next();!z.done;(x={V8:x.V8},z=y.next())){x.V8=z.value;t=t.then((function(B){return function(){return w.tRb(B.V8);};})(x));}return t.then(function(){return w.tB();}).catch(function(B){v.filter(function(A){return !A.Ay;}).forEach(function(A){return A.Cs();});w.tB();throw Error("Send failure. " + B);});};c.prototype.tRb=function(t){var w;w=this;this.ya.trace("Sending batch: " + t.size,h.DO);return Promise.resolve(this.EU.APb(t)).then(function(){return w.ZGb.send(t.ZF);}).then(function(){return t.HN();}).catch(function(v){w.ya.warn("Failed to send batch of logblobs.",v,h.DO);t.Cs();w.JSb(v) && w.EU.gkb(t);w.XSb(v) && (w.u4=!0);throw v;});};c.prototype.JSb=function(t){return t.wd === r.JY.fDa?!1:this.config.oea;};c.prototype.XSb=function(t){return t.jc === r.M.Lya || t.jc === r.M.$O || t.jc === r.M.dP?!0:!1;};c.prototype.cxb=function(){var t;t=this;0 < this.EU.size.Wk(this.config.pYa)?this.Jra().catch(function(w){return t.ya.warn("Failed to send log messages on size threshold. " + w);}):this.tB();};c.prototype.Vp=function(){this.G4 && (!1,this.G4.cancel(),this.G4=void 0);};c.prototype.tB=function(){this.G4 || (!1,this.G4=this.vc.Oj(this.config.uRb,this.pM.bind(this)));};c.prototype.pM=function(){var t;t=this;this.u4=!1;this.Vp();this.Jra().catch(function(w){return t.ya.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(v){}return w;};c.prototype.WSb=function(t){return 0 <= this.config.x3a.indexOf(t.type)?!0:t.type === u.bf.debug?0 <= this.config.w3a.indexOf(t.data.debugCategory):!1;};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(m.P$)),q.__param(1,f.l(l.mD)),q.__param(2,f.l(g.lj)),q.__param(3,f.l(d.WAa)),q.__param(4,f.l(h.Kb)),q.__param(5,f.l(n.gCa)),q.__param(6,f.l(p.lY))],a);b.FAa=a;},function(q,b,a){var k,l,d,g,h,m,n;function c(r){this.BJ=d.hb;this.hda=[];this.vQ=this.y_=!1;r && (this.BJ=r.size,this.hda=r.ZF);}function f(r,p,u,t){this.CIb=r;this.config=p;this.Bg=u;this.json=t;l.Vn(this,"json");this.ya=this.Bg.Cb("MessageQueue");this.js=[];}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;q=a(1);k=a(0);l=a(56);d=a(49);g=a(260);h=a(8);m=a(36);a=a(58);f.prototype.sea=function(r){var p,u;0 === this.js.length && this.js.push(this.Ija());if(r=this.jBb(r)){p=this.CIb.measure([r]);u=this.js[this.js.length - 1];0 < u.size.add(p).Wk(this.config.pYa) && (u=this.Ija(),this.js.push(u));u.sea(r);}};f.prototype.xyb=function(){var r;r=this.js.filter(function(p){return p.Qnb;});this.js.push(this.Ija());r.forEach(function(p){return p.EHb();});return r;};f.prototype.gkb=function(r){r.Ay || this.js.unshift(new c(r));};f.prototype.APb=function(r){r=this.js.indexOf(r);0 <= r && this.js.splice(r,1);};f.prototype.jBb=function(r){try{return {data:this.json.parse(this.json.stringify(r.data)),severity:r.severity,size:r.size,timestamp:r.timestamp,type:r.type};}catch(t){var p,u;p={};r=r.data;u=r.debugMessage;u && "string" === typeof u && (p.originalDebugMessage=u);(r=r.debugCategory) && "string" === typeof r && (p.originalDebugCategory=r);this.ya.error("JSON.stringify error: " + t.message,p);}};f.prototype.Ija=function(){return new c();};Xa.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.js.reduce(function(r,p){return r.add(p.size);},d.hb);}}});n=f;n=q.__decorate([k.R(),q.__param(0,k.l(g.QAa)),q.__param(1,k.l(a.P$)),q.__param(2,k.l(h.Kb)),q.__param(3,k.l(m.mD))],n);b.fCa=n;c.prototype.HN=function(){this.y_=!1;this.vQ=!0;};c.prototype.Cs=function(){this.y_=!1;};c.prototype.sea=function(r){this.hda.push(r);this.BJ=this.BJ.add(r.size);};c.prototype.EHb=function(){this.y_=!0;};Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.BJ;}},ZF:{configurable:!0,enumerable:!0,get:function(){return this.hda;}},Qnb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.ZF.length && !1 === this.y_;}},Ay:{configurable:!0,enumerable:!0,get:function(){return this.vQ;}}});},function(q,b,a){var k,l,d,g,h,m,n,r,p,u,t;function c(w,v,x,y,z,B,A,C){this.Pa=w;this.platform=x;this.ei=y;this.json=z;this.Rd=B;this.ki=A;this.gHb=C;l.Vn(this,"json");this.ya=v.Cb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.VAa=void 0;q=a(1);k=a(0);l=a(56);d=a(36);g=a(5);h=a(28);m=a(20);n=a(34);r=a(85);p=a(8);u=a(449);a=a(70);c.prototype.send=function(w){var v;v=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(B,A){B.entries.push(v.Vrb(A));return B;},new f());x(v.Vxb(z));}catch(B){v.ya.error(B.message);y(B);}}).then(function(x){return v.Mra(x);});};c.prototype.Vrb=function(w){return this.Rd.cG(this.Rd.cG({},w.data),{esn:this.ei().gi,sev:w.severity,type:w.type,lver:this.platform.ana,jssid:this.Pa.id,devmod:this.platform.Wx,jsoffms:w.timestamp.Ba(this.Pa.TF).ea(g.ma),clienttime:w.timestamp.ea(g.ma),client_utc:w.timestamp.ea(g.nn),uiver:this.ki.Ez});};c.prototype.Vxb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={gO:x.gO,Ut:x.Ut},++y)){x.Ut=Object.assign({},w.entries[y]);try{this.json.stringify(x.Ut);}catch(B){x.gO=void 0;this.Rd.uB(x.Ut,(function(A){return function(C,E){try{v.json.stringify(E);}catch(F){A.gO=F.message;A.Ut[C]=A.gO;}};})(x));x.Ut.stringifyException=x.gO;x.Ut.originalType=x.Ut.type;x.Ut.type="debug";x.Ut.sev="error";}}return this.json.stringify(w);}};c.prototype.Mra=function(w){var v;v=this;return this.gHb.Of(this.ya,{logblobs:w}).then(function(){!1;}).catch(function(x){v.ya.error("PBO logblob failed",x);return Promise.reject(x);});};t=c;t=q.__decorate([k.R(),q.__param(0,k.l(m.zd)),q.__param(1,k.l(p.Kb)),q.__param(2,k.l(n.Kk)),q.__param(3,k.l(r.rw)),q.__param(4,k.l(d.mD)),q.__param(5,k.l(h.Hf)),q.__param(6,k.l(a.ku)),q.__param(7,k.l(u.CDa))],t);b.VAa=t;},function(q,b,a){var f,k,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;q=a(1);f=a(0);k=a(260);l=a(49);c.prototype.measure=function(d){var g;g=this;return d.map(function(h){return h.size.add(g.config.bHb());}).reduce(function(h,m){return h.add(m);},l.ca(0));};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.OAa))],a);b.PAa=a;},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r){n=h.ff.call(this,n,"PboConfigImpl") || this;n.config=r;n.QHb=f.ca(5E5);n.uRb=k.B5(1);n.pYa=f.ca(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;q=a(1);f=a(49);k=a(5);l=a(0);d=a(15);g=a(44);h=a(45);a=a(37);ka(c,h.ff);Xa.Object.defineProperties(c.prototype,{oea:{configurable:!0,enumerable:!0,get:function(){return this.config().oea;}},x3a:{configurable:!0,enumerable:!0,get:function(){return [];}},w3a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});m=c;q.__decorate([g.config(g.object(),"shedLogblobTypes")],m.prototype,"x3a",null);q.__decorate([g.config(g.ux("string"),"shedDebugTypes")],m.prototype,"w3a",null);m=q.__decorate([l.R(),q.__param(0,l.l(a.km)),q.__param(1,l.l(d.dd))],m);b.EAa=m;},function(q,b,a){var k,l,d,g,h,m,n,r,p;function c(u,t,w,v,x,y,z,B,A,C){this.platform=t;this.Yga=w;this.type=v;this.severity=x;this.timestamp=y;this.Pa=B;this.data=z;this.data.type=v;this.data.sev=x;this.data.devmod=this.platform.Wx;this.data.clver=this.platform.version;u && u.Ud && (u.Ud.os && (this.data.osplatform=u.Ud.os.name,this.data.osver=u.Ud.os.version),this.data.browsername=u.Ud.name,this.data.browserver=u.Ud.version);u.kma && (this.data.tester=!0);u.HB && !this.data.groupname && (this.data.groupname=u.HB);u.YJ && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + u.YJ:u.YJ);u.uH && (this.data.uigroupname=u.uH);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Pa.hAb();this.data.uniqueLogId=A.oSa();this.data.appId=this.Pa.id;C && (u=this.Pa.Zb(),this.data.soffms=u.Ba(C.Wl).ea(g.ma),this.data.mid=this.data.mid || C.K,this.data.lvpi=C.$ma,this.data.uiLabel=C.Zd,this.data.uxLabels=C.G8,v="startup" === v?"playbackxid":"xid",this.data[v]="xid" === v && this.data.xid || C.ba,C.SG && (v=C.SG,(C=C.SG.split(".")) && 1 < C.length && "S" !== C[0][0] && (v="SABTest" + C[0] + ".Cell" + C[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + v:v));}function f(u,t,w,v,x,y){this.wa=u;this.Yga=t;this.config=w;this.Pa=v;this.zXb=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;q=a(1);k=a(49);l=a(0);d=a(40);g=a(5);h=a(317);m=a(38);n=a(20);r=a(450);a=a(34);f.prototype.Uu=function(u,t,w,v){return new c(this.config,this.platform,this.Yga,u,t,this.wa.Ue,w,this.Pa,this.zXb,v);};p=f;p=q.__decorate([l.R(),q.__param(0,l.l(d.wi)),q.__param(1,l.l(h.Mwa)),q.__param(2,l.l(m.gm)),q.__param(3,l.l(n.zd)),q.__param(4,l.l(r.HHa)),q.__param(5,l.l(a.Kk))],p);b.MAa=p;Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.uNa || (this.uNa=k.ca(this.Yga.encode(this.data).length));return this.uNa;}}});},function(q,b,a){var f,k,l;function c(d){this.ei=d;}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;q=a(1);f=a(0);k=a(49);a=a(85);c.prototype.bHb=function(){var d;d=this.ei()?this.ei().gi.length:40;return k.ca(d + 33);};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(a.rw))],l);b.NAa=l;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A;function c(C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q,N,da){this.S4a=C;this.Ql=E;this.Kna=F;this.xia=D;this.te=G;this.X1=I;this.Bf=J;this.config=H;this.pd=M;this.wa=O;this.Pa=L;this.platform=P;this.$n=R;this.qU=K;this.kl=Q;this.Oq=N;this.aG=da;}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;q=a(1);f=a(336);k=a(58);l=a(28);d=a(344);g=a(211);h=a(0);m=a(453);n=a(454);r=a(115);p=a(15);u=a(40);t=a(20);w=a(34);v=a(99);x=a(116);y=a(154);z=a(36);B=a(38);a=a(261);c.prototype.create=function(C,E,F){return new m.TAa(C,E,F,this.S4a,this.Ql,this.Kna,this.xia,this.te,this.X1,this.Bf,this.config,this.pd,this.wa,this.Pa,this.platform,this.$n,this.qU,this.kl,this.Oq,this.aG);};A=c;A=q.__decorate([h.R(),q.__param(0,h.l(f.bHa)),q.__param(1,h.l(k.iq)),q.__param(2,h.l(d.LBa)),q.__param(3,h.l(g.i$)),q.__param(4,h.l(l.Hf)),q.__param(5,h.l(n.txa)),q.__param(6,h.l(r.dA)),q.__param(7,h.l(p.dd)),q.__param(8,h.l(x.SD)),q.__param(9,h.l(u.wi)),q.__param(10,h.l(t.zd)),q.__param(11,h.l(w.Kk)),q.__param(12,h.l(z.CP)),q.__param(13,h.l(v.eA)),q.__param(14,h.l(y.sI)),q.__param(15,h.l(B.gm)),q.__param(16,h.l(a.gaa))],A);b.RAa=A;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.rxa=void 0;c=a(49);b.rxa=function(f,k){this.yub=f;this.size=k.bma()?c.hb:k;};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jYa=void 0;b.jYa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var f=a[0],k=c(f),l=1;l < a.length;l++){d=a[l];g=c(d);g > k && (f=d,k=g);}return f;}};},function(q,b,a){var c,f,k,l,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.mZa=void 0;q=a(0);c=a(1024);f=a(115);k=a(456);l=a(1025);d=a(262);g=a(457);h=a(1026);b.mZa=new q.ad(function(m){m(k.bIa).to(c.aIa).$();m(f.dA).RC(function(){return pb._cad_global.http;});m(d.ZY).to(l.vCa).$();m(g.wCa).si(h.default);});},function(q,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=void 0;q=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};a=q.__decorate([a.R()],c);b.aIa=a;},function(q,b,a){var f,k,l,d;function c(g,h,m){this.config=g;this.VGb=h;this.Jb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;q=a(1);f=a(306);k=a(0);l=a(167);a=a(457);c.prototype.Nga=function(){if(this.config.o6a)return this.Jb(this.VGb());};d=c;d=q.__decorate([k.R(),q.__param(0,k.l(f.uCa)),q.__param(1,k.l(l.rCa)),q.__param(2,k.l(a.wCa))],d);b.vCa=d;},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1027);f=a(1028);k=a(1029);b.default=function(l){var d;l=new c.m9(l);d=new k.bcb(l);return new f.acb(l,d);};},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c){this.uXa=c;}a.prototype.Vra=function(c){try{this.uXa.setItem("gtp",JSON.stringify(c));}catch(f){return !1;}return !0;};a.prototype.oTa=function(){var c;try{c=this.uXa.getItem("gtp");if(c)return JSON.parse(c);}catch(f){}};a.prototype.Is=function(){var c;c=this.oTa();if(c && c.tp)return c.tp.a;};a.prototype.Xzb=function(){var c;c=this.Qja();if(c)return c.p25;};a.prototype.Yzb=function(){var c;c=this.Qja();if(c)return c.p50;};a.prototype.Zzb=function(){var c;c=this.Qja();if(c)return c.p75;};a.prototype.Qja=function(){var c;c=this.oTa();if(c && (c=c.iqr))return c;};return a;})();b.m9=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c,f){this.Lu=c;this.XU=f;}a.prototype.Vra=function(c){return this.Lu.Vra(c);};a.prototype.Is=function(){return this.Lu.Is();};a.prototype.BAb=function(){return this.XU.XU();};return a;})();b.acb=q;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=(function(){function a(c){this.Lu=c;}a.prototype.XU=function(){var c,f,k;c=this.Lu.Xzb();f=this.Lu.Yzb();k=this.Lu.Zzb();if("number" === typeof c && "number" === typeof f && "number" === typeof k)return (k - c) / f;};return a;})();b.bcb=q;},function(q,b,a){var c,f,k,l,d,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.lSa=void 0;q=a(0);c=a(1031);f=a(1032);k=a(1033);l=a(1034);d=a(1035);g=a(458);h=a(459);m=a(164);b.lSa=new q.ad(function(n){n(m.Jya).to(c.Iya).$();n(m.BFa).to(f.AFa).$();n(m.zFa).to(k.yFa).$();n(g.Fya).to(l.Eya).$();n(h.rza).to(d.qza).$();});},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u,t,w,v,x){this.config=r;this.tVa=p;this.vc=u;this.$b=t;this.YPb=w;this.Qqa=v;this.zFb=0;this.ya=x.Cb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.Iya=void 0;q=a(1);k=a(0);l=a(5);d=a(46);g=a(8);h=a(458);m=a(459);a=a(164);c.prototype.start=function(){this.config.enabled && !this.mr && (this.mr=this.vc.Oj(this.config.T3a,this.Sv.bind(this)));};c.prototype.stop=function(){this.mr && (this.mr.cancel(),this.mr=void 0);};c.prototype.Sv=function(){var r,p;r=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.zFb++;this.EBb(p).then(function(u){return Promise.all(u.urls.map(function(t){return r.xCb(u,t.url,t.name);})).then(function(t){0 < t.length && r.YPb.YV({data:t,context:u.context,bna:u.bna});}).then(function(){return u;});}).then(function(u){r.mr && (u.PWa?r.mr=r.vc.Oj(u.PWa,r.Sv.bind(r)):r.stop());}).catch(function(u){return r.ya.error("FTL run failed",u);});};c.prototype.EBb=function(r){var p;p=this;return this.tVa.get(r,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (p.Qqa.YV({url:r,status:u.status,spa:"FTL API request failed",Wd:u.Wd}),Promise.reject(Error("FTL API request failed: " + u.status)));t=p.$b.parse(u.body);return t instanceof Error?(p.Qqa.YV({url:r,status:4,spa:"FTL Probe API JSON parsing error",Wd:u.Wd}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (p.Qqa.YV({url:r,status:0,spa:u.message}),p.ya.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.xCb=function(r,p,u){var t;t=this;return new Promise(function(w,v){var E;for(var x,y,z,B=[],A={},C=0;C < r.tOb;(A={W8:A.W8,X8:A.X8},++C)){A.W8=C < r.R0a.length?r.R0a[C]:l.hb;A.X8="" + p + (-1 === p.indexOf("?")?"?":"&") + "pulse=" + (C + 1);E=(function(F){return function(){return new Promise(function(D,G){t.vc.Oj(F.W8,function(){f.ZNb(t.tVa,F.X8,r.sOb).then(function(I){function J(H,M,O){H || (H=O.headers[M]);return H;}x=J(x,"via",I);y=J(y,"x-ftl-probe-data",I);z=J(z,"x-ftl-error",I);D({status:I.status,Wd:I.Wd,LXb:x || "",Cob:y || "",OS:z || ""});}).catch(function(I){G(I);});});});};})(A);B.push(0 < C?B[C - 1].then(E):E());}Promise.all(B).then(function(F){w({url:p,name:u,data:F});}).catch(function(F){v(F);});});};c.ZNb=function(r,p,u){return r.get(p,!1,u).then(function(t){return Object.assign({},t);});};n=f=c;n=f=q.__decorate([k.R(),q.__param(0,k.l(a.Hya)),q.__param(1,k.l(m.rza)),q.__param(2,k.l(d.lj)),q.__param(3,k.l(h.Fya)),q.__param(4,k.l(a.BFa)),q.__param(5,k.l(a.zFa)),q.__param(6,k.l(g.Kb))],n);b.Iya=n;},function(q,b,a){var f,k,l,d,g,h;function c(m,n){this.Ql=m;this.Tna=n;}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;q=a(1);k=a(0);l=a(49);d=a(5);g=a(58);a=a(99);c.prototype.YV=function(m){var n;n={ctx:m.context,data:m.data.map(function(r){return {name:r.name,url:r.url,data:r.data.map(function(p){return f.rYb({d:p.Wd.duration.ea(d.ma),sc:p.status,sz:p.Wd.size.ea(l.Xt),via:p.LXb,cip:p.Cob,err:p.OS},p);})};})};m=this.Tna.Uu(m.bna,"info",n);this.Ql.Xd(m);};c.rYb=function(m,n){f.Ku(m,"dns",n.Wd.lQa);f.Ku(m,"tcp",n.Wd.Wsa);f.Ku(m,"tls",n.Wd.fta);f.Ku(m,"ttfb",n.Wd.ata);return m;};c.Ku=function(m,n,r){r && (m[n]=r.ea(d.ma));};h=f=c;h=f=q.__decorate([k.R(),q.__param(0,k.l(g.iq)),q.__param(1,k.l(a.eA))],h);b.AFa=h;},function(q,b,a){var f,k,l,d,g,h;function c(m,n){this.Ql=m;this.Tna=n;}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;q=a(1);k=a(0);l=a(49);d=a(5);g=a(58);a=a(99);c.prototype.YV=function(m){m=this.Tna.Uu("ftlProbeError","info",f.qYb({url:m.url,sc:m.status,pf_err:m.spa},m));this.Ql.Xd(m);};c.qYb=function(m,n){n.Wd && (n=n.Wd,f.Ku(m,"d",n.duration),f.Ku(m,"dns",n.lQa),f.Ku(m,"tcp",n.Wsa),f.Ku(m,"tls",n.fta),f.Ku(m,"ttfb",n.ata),m.sz=n.size.ea(l.Xt));return m;};c.Ku=function(m,n,r){r && (m[n]=r.ea(d.ma));};h=f=c;h=f=q.__decorate([k.R(),q.__param(0,k.l(g.iq)),q.__param(1,k.l(a.eA))],h);b.yFa=h;},function(q,b,a){var f,k,l,d,g;function c(h,m){this.is=h;this.json=m;k.Vn(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;q=a(1);f=a(0);k=a(56);l=a(36);d=a(5);a=a(26);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.eea(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.bR(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.bR(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.tx(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.bR(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.tx(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Bn(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.LJ(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var m=0;m < h.urls.length;++m){n=h.urls[m];if(!this.is.eea(n))throw Error("FtlProbe: param.urls[" + m + "]: not an object");if(!this.is.So(n.name))throw Error("FtlProbe: param.urls[" + m + "].name: not a string");if(!this.is.So(n.url))throw Error("FtlProbe: param.urls[" + m + "].url: not a string");}return {tOb:h.pulses,R0a:h.pulse_delays?h.pulse_delays.map(d.uc):[],sOb:d.uc(h.pulse_timeout),PWa:h.next?d.uc(h.next):void 0,urls:h.urls,bna:h.logblob,context:h.ctx};};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.Gf)),q.__param(1,f.l(l.mD))],g);b.Eya=g;},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u,t){this.wa=p;this.tYb=u;this.performance=t;k.Vn(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.qza=void 0;q=a(1);k=a(56);l=a(1036);d=a(49);g=a(36);h=a(40);m=a(0);n=a(456);r=a(5);c.prototype.get=function(p,u,t){var w;w=this;return new Promise(function(v,x){var y,z,B;try{y=w.tYb.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",p,!0);u && (y.withCredentials=!0);t && (y.timeout=t.ea(r.ma));z=w.wa.Ue;B=void 0;y.onreadystatechange=function(){var A;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:B=w.wa.Ue.Ba(z);break;case XMLHttpRequest.DONE:A=w.wa.Ue.Ba(z);A={body:y.responseText,status:y.status,headers:f.RLb(y.getAllResponseHeaders()),Wd:w.Yja(p,d.ca(y.responseText.length),A,B)};v(A);}};y.send();}catch(A){x(A);}});};c.RLb=function(p){var u,w,v;u={};p=p.split("\r\n");for(var t=0;t < p.length;t++){w=p[t];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.Yja=function(p,u,t,w){u={size:u,duration:t,ata:w};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(p);if(0 == t.length && (t=this.performance.getEntriesByName(p + "/"),0 == t.length))return u;p=t[t.length - 1];u=l.RXa(u);p.decodedBodySize && (u.size=d.ca(p.decodedBodySize));0 < p.duration?u.duration=r.timestamp(p.duration):0 < p.startTime && 0 < p.responseEnd && (u.duration=r.timestamp(p.responseEnd - p.startTime));0 < p.requestStart && (u.lQa=r.timestamp(p.domainLookupEnd - p.domainLookupStart),u.Wsa=r.timestamp(p.connectEnd - p.connectStart),u.ata=r.timestamp(p.responseStart - p.startTime),0 === p.secureConnectionStart?u.fta=r.timestamp(0):void 0 !== p.secureConnectionStart && (t=p.connectEnd - p.secureConnectionStart,u.fta=r.timestamp(t),u.Wsa=r.timestamp(p.connectEnd - p.connectStart - t)));return u;};a=f=c;a=f=q.__decorate([m.R(),q.__param(0,m.l(h.wi)),q.__param(1,m.l(n.bIa)),q.__param(2,m.l(g.Gaa)),q.__param(2,m.optional())],a);b.qza=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.tHb=b.RXa=b.rHb=void 0;b.rHb=function(a){return a;};b.RXa=function(a){return a;};b.tHb=function(a){return Object.assign({},a);};},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.P0a=void 0;q=a(0);c=a(307);f=a(1038);k=a(182);l=a(1039);b.P0a=new q.ad(function(d){d(c.Bxa).to(f.Axa).$();d(k.jP).to(l.zAa).$();});},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u,t){this.Rd=r;this.xx=p;this.wXb=u;this.KL=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Axa=void 0;q=a(1);f=a(0);k=a(28);l=a(35);d=a(77);g=a(133);h=a(59);m=a(66);a=a(182);c.prototype.ig=function(r){var p;p=this;return this.Rd.qs(r.zj[0].data[0],[8,4])?Promise.resolve({ee:[{id:"ddd",UF:"cert",oU:void 0}],Ni:[{sessionId:"ddd",data:new Uint8Array(this.xx.decode(m.web))}]}):this.Rd.qs(r.zj[0].data[0],this.wXb.decode("certificate"))?Promise.resolve({ee:[{id:"ddd",UF:"cert",oU:void 0}],Ni:[{sessionId:"ddd",data:new Uint8Array(this.xx.decode(m.j$))}]}):this.KL.nx(this.Ixb(r)).then(function(u){return p.Jxb(u);});};c.prototype.release=function(r){return this.KL.release(this.Mxb(r)).then(function(){});};c.prototype.Ixb=function(r){var p,u;p=this;u=r.zj.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:p.xx.encode(w)};});});return {ba:r.ba,Ti:r.Ti,Y1:r.Y1,Qf:h.Mma(r.Qf),Jn:g.jn[r.Jn],zj:u.reduce(function(t,w){return t.concat(w);},[]),BU:r.BU,Fj:r.Fj};};c.prototype.Mxb=function(r){return {ba:r.ba,ee:r.ee};};c.prototype.Jxb=function(r){return {ee:r.ee,Ni:r.Ni};};n=c;n=q.__decorate([f.R(),q.__param(0,f.l(k.Hf)),q.__param(1,f.l(l.Rh)),q.__param(2,f.l(d.ru)),q.__param(3,f.l(a.jP))],n);b.Axa=n;},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r,p,u){this.$jb=m;this.tPb=n;this.S1a=p;this.yQb=u;this.ya=r.Cb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;q=a(1);f=a(0);k=a(8);l=a(460);a(461);d=a(462);g=a(463);a=a(263);c.prototype.nx=function(m){var n,r;n=this;!1;r=this.S1a.HVb(m);return this.$jb.np(this.ya,m.Fj,r).then(function(p){p.map(function(u){return u.kGb;});return n.yQb.s5a(p);}).catch(function(p){n.ya.error("PBO license failed",p);return Promise.reject(p);});};c.prototype.release=function(m){var n;n=this;!1;m=this.S1a.KVb(m);return this.tPb.Of(this.ya,m).then(function(){return {X:!0};}).catch(function(r){n.ya.error("PBO release license failed",r);return Promise.reject(r);});};h=c;h=q.__decorate([f.R(),q.__param(0,f.l(l.hDa)),q.__param(1,f.l(d.TDa)),q.__param(2,f.l(k.Kb)),q.__param(3,f.l(g.wDa)),q.__param(4,f.l(a.Daa))],h);b.zAa=h;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t;function c(w){return function(){return w.$a.get(f.ODa).mb();};}Object.defineProperty(b,"__esModule",{value:!0});b.uG=void 0;q=a(0);f=a(183);k=a(206);l=a(264);d=a(464);g=a(1041);h=a(1042);m=a(465);n=a(1043);r=a(466);p=a(1044);u=a(265);t=a(1045);b.uG=new q.ad(function(w){w(m.xEa).to(n.wEa).$();w(k.Faa).to(l.MDa).$();w(d.mDa).to(g.lDa).$();w(f.ODa).to(h.NDa).$();w(f.hZ).WW(c);w(r.sDa).to(p.rDa).$().xX();w(u.QDa).to(t.PDa).$();w(u.JDa).to(t.IDa).$();w(u.LDa).to(t.KDa).$();});},function(q,b,a){var l,d,g,h,m,n,r,p,u,t;function c(){}function f(){}function k(w,v,x,y,z){var B;B=this;this.is=w;this.en=v;this.config=x;this.qB=y;this.jMb=z;this.aw=function(){return new c().encode({version:B.version,data:B.uG});};this.UWb=function(A){A=B.upgrade(A);B.jMb.validate(A);return A;};this.upgrade=function(A){var C;if(B.is.Bn(A))return B.XWb(A);C=A.version;if(void 0 != C && B.is.$h(C) && 1 == C)return B.YWb(A);C=A.version;if(void 0 != C && B.is.$h(C) && 2 == C)return new c().decode(A);if(A.version && B.is.$h(A.version))throw new m.$c(g.L.aA,g.M.Pva,void 0,void 0,void 0,"Version number is not supported. Version: " + A.version,void 0,A);throw new m.$c(g.L.aA,g.M.Wz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,A);};this.sr=new n.D$(2,this.config().k0a,"" !== this.config().k0a && 0 < this.config().PMb,this.en,this.aw);}Object.defineProperty(b,"__esModule",{value:!0});b.lDa=void 0;q=a(1);l=a(0);d=a(15);g=a(3);h=a(26);m=a(42);n=a(304);r=a(78);p=a(85);u=a(264);a=a(265);k.prototype.HOb=function(){return this.sr.load(this.UWb).catch(function(w){throw new m.$c(g.L.aA,w.oa || w.jc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};k.prototype.Ckb=function(w){return this.sr.add(w);};k.prototype.D1a=function(w){return this.sr.remove(w,function(v,x){return v.ba === x.ba;});};k.prototype.Nta=function(w){return this.sr.update(w,function(v,x){return v.ba === x.ba;});};k.prototype.toString=function(){return JSON.stringify(this.aw(),null,"  ");};k.prototype.g6a=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.qB().gi:"";};k.prototype.Rta=function(w){return w.map(function(v){return {Dd:v.downloadableId,duration:v.duration};});};k.prototype.h6a=function(w){var v;return w?{total:w.playTimes.total,nH:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,audio:this.Rta(w.playTimes.audio || []),video:this.Rta(w.playTimes.video || []),text:this.Rta(w.playTimes.timedtext || [])}:{total:0,nH:0,audio:[],video:[],text:[]};};k.prototype.XWb=function(w){var v,x,y;v=this;w=JSON.parse(w);x={type:"online",href:this.g6a(w.playbackContextId),ba:w.xid?w.xid.toString():"",K:w.movieId,position:w.position,RR:w.timestamp,mW:w.playback?1E3 * w.playback.startEpoch:-1,TL:w.mediaId,vV:this.h6a(w.playback),trackId:"",jo:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.en.create().then(function(z){z.save(v.config().yS,y,!1);});if("" === x.href || "" === x.ba)throw new m.$c(g.L.aA,g.M.Wz);return {version:2,data:[x]};};k.prototype.YWb=function(w){var v;v=this;if(!w.playdata || !this.is.tx(w.playdata))throw new m.$c(g.L.aA,g.M.Wz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:v.g6a(y.playbackContextId),ba:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,RR:y.timestamp,mW:y.playback?1E3 * y.playback.startEpoch:-1,TL:y.mediaId,vV:v.h6a(y.playback),trackId:"",jo:{},profileId:y.profileId};});})(w.playdata)};};Xa.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.sr.version;}},uG:{configurable:!0,enumerable:!0,get:function(){return this.sr.Qu;}}});t=k;t=q.__decorate([l.R(),q.__param(0,l.l(h.Gf)),q.__param(1,l.l(r.Rz)),q.__param(2,l.l(d.dd)),q.__param(3,l.l(p.rw)),q.__param(4,l.l(a.LDa))],t);b.lDa=t;f.prototype.encode=function(w){var v;v=new u.gZ();return w.map(v.encode);};f.prototype.decode=function(w){var v;v=new u.gZ();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new f().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new f().decode(w.data)};};},function(q,b,a){var l,d,g,h,m,n,r,p,u,t,w,v,x,y;function c(z,B,A,C,E,F,D,G){this.config=z;this.vc=A;this.ew=C;this.pt=E;this.v6=F;this.Xm=D;this.RF=Promise.resolve();this.closed=!1;this.log=B.Cb("PlaydataServices");this.tG=[];this.active=new Set();this.CQb=new f(z,G);}function f(z,B){this.config=z;this.wa=B;}function k(z,B,A,C,E,F){this.log=z;this.vc=B;this.mi=A;this.pt=C;this.ew=E;this.GMb=F;this.vRa=this.Fn=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.NDa=b.gdb=void 0;q=a(1);l=a(0);d=a(5);g=a(8);h=a(46);m=a(206);n=a(464);r=a(18);p=a(465);u=a(3);t=a(264);w=a(466);v=a(122);x=a(40);a=a(137);k.prototype.D5=function(z,B){var C;function A(){var E;E=C.pt.create(C.mi);C.ew.Nta(E).catch(function(F){var D;D=C.vRa?g.hj.Iba:g.hj.uf;C.vRa=!0;C.log.write(D,"Unable to save playdata changes to IDB",F);});}C=this;this.log.trace("Adding initial playdata",B);this.ew.Ckb(B).then(function(){C.log.trace("Scheduling monitor",{interval:z});C.mr=C.vc.l7(z,A);}).catch(function(E){C.log.error("Unable to add playdata",{error:E,playdata:new t.gZ().encode(B)});C.mr=C.vc.l7(z,A);});};k.prototype.stop=function(z){var B,A;B=this;if(this.Fn)return Promise.resolve();this.mr && this.mr.cancel();A=this.pt.create(this.mi);return this.ew.Nta(A).catch(function(C){B.log.error("Unable to update playdata changes during stop",C);}).then(function(){if(z){if(B.mi.background)return (B.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());B.log.trace("Sending final playdata to the server",A);return B.GMb.J2a(A);}B.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(z)return (B.log.trace("Removing playdata from the persisted store",A),B.ew.D1a(A));B.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){B.log.info("Successfully stopped the playback",A.K);}).catch(function(C){B.log.error("Unable to remove playdata changes",C);throw C;});};k.prototype.cancel=function(){this.Fn=!0;this.mr && this.mr.cancel();this.ew.Nta(this.pt.create(this.mi));};Xa.Object.defineProperties(f.prototype,{Mnb:{configurable:!0,enumerable:!0,get:function(){var z;z=this.wa.Ue;return !this.RF || 0 <= z.Ba(this.RF).Wk(this.config.RWa)?(this.RF=z,!0):!1;}}});b.gdb=f;c.prototype.mb=function(){var z;z=this;this.QB || (this.log.trace("Starting playdata services"),this.QB=this.ew.HOb().then(function(){!1;return z;}).catch(function(B){z.log.error("Unable to read the playdata, it will be deleted and not sent to the server",B);return z;}));return this.QB;};c.prototype.close=function(){this.closed=!0;this.tG.forEach(function(z){z.D5.cancel();});};c.prototype.send=function(z){var B;if(this.closed)return Promise.resolve();B=this.config;return B.xM && B.Kra?this.sRb(z):Promise.resolve();};c.prototype.JC=function(z){this.closed || this.BTb(z);};c.prototype.e4a=function(z){var B,A,C;B=this;if(this.closed)return Promise.resolve();A=this.pt.create(z);this.active.delete(A.ba);z=aa(v.mt(function(E){return E.key === A.ba;},this.tG));C=z.next().value;this.tG=z.next().value;return Promise.all(C.map(function(E){E.stopped=!0;return E.D5.stop(B.config.Kra);})).then(function(){});};c.prototype.a_a=function(z){var B,A;B=this;A=z.fa;this.W3a(A);this.Nra(A,z.aS).catch(function(C){B.log.error("Start command failed",{playdata:C.uG,error:C.OS});});this.yTb(z);};c.prototype.BTb=function(z){var B;B=this;z.addEventListener(r.W.sv,function(A){var C;if(void 0 !== A.IM){C=z.eL(A.IM);B.e4a(C);A.r4 || new Promise(function(E){var F;if(z.Hv.value)E();else {F=function(D){D.newValue && (E(),z.Hv.removeListener(F));};z.Hv.addListener(F);}}).then(function(){return B.a_a(z);});}});z.addEventListener(r.W.ot,function(){B.a_a(z);});z.background || z.addEventListener(r.W.LL,function(A){A=z.eL(A.K);B.W3a(A);});z.addEventListener(r.W.dg,function(){B.PTb();});z.addEventListener(r.W.w6a,function(){B.yRb(z.fa).catch(function(A){(A=A.Cpa) && z.aK(A);});});z.Nc.addListener(function(){z.kb.Iha?B.log.trace("stickiness is disabled for timedtext"):B.I2a(z.fa);});z.Bd.addListener(function(){z.kb.Iha?B.log.trace("stickiness is disabled for audio"):B.I2a(z.fa).catch(function(A){(A=A.Cpa) && z.aK(A);});});};c.prototype.W3a=function(z){var B,A;z.Od("pdb");if(this.config.qpa.$Eb()){B=this.pt.create(z);A=B.ba;this.tG.some(function(C){return C.key === A;})?this.log.trace("Already collecting online playdata, ignoring",B):(this.log.info("Starting to collect online playdata",B),this.active.add(A),this.tG.push({key:A,D5:this.rAb(z,B),Yv:!1,stopped:!1}));}};c.prototype.sRb=function(z){var B,A,C,E;B=this;A=this.ew.uG.filter(function(F){return !B.active.has(F.ba);});C=void 0;E=void 0;z && Infinity === z?C=A:(A=aa(v.mt(function(F){return F.K === z;},A)),C=A.next().value,E=A.next().value);E && 0 < E.length && this.vc.Oj(this.config.F2a,function(){B.H2a(E);});return C && 0 !== C.length?this.H2a(C):Promise.resolve();};c.prototype.H2a=function(z){var A;function B(C){return A.v6.J2a(C).then(function(){return A.GPb(C);});}A=this;return z.reduce(function(C,E){return C.then(function(){return B(E);});},Promise.resolve());};c.prototype.GPb=function(z){var B;B=this;return this.ew.D1a(z).then(function(){}).catch(function(A){B.log.error("Unble to complete the stop lifecycle event",A);throw A;});};c.prototype.rAb=function(z,B){z=new k(this.log,this.vc,z,this.pt,this.ew,this.v6);z.D5(this.config.qpa,B);return z;};c.prototype.Nra=function(z,B){var A,C;A=this;C=this.pt.Mrb(z,B);return this.v6.Nra(z,C).then(function(){!1;A.tG.filter(function(E){return E.key === z.ba.toString();}).forEach(function(E){E.Yv=!0;});}).catch(function(E){throw {uG:C,OS:E};});};c.prototype.yRb=function(z){return this.CQb.Mnb?this.lW(w.Caa.eU,z,u.L.J$):Promise.resolve();};c.prototype.I2a=function(z){return this.lW(w.Caa.splice,z,u.L.PFa);};c.prototype.lW=function(z,B,A){var E;function C(F){var D;D=E.tG.filter(function(G){return G.key === F.ba.toString();});return 0 === D.length?!0:D.reduce(function(G,I){return G || I.stopped || !I.Yv;},!1);}E=this;return C(B)?this.RF:this.RF=this.RF.catch(function(){return Promise.resolve();}).then(function(){var F;if(C(B))return Promise.resolve();!1;F=E.pt.create(B);return E.v6.lW(z,B,F);}).then(function(F){!1;return F;}).catch(function(F){var D;E.log.error("Failed to send event",{eventKey:z,xid:B.ba,error:F});F.Dj?D=E.Xm(A,F):F.Av === u.SY.Eba && (D=E.Xm(A,F));throw {OS:F,Cpa:D};});};c.prototype.yTb=function(z){this.USb(z) && this.wsa(this.$zb(z.fa),z);};c.prototype.wsa=function(z,B){var A;A=this;!1;this.kga();this.rma=this.vc.Oj(z,function(){A.kga();A.lW(w.Caa.eU,B.fa,u.L.J$).then(function(){A.wsa(z,B);}).catch(function(C){var E;E=C.OS;(C=C.Cpa) && B.aK(C);E.Av === u.SY.Eba && A.wsa(z,B);});});};c.prototype.PTb=function(){this.kga();};c.prototype.USb=function(z){return z.state.value == r.Gb.$d;};c.prototype.kga=function(){this.rma && (this.rma.cancel(),this.rma=void 0);};c.prototype.$zb=function(z){return z.kb.bla?d.uc(z.kb.bla):this.config.QWa;};y=c;y=q.__decorate([l.R(),q.__param(0,l.l(p.xEa)),q.__param(1,l.l(g.Kb)),q.__param(2,l.l(h.lj)),q.__param(3,l.l(n.mDa)),q.__param(4,l.l(m.Faa)),q.__param(5,l.l(w.sDa)),q.__param(6,l.l(a.DP)),q.__param(7,l.l(x.wi))],y);b.NDa=y;},function(q,b,a){var f,k,l,d,g,h;function c(m,n){m=k.ff.call(this,m,"PlaydataConfigImpl") || this;m.config=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;q=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(5);a=a(38);ka(c,k.ff);Xa.Object.defineProperties(c.prototype,{xM:{configurable:!0,enumerable:!0,get:function(){return this.config.Zu?"unsentplaydatatest":"unsentplaydata";}},Kra:{configurable:!0,enumerable:!0,get:function(){return !0;}},F2a:{configurable:!0,enumerable:!0,get:function(){return g.uc(1E4);}},qpa:{configurable:!0,enumerable:!0,get:function(){return g.uc(4E3);}},QWa:{configurable:!0,enumerable:!0,get:function(){return g.B5(1);}},RWa:{configurable:!0,enumerable:!0,get:function(){return g.Wg(30);}}});h=c;q.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"xM",null);q.__decorate([d.config(d.ud,"sendPersistedPlaydata")],h.prototype,"Kra",null);q.__decorate([d.config(d.vk,"playdataSendDelayMilliseconds")],h.prototype,"F2a",null);q.__decorate([d.config(d.vk,"playdataPersistIntervalMilliseconds")],h.prototype,"qpa",null);q.__decorate([d.config(d.vk,"heartbeatCooldown")],h.prototype,"QWa",null);q.__decorate([d.config(d.vk,"keepAliveWindow")],h.prototype,"RWa",null);h=q.__decorate([f.R(),q.__param(0,f.l(l.km)),q.__param(1,f.l(a.gm))],h);b.wEa=h;},function(q,b,a){var f,k,l;function c(d,g){this.UR=g;this.log=d.Cb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.rDa=void 0;q=a(1);f=a(80);k=a(8);a=a(0);c.prototype.Nra=function(d,g){var h;h=this.UR(f.wo.start);return this.oRa(h,d,g);};c.prototype.J2a=function(d){var g;g=this;return this.UR(f.wo.stop).Of(this.log,d).then(function(){}).catch(function(h){g.log.error("PBO stop event failed",h);throw h;});};c.prototype.lW=function(d,g,h){d=this.UR(d);return this.oRa(d,g,h);};c.prototype.oRa=function(d,g,h){var m;m=this;return d.np(this.log,g.sa.Fj,h).then(function(){}).catch(function(n){m.log.error("PBO event failed",n);throw n;});};l=c;l=q.__decorate([a.R(),q.__param(0,a.l(k.Kb)),q.__param(1,a.l(f.h$))],l);b.rDa=l;},function(q,b,a){var l,d,g,h;function c(){}function f(m){this.iMb=m;}function k(m){this.kMb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=b.KDa=b.IDa=void 0;q=a(1);l=a(0);d=a(265);g=a(42);h=a(3);k.prototype.validate=function(m){m.map(this.kMb.validate);};a=k;a=q.__decorate([l.R(),q.__param(0,l.l(d.QDa))],a);b.IDa=a;f.prototype.validate=function(m){this.iMb.validate(m.data);};a=f;a=q.__decorate([l.R(),q.__param(0,l.l(d.JDa))],a);b.KDa=a;c.prototype.validate=function(m){var n;m.ba && "string" === typeof m.ba?m.href && "string" === typeof m.href?m.profileId && "string" === typeof m.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.$c(h.L.aA,h.M.Wz,void 0,void 0,void 0,n,void 0,m.ba);};q=q.__decorate([l.R()],c);b.PDa=q;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r){return function(){return new Promise(function(p,u){var t;t=r.$a.get(k.Kxa);t.mb().then(function(){p(t);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.zQa=void 0;q=a(0);f=a(467);a(1047);k=a(469);l=a(1049);d=a(94);g=a(1050);h=a(470);m=a(1051);n=a(1052);a(1053);b.zQa=new q.ad(function(r){r(h.IAa).to(m.HAa).$();r(f.Hxa).to(n.JAa);r(d.iO).to(g.Oua).$();r(k.Kxa).to(l.Ixa).$();r(k.Jxa).WW(c);});},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p){var u;u=g.OP.call(this,n,r,"idb") || this;u.en=p;u.n2a=function(t){u.ytb(t.target.id).then(function(){return u.refresh();});};u.DKb=function(){u.Mob().then(function(){return u.refresh();});};u.$Kb=function(){u.refresh();};u.GKb=function(){u.Opb();};return u;}Object.defineProperty(b,"__esModule",{value:!0});b.abb=void 0;q=a(1);f=a(0);k=a(28);l=a(26);d=a(168);g=a(468);h=a(129);m=a(266);ka(c,g.OP);c.prototype.mb=function(){var n;n=this;if(this.Km)return Promise.resolve();pb.addEventListener("keydown",function(r){r.ctrlKey && r.altKey && r.shiftKey && r.keyCode == h.du.Z$a && n.toggle();});return this.en.create().then(function(r){n.storage=r;n.Km=!0;});};c.prototype.pk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.nka=function(n,r,p){var u;n=n.toString();u='<font color="#C41A16">"' + r + '"</font>';p=this.sNa.ek({name:r,data:p});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + u + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + p + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + r + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.zka=function(n){var r,p;r=this;p='<table class="' + this.prefix + '-display-table" width="100%">' + this.pk();Object.entries(n).forEach(function(u,t){var w;w=aa(u);u=w.next().value;w=w.next().value;p+=r.nka(t,u,w);});return p + "</table>";};c.prototype.NSa=function(){var n,r,p;n=this.Rd.createElement("button",g.KH,"Clear",{"class":this.prefix + "-display-btn"});r=this.Rd.createElement("button",g.KH,"Refresh",{"class":this.prefix + "-display-btn"});p=this.Rd.createElement("button",g.KH,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.DKb;r.onclick=this.$Kb;p.onclick=this.GKb;return [n,r,p];};c.prototype.OGb=function(){var n;n=this;return this.storage.loadAll().then(function(r){n.vVa=r.reduce(function(p,u){p[u.key]=u.value;return p;},{});return n.vVa;});};c.prototype.ytb=function(n){return this.storage.remove(n);};c.prototype.Mob=function(){return this.storage.removeAll();};c.prototype.u1a=function(){var n;n=this;return this.OGb().then(function(r){return n.zka(r);});};c.prototype.Opb=function(){var n;n=JSON.stringify(this.vVa,null,4);m.XX.Jga(n);};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.Hf)),q.__param(1,f.l(l.Gf)),q.__param(2,f.l(d.E$))],a);b.abb=a;},function(q,b){function a(c){this.is=c;this.FFb="#881391";this.dUb="#C41A16";this.Omb=this.kKb="#1C00CF";this.iEb="#D79BDB";this.kWb=this.hKb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;a.prototype.ek=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.zB=function(c,f){return '<font color="' + ((void 0 === f?0:f)?this.iEb:this.FFb) + '">' + c + ": </font>";};a.prototype.qSa=function(c,f){f=f || "";c='<li><a href="#">' + this.zB(c) + "Array[" + f.length + "]</a>";c+="<ul>";for(var k=0;k < f.length;++k){c+=this.getValue(k.toString(),f[k]);}c+=this.getValue("length",f.length,!0);return c + "</ul></li>";};a.prototype.PTa=function(c,f){var k,l;k=this;if(f instanceof CryptoKey)return this.Xyb(c,f);l="";l+='<li><a href="#">' + ("~~NONAME~~" !== c?this.zB(c):"") + "Object</a>";l+="<ul>";Object.entries(f).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;l=d.startsWith("$")?l + k.getValue(d,"REMOVED"):l + k.getValue(d,g);});l+="</ul>";return l+="</li>";};a.prototype.Xyb=function(c,f){c='<li><a href="#">' + this.zB(c) + "CryptoKey</a>";c=c + "<ul>" + this.PTa("algorithm",f.algorithm);c+=this.uSa("extractable",f.extractable);c+=this.tUa("type",f.type);c+=this.qSa("usages",f.usages);return c + "</ul></li>";};a.prototype.FAb=function(c,f,k){return '<li><a href="#">' + this.zB(c,void 0 === k?!1:k) + ('<font color="' + this.kKb + '">' + f.toString() + "</font></a></li>");};a.prototype.uSa=function(c,f,k){return '<li><a href="#">' + this.zB(c,void 0 === k?!1:k) + ('<font color="' + this.Omb + '">' + f.toString() + "</font></a></li>");};a.prototype.tUa=function(c,f,k){128 < f.length && (f=f.substr(0,128) + "...");return '<li><a href="#">' + this.zB(c,void 0 === k?!1:k) + ('<font color="' + this.dUb + '">"' + f + '"</font></a></li>');};a.prototype.EAb=function(c){return '<li><a href="#">' + this.zB(c) + ('<font color="' + this.hKb + '">null</font></a></li>');};a.prototype.QBb=function(c,f){f="undefined" === typeof f?"":f.toString();255 < f.length && (f=f.substr(0,255) + "...");return '<li><a href="#">' + this.zB(c) + ('<font color="' + this.kWb + '">' + f + "</font></a></li>");};a.prototype.getValue=function(c,f,k){k=void 0 === k?!1:k;return null === f?"" + this.EAb(c):this.is.tx(f)?"" + this.qSa(c,f):this.is.LJ(f)?"" + this.PTa(c,f):this.is.So(f)?"" + this.tUa(c,f,k):this.is.$h(f)?"" + this.FAb(c,f,k):this.is.aR(f)?"" + this.uSa(c,f,k):"" + this.QBb(c,f);};b.sHa=a;},function(q,b,a){var f,k;function c(l){this.iub=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Ixa=void 0;q=a(1);f=a(0);a=a(467);c.prototype.mb=function(){var l;l=this;this.QB || (this.QB=new Promise(function(d,g){var h;h=[];l.iub.forEach(function(m){h.push(m.mb());});Promise.all(h).then(function(){d();}).catch(function(m){g(m);});}));return this.QB;};k=c;k=q.__decorate([f.R(),q.__param(0,f.fG(a.Hxa))],k);b.Ixa=k;},function(q,b,a){var f,k;function c(){this.Dra="";this.K6a=[[],[]];this.Y=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Oua=void 0;q=a(1);f=a(0);a(5);k=a(94);c.prototype.downloadRequest=function(l){var d;"" === this.Dra && (this.Dra=l.va);if(!l.Lc){d=this.oVb(l);this.Y[l.mediaType].push(d);this.K6a[l.mediaType].forEach(function(g){g.o3b(d);});}};c.prototype.oVb=function(l){return {id:l.Jh(),va:l.va,mediaType:l.mediaType,Aj:l.Aj,startTime:l.ez,endTime:l.Mv,offset:l.Ct,WJ:l.WJ,VJ:l.VJ,duration:l.Zx,bitrate:l.bitrate,state:k.q9.uQa,Hv:!1,n5b:!1,WUa:!1,i4b:k.p9.waiting};};c.prototype.update=function(l){this.K6a[l.mediaType].forEach(function(d){d.b8b(l);});};Xa.Object.defineProperties(c.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.Dra;}}});a=q.__decorate([f.R()],c);b.Oua=a;},function(q,b,a){var f,k,l,d,g;function c(h,m){h=l.ff.call(this,h,"LogDisplayConfigImpl") || this;h.jk=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;q=a(1);f=a(0);k=a(44);l=a(45);d=a(37);a=a(131);ka(c,l.ff);Xa.Object.defineProperties(c.prototype,{XV:{configurable:!0,enumerable:!0,get:function(){return !0;}},ML:{configurable:!0,enumerable:!0,get:function(){return this.jk.ML;}},AXa:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;q.__decorate([k.config(k.ud,"renderDomDiagnostics")],g.prototype,"XV",null);q.__decorate([k.config(k.g4,"logDisplayMaxEntryCount")],g.prototype,"ML",null);q.__decorate([k.config(k.g4,"logDisplayAutoshowLevel")],g.prototype,"AXa",null);g=q.__decorate([f.R(),q.__param(0,f.l(d.km)),q.__param(1,f.l(a.BP))],g);b.HAa=g;},function(q,b,a){var l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B;function c(A,C,E,F,D,G,I,J,H,M){var O;O=this;this.wa=A;this.Lf=C;this.Rd=E;this.vc=F;this.cn=D;this.config=G;this.qB=I;this.Xsa=J;this.Osb=H;this.en=M;this.UUb=function(){O.iX.ol(function(){O.update();});};this.clear=function(){O.entries=[];O.update();};this.SYa=function(){O.se.FL=!O.se.FL;O.eC && O.iC && (O.se.FL?(O.eC.style.display="inline-block",O.iC.style.display="none"):(O.iC.style.display="inline-block",O.eC.style.display="none"));O.VG(!1);};this.hHb=function(L){var P;O.entries.push(L);P=O.config.ML;0 <= P && O.entries.length > P && O.entries.shift();void 0 === O.se.Fx[L.Gn] && (O.se.Fx[L.Gn]=!0,O.VG(!1));O.se.isVisible && !O.L4a?O.UUb():O.iX.ol();};this.rub=function(){k.download("all",O.entries.map(function(L){return L.j8(!1,!1);})).catch(function(L){console.error("Unable to download all logs to the file",L);});};this.Km=!1;this.se={isVisible:!1,FL:!0,T1:!0,Yma:t.hj.A$,Fx:{}};this.iX=this.Xsa(r.Wg(1));this.Jwb=this.Osb(r.uc(250));this.entries=[];!1;!1;}function f(A){var C;this.elements=[];C=document.createElementNS(f.KW,"svg");C.setAttribute("viewBox",A);this.elements.push(C);}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.JAa=void 0;q=a(1);l=a(0);d=a(28);g=a(107);h=a(326);m=a(46);n=a(40);r=a(5);p=a(20);u=a(85);t=a(8);w=a(108);v=a(267);x=a(470);y=a(78);z=a(129);B=a(266);k.download=function(A,C){return k.zzb(A).then(function(E){return k.HBb(E,C.join("\r\n")).then(function(F){return k.pub(F.filename,F.text);});});};k.zzb=function(A){return new Promise(function(C,E){var F,D,G,I,J,H,M;try{F=new Date();D=F.getDate().toString();G=(F.getMonth() + 1).toString();I=F.getFullYear().toString();J=F.getHours().toString();H=F.getMinutes().toString();M=F.getSeconds().toString();1 === D.length && (D="0" + D);1 === G.length && (G="0" + G);1 === J.length && (J="0" + J);1 === H.length && (H="0" + H);1 === M.length && (M="0" + M);C(I + G + D + J + H + M + "." + A + ".log");}catch(O){E(O);}});};k.HBb=function(A,C){return new Promise(function(E,F){try{E({filename:A,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(D){F(D);}});};k.pub=function(A,C){var E;try{E=document.createElement("a");E.setAttribute("href",C);E.setAttribute("download",A);E.style.display="none";document.body.appendChild(E);E.click();document.body.removeChild(E);return Promise.resolve();}catch(F){return Promise.reject(F);}};f.prototype.AN=function(){var A;A=document.createElementNS(f.KW,"g");A.setAttribute("stroke","none");A.setAttribute("stroke-width",(1).toString());A.setAttribute("fill","none");A.setAttribute("fill-rule","evenodd");A.setAttribute("stroke-linecap","round");this.addElement(A);return this;};f.prototype.BN=function(A,C,E){var F;F=document.createElementNS(f.KW,"path");F.setAttribute("d",A);C && F.setAttribute("fill",C);E && F.setAttribute("fill-rule",E);this.addElement(F);return this;};f.prototype.EW=function(A,C,E,F,D){var G;D=void 0 === D?"#000000":D;G=document.createElementNS(f.KW,"rect");G.setAttribute("x",A.toString());G.setAttribute("y",C.toString());G.setAttribute("height",E.toString());G.setAttribute("width",F.toString());D && G.setAttribute("fill",D);this.addElement(G);return this;};f.prototype.ETb=function(){var A;A=document.createElementNS(f.KW,"polygon");A.setAttribute("points","0 0 24 0 24 24 0 24");A.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(A);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.ek=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(A){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(A);this.elements.push(A);};Xa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},eF:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});f.KW="http://www.w3.org/2000/svg";c.prototype.mb=function(){var A;A=this;this.QB || (this.QB=new Promise(function(C){pb.addEventListener("keydown",function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == z.du.dbb?A.toggle():E.keyCode == z.du.E && B.XX.Jga(A.qB().gi));});A.cn.V6(v.S$.y9a,A.hHb);C();}));return this.QB;};c.prototype.show=function(){document.body && (this.element || (this.Arb(),this.Km=!0),!this.se.isVisible && this.element && (document.body.appendChild(this.element),this.se.isVisible=!0,this.update(!0)));};c.prototype.Tq=function(){this.Km && this.se.isVisible && this.element && (document.body.removeChild(this.element),this.se.isVisible=!1);};c.prototype.toggle=function(){this.se.isVisible?this.Tq():this.show();this.VG(!1);};c.prototype.Arb=function(){var A,C;try{A=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));A.appendChild(C);A.appendChild(this.lo=this.rsb());A.appendChild(this.ssb());A.appendChild(this.urb());this.element=A;}catch(E){console.error("Unable to create the log console",E);}};c.prototype.rsb=function(){var A,C;A=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){A.L4a=!0;A.update();A.lo && (A.lo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){A.L4a=!1;A.update();A.lo && (A.lo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.ssb=function(){var A;A=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");A.appendChild(this.Urb());A.appendChild(this.Krb());A.appendChild(this.Frb());A.appendChild(this.usb());A.appendChild(this.yrb());A.appendChild(this.$rb());A.appendChild(this.Yrb());A.appendChild(this.Hrb());A.appendChild(this.zrb());return A;};c.prototype.urb=function(){var A,C,E,F,D,G;A=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");E=this.createElement("div","padding:2px");F=this.createElement("select",this.hv(22,160,1,2),"<option>Select categories</option>");D=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(E);C.appendChild(D);E.appendChild(F);E.addEventListener("mousedown",function(I){I.preventDefault();});G=!1;E.addEventListener("click",function(){G?D.style.display="none":(D.innerHTML="",["all","none"].concat(Object.keys(A.se.Fx).sort()).forEach(function(I){D.appendChild(A.vrb(I,E));}),D.style.display="block");G=!G;});return C;};c.prototype.vrb=function(A,C){var E,F,D;E=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=A;D=this.createElement("input","margin:1px");D.type="checkbox";D.id=A;D.checked=this.se.Fx[A];D.addEventListener("click",function(){"all" === A || "none" === A?(Object.keys(E.se.Fx).forEach(function(G){E.se.Fx[G]="all" === A;}),C.click()):E.se.Fx[A]=!E.se.Fx[A];E.VG(!0);});F.appendChild(D);F.insertAdjacentText("beforeend",18 < A.length?A.slice(0,15) + "...":A);return F;};c.prototype.Urb=function(){var A,C;A=this;C=this.createElement("select",this.hv(22,NaN,1,2),'<option value="' + t.hj.uf + '">Error</option><option value="' + (t.hj.Iba + '">Warn</option><option value="') + (t.hj.A$ + '">Info</option><option value="') + (t.hj.SGa + '">Trace</option><option value="') + (t.hj.ka + '">Debug</option>'));C.value=this.se.Yma.toString();C.addEventListener("change",function(E){A.se.Yma=parseInt(E.target.value);A.VG(!0);},!1);return C;};c.prototype.Krb=function(){var C,E;function A(F){return C.Jwb.ol(function(){var D;D=F.target.value;C.se.filter=D?new RegExp(D):void 0;C.VG(!0);});}C=this;E=this.createElement("input",this.hv(14,150,1,2));E.value=this.se.filter?this.se.filter.source:"";E.title="Filter (RegEx)";E.placeholder="Filter (RegEx)";E.addEventListener("keydown",A,!1);E.addEventListener("change",A,!1);return E;};c.prototype.Frb=function(){var A,C,E,F;A=this;C=this.createElement("div",this.hv(NaN,NaN));E=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");E.id="details";E.type="checkbox";E.title="Details";E.checked=this.se.T1;E.addEventListener("change",function(D){A.se.T1=D.target.checked;A.VG(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";C.appendChild(E);C.appendChild(F);return C;};c.prototype.usb=function(){var A,C,E;A=this;C=this.createElement("button",this.hv());E=new f("0 0 24 24").AN().ETb().end().BN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.eF,"nonzero").end().end().ek();C.appendChild(E);C.addEventListener("click",function(){A.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.yrb=function(){var A,C;A=this.createElement("button",this.hv());C=new f("0 0 24 24").AN().EW(0,0,24,24,f.background).end().BN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.eF).end().end().ek();A.appendChild(C);A.addEventListener("click",this.clear,!1);A.setAttribute("title","Remove all log messages");return A;};c.prototype.$rb=function(){var A;this.iC=this.createElement("button",this.hv());this.iC.style.display=this.se.FL?"none":"inline-block";A=new f("0 0 24 24").AN().EW(0,0,24,24,f.background).end().BN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.eF,"nonzero").end().end().ek();this.iC.addEventListener("click",this.SYa,!1);this.iC.appendChild(A);this.iC.setAttribute("title","Shrink the log console");return this.iC;};c.prototype.Yrb=function(){var A;this.eC=this.createElement("button",this.hv());this.eC.style.display=this.se.FL?"inline-block":"none";A=new f("0 0 24 24").AN().EW(4,4,16,16,f.background).end().BN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.eF,"nonzero").end().end().ek();this.eC.addEventListener("click",this.SYa,!1);this.eC.appendChild(A);this.eC.setAttribute("title","Expand the log console");return this.eC;};c.prototype.Hrb=function(){var A,C;A=this.createElement("button",this.hv());C=new f("0 0 26 26").AN().EW(0,0,24,24,f.background).end().BN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.eF,"nonzero").end().end().ek();A.appendChild(C);A.addEventListener("click",this.rub,!1);A.setAttribute("title","Download all log messages");return A;};c.prototype.zrb=function(){var A,C,E;A=this;C=this.createElement("button",this.hv());E=new f("0 0 24 24").AN().EW(0,0,24,24,f.background).end().BN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.eF,"nonzero").end().end().ek();C.appendChild(E);C.addEventListener("click",function(){A.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.VG=function(A){var C;A=void 0 === A?!1:A;C=void 0 === C?!1:C;!1;A && this.update(C);};c.prototype.update=function(A){var C;C=this;A=void 0 === A?!1:A;this.element && this.config.XV && Promise.resolve(this.cnb() + this.Azb().join("\r\n")).then(function(E){C.element && C.lo && (C.lo.value=E,C.element.style.cssText=C.se.FL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",A && C.vc.Oj(r.hb,function(){C.lo.scrollTop=C.lo.scrollHeight;}));}).catch(function(E){console.error("Unable to update the log console",E);});};c.prototype.Azb=function(){var A,C;A=this;C=[];this.entries.forEach(function(E){(E.level || E.level) <= A.se.Yma && A.se.Fx[E.Gn] && (E=E.j8(!A.se.T1,!A.se.T1),A.se.filter && !A.se.filter.test(E) || C.push(E));});return C;};c.prototype.cnb=function(){var A;A=this.qB();return "Version: 6.0031.809.911 \n" + ((A?"Esn: " + A.gi:"") + "\nJsSid: ") + (this.Lf.id + ", Epoch: " + this.wa.Ue.ea(r.nn) + ", Start: " + this.Lf.TF.ea(r.nn) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(A,C,E,F){return this.Rd.createElement(A,C,E,F);};c.prototype.hv=function(A,C,E,F){A=void 0 === A?26:A;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === E?0:E) + "px solid " + f.eF + ";padding:3px;" + (isNaN(A)?"":"height:" + A + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.RTb="logDxDisplay";a=q.__decorate([l.R(),q.__param(0,l.l(n.wi)),q.__param(1,l.l(p.zd)),q.__param(2,l.l(d.Hf)),q.__param(3,l.l(m.lj)),q.__param(4,l.l(w.eI)),q.__param(5,l.l(x.IAa)),q.__param(6,l.l(u.rw)),q.__param(7,l.l(g.yI)),q.__param(8,l.l(h.Zwa)),q.__param(9,l.l(y.Rz))],a);b.JAa=a;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u){var t;t=h.OP.call(this,r,p,"network") || this;t.gha=u;t.U1=g.cxa.Ibb;t.PHb=30;t.kLb=function(w){t.U1=w.target.value;t.refresh();};t.CKb=function(){t.data={};t.refresh();};t.n2a=function(w){var v,x;v=Number(w.target.id);w=w.target.getAttribute("data-type");v=t.data[t.U1][v].value;x=JSON.stringify(v,null,4);"copy" === w?n.XX.Jga(x):"log" === w && console.log(v);};return t;}Object.defineProperty(b,"__esModule",{value:!0});b.$bb=void 0;q=a(1);f=a(0);k=a(28);l=a(26);d=a(93);g=a(180);h=a(468);m=a(129);n=a(266);ka(c,h.OP);c.prototype.mb=function(){var r;r=this;if(this.Km)return Promise.resolve();pb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == m.du.Obb && r.toggle();});this.data={};this.gha.addListener(g.W9.fdb,function(p){var u;r.data[p.type] || (r.data[p.type]=[]);u=r.data[p.type];u.length === r.PHb && u.shift();u.push(p);p.type === r.U1 && r.refresh();});this.Km=!0;return Promise.resolve();};c.prototype.pk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.nka=function(r,p,u){var t;t=r.toString();p='<font color="#C41A16">"' + p + '"</font>';u=this.sNa.ek(u);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + t + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + p + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + u + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + r + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + r + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.zka=function(){for(var r='<table class="' + this.prefix + '-display-table" width="100%">' + this.pk(),p=this.data[this.U1] || [],u=0;u < p.length;++u){r+=this.nka(u,p[u].name,p[u].value);}return r + "</table>";};c.prototype.NSa=function(){var r;r=this.Rd.createElement("button",h.KH,"Clear",{"class":this.prefix + "-display-btn"});r.onclick=this.CKb;return [r,this.tsb(),this.jsb()];};c.prototype.tsb=function(){var r;r=this.Rd.createElement("select",h.KH,Object.values(g.cxa).reduce(function(p,u){return p + ('<option value="' + u + '">' + u + "</option>");},""),{"class":this.prefix + "-display-select"});r.onchange=this.kLb;return r;};c.prototype.jsb=function(){var r,p,u,t;r=this;p=this.Rd.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});p.checked=this.CV;p.onchange=function(){return r.vVb();};u=this.Rd.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});t=this.Rd.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});t.appendChild(p);t.appendChild(u);return t;};c.prototype.u1a=function(){return Promise.resolve(this.zka());};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.Hf)),q.__param(1,f.l(l.Gf)),q.__param(2,f.l(d.lY))],a);b.$bb=a;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;q=a(0);c=a(444);f=a(11);b.crypto=new q.ad(function(k){k(c.Kwa).si(f.UY);});},function(q,b,a){var c,f,k,l,d,g,h,m,n,r;Object.defineProperty(b,"__esModule",{value:!0});b.te=void 0;q=a(0);c=a(1056);f=a(1057);k=a(1058);l=a(135);d=a(305);g=a(450);h=a(1059);m=a(1060);n=a(471);r=a(1061);b.te=new q.ad(function(p){p(l.CZ).to(c.MGa).$();p(d.bba).to(k.oFa).$();p(g.HHa).to(f.GHa).$();p(h.lcb).to(m.HCa).$();p(n.YHa).to(r.XHa).$();});},function(q,b,a){var f,k,l,d,g,h;function c(m,n){this.is=m;this.json=n;k.Vn(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;q=a(1);k=a(56);l=a(36);d=a(0);g=a(26);h=a(135);c.prototype.c1a=function(m){var n;n=this;return f.read(m,function(r){return parseInt(r);},function(r){return n.is.Fea(r);});};c.prototype.mqa=function(m){var n;n=this;return f.read(m,function(r){return "true" == r?!0:"false" == r?!1:void 0;},function(r){return n.is.aR(r);});};c.prototype.Lp=function(m){var n;n=this;return f.read(m,function(r){return parseInt(r);},function(r){return n.is.mR(r);});};c.prototype.FOb=function(m){var n;n=this;return f.read(m,function(r){return parseFloat(r);},function(r){return n.is.$h(r);});};c.prototype.b1a=function(m,n){return f.read(m,function(r){return f.Rwb(r,n);},function(r){return void 0 !== r;});};c.prototype.tqa=function(m,n){return f.read(m,function(r){return r;},function(r){return n?n.test(r):!0;});};c.prototype.d1a=function(m){var n,r;n=this;r=void 0 === r?function(){return !0;}:r;try{return f.read(m,function(p){return n.json.parse(decodeURIComponent(p));},function(p){return n.is.LJ(p) && r(p);});}catch(p){return new h.zo();}};c.prototype.ph=function(m,n,r){var p,u;p=this;r=void 0 === r?1:r;m=m.trim();u=n instanceof Function?n:this.bsb(n,r);n=m.indexOf("[");r=m.lastIndexOf("]");if(0 != n || r != m.length - 1)return new h.zo();m=m.substring(n + 1,r);try{return f.VLb(m).map(function(t){t=u(p,f.DXb(t));if(t instanceof h.zo)throw t;return t;});}catch(t){return t instanceof h.zo?t:new h.zo();}};c.prototype.bsb=function(m,n){var r;r=this;n=void 0 === n?1:n;return function(p,u){p=f.HAb(m);return 1 < n?r.ph(u,m,n - 1):p(r,u);};};c.Rwb=function(m,n){var p;for(var r in n){p=parseInt(r);if(n[p] == m)return p;}};c.read=function(m,n,r){m=n(m);return void 0 !== m && r(m)?m:new h.zo();};c.HAb=function(m){switch(m){case "int":return function(n,r){return n.c1a(r);};case "bool":return function(n,r){return n.mqa(r);};case "uint":return function(n,r){return n.Lp(r);};case "float":return function(n,r){return n.FOb(r);};case "string":return function(n,r){return n.tqa(r);};case "object":return function(n,r){return n.d1a(r);};}};c.VLb=function(m){var x;for(var n=[["[","]"]],r=[],p=0,u=0,t=0,w=[],v={};u < m.length;(v={fO:v.fO},++u)){v.fO=m.charAt(u);x=void 0;"," == v.fO && 0 == t?(r.push(m.substr(p,u - p)),p=u + 1):(x=n.find((function(y){return function(z){return z[0] == y.fO;};})(v)))?(++t,w.push(x)):0 < w.length && w[w.length - 1][1] == v.fO && (--t,w.pop());}if(p != u)r.push(m.substr(p,u - p));else if(p == u && 0 < p)throw new h.zo();return r;};c.DXb=function(m){var n;n=m.charAt(0);if('"' == n || "'" == n){if(m.charAt(m.length - 1) != n)throw new h.zo();return m.substring(1,m.length - 1);}return m;};a=f=c;a=f=q.__decorate([d.R(),q.__param(0,d.l(g.Gf)),q.__param(1,d.l(l.mD))],a);b.MGa=a;},function(q,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;q=a(1);a=a(0);c.prototype.oSa=function(f){var k;k=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(l){return k.oSa(l);});};a=q.__decorate([a.R()],c);b.GHa=a;},function(q,b,a){var f,k,l,d;function c(g){this.location=g;k.Vn(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;q=a(1);k=a(56);l=a(36);a=a(0);c.oV=function(g){var h,n,r;h={};if(0 < g.length){g=g.split("&");for(var m=0;m < g.length;m++){n=g[m].trim();r=n.indexOf("=");0 <= r?h[decodeURIComponent(n.substr(0,r).replace(f.bDa,"%20"))]=decodeURIComponent(n.substr(r + 1).replace(f.bDa,"%20")):h[n.toLowerCase()]="";}}return h;};Xa.Object.defineProperties(c.prototype,{wOb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.oV(this.T0a);}},T0a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.JV)return this.JV;this.JV=this.location.search.substr(1);g=this.JV.indexOf("#");0 <= g && (this.JV=this.T0a.substr(0,g));return this.JV;}}});d=f=c;d.bDa=/[+]/g;d=f=q.__decorate([a.R(),q.__param(0,a.l(l.DAa))],d);b.oFa=d;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.lcb="ObjectComparerSymbol";},function(q,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;q=a(1);f=a(0);k=a(190);c.prototype.compare=function(l,d){var g;g=[];this.rga(l,d,"",g);return g;};c.prototype.rga=function(l,d,g,h){var m;m=this;if(k.lD.tx(l))k.lD.tx(d) && l.length === d.length?l.forEach(function(p,u){m.rga(l[u],d[u],g + "[" + u + "]",h);}):h.push({a:l,b:d,path:g});else if(k.lD.LJ(l) && null != l){if(k.lD.LJ(d) && null != d){for(var n in l){this.rga(l[n],d[n],g + "." + n,h);}for(var r in d){(r in l) || void 0 === d[r] || h.push({a:void 0,b:d[r],path:g + "." + r});}}else h.push({a:l,b:d,path:g});}else l !== d && h.push({a:l,b:d,path:g});};a=q.__decorate([f.R()],c);b.HCa=a;},function(q,b,a){var f,k,l,d,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;q=a(1);f=a(0);k=a(11);l=a(34);d=a(268);g=a(7);c.prototype.eBb=function(){var h;h=pb.devicePixelRatio || 1;return {width:this.uda.JZb || k.ju.width * h,height:this.uda.IZb || k.ju.height * h};};Xa.Object.defineProperties(c.prototype,{uda:{configurable:!0,enumerable:!0,get:function(){return g.ha.get(l.kA);}}});a=c;q.__decorate([d.jU],a.prototype,"uda",null);a=q.__decorate([f.R()],a);b.XHa=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});b.pd=void 0;q=a(0);c=a(472);f=a(1063);k=a(116);l=a(269);d=a(1064);g=a(1065);h=a(1067);m=a(1068);n=a(1069);r=a(473);p=a(475);u=a(117);t=a(271);w=a(1070);v=a(270);x=a(1071);b.pd=new q.ad(function(y){y(c.fEa).to(f.eEa).$();y(l.Yaa).to(d.fFa).$();y(k.SD).to(g.PHa).$();y(r.eFa).to(n.yBa).$();y(r.dFa).to(m.yAa).$();y(r.cFa).to(h.sAa).$();y(t.bva).sVb(function(){var z;return null === (z=u.Dl.aj) || void 0 === z?void 0:z.xt;});y(t.ava).to(w.$ua).$();y(p.Waa).to(p.SEa);y(v.H9).to(x.fwa).$();});},function(q,b,a){var f,k,l;function c(d,g){this.bb=g;this.ya=d.Cb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;q=a(1);f=a(0);k=a(8);a=a(26);c.prototype.Ktb=function(d){var g;g=this;try{return {direction:d.direction,C5b:d.layoutHasChanged,m7b:d.rowInteractionIndex,Va:d.lolomos.map(function(h){return g.Ftb(h);})};}catch(h){this.ya.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.Ftb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(h){return g.Etb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,n7b:d.rowSegment};};c.prototype.Etb=function(d){var g,h;g={od:d.pts,property:d.property,da:d.viewableId,index:d.index};h=d.preplay;this.bb.eg(h) && (g.G6=this.Jtb(h));d=d.params;this.bb.eg(d) && (g.Fb=this.WPa(d));return g;};c.prototype.Jtb=function(d){var g;g={od:d.pts,da:d.viewableId,yM:d.pipelineNum,index:d.index};d=d.params;this.bb.eg(d) && (g.Fb=this.WPa(d));return g;};c.prototype.WPa=function(d){return {Zd:d.uiLabel,Ek:d.trackingId,jo:d.sessionParams};};c.prototype.Itb=function(d){var g;g=this;try{return d.map(function(h){return g.Gtb(h);});}catch(h){this.ya.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.Gtb=function(d){var g,h;h=d.params;this.bb.eg(h) && (g=this.Htb(h));return {K:d.movieId,priority:d.priority,force:d.force,Fb:g,Zd:d.uiLabel,Z7b:d.uiExpectedStartTime,Y7b:d.uiExpectedEndTime,al:d.firstTimeAdded};};c.prototype.Htb=function(d){var g,h;g=void 0;h=d.sessionParams;this.bb.eg(h) && (g=h);return {K0:this.Dtb(d.authParams),jo:g,Ek:d.trackingId,Z:d.startPts,sa:d.manifest,Ol:d.isBranching};};c.prototype.Dtb=function(d){return {uMb:null === d || void 0 === d?void 0:d.pinCapableClient};};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(a.Gf))],l);b.eEa=l;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p;function c(u,t,w,v){this.is=w;this.Lf=v;this.log=u.Cb("TaskScheduler");this.Pb=new r.Wj();this.config=t();this.currentIteration=this.fS=0;this.gH=[];this.paused=!1;this.N7=[];this.AOa=[];this.aEb=this.config.BNb || p.append;this.addEventListener=this.Pb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;q=a(1);f=a(0);k=a(269);l=a(8);d=a(15);g=a(128);h=a(26);m=a(20);n=a(5);r=a(72);(function(u){u.prepend="prepend";u.append="append";u.qDb="ignore";})(p || (p={}));c.prototype.Jkb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.gH=this.bEb(u);this.fS=0;this.currentIteration+=1;this.fg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.fg=function(){var u,t,w,v;u=this;if(this.fS === this.gH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.fS,numberOfTasks:this.gH.length});else {t=this.AAb();w=this.currentIteration;t.startTime=this.Lf.Zb().ea(n.ma);t.status=g.Yj.Yv;this.Pb.tc(k.uI.PUb,{K:t.K,type:t.type});this.N7.push(t);v=function(x){t.endTime=u.Lf.Zb().ea(n.ma);x();u.AOa.push(t);u.N7.splice(u.N7.indexOf(t),1);u.currentIteration === w && (u.fS++,u.fg());};t.LQb().then(function(){v(function(){t.status=g.Yj.HN;u.Ypa(t,k.uI.QUb,"task succeeded");});}).catch(function(x){v(function(){0 <= [g.Yj.Fn,g.Yj.Snb,g.Yj.Nfa].indexOf(x.status)?(t.status=x.status,u.Ypa(t,k.uI.NUb,"cancelled task")):(t.status=g.Yj.Cs,u.Ypa(t,k.uI.OUb,"task failed",x));});});}};c.prototype.AAb=function(){return this.gH[this.fS];};c.prototype.getStats=function(u,t,w){var v,x,y,z;v=this.AOa.map(function(B){return B.Hs();});x=this.N7.map(function(B){return B.Hs();});y=this.is.eg(u) && this.is.eg(t);z={};if(this.is.eg(w))return (z.kpb=v.filter(function(B){return B.movieId === w;}),z);v.concat(x).forEach(function(B){var A;z[B.type + "_" + B.status]=(z[B.type + "_" + B.status] | 0) + 1;A=B.status == g.Yj.Yv?B.startTime:B.endTime;y && A && A >= u && A < t && (z[B.type + "_" + B.status + "_delta"]=(z[B.type + "_" + B.status + "_delta"] | 0) + 1);});return z;};c.prototype.Ypa=function(u,t,w,v){var x;x=u.Hs();v?this.log.warn(w,x,v):this.log.trace(w,x);this.Pb.tc(t,{K:u.K,type:u.type,reason:u.status});u.jM(x);};c.prototype.bEb=function(u){var t,w;t=this.gH.filter(function(v){return v.sMb && v.status === g.Yj.Hn;});w=this.aEb;return w === p.qDb?[].concat(u):w === p.prepend?t.concat(u):u.concat(t);};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(l.Kb)),q.__param(1,f.l(d.dd)),q.__param(2,f.l(h.Gf)),q.__param(3,f.l(m.zd))],a);b.fFa=a;},function(q,b,a){var k,l,d,g,h,m,n,r,p,u,t,w,v,x;function c(y,z,B,A,C,E,F,D,G,I,J){this.uYb=B;this.bb=A;this.Lf=C;this.Df=E;this.CRa=F;this.Bwb=D;this.Cwb=G;this.Bia=I;this.events=new x.EventEmitter();this.log=y.Cb("VideoPreparer");this.config=z();this.oua={};this.E5={};this.yd={num_of_calls:0,num_of_movies:0};this.xg=J.xg;}function f(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;q=a(1);k=a(1066);l=a(15);d=a(0);g=a(8);h=a(92);m=a(26);n=a(269);r=a(20);p=a(5);u=a(128);t=a(270);w=a(473);v=a(271);x=a(16);c.prototype.W2a=function(y,z,B){this.xg.setData(y,"ldl",z,B);};c.prototype.TUa=function(y){return this.xg.KT(y,"ldl");};c.prototype.aOa=function(y){this.xg.clearData(y,"ldl",void 0,!0);};c.prototype.UK=function(y,z){return this.xg.getData(y,z);};c.prototype.ASa=function(y){var z;z=this.xg.getData(y,"ldl");this.xg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.XXb=function(y){return this.b4a === y || this.uPa === y;};c.prototype.EM=function(y,z){var B,A,C;B=this;y=y.map(function(E){E.Fb=E.Fb || ({K0:{uMb:!1},Ek:0});B.bb.gF(E.Fb.Ek) || (E.Fb.Ek=0);B.bb.gF(E.od) && (E.Fb.Z=E.od);return E;});A=y.map(function(E){return B.qsb(E,z);}).reduce(function(E,F){return E.concat(F);},[]);C=A.map(function(E){return E.K + "-" + E.type;});this.log.trace("prepare tasks",C);this.Df.Jkb(A);this.yd.num_of_calls++;this.yd.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,B){return Object.assign(Object.assign({},B && this.E5[B] || ({})),{gH:this.Df.getStats(y,z,B),cache:this.xg.getStats(y,z),Rxb:Object.assign(Object.assign({},this.yd),this.Bia.getStats())});};c.prototype.tCb=function(y){this.b4a=y;};c.prototype.sCb=function(y){this.log.trace("task scheduler paused on playback created");this.Df.pause();this.config.Btb && this.xg.gga(y,["manifest"]);this.config.Atb && this.xg.gga(y,["ldl"]);this.config.wtb && this.xg.clearData(y,"manifest");this.Bia.z1a(y);this.uPa=y;};c.prototype.RUa=function(){this.log.info("track changed, clearing all manifests from cache");this.xg.gga("none",["manifest"]);};c.prototype.rCb=function(y){var z;z=this;this.config.xtb?this.xg.clearData(y,"manifest"):this.xg.KT(y,"manifest") && this.xg.getData(y,"manifest").then(function(B){B.Wc.isSupplemental || z.xg.clearData(y,"manifest");},function(B){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",B);});this.lga(y);this.b4a=this.uPa=void 0;};c.prototype.lga=function(y){delete this.oua[y];};c.prototype.CB=function(y){return this.oua[y];};c.prototype.tPa=function(y){return this.oua[y]=this.uYb.lB();};c.prototype.y3a=function(y,z){if(this.TUa(y))return u.Yj.Fn;if(!z.MT)return u.Yj.Nfa;};c.prototype.qsb=function(y,z){var B,A;y.Zd && y.Fb && (y.Fb.Zd=y.Zd);this.JWb(y.K,y.al);B=this.Xrb(y,z);A=this.Trb(y,null === B || void 0 === B?void 0:B.id,z);y=[this.Zrb(y,null === B || void 0 === B?void 0:B.id,z)];return [B,A].concat(ca(y)).filter(f);};c.prototype.Xrb=function(y,z){if(this.xg.KT(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new k.FP("manifest",this.Lf.Zb().ea(p.ma),! !y.Fb.sh,void 0,z,this.CRa,y,this);};c.prototype.Trb=function(y,z,B){if(this.config.HS)if(this.xg.KT(y.K,"ldl"))!1;else return this.config.Cr?new k.FP("ldl",this.Lf.Zb().ea(p.ma),! !y.Fb.sh,z,B,this.Bwb,y,this):new k.FP("ldl",this.Lf.Zb().ea(p.ma),! !y.Fb.sh,z,B,this.Cwb,y,this);};c.prototype.Zrb=function(y,z,B){if(this.config.e2)return new k.FP("getMedia",this.Lf.Zb().ea(p.ma),! !y.Fb.sh,z,B,this.Bia,y,this);};c.prototype.JWb=function(y,z){this.E5[y] || (this.E5[y]={E6:0,al:0});y=this.E5[y];y.E6=(void 0 !== y?void 0 !== y.E6?y.E6:0:0) + 1;y.al=z;};a=c;a=q.__decorate([d.R(),q.__param(0,d.l(g.Kb)),q.__param(1,d.l(l.dd)),q.__param(2,d.l(h.cA)),q.__param(3,d.l(m.Gf)),q.__param(4,d.l(r.zd)),q.__param(5,d.l(n.Yaa)),q.__param(6,d.l(w.eFa)),q.__param(7,d.l(w.dFa)),q.__param(8,d.l(w.cFa)),q.__param(9,d.l(v.ava)),q.__param(10,d.l(t.H9))],a);b.PHa=a;},function(q,b,a){var f,k;function c(l,d,g,h,m,n,r,p){this.type=l;this.Hn=d;this.sMb=void 0 === g?!1:g;this.notify=m;this.Dwb=n;this.FM=r;this.pd=p;this.id=++k;this.status=f.Yj.Hn;}Object.defineProperty(b,"__esModule",{value:!0});b.FP=void 0;f=a(128);k=0;c.prototype.Hs=function(){var l;l={id:this.id,type:this.type,created:this.Hn,status:this.status,movieId:this.K};this.startTime && (l.startTime=this.startTime);this.endTime && this.startTime && (l.duration=this.endTime - this.startTime,l.endTime=this.endTime);return l;};c.prototype.jM=function(l){this.notify && this.notify(l);};c.prototype.LQb=function(){return this.Dwb.fetch(this.FM,this.pd);};Xa.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.FM.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.FM.priority;}}});b.FP=c;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y;function c(z,B,A,C,E,F,D,G,I,J){this.ar=A;this.yW=C;this.Bc=E;this.wa=F;this.Pa=D;this.KL=G;this.CMb=I;this.el=J;this.log=z.Cb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;q=a(1);f=a(0);k=a(8);l=a(15);d=a(128);g=a(65);h=a(59);m=a(34);n=a(139);r=a(182);p=a(35);u=a(5);t=a(40);w=a(20);v=a(184);x=a(195);a=a(118);c.prototype.fetch=function(z,B){var A;A=this;this.log.trace("Fetching LDL",v.VH(z));this.K=z.K;this.pd=B;return B.UK(z.K,"ldl").catch(function(){A.log.trace("Requesting a new license",v.VH(z));return A.el.T2(z.K).then(function(C){var E,F;A.sa=C;A.Wc=C.Wc;if(C=A.pd.y3a(z.K,A.Wc))throw {status:C};C=A.Wc.Nz[0].zt;E=A.Wc.Nz[0].Qha;F=(C?C:[E]).map(function(D){return A.Bc.decode(D.bytes);});A.we=A.bF({EQa:A.log,kia:function(D){return A.handleError(D);},Od:void 0,xoa:function(){},wa:{getTime:function(){return A.Pa.Zb().ea(u.ma);},P4b:function(){return A.wa.Ue.ea(u.nn);}}});B.W2a(z.K,A.we);return A.we.create(A.config.Xe).then(function(){return A.we.ig(h.Th.kn,F,!0);}).then(function(){return A.we;}).catch(function(D){A.handleError(D);throw D;});}).catch(function(C){A.log.warn("Manifest not available for ldl request",C);if(void 0 !== C.status)throw C;throw {status:d.Yj.Fn};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.we.close();this.pd.aOa(this.K);this.pd.lga(this.K);};c.prototype.bF=function(z){var B,A;B=this;if(!this.ar.TH || !this.ar.RH){A=this.CMb();this.ar.TH=A.Nb;this.ar.RH=A.request;}A=new this.ar.RH(z.EQa,function(C){var E;E=[];C.zj.forEach(function(F){E.push({sessionId:F.sessionId,dataBase64:B.Bc.encode(F.data)});});C={zj:E,Y1:[B.Wc.Kl],Qf:g.gq.SOa(C.Qf),Ti:B.Wc.Ti,ba:B.pd.tPa(B.K),Fj:B.sa.Fj};B.log.trace("xid created ",{MovieId:B.K,xid:C.ba});return B.KL.nx(C);},void 0,{We:!1,qk:!1});return this.ar.TH(z.EQa,z.Od,{We:!1,qk:!1,ml:A,EV:this.config.L0a,la:void 0,Kz:this.config.PQa,onerror:z.kia,xoa:z.xoa,wa:z.wa,rG:!1,Slb:this.yW.x1([]),OXb:this.yW.A1([]),U3:this.config.U3});};y=c;y=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(l.dd)),q.__param(2,f.l(m.kA)),q.__param(3,f.l(n.MP)),q.__param(4,f.l(p.Rh)),q.__param(5,f.l(t.wi)),q.__param(6,f.l(w.zd)),q.__param(7,f.l(r.jP)),q.__param(8,f.l(x.Laa)),q.__param(9,f.l(a.sD))],y);b.sAa=y;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p;function c(u,t,w,v,x,y){this.Bc=w;this.Hub=v;this.UL=x;this.el=y;this.log=u.Cb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;q=a(1);f=a(0);k=a(8);l=a(15);d=a(59);g=a(35);h=a(120);m=a(134);n=a(128);r=a(184);a=a(118);c.prototype.fetch=function(u,t){var w;w=this;this.log.trace("Fetching LDL",r.VH(u));this.K=u.K;this.pd=t;return t.UK(u.K,"ldl").then(function(v){return v.y7;}).catch(function(){w.log.trace("Requesting a new license",r.VH(u));return w.el.T2(u.K).then(function(v){var x,y,z,B;w.Wc=v.Wc;if(t.TUa(u.K))return t.UK(u.K,"ldl").then(function(A){return A.y7;});x=w.pd.y3a(u.K,w.Wc);if(x)throw {status:x};y=w.Wc.Nz[0].zt;x=w.Wc.Nz[0].Qha;z=(y?y:[x]).map(function(A){return w.Bc.decode(A.bytes);});B=w.Hub().then(function(A){var C;C={type:d.Th.kn,initData:z,context:{Xe:w.config.Xe,zt:y},li:{K:u.K,ba:t.tPa(u.K),Ti:w.Wc.Ti,Kl:w.Wc.Kl,Fj:v.Fj}};return A.ig(C,w.UL());}).catch(function(A){w.handleError("Unable to prepare an EME session.",A);throw A;});w.pd.W2a(u.K,{y7:B,source:"videopreparer"},function(){if(!w.pd.XXb(u.K))try{B.then(function(A){return A.close();}).catch(function(A){w.handleError("Unable to cleanup LDL session, Unable to get the session.",A);});}catch(A){w.handleError("Unable to cleanup LDL session, unexpected exception.",A);}});return B;}).catch(function(v){w.log.warn("Manifest not available for ldl request",v);if(void 0 !== v.status)throw v;throw {status:n.Yj.Fn};});});};c.prototype.handleError=function(u,t){this.log.warn(u + " LDL is now invalid.",t);this.pd.aOa(this.K);this.pd.lga(this.K);};p=c;p=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(l.dd)),q.__param(2,f.l(g.Rh)),q.__param(3,f.l(h.oY)),q.__param(4,f.l(m.lP)),q.__param(5,f.l(a.sD))],p);b.yAa=p;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p;function c(u,t,w,v,x){this.rna=w;this.Lf=v;this.el=x;this.log=u.Cb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.yBa=void 0;q=a(1);f=a(15);k=a(0);l=a(8);d=a(20);g=a(5);h=a(143);m=a(119);n=a(184);r=a(118);p=a(59);c.prototype.fetch=function(u,t){var w,v;this.log.trace("Fetching manifest",n.VH(u));v=u.Fb;this.config.Yjb && v && v.sa && !this.el.A3(u.K) && (!(("clientGenesis" in v.sa) && v.sa.clientGenesis) || Date.now() - v.sa.clientGenesis < this.config.y0a) && (v=this.rna.create(v.sa),v.FG=this.Lf.Zb().ea(g.ma),v.XM=this.Lf.Zb().ea(g.ma),this.el.Esa(u.K,v));return this.el.sT({da:u.K,kb:null !== (w=u.Fb) && void 0 !== w?w:{},fv:m.Xj.GD,Qf:p.Th.kn},function(){t.events.emit("manifestRemovedFromCache",{type:"manifestRemovedFromCache",da:u.K});});};a=c;a=q.__decorate([k.R(),q.__param(0,k.l(l.Kb)),q.__param(1,k.l(f.dd)),q.__param(2,k.l(h.kP)),q.__param(3,k.l(d.zd)),q.__param(4,k.l(r.sD))],a);b.yBa=a;},function(q,b,a){var k,l,d,g,h,m,n,r,p,u,t,w;function c(){var v;v=this;this.promise=new Promise(function(x,y){v.resolve=x;v.reject=y;});}function f(v,x,y,z,B){var A;A=this;this.Ipa=y;this.yNb=z;this.el=B;this.zX=[];this.az=new Map();this.XKb=function(C){var E,F;C=C.wishListItem.key.da;if(A.az.has(C)){F=A.az.get(C);C=F.FM;F=F.vga;null === (E=F.resolve) || void 0 === E?void 0:E.call(F,C);}};this.YZa=function(C){var E,F;A.config.zNb?(A.z1a(C.da),A.s3a(A.zX)):null === (F=null === (E=A.az.get(C.da)) || void 0 === E?void 0:E.U6a.zH.Fs(C.da).events) || void 0 === F?void 0:F.emit("viewableExpired",{type:"viewableExpired"});};this.ya=v.Cb("VideoPreparer");this.config=x();}Object.defineProperty(b,"__esModule",{value:!0});b.$ua=void 0;q=a(1);k=a(8);a(184);l=a(117);d=a(53);g=a(15);h=a(13);m=a(119);n=a(271);r=a(0);p=a(475);u=a(16);t=a(118);w=a(59);f.prototype.fetch=function(v,x){if(-1 === x.events.listeners("manifestRemovedFromCache").indexOf(this.YZa))x.events.on("manifestRemovedFromCache",this.YZa);!1;this.s3a(this.cpb(this.Asb(v,x)));return this.az.get(v.K).vga.promise;};f.prototype.getStats=function(){return this.xt.getStats();};f.prototype.cpb=function(v){return [v].concat(ca(this.zX.filter(function(x){return x.key.da !== v.key.da;}))).slice(0,this.config.wNb).map(this.config.xNb?function(x,y){return Object.assign({},x,{priority:y});}:function(x){return x;});};f.prototype.sT=function(v){var x;return this.el.sT({da:v.K,fv:m.Xj.GD,Qf:w.Th.kn,kb:null !== (x=v.Fb) && void 0 !== x?x:{}}).then(function(y){return y.Wc;});};f.prototype.Asb=function(v,x){var y,z,B,A,C,E;B=new c();if(this.az.has(v.K)){A=this.az.get(v.K);C=A.FM;if(C.K === v.K && C.Zd === v.Zd)E=A.U6a.key;this.xt.getStats().contents.some(function(F){return F.id === v.K;}) && (B=A.vga);}A=l.Dl.sd.Hq(h.p1(v.Zd));E || (E={da:v.K,config:A});x={key:E,v5b:!1,priority:v.priority,M0:d.S.rb(null !== (z=null === (y=v.Fb) || void 0 === y?void 0:y.Z) && void 0 !== z?z:0),zH:this.zsb(v,x,A)};this.az.set(v.K,{U6a:x,FM:v,vga:B});return x;};f.prototype.zsb=function(v,x,y){var z,B,A,C;z=this;B=v.K;A=this.el;C={get ba() {return x.CB(B);},get nF() {return !A.A3(B);},events:new u.EventEmitter(),GNa:function(){},get Dr() {return z.sT(v).then(function(E){return {sa:E,Gi:E.Tka && !E.MT,config:y,C3a:{}};});},da:B,equals:function(E){var F;F=x.CB(B);return E.da === B && (!E.ba || !F || F === E.ba);}};return {Fs:function(){return C;}};};f.prototype.b3a=function(v){this.zX=v;};f.prototype.s3a=function(v){this.b3a(v);this.xt.r3a(this.zX);};f.prototype.z1a=function(v){this.az.has(v) && (this.b3a(this.zX.filter(function(x){return x.key.da !== v;})),this.az.delete(v));};Xa.Object.defineProperties(f.prototype,{xt:{configurable:!0,enumerable:!0,get:function(){this.cx || (this.cx=this.yNb(),this.cx.Yra(this.Ipa).U2a({JF:this.config.vNb}),this.cx.events.on("prefetchComplete",this.XKb));return this.cx;}}});a=f;a=q.__decorate([r.R(),q.__param(0,r.l(k.Kb)),q.__param(1,r.l(g.dd)),q.__param(2,r.l(p.Waa)),q.__param(3,r.l(n.bva)),q.__param(4,r.l(t.sD))],a);b.$ua=a;},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r){var p;p=this;this.Lf=n;n=r();this.xg=new h({log:m.Cb("CacheManager"),wa:{getTime:function(){return p.Lf.Zb().ea(d.ma);}},Promise:Promise,We:!1,knb:n.ENb,jnb:n.CNb,gwb:n.y0a,fwb:n.DNb});}Object.defineProperty(b,"__esModule",{value:!0});b.fwa=void 0;q=a(1);f=a(0);k=a(20);l=a(8);d=a(5);g=a(15);h=a(1072);c=q.__decorate([f.R(),q.__param(0,f.l(l.Kb)),q.__param(1,f.l(k.zd)),q.__param(2,f.l(g.dd))],c);b.fwa=c;},function(q,b,a){var d;function c(){return Object.create(null);}function f(g){this.log=g.log;this.wa=g.wa;this.kC=c();this.Promise=g.Promise;this.Kx=g.Kx;this.Ata=g.Ata;this.We=g.We || !1;this.bv=c();this.dB=c();this.PE=c();this.kjb(g);g.lp && (this.lp=g.lp);}function k(g){return "undefined" !== typeof g;}function l(g){var n;for(var h=0,m=arguments.length;h < m;){n=arguments[h++];if(k(n))return n;}}a(1073);d=a(1074);f.prototype.kjb=function(g){this.bv.manifest=l(g.gwb,d.bv.sa);this.bv.ldl=l(g.fwb,d.bv.kU);this.bv.metadata=l(g.A4b,d.bv.xd);this.dB.manifest=l(g.knb,d.dB.sa);this.dB.ldl=l(g.jnb,d.dB.kU);this.dB.metadata=l(g.I3b,d.dB.xd);this.PE.manifest=l(g.G3b,d.PE.sa);this.PE.ldl=l(g.F3b,d.PE.kU);this.PE.metadata=l(g.H3b,d.PE.xd);};f.prototype.KT=function(g,h){this.zs("undefined" !== typeof g);this.zs("undefined" !== typeof h);return ! !this.TIa(g,h,void 0).value;};f.prototype.TIa=function(g,h,m){var n,r;n={value:null,reason:"",log:""};r=this.kC[h];if("undefined" === typeof r)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof r[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(m=r[g][m?m:"DEFAULTCAPS"]) && m.value?this.q4(h,m.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + g,n.reason="expired"):(n.log=this.Promise && m.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + g:"cache hit: " + h + " available for movieId:" + g,n.value=m.value):(n.log="cache miss: " + h + " data not available for movieId:" + g,n.reason="unavailable");return n;};f.prototype.getData=function(g,h,m){this.zs("undefined" !== typeof g);this.zs("undefined" !== typeof h);g=this.TIa(g,h,m);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.Ata?JSON.parse(this.Ata(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};f.prototype.setData=function(g,h,m,n,r){var p,u,t;this.zs("undefined" !== typeof g);this.zs("undefined" !== typeof h);p=this.kC;u=r?r:"DEFAULTCAPS";p[h] || (p[h]=c(),Object.defineProperty(p[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(p[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));m=this.Kx?this.Kx(JSON.stringify(m),"gzip",!0):m;p=p[h];this.$gb(g,h,u,p);t=this;n={creationTime:this.wa.getTime(),value:m,size:0,type:h,Bha:n,ewb:setTimeout(function(){t.clearData(g,h,u,!1,"expired");},this.bv[h] + 1)};p[g]=p[g] || c();p[g][u]=p[g][u] || c();p[g][u]=n;p.size+=0;p.numEntries++;this.lp && this.lp.emit("addedCacheItem",n);return n;};f.prototype.$gb=function(g,h,m,n){var r,p,u,t,w,v,x,y,z;r=this;p=n.numEntries;u=this.dB[h];t=n[g] && n[g][m];if(t && t.value)(w=g,v="promise_or_expired");else if(p >= u){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(B){var A;A=n[B] && n[B][m];A && A.value && r.q4(h,A.creationTime) && (z=B);A && A.value && A.creationTime < y && (y=A.creationTime,x=B);return !0;});w=z || x;v="cache_full";}this.We && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:h,movieId:g,movieToBeRemoved:w});w && (r.clearData(w,h,m,void 0,v),this.log.debug("removed from cache: ",w,h));};f.prototype.gga=function(g,h){var m,n;m=this;m.zs("undefined" !== typeof g);n=g + "";h.forEach(function(r){var p;p=m.kC[r];p && Object.keys(p).forEach(function(u){u != n && m.clearData(u,r,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(g,h,m,n,r){var p;this.zs("undefined" !== typeof g);this.zs("undefined" !== typeof h);p=this.kC[h];h=p?p[g]:void 0;m=m?m:"DEFAULTCAPS";if(h && h[m]){p.size-=h[m].size;p.numEntries--;if(p=h && h[m])(clearTimeout(p.ewb),h[m]=void 0,!n && p.Bha && p.Bha());this.lp && (g={creationTime:p.creationTime,destroyFn:p.Bha,size:p.size,type:p.type,value:p.value,reason:r,movieId:g},this.lp.emit("deletedCacheItem",g));}};f.prototype.flush=function(g){var h;this.zs("undefined" !== typeof g);h=this.kC;h[g]=c();h[g].numEntries=0;h[g].size=0;};f.prototype.ZNa=function(){var g,h;this.zs(!1);g=this;h=this.kC;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(m){var n;n=h[void 0][m].DEFAULTCAPS;g.wa.getTime() - n.creationTime > g.bv[void 0] && this.clearData(m,void 0,"DEFAULTCAPS",void 0,"clean_up");});};f.prototype.q4=function(g,h){return this.wa.getTime() - h > this.bv[g];};f.prototype.getStats=function(g,h,m){var n,r,p,u,t;n={};r=this;p=r.kC;u=k(g) && k(h);t=m || "DEFAULTCAPS";Object.keys(p).forEach(function(w){var v,x;v=Object.keys(p[w]);x=p[w];v.forEach(function(y){!(y=x && x[y] && x[y][t]) || !k(y.value) || y.value instanceof this.Promise || (n[w]=(n[w] | 0) + 1,r.q4(y.type,y.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),u && y.creationTime >= g && y.creationTime < h && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};f.prototype.getState=function(g){var h,m,n,r;h=[];m=this;n=m.kC;r=g || "DEFAULTCAPS";Object.keys(n).forEach(function(p){var u,t;u=Object.keys(n[p]);t=n[p];u.forEach(function(w){var v,x;v=t && t[w] && t[w][r];if(v && k(v.value)){x=m.q4(v.type,v.creationTime)?"expired":v.value instanceof this.Promise?"loading":"cached";h.push({movieId:w,state:x,type:p,size:v.size});}});});return h;};f.prototype.zs=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.We))throw Error("Debug Assert Failed ");};q.exports=f;},function(q){function b(a){var c;c=[];return (function l(k){if(k && "object" === typeof k){if(-1 !== c.indexOf(k))return !0;c.push(k);for(var d in k){if(k.hasOwnProperty(d) && l(k[d]))return !0;}}return !1;})(a);}q.exports=function(a,c){var k;if(c && b(a))return -1;c=[];a=[a];for(var f=0;a.length;){k=a.pop();if("boolean" === typeof k)f+=4;else if("string" === typeof k)f+=2 * k.length;else if("number" === typeof k)f+=8;else if("object" === typeof k && -1 === c.indexOf(k)){c.push(k);for(var l in k){a.push(k[l]);}}}return f;};},function(q){q.exports={bv:{sa:12E5,kU:9E5,xd:12E5},dB:{sa:10,kU:10,xd:10},PE:{sa:10240,kU:10240,xd:10240}};},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ma=void 0;q=a(0);c=a(186);f=a(1076);k=a(476);l=a(1077);d=a(477);g=a(1078);h=a(1079);m=a(478);n=a(1080);b.Ma=new q.ad(function(r){r(c.Z9).to(f.uxa).$();r(k.RBa).to(l.QBa).$();r(d.LCa).to(g.KCa).$();r(d.YBa).to(h.XBa).$();r(m.WBa).to(n.VBa).$();});},function(q,b,a){var f,k,l,d;function c(g){function h(m,n){this.I=m;this.vl=n;this.s2=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.cg=g.Cb("DownloadTrack");}h.prototype.gp=function(){!1;this.n0=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.n0 + " config: " + JSON.stringify(this.I);};h.prototype.toJSON=function(){return "Download Track id:" + this.n0 + " config: " + JSON.stringify(this.I);};h.prototype.S6=function(m){this.I.connections !== m.connections && (this.I=m);};h.prototype.Us=function(){return 1 < this.I.connections?!0:!1;};Xa.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.n0;}},Hn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.n0;}},config:{configurable:!0,enumerable:!0,get:function(){return this.I;}},sG:{configurable:!0,enumerable:!0,get:function(){return this.cg;}},Mm:{configurable:!0,enumerable:!0,get:function(){return this.vl.Mm;}}});this.PH=Object.assign(h,new l.vxa());}Object.defineProperty(b,"__esModule",{value:!0});b.uxa=void 0;q=a(1);f=a(0);k=a(8);l=a(186);d=a(109).EventEmitter;c=q.__decorate([f.R(),q.__param(0,f.l(k.Kb))],c);b.uxa=c;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p;function c(u,t,w,v,x,y){this.NJ=u;this.Bf=w;this.bb=v;this.Pa=x;this.config=y;this.log=t.Cb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.QBa=void 0;q=a(1);f=a(187);k=a(94);l=a(3);d=a(8);g=a(0);h=a(115);m=a(26);n=a(20);r=a(5);a=a(15);c.prototype.jy=function(){return this.Pa.Zb().ea(r.ma);};c.prototype.EZa=function(u,t){u.TJb({mediaRequest:u,timestamp:t});};c.prototype.XZa=function(u){var t;t=u.mediaRequest.Sy;t.readyState=f.bc.zc.Hw;u=u.connect?u:{timestamp:this.jy(),connect:!1};u.mediaRequest=t;u.readyState=t.readyState;t.woa(u);};c.prototype.d6=function(u){this.EZa(u.mediaRequest.Sy,u.timestamp);};c.prototype.f6=function(u){var t,w;t=u.mediaRequest.Sy;w=u.bytes;"undefined" === typeof t?!1:(t.readyState === f.bc.zc.Jw && this.XZa(u),this.bb.$h(w) && (u.mediaRequest=t,u.timestamp=this.jy(),w > t.bytesReceived && (u.newBytes=w - t.bytesReceived,u.bytesLoaded=w,t.WJb(u))));};c.prototype.Rm=function(u){var t,w,v,x;t=u.mediaRequest;w=u.errorcode;v=u.httpcode;x=f.bc.rY;if("undefined" === typeof t)!1;else if((t=t.Sy,"undefined" === typeof t))!1;else if(t.readyState !== f.bc.zc.UH)if(w === l.M.$z)(t.readyState=f.bc.zc.hO,u.mediaRequest=t,u.readyState=t.readyState,t.PJb(u));else {t.readyState=f.bc.zc.UH;switch(w){case l.M.dP:v=x.Yva;break;case l.M.w$:v=x.t$;break;case l.M.aP:v=400 < v && 500 > v?x.v$:500 <= v?x.jza:x.t$;break;case l.M.bP:v=x.u$;break;case l.M.$O:v=x.Zva;break;case l.M.cP:v=x.HY;break;case l.M.jD:v=x.HY;break;case l.M.iza:v=x.hza;break;case l.M.eza:v=x.v$;break;case l.M.Z9a:v=x.u$;break;default:v=x.HY;}u.mediaRequest=t;u.readyState=t.readyState;u.errorcode=v;u.nativecode=w;t.yoa(u);}};c.prototype.Roa=function(u,t){var w,v;w=t.request.Sy;if(w)if(t.X){if((!1,u.j && w.readyState !== f.bc.zc.DONE)){switch(w.readyState){case f.bc.zc.hO:!1;return;case f.bc.zc.UH:!1;break;case f.bc.zc.Hw:break;case f.bc.zc.Jw:this.XZa({mediaRequest:t.request});break;default:!1;}w.readyState=f.bc.zc.DONE;if(!w.Lc){v={mediaRequest:w,readyState:w.readyState,timestamp:this.jy(),cadmiumResponse:t};u.j.ita+=1;w.LBb();w.dFb() && (u.j.hra+=1,t.Rl.Oh=Math.ceil(w.Qia),t.Rl.fo=Math.ceil(w.WE),t.Rl.Np=Math.floor(w.aC));w.o1=v;w.jM(v);}}}else (!1,w.readyState === f.bc.zc.hO?!1:(u={mediaRequest:t.request,timestamp:this.jy(),errorcode:t.oa,httpcode:t.lk},this.Rm(u)));};c.prototype.download=function(u,t){var w,v;w=this;t=this.Bf.download(u,t);if(u.Sy){v=u.Sy;-1 < [f.bc.zc.OPENED,f.bc.zc.UH].indexOf(v.readyState) && (v.readyState=f.bc.zc.Jw,this.config().qIb?t.aSb(function(x){w.d6(x);}):this.EZa(v,this.jy()));}t.lea(function(x){w.Roa(u,x);});t.iSb(function(x){w.f6(x);});t.SRb(function(x){w.Rm(x);});return t;};p=c;p=q.__decorate([g.R(),q.__param(0,g.l(k.iO)),q.__param(1,g.l(d.Kb)),q.__param(2,g.l(h.dA)),q.__param(3,g.l(m.Gf)),q.__param(4,g.l(n.zd)),q.__param(5,g.l(a.dd))],p);b.QBa=p;},function(q,b,a){var f,k,l;function c(d,g){this.Bf=g;this.log=d.Cb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;q=a(1);f=a(0);k=a(8);a=a(115);c.prototype.dT=function(d,g,h){d={url:d.url,$Qb:h};!1;this.Bf.dTb(d);};c.prototype.DE=function(d){try{d.ola();}catch(g){this.log.warn("exception aborting request");}};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(a.dA))],l);b.KCa=l;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u;function c(t,w,v,x,y,z){this.Pa=t;this.Oq=w;this.config=v;this.Bf=y;this.oIb=z;this.log=x.Cb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;q=a(1);f=a(53);k=a(0);l=a(8);d=a(115);g=a(476);h=a(81);m=a(187);n=a(20);r=a(5);p=a(38);a=a(15);c.prototype.dT=function(t,w,v){var y,z,B;function x(){t.removeEventListener(m.bc.ue.DD,x);t.QS?t.QS++:t.QS=1;t.QS >= y.config().zia.length && (t.QS=y.config().zia.length - 1);setTimeout(function(){y.dT(t,w,v);},y.config().zia[t.QS]);}y=this;t.w5b=!0;z=this.oIb.download({url:t.url,responseType:this.Bf.xdb.O7a,withCredentials:!1,hF:t.mediaType === f.ic.Za.Tb?"audio":"video",offset:w.start,length:t.Tj,track:{type:t.mediaType === f.ic.Za.Tb?h.Uh.audio:h.Uh.video},stream:{Dd:t.La,bitrate:t.bitrate},Pc:t.Rc,Sy:t,H7:v,St:this.Oq.St},function(A){A.X && t.readyState !== m.bc.zc.DONE && (t.readyState === m.bc.zc.hO?!1:(t.readyState === m.bc.zc.UH?!1:t.readyState === m.bc.zc.Jw?(t.readyState=m.bc.zc.Hw,t.woa({mediaRequest:t,readyState:t.readyState,timestamp:y.jy(),connect:!1})):t.readyState !== m.bc.zc.Jw && t.readyState !== m.bc.zc.Hw && !1,t.readyState=m.bc.zc.DONE,A={mediaRequest:t,readyState:t.readyState,timestamp:y.jy(),cadmiumResponse:A,response:A.content},t.o1=A,t.jM(A)));});if(t.Lc){B={mediaRequest:t,readyState:t.readyState,timestamp:this.jy(),connect:!1};t.woa(B);}t.addEventListener(m.bc.ue.DD,x);t.ola=z.abort;};c.prototype.DE=function(t){try{t.ola();}catch(w){this.log.warn("exception aborting request");}};c.prototype.jy=function(){return this.Pa.Zb().ea(r.ma);};u=c;u=q.__decorate([k.R(),q.__param(0,k.l(n.zd)),q.__param(1,k.l(p.gm)),q.__param(2,k.l(a.dd)),q.__param(3,k.l(l.Kb)),q.__param(4,k.l(d.dA)),q.__param(5,k.l(g.RBa))],u);b.XBa=u;},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u,t,w,v){function x(z,B){this.track=z;this.label=B;this.fh=n.bc.zc.UNSENT;this.bytesReceived=0;this.kr=[];this.requestId=v.lB().toString();this.bb=u;this.log=p.Cb("MediaRequest");this.config=r;this.Pb=new m.Wj();"notification" === this.label?this.config().ay && (this.Mm=t):this.Mm=w;!1;}function y(z,B){this.requestId=v.lB().toString();this.bb=u;this.log=p.Cb("MediaRequest");this.config=r;this.Pb=new m.Wj();this.label=B;"notification" === this.label?this.config().ay && (this.Mm=t):this.Mm=w;this.XT=this.VJ=this.WJ=void 0;this.track=z;this.W0=this.url=this.responseType=void 0;this.fh=n.bc.zc.UNSENT;this.Ri=this.JK=this.Og=this.status=void 0;this.er=this.bytesReceived=0;this.connect=this.Qia=this.WE=this.aC=this.wma=this.Ye=this.Pia=this.loadTime=this.yJ=void 0;this.kr=[];this.Hn=!1;!1;}x.prototype.addEventListener=function(z,B,A){this.Pb.addListener.call(this,z,B,A);};x.prototype.removeEventListener=function(z,B){this.Pb.removeListener.call(this,z,B);};x.prototype.emit=function(z,B,A){this.Pb.tc.call(this,z,B,A);};x.prototype.TJb=function(z){this.fh === n.bc.zc.OPENED && (this.XT=!0,this.loadTime=this.Ye=z.timestamp,!1,this.fh=n.bc.zc.Jw,this.emit(n.bc.ue.DCa,z));};x.prototype.woa=function(z){var B;if(this.fh < n.bc.zc.Hw){this.kr=[];B=z.timestamp - this.loadTime;!this.Lc && 0 < B && (this.connect=!0,this.kr.push(B));!0 === this.config().uDb?this.Pia=z.timestamp:this.Pia=this.Ye=z.timestamp;!1;this.fh=n.bc.zc.Hw;this.emit(n.bc.ue.CCa,z);}};x.prototype.WJb=function(z){this.fh === n.bc.zc.Hw && (!1,this.wma=this.Ye=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.bb.eg(this.wma) && this.emit(n.bc.ue.ECa,z));};x.prototype.jM=function(z){-1 < [n.bc.zc.Jw,n.bc.zc.Hw].indexOf(this.fh) && (this.XT=!1,!1,this.Ye=z.timestamp,this.fh=n.bc.zc.DONE,z.newBytes=this.Tj - this.bytesReceived,this.bytesReceived=this.Tj,this.bb.eg(this.WE) && (this.Ye=this.WE,0 === z.newBytes && (this.wma=this.WE)),this.bb.eg(this.aC) && (this.loadTime=this.aC),this.yJ=z.response,this.emit(n.bc.ue.tP,z));};x.prototype.PJb=function(z){this.XT=!1;!1;this.emit(n.bc.ue.hcb,z);};x.prototype.yoa=function(z){this.Ye=z.timestamp;this.status=z.httpcode;this.Og=z.errorcode;this.JK=n.bc.rY.name[this.Og];this.Ri=z.nativecode;!1;this.emit(n.bc.ue.DD,z);this.XT=!1;};x.prototype.open=function(z,B,A,C,E,F,D){this.Yv=!1;this.W0=B;this.url=z;this.responseType=A;!1;if(!this.url)return (!1,!1);this.fh=n.bc.zc.OPENED;this.Mm.dT(this,B,D);return !0;};x.prototype.Ic=function(){!1;-1 !== [n.bc.zc.OPENED,n.bc.zc.Jw,n.bc.zc.Hw].indexOf(this.fh) && this.abort();return !0;};x.prototype.$Na=function(){this.yJ=void 0;this.o1 && (this.o1.response=void 0,this.o1.cadmiumResponse.content=void 0);this.ola=void 0;};x.prototype.a8=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.fh=n.bc.zc.hO;this.Mm.DE(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.SV=function(){};x.prototype.Jh=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.Jh(),segmentId:this.va,isHeader:this.Lc,ptsStart:this.ez,ptsOffset:this.Ct,responseType:this.responseType,duration:this.Zx,readystate:this.fh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.LBb=function(){var z,B;if(this.config().s6a && d.iu && d.iu.getEntriesByType && (!this.bb.eg(this.aC) || !this.bb.eg(this.WE) && this.bb.eg(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.WJ + "-" + this.VJ + "*");B=new RegExp(z);z=d.iu.getEntriesByType("resource").filter(function(A){return B.exec(A.name);})[0];this.bb.eg(z) && (0 < z.startTime && (this.aC=z.startTime,0 < z.requestStart && (this.aC=Math.max(this.aC,z.requestStart))),0 < z.responseStart && (this.Qia=z.responseStart),0 < z.responseEnd && (this.WE=z.responseEnd));}};x.prototype.dFb=function(){return this.bb.eg(this.aC) && this.bb.eg(this.WE) && this.bb.eg(this.Qia);};Xa.Object.defineProperties(x.prototype,{Tj:{configurable:!0,enumerable:!0,get:function(){return this.W0.end - this.W0.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.VJ - this.WJ + 1;}},WUa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Lc:{configurable:!0,enumerable:!0,get:function(){return !this.TB;}},response:{configurable:!0,enumerable:!0,get:function(){return this.yJ;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.fh;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var B;B=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,B);});this.kq=Object.assign(y,n.bc);}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;q=a(1);f=a(0);k=a(8);l=a(15);d=a(11);g=a(26);h=a(477);m=a(72);n=a(187);a=a(92);c=q.__decorate([f.R(),q.__param(0,f.l(l.dd)),q.__param(1,f.l(k.Kb)),q.__param(2,f.l(g.Gf)),q.__param(3,f.l(h.LCa)),q.__param(4,f.l(h.YBa)),q.__param(5,f.l(a.cA))],c);b.VBa=c;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.dZa=void 0;q=a(0);c=a(319);f=a(1082);b.dZa=new q.ad(function(k){k(c.iaa).to(f.mCa).$();});},function(q,b,a){var f,k,l,d,g;function c(h){return k.ff.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mCa=void 0;q=a(1);f=a(44);k=a(45);l=a(0);d=a(37);g=a(5);ka(c,k.ff);Xa.Object.defineProperties(c.prototype,{WYa:{configurable:!0,enumerable:!0,get:function(){return g.uc(5E3);}},j_a:{configurable:!0,enumerable:!0,get:function(){return g.uc(1E3);}},k_a:{configurable:!0,enumerable:!0,get:function(){return g.uc(1E3);}}});a=c;q.__decorate([f.config(f.vk,"minDecoderBufferMilliseconds")],a.prototype,"WYa",null);q.__decorate([f.config(f.vk,"optimalDecoderBufferMilliseconds")],a.prototype,"j_a",null);q.__decorate([f.config(f.vk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"k_a",null);a=q.__decorate([l.R(),q.__param(0,l.l(d.km))],a);b.mCa=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r;Object.defineProperty(b,"__esModule",{value:!0});b.R_a=void 0;q=a(0);c=a(479);f=a(1084);k=a(70);l=a(1086);d=a(482);g=a(1087);h=a(371);m=a(1088);n=a(188);r=a(1089);b.R_a=new q.ad(function(p){p(k.ku).to(l.oDa).$();p(c.qDa).to(f.pDa).$();p(h.ADa).to(m.zDa);p(h.yDa).sf(function(u){return function(){return u.$a.get(h.ADa);};});p(d.VDa).to(g.UDa).$();p(n.iZ).to(r.RDa).$();});},function(q,b,a){var l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B;function c(A){this.config=A;this.Ix=[];}function f(A,C,E){this.Pa=A;this.QN=C;this.context=E;this.startTime=this.Pa.Zb();}function k(A,C,E,F,D,G,I,J,H){this.w5a=C;this.json=E;this.Pa=F;this.Oq=D;this.iqa=G;this.vc=I;this.config=J;this.Pb=H;this.log=A.Cb("Pbo");J.r1a && (this.Ix=new c(J));this.QN=this.w5a();}Object.defineProperty(b,"__esModule",{value:!0});b.pDa=void 0;q=a(1);l=a(0);d=a(5);g=a(480);h=a(8);m=a(36);n=a(20);r=a(38);p=a(136);u=a(46);t=a(481);w=a(70);v=a(93);x=a(18);y=a(48);z=a(1085);B={"shakti-":"akira","UI-":"chromecast"};k.prototype.send=function(A,C){var E;E=new f(this.Pa,this.QN,A);this.Ix && this.Ix.append(E);return this.Mra(A,C,E);};k.prototype.Mra=function(A,C,E){var F;F=this;return new Promise(function(D,G){F.retry(A,C).then(function(I){var J,H;F.zRb(I);J=aa(F.EXb(I));H=J.next().value;J=J.next().value;H && (F.Zob(E),D(I));J && (F.nOa(E,J),G(J));}).catch(function(I){var J;J=F.nOa(E,I);I.sb && (I.sb=[I.sb," ",J].join(""));G(I);});});};k.prototype.zRb=function(A){(A=A.serverTime) && this.Pb.tc(x.F$.M2a,d.uc(A));};k.prototype.EXb=function(A){var C;!1;C=A.result;if(("deviceCommand" in A)){A=A.deviceCommand;this.log.trace("Received device command '" + A + "'");switch(A){case "reset":C="RESET_DEVICE";break;case "reload":C="RELOAD_DEVICE";break;case "exit":C="EXIT_DEVICE";break;default:(C="FAIL",this.log.error("Unhandled device command '" + A + "'"));}return [,{tC:!0,code:C,detail:{message:"Server sent device action to '" + A + "' device"}}];}if(C)return (!1,[C,void 0]);if(A.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",A),[,{code:A.code,detail:{message:A.message}}]);this.log.error("Response did not contain a result or an error",A);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.YLb=function(A){var C;if(A){try{C=this.json.parse(A);}catch(E){throw {tC:!0,code:"FAIL",message:"Unable to parse the response body",data:A};}if(C.error)throw C.error;if(C.result)return C;throw {tC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {tC:!0,code:"FAIL",message:"There is no body property on the response"};};k.prototype.Olb=function(A,C,E){var F;F=this;this.PWb(C,A);this.QN=this.w5a(E);return this.QN.send(C,E).then(function(D){return {retry:!1,result:F.YLb(D.body)};}).catch(function(D){var G,I;G=z.Baa.kAb(D);I=void 0 !== G?Math.min(G,C.lra):C.lra;return F.E7(C,D,A,I)?(G=F.Bnb(D,A,I),F.log.warn("Method failed, retrying",Object.assign({Method:C.Vk,Attempt:A + 1,WaitTime:G,MaxRetries:I},F.lha(D))),Promise.resolve({retry:!0,delay:G,error:D})):Promise.resolve({retry:!1,error:D});});};k.prototype.ayb=function(A){var C,E;if(!this.fea || this.fea.xLb !== A){C="";E=A;Object.entries(B).find(function(F){var D;D=aa(F);F=D.next().value;D=D.next().value;if(0 === A.indexOf(F))return (C=D,A=A.slice(F.length),!0);});this.fea={iOa:C,Ez:A,xLb:E};}return this.fea;};k.prototype.PWb=function(A,C){var E,F,D,G;G=A.url.searchParams;G.set(y.qu.Adb,(C + 1).toString());G.set(y.qu.ah,A.Vqa.toString());G.set(y.qu.Bdb,A.Uqa);A=this.ayb(null !== (E=this.config.Ez) && void 0 !== E?E:"");A.iOa && (G.set(y.qu.Z8a,A.iOa),A.Ez && G.set(y.qu.meb,encodeURIComponent(A.Ez)),E=this.Oq.Ud,(null === E || void 0 === E?0:E.name) && G.set(y.qu.u8a,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && G.set(y.qu.z8a,encodeURIComponent(E.version)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.name) && G.set(y.qu.icb,encodeURIComponent(E.os.name)),(null === (D=null === E || void 0 === E?void 0:E.os) || void 0 === D?0:D.version) && G.set(y.qu.jcb,encodeURIComponent(E.os.version)));};k.prototype.retry=function(A,C,E){var F;F=this;E=void 0 === E?0:E;return this.Olb(E++,A,C).then(function(D){if(D.retry)return F.wait(D.delay).then(function(){return F.retry(A,C,E);});if(D.error)throw D.error;if(void 0 === D.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return D.result;});};k.prototype.E7=function(A,C,E,F){var D;D=this.Oq.i2a || z.Baa.eFb(C);if(D && E < F)return !0;D?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:A.Vk,Attempt:E + 1,MaxRetries:F},this.lha(C))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:A.Vk},this.lha(C)));return !1;};k.prototype.Bnb=function(A,C,E){return A && A.EC && void 0 !== A.EC.retryAfterSeconds?d.Wg(A.EC.retryAfterSeconds):d.uc(this.iqa.W0a(1E3 * (0 === C?1:C),1E3 * Math.pow(2,Math.min(C,E))));};k.prototype.wait=function(A){var C;C=this;return new Promise(function(E){C.vc.Oj(A || d.hb,E);});};k.prototype.lha=function(A){return t.tWa(A)?A:{message:A.message,subCode:A.jc,extCode:A.wd,mslCode:A.Av,data:A.data};};k.prototype.Zob=function(A){A.HN();};k.prototype.nOa=function(A,C){var E;A.Cs(C);if(this.Ix)try{E=this.json.stringify(this.Ix);this.log.error("PBO command history",E);return E;}catch(F){}return "";};a=k;a=q.__decorate([l.R(),q.__param(0,l.l(h.Kb)),q.__param(1,l.l(g.qHa)),q.__param(2,l.l(m.mD)),q.__param(3,l.l(n.zd)),q.__param(4,l.l(r.gm)),q.__param(5,l.l(p.sZ)),q.__param(6,l.l(u.lj)),q.__param(7,l.l(w.ku)),q.__param(8,l.l(v.m$))],a);b.pDa=a;f.prototype.HN=function(){this.X=!0;this.elapsedTime=this.Pa.Zb().Ba(this.startTime);};f.prototype.Cs=function(A){this.X=!1;this.elapsedTime=this.Pa.Zb().Ba(this.startTime);this.jUb=A.jc || A.subCode;this.kwb=A.wd || A.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var A;A=Object.assign({success:this.X,method:this.context.Vk,startTime:this.startTime.ea(d.ma),elapsedTime:this.elapsedTime?this.elapsedTime.ea(d.ma):"in progress"},this.QN.Dga());return this.X?A:Object.assign(Object.assign(Object.assign({},A),this.QN.Dga()),{subcode:this.jUb,extcode:this.kwb});};c.prototype.append=function(A){this.Ix.push(A);0 < this.config.kla && this.Ix.length > this.config.kla && this.Ix.shift();};c.prototype.toJSON=function(){return this.Ix;};},function(q,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Baa=void 0;f=a(3);c.eFb=function(k){var l,d;l=k && k.code;d=k && (k.oa || k.jc);k=k.wd !== f.JY.fDa;d=! !d && d >= f.M.dP && d <= f.M.bP && k;return !("RETRY" !== l && "FAIL" !== l) || d;};c.kAb=function(k){var l,d;d=null === (l=null === k || void 0 === k?void 0:k.EC) || void 0 === l?void 0:l.maxRetries;return "number" === typeof d?d:"FAIL" === (null === k || void 0 === k?void 0:k.code)?1:void 0;};b.Baa=c;},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r){m=k.ff.call(this,m,"PboConfigImpl") || this;m.config=n;m.ilb=r;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;q=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(15);a=a(121);ka(c,k.ff);Xa.Object.defineProperties(c.prototype,{Ez:{configurable:!0,enumerable:!0,get:function(){return this.config().Mq.Ez || "";}},w8:{configurable:!0,enumerable:!0,get:function(){return this.config().Mq.w8 || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Mq.Rpa;}},cma:{configurable:!0,enumerable:!0,get:function(){return !1;}},gIb:{configurable:!0,enumerable:!0,get:function(){return !0;}},iIb:{configurable:!0,enumerable:!0,get:function(){return !0;}},N2a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",version:"^1.0.0"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.ilb.VMa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.O2a);}},O2a:{configurable:!0,enumerable:!0,get:function(){return {};}},r1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},kla:{configurable:!0,enumerable:!0,get:function(){return 10;}},ELa:{configurable:!0,enumerable:!0,get:function(){return !1;}},l1:{configurable:!0,enumerable:!0,get:function(){return !1;}},RQa:{configurable:!0,enumerable:!0,get:function(){return !1;}},gXb:{configurable:!0,enumerable:!0,get:function(){return !1;}},u6a:{configurable:!0,enumerable:!0,get:function(){return !1;}},QQa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});h=c;q.__decorate([d.config(d.string,"uiVersion")],h.prototype,"Ez",null);q.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"w8",null);q.__decorate([d.config(d.Fz,"pboVersion")],h.prototype,"version",null);q.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);q.__decorate([d.config(d.U7,"pboLanguages")],h.prototype,"languages",null);q.__decorate([d.config(d.ud,"hasLimitedPlaybackFunctionality")],h.prototype,"cma",null);q.__decorate([d.config(d.ud,"mdxBindUsingNodeQuark")],h.prototype,"gIb",null);q.__decorate([d.config(d.ud,"mdxPairUsingNodeQuark")],h.prototype,"iIb",null);q.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"N2a",null);q.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"O2a",null);q.__decorate([d.config(d.ud,"pboRecordHistory")],h.prototype,"r1a",null);q.__decorate([d.config(d.Fz,"pboHistorySize")],h.prototype,"kla",null);q.__decorate([d.config(d.ud,"pboAddXEsnHeader")],h.prototype,"ELa",null);q.__decorate([d.config(d.ud,"combineManifestAndLicense")],h.prototype,"l1",null);q.__decorate([d.config(d.ud,"enableLicensedManifestForPrefetch")],h.prototype,"RQa",null);q.__decorate([d.config(d.ud,"useLdlForPrefetchLicensedManifest")],h.prototype,"gXb",null);q.__decorate([d.config(d.ud,"pboUseStudioManifest")],h.prototype,"u6a",null);q.__decorate([d.config(d.ud,"pboEnableLeanManifest")],h.prototype,"QQa",null);h=q.__decorate([f.R(),q.__param(0,f.l(l.km)),q.__param(1,f.l(g.dd)),q.__param(2,f.l(a.FH))],h);b.oDa=h;},function(q,b,a){var k,l;function c(d,g,h,m,n,r,p){this.version=d;this.url=g;this.id=h;this.languages=m;this.Fb=n;this.Qub=r;this.qJb=p;}function f(d){this.ki=d;}Object.defineProperty(b,"__esModule",{value:!0});b.UDa=void 0;q=a(1);k=a(0);a=a(70);f.prototype.create=function(d,g,h,m,n){return new c(this.ki.version,g,d,this.ki.languages,h,m,n);};l=f;l=q.__decorate([k.R(),q.__param(0,k.l(a.ku))],l);b.UDa=l;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Fb,echo:this.Qub};};},function(q,b,a){var f,k,l;function c(d,g){this.qB=g;this.log=d.Cb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.zDa=void 0;q=a(1);f=a(0);k=a(8);a=a(85);c.prototype.qea=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.rT=function(d){!1;return this.links[d];};c.prototype.skb=function(d){var g;g="playbackContextId=" + d.playbackContextId + "&esn=" + this.qB().gi;d="drmContextId=" + d.drmContextId;this.qea({events:{rel:"events",href:"/events?" + g},license:{rel:"license",href:"/license?licenseType=standard&" + g + "&" + d},ldl:{rel:"ldl",href:"/license?licenseType=limited&" + g + "&" + d}});};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(a.rw))],l);b.zDa=l;},function(q,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;q=a(1);a=a(0);c.prototype.$Rb=function(f){this.listener=f;};c.prototype.KM=function(f){var k;null === (k=this.listener) || void 0 === k?void 0:k.call(this,f);};a=q.__decorate([a.R()],c);b.RDa=a;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q,N,da,na;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;q=a(0);c=a(368);f=a(483);k=a(1091);l=a(485);d=a(1092);g=a(333);h=a(330);m=a(1093);n=a(1128);r=a(15);p=a(20);u=a(91);t=a(26);w=a(8);v=a(1129);x=a(486);y=a(1130);z=a(5);B=a(1131);A=a(1132);C=a(506);E=a(1133);F=a(93);D=a(487);G=a(1134);I=a(107);J=a(28);H=a(139);M=a(85);O=a(261);L=a(516);P=a(1135);R=a(69);K=a(38);Q=a(488);N=a(1136);da=a(272);na=a(25);b.j=new q.ad(function(va){va(L.Uaa).to(P.rEa).$();va(da.s9).sf(function(ra){var X;X=ra.$a;return function(ta,za){return new (a(1137).Tua)(ta,za,X.get(u.Yt));};});va(c.tHa).sf(function(ra){var X;X=ra.$a;return function(ta,za,V,T,ja,Ia,wa,Sa,Ua){return new (a(1140).uHa)(X.get(B.zHa),ta,za,V,T,ja,Ia,wa,Sa,Ua);};});va(B.zHa).to(A.yHa).$();va(f.xHa).to(k.wHa).$();va(h.mEa).to(m.lEa).$();va(Q.FFa).to(N.EFa);va(Q.DFa).g5a(Q.FFa);va(g.oxa).sf(function(ra){var X;X=ra.$a;return function(ta){return new (a(1141).pxa)(X.get(F.nxa),X.get(u.Yt),X.get(p.zd),ta);};});va(l.uva).sf(function(){return function(ra){return new d.vva(ra);};});va(v.gEa).sf(function(ra){var X;X=ra.$a;return function(ta){return new n.hEa(ta,X.get(w.Kb),X.get(r.dd),X.get(t.Gf),X.get(u.Yt));};});va(x.tEa).sf(function(ra){var X;X=ra.$a;return function(ta,za,V,T,ja,Ia,wa,Sa,Ua){return new y.uEa(ta,za,V,T,ja,Ia,wa,Sa,Ua,X.get(v.gEa),X.get(L.Uaa));};});va(C.ZFa).sf(function(ra){return function(X){var ta,za;ta=ra.$a.get(r.dd);za=ra.$a.get(w.Kb);return new E.$Fa(ta,X,za);};});va(D.oEa).sf(function(ra){return function(X){var ta,za,V,T,ja;ta=ra.$a.get(M.rw);za=ra.$a.get(I.yI);V=ra.$a.get(J.Hf);T=ra.$a.get(H.MP);ja=ra.$a.get(na.qw);return new G.pEa(X,ta,za(z.Wg(1)),V,T,ja);};});va(O.gaa).RC(function(ra){return new (a(1142).iCa)(ra.$a.get(R.oP),ra.$a.get(K.gm));}).$();});},function(q,b,a){var f,k,l,d,g,h;function c(m,n){this.Lf=m;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;q=a(1);f=a(18);k=a(484);l=a(20);d=a(0);g=a(5);a=a(15);c.prototype.BK=function(m){var n;m.cX={};if(!m.WB() && m.Dz && 0 < m.Dz.length && (m.Cz=this.qTa(m),m.Cz)){n=this.CSb(m);n() || (m.ac.addListener(n),m.Xf.addListener(n));}};c.prototype.CSb=function(m){var r;function n(){var p,u;if(!m.Xf.value || m.ac.value === f.Bb.Jg)return !1;p=m.Cz;u=p.getState();return u === k.Eo.LOADING?!1:u !== k.Eo.nD && p.retry?(p=r.OBb(m))?(m.cX.offset=r.Lf.Zb().ea(g.ma),m.Cz=p,p.download(),!0):!1:(m.ac.removeListener(n),m.Xf.removeListener(n),!1);}r=this;return n;};c.prototype.OBb=function(m){var n,r;n=this.config();r=m.ao.ET() < n.QVb;n=(m.Xf.value?m.Xf.value.bitrate:0) > n.PVb;return this.kBb(m,r && n);};c.prototype.kBb=function(m,n){if(n && (n=this.qTa(m),this.kUa(m,n.size)))return (m.cX.W1a="h",n);n=this.iAb(m);if(this.kUa(m,n.size))return (m.cX.W1a="l",n);};c.prototype.kUa=function(m,n){var r,p;r=this.config();p=Math.min(m.sR(),m.nX());return m.umb.qnb(n) * (1 + .01 * r.Okb[2]) < p * r.TVb;};c.prototype.qTa=function(m){return m.Dz[m.Dz.length - 1];};c.prototype.iAb=function(m){return m.Dz[0];};h=c;h=q.__decorate([d.R(),q.__param(0,d.l(l.zd)),q.__param(1,d.l(a.dd))],h);b.wHa=h;},function(q,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.vva=void 0;a.prototype.c6a=function(){var c;c=this.j.Ma;if(null !== c && void 0 !== c && c.zA){c=c.Jb.get();if(null === c || void 0 === c?0:c.Vi)this.j.Vi=c.Vi.Ea;if(null === c || void 0 === c?0:c.Oa)this.j.Oa=c.Oa.Ea;}};a.prototype.Is=function(){-1 === this.j.Oa && this.c6a();return this.j.Oa;};a.prototype.qnb=function(c){-1 !== this.j.Vi && -1 !== this.j.Oa || this.c6a();return -1 === this.j.Vi || -1 === this.j.Oa?Number.MAX_VALUE:this.j.Vi + 8 * c / this.j.Oa;};b.vva=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H;function c(M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za,V,T,ja,Ia,wa,Sa,Ua,$a,Za,mb){this.HF=M;this.PJ=O;this.Pa=L;this.wa=P;this.wmb=R;this.Xsa=K;this.sna=Q;this.tna=N;this.V4=da;this.pd=na;this.Xm=va;this.kl=ra;this.ME=X;this.zpa=ta;this.el=za;this.qta=V;this.Ql=T;this.Vl=ja;this.te=Ia;this.wpa=wa;this.$Pb=Sa;this.Pea=Ua;this.aG=$a;this.d1=Za;this.NJ=mb;}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;q=a(1);f=a(92);k=a(0);l=a(107);d=a(32);g=a(20);h=a(40);m=a(485);n=a(355);r=a(369);p=a(452);u=a(116);t=a(137);w=a(154);v=a(94);x=a(351);y=a(486);z=a(1094);B=a(483);A=a(58);C=a(28);E=a(487);F=a(69);D=a(488);G=a(272);I=a(261);J=a(118);c.prototype.create=function(M,O,L,P,R,K,Q){return new (a(489).nEa)(M,O,K,Q,P,R,this.HF,L,this.Pa,this.PJ,this.wa,this.sna,this.wmb,this.Xsa,this.tna,this.V4,this.pd,this.Xm,this.kl,this.ME,this.zpa,this.el,this.qta,this.Ql,this.te,this.wpa,this.Vl,this.$Pb(),this.Pea,this.aG,void 0,this.d1);};H=c;H=q.__decorate([k.R(),q.__param(0,k.l(f.cA)),q.__param(1,k.l(d.Zg)),q.__param(2,k.l(g.zd)),q.__param(3,k.l(h.wi)),q.__param(4,k.l(m.uva)),q.__param(5,k.l(l.yI)),q.__param(6,k.l(n.wBa)),q.__param(7,k.l(r.BBa)),q.__param(8,k.l(p.SAa)),q.__param(9,k.l(u.SD)),q.__param(10,k.l(t.DP)),q.__param(11,k.l(w.sI)),q.__param(12,k.l(x.Dva)),q.__param(13,k.l(y.tEa)),q.__param(14,k.l(J.sD)),q.__param(15,k.l(B.xHa)),q.__param(16,k.l(A.iq)),q.__param(17,k.l(F.oP)),q.__param(18,k.l(C.Hf)),q.__param(19,k.l(E.oEa)),q.__param(20,k.l(D.DFa)),q.__param(21,k.l(G.s9)),q.__param(22,k.l(I.gaa)),q.__param(23,k.l(z.mwa)),q.__param(23,k.optional()),q.__param(24,k.l(v.iO)),q.__param(24,k.optional())],H);b.lEa=H;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.mwa=b.nwa=void 0;q=b.nwa || (b.nwa={});q[q.pcb=0]="PAUSE";q[q.ydb=1]="RESUME";q[q.pZb=2]="CAPTIONS_ON";q[q.oZb=3]="CAPTIONS_OFF";q[q.qZb=4]="CAPTION_LANGUAGE_CHANGED";q[q.FYb=5]="AUDIO_LANGUAGE_CHANGED";q[q.O0b=6]="NEXT_EP";q[q.G1b=7]="PREV_EP";q[q.Iw=8]="SEEK";q[q.RFa=9]="STOP";b.mwa="CastInteractionTrackerSymbol";},function(q,b,a){var g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L;function c(){this.l8=[];this.zVb=50;}function f(P){var R;R=this;this.j=P;this.Q6a=Promise.resolve();this.e$=pb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.MA=[];this.Sr=new r.Wj();this.FIa=this.Sba=0;this.b_=[];this.cg=t.Ih(this.j,"MediaElementASE");this.CKa=B.kj;this.oca=!1;this.Xb=new c();this.An={};this.hJa={};this.V2=this.hQ(function(){var K;if(R.la)return null !== (K=R.la.webkitDecodedFrameCount) && void 0 !== K?K:0;});this.yB=this.hQ(function(){var K;if(R.la){K=R.v_();return K?K.totalVideoFrames:R.la.webkitDecodedFrameCount;}});this.uF=this.hQ(function(){var K;if(R.la){K=R.v_();return K?K.droppedVideoFrames:R.la.webkitDroppedFrameCount;}});this.lT=this.hQ(function(){var K;if(R.la){K=R.v_();return K && K.corruptedVideoFrames;}});this.Z2=this.hQ(function(){var K;if(R.la){K=R.v_();return K && C.yi(K.totalFrameDelay * B.Ik);}});this.DJa=function(K){return R.Sr.tc(D.jj.nXa,{da:K});};this.Mi=t.ha.get(F.wAa).create(n.config.Cr,this,this.j);n.config.$B && (this.Q6a=new Promise(function(K){R.CKa=K;R.j.addEventListener(J.W.dg,K);}));this.cg.trace("Created Media Element");this.addEventListener=this.Sr.addListener;this.removeEventListener=this.Sr.removeListener;}function k(P){var R,K;R=t.ha.get(G.YHa).eBb();P=P.width / P.height * R.height;K=(R.width - P) / 2;return n.config.vSb?B.createElement("VIDEO","position:absolute;width:" + P + "px;height:" + R.height + "px;left:" + K + "px;top:0px"):B.createElement("VIDEO","position:absolute;width:100%;height:100%");}function l(P){P.preventDefault();return !1;}function d(P,R,K){var Q,N,da;Q=P.target;Q=Q && Q.error;N=P.errorCode;da=Q && Q.code;B.Hc(da) || (da=N && N.code);N=Q && Q.msExtendedCode;B.Hc(N) || (N=Q && Q.systemCode);B.Hc(N) || (N=P.systemCode);P=B.Qb({},{code:da,systemCode:N,trace:JSON.stringify(K)},{Vy:!0});R={oa:R(da),sb:A.nna(P)};try{Q && Q.message && (R.DU=Q.message);}catch(na){}N=B.pe(N);E.xa(N) && (R.Ve=t.lfa(N,4));return R;}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;g=a(53);h=a(278);m=a(12);n=a(13);r=a(72);p=a(63);u=a(47);t=a(7);w=a(3);v=a(21);x=a(86);y=a(314);z=a(24);B=a(29);A=a(279);C=a(11);E=a(17);F=a(495);D=a(280);G=a(471);I=a(5);J=a(18);H=a(165);M=a(65);O=! !(C.BD && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);L=O && C.jI;f.prototype.mT=function(P){try{this.la && (this.FIa=this.la.currentTime);}catch(R){this.cg.error("Exception while getting VIDEO.currentTime",R);P && this.WI(w.L.Vcb,R);}return C.yi(this.FIa * B.Ik);};f.prototype.seek=function(P){var R;v.gb(!this.No);this.wKa();R=this.mT(!0);if(!n.config.dlb && C.tD(R - P) <= this.Cra)(this.cg.trace("Seek delta too small",{currentTime:R,seekTime:P,min:this.Cra}),this.Xb.trace("smallseek",P));else {this.Xb.trace("seek",P);try{this.cg.trace("Setting video elements currentTime",{From:x.Vh(R),To:x.Vh(P)});this.No={};this.la.currentTime=P / B.Ik;this.Sr.tc(D.jj.Iq);}catch(K){this.cg.error("Exception while setting VIDEO.currentTime",K);this.WI(w.L.Wcb,K);}}};f.prototype.lUa=function(){return ! !this.No;};f.prototype.addSourceBuffer=function(P){var R,K;R=B.pe(this.Sba.toString() + this.MA.length.toString());R={zW:this.Sba,S0:R};try{K=new h.caa(this.j,P,this.xf,R,this.cg);this.MA.push(K);P == m.hI && K.Ria && K.Ria.addListener(this.CKa);return K;}catch(Q){K=B.vd(Q);this.cg.error("Unable to add source buffer.",{error:K});this.j.Ld(w.L.waa,{oa:P === g.ic.Hk.Tb?B.M.jBa:B.M.kBa,sb:K});}};f.prototype.w0=function(P){var R;R=this;P.forEach(function(K){return R.addSourceBuffer(K);});this.Sr.tc(D.jj.P3a);return !0;};f.prototype.removeSourceBuffer=function(P){this.MA=this.MA.filter(function(R){return !u.uOa(P,R);});this.xf.removeSourceBuffer(P);};f.prototype.endOfStream=function(){this.Xb.trace("endofstream");!1;n.config.Lfa && this.xf.endOfStream();};f.prototype.gp=function(P){!1;this.MA=[];P && P.M6b();return !0;};f.prototype.GRb=function(P){this.Sba=P;};f.prototype.ITa=function(){if(this.xf)return I.u0a(this.xf.duration);};f.prototype.Utb=function(){var P;if(!this.oca && this.la && this.la.readyState >= M.gq.bza.HAVE_CURRENT_DATA){P=this.la.webkitDecodedFrameCount;if(void 0 === P || 0 < P || n.config.iYb)this.oca=!0;}return this.oca;};f.prototype.open=function(){var P,R,K;P=this;this.la=k(this.j.Lz);this.sourceBuffers=this.MA;this.j.addEventListener(J.W.A3a,function(Q){return P.dib(Q);});if(O){if(this.j.XB){if(!L){this.VI(w.L.YCa);return;}if(C.jI && C.jI.isTypeSupported && this.Mi.Xe)try{if(!C.jI.isTypeSupported(this.Mi.Xe,"video/mp4")){this.Ejb(function(Q){P.VI(w.L.xP,Q);});return;}}catch(Q){this.WI(w.L.xP,Q);return;}n.config.m6a || this.Mi.e6();}try{this.xf=new C.BD();}catch(Q){this.WI(w.L.Lcb,Q);return;}try{this.Qk=URL.createObjectURL(this.xf);}catch(Q){this.WI(w.L.Mcb,Q);return;}try{this.Mi.tkb(this.DJa);this.xf.addEventListener("sourceopen",function(Q){return P.dKa(Q);});this.xf.addEventListener(this.e$ + "sourceopen",function(Q){return P.dKa(Q);});this.la.addEventListener("error",this.An.error=function(Q){return P.EQ(Q);});this.la.addEventListener("seeking",this.An.seeking=function(){return P.cib();});this.la.addEventListener("seeked",this.An.seeked=function(){return P.bib();});this.la.addEventListener("timeupdate",this.An.timeupdate=function(){return P.fib();});this.la.addEventListener("loadstart",this.An.loadstart=function(){return P.pda();});this.la.addEventListener("volumechange",this.An.volumechange=function(Q){return P.gib(Q);});this.la.addEventListener(this.Mi.oC,this.An[this.Mi.oC]=function(){P.cg.trace(P.Mi.oC);P.$hb();});R=this.j.mg;K=R.lastChild;K?R.insertBefore(this.la,K):R.appendChild(this.la);n.config.cQa && this.la.addEventListener("contextmenu",l);this.la.src=this.Qk;p.lf.addListener(p.mL,this.hJa[p.mL]=function(){return P.bKa();});this.bKa();}catch(Q){this.WI(w.L.Ncb,Q);}}else this.VI(w.L.$Ca);};f.prototype.close=function(){var R;function P(){R.Qk && (R.wKa(),p.lf.removeListener(p.mL,R.hJa[p.mL]),R.ufb());}R=this;this.Xb.trace("close");this.la.removeEventListener(this.Mi.oC,this.An[this.Mi.oC]);this.la.removeEventListener("error",this.An.error);this.la.removeEventListener("seeking",this.An.seeking);this.la.removeEventListener("seeked",this.An.seeked);this.la.removeEventListener("timeupdate",this.An.timeupdate);this.la.removeEventListener("loadstart",this.An.loadstart);this.la.removeEventListener("volumechange",this.An.volumechange);this.Mi.EPb(this.DJa);n.config.Cr?this.Mi.jz().then(function(){return P();}):P();this.Mi.I1a && clearTimeout(this.Mi.I1a);};f.prototype.py=function(){return this.Xb.py();};f.prototype.$hb=function(){n.config.m6a && this.Mi.e6();};f.prototype.v_=function(){if(this.la)return this.la.getVideoPlaybackQuality && this.la.getVideoPlaybackQuality() || this.la.videoPlaybackQuality || this.la.playbackQuality;};f.prototype.mjb=function(){var P;P=this.j.Zk;return (P=P && P.errorCode) && 0 <= [w.L.eZ,w.L.KY].indexOf(P);};f.prototype.ufb=function(){var P;P=!1;n.config.PNb && this.mjb() && (P=!0);n.config.Rob && !P && (this.la.removeAttribute("src"),this.la.load && this.la.load());URL.revokeObjectURL(this.Qk);n.config.cQa && this.la.removeEventListener("contextmenu",l);!P && this.la && this.j.mg.removeChild(this.la);this.la=this.xf=void 0;this.Qk="";};f.prototype.bKa=function(){!0 === C.De.hidden?this.b_.forEach(function(P){P.refresh();P.xTb();}):this.b_.forEach(function(P){P.refresh();P.OTb();});};f.prototype.hQ=function(P){var R;R=t.ha.get(y.ICa)(P);this.b_.push(R);return function(){R.refresh();return R.Vyb();};};f.prototype.WI=function(P,R){var K,Q;K={oa:B.M.fj,sb:B.vd(R)};try{(Q=R.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == Q.length && (K.Ve=Q);}catch(N){}this.j.Ld(P,K);};f.prototype.wKa=function(){this.b_.forEach(function(P){P.refresh();});};f.prototype.ogb=function(){return this.la && this.la.msGraphicsTrustStatus;};f.prototype.VI=function(P,R){this.j.Ld(P,R,void 0);};f.prototype.Ejb=function(P){var K,Q,N;function R(da){R=B.kj;Q.Vp();P(da);}K=this;Q=t.ha.get(H.QP)(500,function(){R();});Q.tB();try{N=this.j.Xf.value.header.u6b.children.filter(function(da){return "pssh" == da.type && da.n4b == m.Exa;})[0];new C.jI(this.Mi.Xe).createSession("video/mp4",N.raw,null).addEventListener(this.e$ + "keyerror",function(da){R(d(da,w.g$,K.py()));});}catch(da){R();}};f.prototype.dib=function(P){var R,Q,N,da,na,va,ra;if(this.la){P=P.pX;R=this.ogb();R && (P.ConstrictionActive=R.constrictionActive,P.Status=R.status);try{P.readyState="" + this.la.readyState;P.currentTime="" + this.la.currentTime;P.pbRate="" + this.la.playbackRate;}catch(X){}R=this.MA.length;for(var K;R--;){K=this.MA[R];Q="";K.type == m.PY?Q="audio":K.type == m.hI && (Q="video");B.Qb(P,K.S2(),{prefix:Q});n.config.ovb && this.j.Zk && m.hI == K.type && (Q=B.sN(K.$K()),3E3 > (Q.data && Q.data.length) && (Q.data=z.UOa(Q.data).join(),B.Qb(P,Q,{prefix:K.type})));}this.xf && (R=this.xf.duration) && !isNaN(R) && (P.duration=R.toFixed(4));if(n.config.$Gb)try{N=this.j.we;da=N && N.tb;if(da){na=da.expiration;isNaN(na) || (P.exp=na);va=da.keyStatuses.entries();if(va.next){ra=va.next().value;ra && (P.keyStatus=ra[1]);}}}catch(X){}}};f.prototype.dKa=function(P){!1;this.ojb || (this.ojb=!0,this.Sr.tc(D.jj.Q3a,P));};f.prototype.cib=function(){this.Xb.trace("seeking");this.cg.trace("Video element event: seeking");this.No?this.No.pKb=!0:(this.cg.error("unexpected seeking event"),n.config.ywb && this.VI(w.L.adb,{sb:{Trace:this.py()}}));};f.prototype.bib=function(){this.Xb.trace("seeked");this.cg.trace("Video element event: seeked");this.No?(v.gb(this.No.pKb),this.No.oKb=!0,this.XKa()):(this.cg.error("unexpected seeked event"),n.config.xwb && this.VI(w.L.$cb,{sb:{Trace:this.py()}}));};f.prototype.fib=function(){var P;this.Xb.trace("timeupdate",null === (P=this.la) || void 0 === P?void 0:P.currentTime);!1;this.No && (this.No.rKb=!0,this.XKa());this.Sr.tc(D.jj.Iq);};f.prototype.pda=function(){this.cg.trace("Video element event: loadstart");};f.prototype.gib=function(P){this.cg.trace("Video element event:",P.type);try{this.j.volume.set(this.la.volume);this.j.muted.set(this.la.muted);}catch(R){this.cg.error("error updating volume",R);}};f.prototype.EQ=function(P){this.VI(w.L.Ucb,d(P,w.pya,this.py()));};f.prototype.XKa=function(){this.No && this.No.oKb && this.No.rKb && (this.Xb.trace("seekcomplete"),this.No=void 0,this.Sr.tc(D.jj.iW));};Xa.Object.defineProperties(f.prototype,{Cra:{configurable:!0,enumerable:!0,get:function(){return n.config.pTb;}}});b.PBa=f;c.prototype.trace=function(P,R){this.l8.push([P,R]);this.l8.length > this.zVb && this.l8.shift();};c.prototype.py=function(){return this.l8;};},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t;function c(w){var v;v=this;this.j=w;this.Osa=this.iZa=0;this.dg=this.Gp=!1;this.h7=0;this.Az=function(){var x,y;v.d7();v.dF && (v.log.info("Deactivating",v.dF),v.yz.Nsb(v.xe()));v.j.Rk.set(null);v.jH.c3a(void 0);v.fOa();x=v.j.Nc.value;x && x.AL() && !x.s4() && (x=null);if(x && v.j.ac.value !== u.Bb.Jg){y=v.xe();v.yz.ckb(y,x);}x?(v.log.info("Activating",x),v.j.bm.set(x.getState() === f.MD.lA.nD?u.$e.$d:u.$e.Sc),v.Gp || v.j.Od("tt_start"),x.W3().then(v.JJ).catch(v.JJ)):v.j.bm.set(u.$e.$d);v.dF=x;v.xH();};this.sync=function(){v.Gp && (v.jH.start(),v.j.ac.value !== u.Bb.yc && v.jH.stop());};this.xH=function(){var x;v.j.state.value === u.Gb.$d && v.j.ac.value !== u.Bb.Jg && (v.Xg?x=v.jH.cyb():v.j.Nc.value && (x=c.JTb[v.j.Nc.value.getState()]));x && p.Hc(x.startTime) && v.j.Qt.value !== x && (v.iZa++,v.Osa+=v.jH.JTa() - x.startTime,v.QMa=Math.ceil(v.Osa / (v.iZa + 0)));v.j.Qt.set(x);};this.xe=function(){var x;x=v.j.dka();v.dF && v.dF.Os && (x+=v.dF.Os);return x;};this.fLb=function(x){v.fireEvent(c.cTb,x);x && x.id && (v.yz.e6a(x.id),!1);v.log.trace("showsubtitle",v.uUa(x));};this.bLb=function(x){v.fireEvent(c.NPb,x);v.log.trace("removesubtitle",v.uUa(x));};this.Ij=function(){v.log.warn("imagesubs buffer underflow",v.j.Nc.value.Kh);v.j.bm.set(u.$e.Sc);};this.AKb=function(){v.log.info("imagesubs buffering complete",v.j.Nc.value.Kh);v.j.bm.set(u.$e.$d);};this.Z5=function(){v.Gp && v.Xg && v.Xg.Br(v.xe());};this.c_a=function(x){v.Gp && v.Xg && (v.Xg.pause(),v.Xg.rz(x.Aj));};this.qC=function(){v.Gp && v.Xg && v.Xg.eqa();};this.ZZa=function(x){v.Xg && v.Xg.Ak(x.Fh,x.UU);};this.g_a=function(x){v.Xg && v.Xg.ti(x.va,x.TWb);};this.UKb=function(){v.Gp=!0;r.fg(function(){var x,y;(null === (x=v.dF) || void 0 === x?0:x.Rn)?null === (y=v.Xg) || void 0 === y?void 0:y.Br(v.xe()):v.sync();v.xH();});};this.RKb=function(){v.fOa();v.jH.stop();v.xH();v.dg=!0;v.d7();};this.Yoa=function(x){(x=x.newValue) && p.isArray(x.blocks) && (v.yz.e6a.apply(v.yz,ca(x.blocks.map(function(y){return y.id;}))),!1);};this.YKb=function(x){v.MWb(x.newValue,x.oldValue);v.sync();v.xH();};this.JJ=function(x){var y;if(!v.dg){y=x.track;if(y === v.j.Nc.value)try{v.Xg=y.Lsa;y.Rn?v.akb(x):v.bkb(x);}catch(z){v.log.error("Error activating track:",z,y);return;}v.Gp || v.j.Od(x.X?"tt_comp":"tt_err");x.X?(d.config.r2a?setTimeout(function(){v.j.bm.set(u.$e.$d);},d.config.r2a):v.j.bm.set(u.$e.$d),y.Rn || v.xH()):x.aborted?v.log.warn("aborted timed text track loading"):d.config.wwb?v.j.Ld(n.L.Lab,{sb:x.track?x.track.Kh:{}}):(v.log.error("ignore subtitle initialization error",x),v.j.bm.set(u.$e.$d));}};this.Pb=new l.Wj();this.yz=new m.NGa(h.Ih(w,"SubtitleTracker"),d.config.Avb);this.log=h.Ih(w,"TimedTextManager");this.jH=new k.iHa(this.xe,this.xH);this.j.Nc.addListener(this.Az);d.config.iNb?(this.j.addEventListener(u.W.Gp,this.UKb),this.Az()):(this.j.bm.set(u.$e.$d),this.j.addEventListener(u.W.Gp,function(){v.Gp=!0;v.Az();}));this.j.ac.addListener(this.YKb);this.j.addEventListener(u.W.Ysa,this.sync);this.j.Qt.addListener(this.Yoa);this.j.addEventListener(u.W.dg,this.RKb);}Object.defineProperty(b,"__esModule",{value:!0});b.gHa=void 0;f=a(217);k=a(496);l=a(72);d=a(13);g=a(47);h=a(7);m=a(1097);n=a(3);r=a(61);p=a(17);u=a(18);t=a(1098);c.prototype.addEventListener=function(w,v,x){this.Pb.addListener(w,v,x);};c.prototype.removeEventListener=function(w,v){this.Pb.removeListener(w,v);};c.prototype.fireEvent=function(w,v,x){this.Pb.tc(w,v,x);};c.prototype.mea=function(w,v,x){var y;y=t.eHa.Crb(this.j,w,v,x);this.j.cm.push(y);this.j.Yo.forEach(function(z){g.Nua(z.cm,y);});this.j.Nc.set(y);this.j.fireEvent(u.W.kH);};c.prototype.pNb=function(w){this.$qa(w)?w.W3().then(function(){}):Promise.resolve();};c.prototype.DBb=function(w){return this.yz.lBb(w);};c.prototype.yka=function(w){return this.yz.yka(w);};c.prototype.r3=function(){var w,v;w=this.j.TW;v=d.config.cta.characterSize;v={size:d.config.h8.characterSize || v};w && (v.visibility=w.Dka(),v.GR=w.Bka(),v.Zq=w.Cka());return v;};c.prototype.rSb=function(w){d.config.h8.characterSize=w;w=this.j.Nc.value;this.$qa(w) && !w.Rn && w.W3().then(this.JJ).catch(this.JJ);};c.prototype.MWb=function(w,v){var x;w === u.Bb.yc || w == u.Bb.Wh?v !== u.Bb.yc && v !== u.Bb.Wh && ((v=this.j.Nc.value) && !this.$qa(v) || this.yz.nZa(this.xe(),v || void 0,"presentingstate:" + w)):w !== u.Bb.Jg && w !== u.Bb.au || this.yz.dia(null !== (x=this.xe()) && void 0 !== x?x:void 0,"presentingstate:" + w);};c.prototype.d7=function(){this.h7=0;clearTimeout(this.EQb);};c.prototype.fOa=function(){var w;this.Xg && this.Xg.stop();(null === (w=this.dF) || void 0 === w?0:w.Rn) && this.TXa("removeListener");this.Xg=void 0;};c.prototype.TXa=function(w){this.Xg && (this.Xg[w]("showsubtitle",this.fLb),this.Xg[w]("removesubtitle",this.bLb),this.Xg[w]("underflow",this.Ij),this.Xg[w]("bufferingComplete",this.AKb),"addListener" === w?(this.j.addEventListener(u.W.Iq,this.Z5),this.j.addEventListener(u.W.Zl,this.c_a),this.j.addEventListener(u.W.NG,this.qC),this.j.addEventListener(u.W.O5,this.ZZa),this.j.addEventListener(u.W.Kta,this.g_a)):(this.j.removeEventListener(u.W.Iq,this.Z5),this.j.removeEventListener(u.W.Zl,this.c_a),this.j.removeEventListener(u.W.NG,this.qC),this.j.removeEventListener(u.W.O5,this.ZZa),this.j.removeEventListener(u.W.Kta,this.g_a)));};c.prototype.uUa=function(w){return {currentPts:this.xe(),displayTime:w.displayTime,duration:w.duration,id:w.id,originX:w.originX,originY:w.originY,sizeX:w.sizeX,sizeY:w.sizeY,rootContainerExtentX:w.rootContainerExtentX,rootContainerExtentY:w.rootContainerExtentY};};c.prototype.akb=function(w){var v,x;v=this;x=w.track;if(!x || !x.Rn)throw Error("Not an image base subtitle");w.X?(this.d7(),this.TXa("addListener"),this.log.info("Activated",x),this.j.Rk.set(x),this.Gp?r.fg(function(){v.Xg.Br(v.xe());}):this.Xg.pause()):this.h2a(x,w);};c.prototype.bkb=function(w){var v,x;v=w.track;x=w.X;if(!v || v.Rn)throw Error("Not a valid text track");x?(this.d7(),this.jH.c3a(this.Xg),this.log.info("Activated",v),this.j.Rk.set(v)):this.h2a(v,n.Lr(w));this.xH();};c.prototype.h2a=function(w,v){var x,y;x=this;y=this.h7 < d.config.ZHb;y && (this.EQb=setTimeout(function(){x.h7++;w.W3().then(x.JJ).catch(x.JJ);},d.config.fVb));this.log.error("Failed to activate" + ((null === w || void 0 === w?0:w.Rn)?" img subtitle":""),{retry:y},v,w);};c.prototype.$qa=function(w){return !(!w || w.AL() && !w.s4());};b.gHa=c;q={};c.JTb=(q[f.MD.lA.LOADING]={E5b:!0},q[f.MD.lA.iP]={Cs:!0},q);c.cTb="showsubtitle";c.NPb="removesubtitle";},function(q,b,a){var k;function c(l,d,g){this.start=l;this.track=d;this.eH=Array.isArray(g)?g:[];}function f(l,d){this.log=l;this.Kz=d;this.kqa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;k=a(21);f.prototype.ckb=function(l,d){this.nZa(l,d,"activating");};f.prototype.Nsb=function(l){this.dia(l,"de-activating");};f.prototype.nZa=function(l,d,g){var h;this.hk && this.dia(l,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ca(this.orphans)),this.orphans=[]);this.hk=new c(l,d,h);this.Kz && this.log.trace("new range: " + g,this.hk);};f.prototype.dia=function(l,d){this.hk && (this.hk.end=l,this.kqa.push(this.hk),this.Kz && this.log.trace("end range: " + d,this.hk || ({})),this.hk=void 0);};f.prototype.e6a=function(l){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.hk?this.hk.eH.push.apply(this.hk.eH,ca(d)):this.orphans.push.apply(this.orphans,ca(d));};f.prototype.yka=function(l){var d,g;d=this.kqa.slice(0);if(this.hk && "undefined" !== typeof l){g=new c(this.hk.start,this.hk.track,this.hk.eH);g.end=l;d.push(g);}l=d.reduce(function(h,m){var n,r,p,u;if(!m.track)return h;r=m.track.Dd;p=m.track.Rq(m.start,m.end);if(void 0 === p || null === p)return h;u=new Set(m.eH);h[r]?(m=h[r],m.expected+=p,m.missed+=p - u.size):h[r]={dlid:r,bcp47:m.track.wm,profile:m.track.profile,expected:p,missed:p - u.size,startPts:null !== (n=m.track.yBb()) && void 0 !== n?n:0};return h;},{});l=Object.values(l);this.Kz && this.log.trace("subtitleqoe:",JSON.stringify(l,null,"\t"));return l;};f.prototype.lBb=function(l){var d,g,h,m;d=this.kqa.slice(0);g=0;h=0;if(this.hk && "undefined" != typeof l){m=new c(this.hk.start,this.hk.track,this.hk.eH);m.end=l;d.push(m);}d.forEach(function(n){var r,p;if(n.track){if(n.end < n.start){k.gb(!1,"negative range");n.FC=0;return;}r=new Set(n.eH);p=n.track.Rq(n.start,n.end);n.p2=p;n.FC=void 0 === p || null === p?0:0 === p?100:100 * r.size / p;}else n.FC=100;r=n.end - n.start;g+=r;h+=n.FC * r;});m=g?Math.round(h / g):100;this.log.trace("qoe score " + m + ", at pts: " + l);this.Kz && (l=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.FC),lang:n.track?n.track.wm:"none","actual  ":n.eH.join(" "),expected:n.p2};}),this.log.trace("score for each range: ",JSON.stringify(l,function(n,r){return r;}," ")));return m;};b.NGa=f;},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u,t,w,v){var x,y;p=g.MD.call(this,u,p,p,"1",{0:t},[{id:0,name:"custom"}],"xx",w || p,h.rq.oI,void 0,void 0,"primary",null !== (x=null === v || void 0 === v?void 0:v.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (y=null === v || void 0 === v?void 0:v.midx) && void 0 !== y?y:{},!1,!1,null === v || void 0 === v?void 0:v.isLanguageLeftToRight) || this;p.j=u;p.url=t;p.options=v;p.St=null === v || void 0 === v?void 0:v.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;q=a(62);f=a(13);k=a(63);l=a(7);d=a(29);g=a(217);h=a(142);m=a(71);n=a(129);r=a(18);q.Taa(q.Paa,function(p){var t;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.du.feb){v=d.createElement("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var x,y,z;x=v.files[0];if(x){y=x.name;t.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return p.Yp.mea("nourl",y,{content:z.result});});}});v.click();}}t=l.Ih(p,"TimedTextCustomTrack");f.config.cha && (t.info("Loading url",{Url:f.config.cha}),p.Yp.mea(f.config.cha,"custom"));k.lf.addListener(k.FB,u);p.addEventListener(r.W.dg,function(){k.lf.removeListener(k.FB,u);});});ka(c,g.MD);c.Crb=function(p,u,t,w){var v;v="custom" + c.cEb++;return new c(v,p,u,t,w);};c.prototype.tQa=function(){var p;p=this;return new Promise(function(u,t){var w,v;if(null === (w=p.options) || void 0 === w?0:w.content)u(p.options.content);else if(p.url){v={responseType:m.lla,url:p.url,track:p,Pc:null,hF:"tt-" + p.wm};p.j.P3.download(v,function(x){x.X?u(x.content):(x.reason="downloadfailed",x.url=v.url,x.track=p,t(x));});}});};b.eHa=c;c.cEb=0;},function(q,b,a){var f,k,l,d,g,h;function c(m){var n,r;n=this;this.j=m;this.FKb=function(){var p;l.lf.removeListener(l.y3,n.e_a);p=n.Uq.qp();p && p.parentNode && p.parentNode.removeChild(p);};this.Yoa=function(p){n.Uq.RRb(p.newValue);};this.iLb=function(p){n.Uq.YRb(p.newValue?p.newValue.v4:void 0);};this.e_a=function(){n.Uq.TM();};this.Uq=new g.fHa(d.config.bta,m.Nc.value?m.Nc.value.v4:void 0);r=m.Lz;k.gb(.1 < r.width / r.height);this.Uq.HRb(r.width / r.height);m.mg.appendChild(this.Uq.qp());m.Qt.addListener(this.Yoa);m.Nc.addListener(this.iLb);m.addEventListener(h.W.dg,this.FKb,f.ED);l.lf.addListener(l.y3,this.e_a);}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;f=a(12);k=a(21);l=a(63);d=a(13);g=a(501);h=a(18);c.prototype.esa=function(m){this.Uq.esa(m);};c.prototype.Dka=function(){return this.Uq.Dka();};c.prototype.csa=function(m){this.Uq.csa(m);};c.prototype.Bka=function(){return this.Uq.Bka();};c.prototype.dsa=function(m){this.Uq.dsa(m);};c.prototype.Cka=function(){return this.Uq.Cka();};b.hHa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.N0a=void 0;b.N0a=function(a){var c,f;c=!1;f=!1;return function(){if(c)f=!0;else for(f=!0;f;){f=!1;c=!0;a();c=!1;}};};},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u;function c(t){this.j=t;this.CUb=!1;this.log=d.Ih(this.j,"MediaAppendManager");this.Ib=this.j.Ib;this.la=this.Ib.la;this.sX=this.wR=!1;this.audio={type:l.Uh.audio,oB:[],fl:[],wM:!1};this.video={type:l.Uh.video,oB:[],fl:[],wM:!1};t={};this.oH=(t[f.ic.Hk.Hb]=this.video,t[f.ic.Hk.Tb]=this.audio,t);this.closed=!1;this.My=k.config.My;this.u5=k.config.u5;this.oG=k.EOa(! !this.j.kb.Ol).oG;this.RMa=!0;h.gb(this.My > this.u5,"bad config");h.gb(this.My > this.oG,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;f=a(53);k=a(13);l=a(81);d=a(7);g=a(3);h=a(21);m=a(29);n=a(18);r=a(171);p=a(5);u=a(65);c.prototype.R2=function(){var v,x;function t(y,z){return w(y,z.l5);}function w(y,z){var B,A,C,E;C=! !z.response;E=z.response;if(z.Lc)return y + (E.byteLength || 0);z=(null !== (B=null === z || void 0 === z?void 0:z.VJ) && void 0 !== B?B:0) - (null !== (A=null === z || void 0 === z?void 0:z.WJ) && void 0 !== A?A:0);return (C?E.byteLength:z) + y;}v=this.oH[f.ic.Hk.Hb];x=this.oH[f.ic.Hk.Tb];return {videoToAppend:v.fl.reduce(w,0),videoInBuffer:v.oB.reduce(t,0),audioToAppend:x.fl.reduce(w,0),audioInBuffer:x.oB.reduce(t,0)};};c.prototype.fKb=function(){this.audio.Rj && !this.audio.Rj.hi() && (!1,this.audio.Rj.dMa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.lSb=function(){this.audio.hsa=!0;this.video.hsa=!0;};c.prototype.qSb=function(t){t === f.ic.Hk.Tb?this.wR=!0:t === f.ic.Hk.Hb && (this.sX=!0);};c.prototype.hi=function(){var t,w;return !(null === (t=this.audio.Rj) || void 0 === t || !t.hi()) || !(null === (w=this.video.Rj) || void 0 === w || !w.hi());};c.prototype.A7=function(t){var w,v;null === (w=this.audio.Rj) || void 0 === w?void 0:w.A7(t);null === (v=this.video.Rj) || void 0 === v?void 0:v.A7(t);};c.prototype.mlb=function(t){var w;t.mediaType === f.ic.Hk.Tb?this.wR=!1:t.mediaType === f.ic.Hk.Hb && (this.sX=!1);w=this.oH[t.mediaType];w?w.fl.push(t):h.gb(!1);};c.prototype.klb=function(t,w,v){w={mediaType:t.type,TB:!1,response:w,Jh:function(){return "header";},get Lc() {return !this.TB;},profile:v.profile};(t=this.oH[t.type])?t.fl.push(w):h.gb(!1);};c.prototype.oSb=function(t){var w;w=this.oH[t.type];if(w)try{w.Rj=t;}catch(v){this.Ld(g.L.waa,{oa:r.Y2(t.type),sb:m.vd(v)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Ld=function(t,w,v){this.closed || this.j.Ld(t,w,v);};c.prototype.nha=function(t){return this.nQa(this.audio,t,this.H1()) && this.nQa(this.video,t,this.H1());};c.prototype.H1=function(){return this.j.ac.value === n.Bb.Jg?this.oG:this.u5;};c.prototype.nVb=function(){var t,w;t=this.video.fl.filter(function(v){return !v.Lc;}).reduce(function(v,x){return v + x.Zx;},0);w=this.audio.fl.filter(function(v){return !v.Lc;}).reduce(function(v,x){return v + x.Zx;},0);return Math.min(t,w);};c.prototype.nQa=function(t,w,v){var x;x=t.oha;x=x && x.l5;return !t.Rj || 0 === t.fl.length && (t.type === l.Uh.audio && this.wR || t.type === l.Uh.video && this.sX)?!0:x && x.Mv - w >= v || !1;};c.prototype.tta=function(t){var w,v;this.CUb || (this.z5a(this.audio,t),this.z5a(this.video,t));!(this.closed || !(0 === this.audio.fl.length && this.wR || 0 === this.video.fl.length && this.sX) || (null === (w=this.audio.Rj) || void 0 === w?0:w.hi()) || (null === (v=this.video.Rj) || void 0 === v?0:v.hi()) || this.cia) && this.la.readyState > u.gq.bza.HAVE_NOTHING && (this.cia=!0,this.Ib.endOfStream());};c.prototype.z5a=function(t,w){var v,x,y;if(!this.closed && t.Rj){v=t.Rj;x=t.oB;!v.hi() && 0 < x.length && (t.oha=x[x.length - 1]);if(t.hsa){if(v.hi())return;t.hsa=!1;y=this.Ib.ITa().t0a(p.nn);0 < y && v.remove(0,y);}for(y=t.fl[0];y && y.response && (y.Lc || y.ez - w <= this.My);){if((this.cia=!1,this.aWb(y)))(t.fl.shift(),y=t.fl[0]);else break;}!v.hi() && 0 < x.length && (t.oha=x[x.length - 1]);}};c.prototype.aWb=function(t){var w,v,x;!1;h.gb(t && ! !t.response);w=t.response;v=t.mediaType;x=this.oH[v];if(!this.closed && x.Rj && !x.Rj.hi()){try{t.Lc && t.profile && x.Rj.dob(t.profile);this.log.trace("Feeding media segment to decoder",{Bytes:w.byteLength});x.Rj.dMa(w,t);t.Lc || x.oB.push(this.Erb(t));k.config.eub && !t.Lc && t.$Na();}catch(y){"QuotaExceededError" === y.name?(this.j.J1=this.j.J1?this.j.J1 + 1:1,this.RMa=!1,x.wM=!0):(this.log.error("Exception while appending media",t,y),this.Ld("CodecSwitchingError" === y.name?g.L.aDa:g.L.Xcb,r.Y2(v)));return;}return !0;}};c.prototype.wrb=function(t){var w;w=this.j.zCb(t.Rc);w || (this.log.warn("Could not find CDN",{cdnId:t.Rc}),w={id:t.Rc,Sma:t.location});return w;};c.prototype.nPa=function(t){var w,v;v=t.La;t.mediaType === f.ic.Hk.Tb?w=this.j.SUa(v):t.mediaType === f.ic.Hk.Hb && (w=this.j.aVa(v));w || this.log.error("Could not find stream",{stream:v});return w;};c.prototype.Erb=function(t){var w;w=this.nPa(t);return {l5:t,stream:w,Fq:{startTime:Math.floor(t.ez),endTime:Math.floor(t.Mv)},Pc:this.wrb(t)};};c.prototype.Vfa=function(t){this.VNa(t,f.ic.Hk.Tb);this.VNa(t,f.ic.Hk.Hb);};c.prototype.VNa=function(t,w){var v,x,y,z,B,A,C,E,F;v=this;x=t;this.RMa && (x-=k.config.$M);y=this.oH[w];z=y.oB;C=!1;z.some(function(D,G){var I;I=D.l5;if(t < I.ez)return (h.gb(!1,"decoder content does not contain media time"),!0);x >= I.Mv && (B=G);if(t < I.Mv)return (A=G,G=w === f.ic.Hk.Tb?v.j.Ug:v.j.Sf,D !== G.value && (G.set(D),C=!0),!0);});if((y.wM || C) && void 0 !== B && !this.cia){if(B + 1 === A){if(0 === B)return;B--;}E=z[B].l5.Mv - 1;if(0 < E){F=y.Rj;F && !F.hi()?(F.remove(0,E / m.Ik),y.wM=!1,z.splice(0,B + 1)):(y.wM=!0,!1);}}};c.prototype.Z1a=function(){!1;[this.audio,this.video].forEach(function(t){t.oB=[];t.oha=void 0;t.fl=[];});this.sX=this.wR=!1;this.j.fireEvent(n.W.i5);};c.prototype.Ika=function(){return [this.audio,this.video].filter(function(t){return t.Rj;});};c.prototype.Dyb=function(){var t,w;if(this.hi())h.gb(!1,"should not be busy while checking buffer ranges");else {t=this.Ika().map(function(v){var x,y,z,B,A;B=v.fl.filter(function(C){return C.TB;});A=v.Rj.buffered();v=A.length?Math.ceil(1E3 * A.start(0)):void 0;A=A.length?Math.floor(1E3 * A.end(A.length - 1)):void 0;v=null !== v && void 0 !== v?v:null === (x=B[0]) || void 0 === x?void 0:x.ez;x=null !== (z=null === (y=B[B.length - 1]) || void 0 === y?void 0:y.Mv) && void 0 !== z?z:A;if(void 0 !== v && void 0 !== x)return {start:v,end:x};});if(t.every(function(v){return v;})){w=Math.max.apply(Math,ca(t.map(function(v){return v.start;})));t=Math.min.apply(Math,ca(t.map(function(v){return v.end;})));if(t > w)return {start:p.uc(w),end:p.uc(t)};}}};c.prototype.skip=function(t){h.gb(!this.hi(),"should not be busy while skipping");this.Ika().forEach(function(w){w.wM=!0;});this.Vfa(t);this.Ika().forEach(function(w){0 < w.oB.length || (w.fl=w.fl.filter(function(v){return v.Lc || v.Mv > t?!0:!1;}));});};b.GBa=c;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});q=a(281);c=a(157);b.b$a=c;c=a(507);b.Aba=c;c=a(511);b.Xlb=c;b.zZ=q.Cp.Sa.sidx;q=a(1120);b.Nr=q.Nr;q=a(289);b.lq=q.lq;q=a(1124);b.mq=q.mq;b.Ky=q.Ky;q=a(1125);b.bI=q.bI;q=a(87);b.qn=q.qn;a=a(1126);b.hm=a.hm;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.ec();this.Sb=1 === this.version?this.oi([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.oi([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};k.Lb="mvhd";k.Ka=!1;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Lb="trak";k.Ka=!0;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.ec();l=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];l=l.concat({offset:64,type:"offset"},{gGb:"int16"},{glb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Sb=this.oi(l);this.Sb.BVb=! !(this.flags & 1);this.Sb.CVb=! !(this.flags & 2);this.Sb.DVb=! !(this.flags & 4);this.Sb.EVb=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};k.Lb="tkhd";k.Ka=!1;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.ec();this.Sb=this.oi(1 === this.version?[{I2:"int64"}]:[{I2:"int32"}]);return !0;};k.Lb="mehd";k.Ka=!1;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Sb=this.oi([{dDb:"int32"},{KXb:"int32"}]);return !0;};k.Lb="pasp";k.Ka=!1;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Sb=this.oi([{Xmb:"int32"},{maxBitrate:"int32"},{ffa:"int32"}]);return !0;};k.Lb="btrt";k.Ka=!1;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.ll();this.u.ll();for(this.VE=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.VE.push(this.u.ll());}return !0;};k.Lb="ftyp";k.Ka=!1;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(87);q=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ec();this.Sb=this.oi([{jNb:"int32"},{IT:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Sb.IT=f.qn(this.Sb.IT);return !0;};l.Lb="hdlr";l.Ka=!1;return l;})(a(33).kc);b.default=q;},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(101);k=a(282);l=a(189);q=a(33);d=a(102);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.ec();this.Ml=this.u.ta();return !0;};h.prototype.Ds=function(m){var n;n=Object.keys(this.Sa);n.length && (n=n[0],this.Sa[n].length && (n=this.Sa[n][0],n instanceof l.default?this.pa=new k.S(n.hy,n.samplerate):n instanceof d.default && (n=n.Sa[f.yD]) && n.length && (n=n[0].Sb,1E3 !== n.Tx && 1001 !== n.Tx || 0 !== n.lG % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.lG + "/" + n.Tx):this.pa=new k.S(n.Tx,n.lG)),this.pa && (m.pa=this.pa)));return !0;};h.prototype.WV=function(m){void 0 !== this.Sa[m] && 0 !== this.Sa[m].length && (this.ia.Gg(this.Ml - 1,this.byteOffset + 12),m=this.Sa[m][0],this.re(m.byteLength,m.byteOffset));};h.Lb="stsd";h.Ka=!0;return h;})(q.kc);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.kja=this.u.dc(2);this.rfa=this.u.dc(5);this.sfa=this.u.dc(3);this.gea=this.u.dc(3);this.u.dc(1);this.u.dc(5);this.u.dc(5);return !0;};k.Lb="dac3";return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d;this.Doa=this.u.Dc() & 7;this.Msa=[];for(var l=0;l < this.Doa;l++){d={kja:this.u.dc(2),rfa:this.u.dc(5),sfa:this.u.dc(5),gea:this.u.dc(3),iGb:this.u.dc(1),Coa:this.u.dc(4)};0 < d.Coa?d.bob=this.u.dc(9):this.u.dc(1);this.Msa.push(d);}return !0;};k.Lb="dec3";return k;})(a(33).kc);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);q=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ec();this.gW=this.u.ll();f.ka && this.u.console.trace("SchemeTypeBoxTranslator: " + this.gW);"cenc" === this.gW && (this.u.offset-=4,f.ka && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.ia.AX("piff"));this.u.ta();return !0;};l.Lb="schm";l.Ka=!1;return l;})(f.kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.u.cb();this.l9=this.u.cb();this.u.cb();this.u.cb();this.u.cb();this.AW=this.nE(this.u.cb() & 31);this.nE(this.u.cb());this.cz=this.AW.length?this.AW[0][0]:this.l9;this.KQ=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.cz || 110 === this.cz || 122 === this.cz || 144 === this.cz) && (this.u.cb(),this.u.cb(),this.nE(this.u.cb()));l=this.startOffset + this.length - this.KQ;0 < l && this.re(l,this.KQ);return !0;};k.prototype.nE=function(l){var h;for(var d=[],g=0;g < l;++g){h=this.u.Dc();d.push(this.u.gz(h));}return d;};k.Lb="avcC";k.Ka=!1;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.Ds=function(){var l;l=this.$k("esds");if(l=l && l.d$.$k(5))this.hy=l.hy;return !0;};k.Lb="mp4a";k.Ka=!0;return k;})(a(189).default);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(284);q=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ec();this.d$=f.GO.MV(this.u);return !0;};l.Lb="esds";l.Ka=!1;return l;})(a(33).kc);b.default=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=a(101);a=a(33);f=q.yD;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ec();this.Sb=this.oi([{lG:"int32"},{Tx:"int16"}]);return !0;};l.Lb=f;l.Ka=!1;return l;})(a.kc);b.default=a;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l,d,g,h,m;this.ec();l=this.oi([{qH:"int32"},{nS:"int32"},{Qx:"int32"},{Sx:"int32"},{Rx:"int32"}]);d=l.qH;g=l.nS;h=l.Qx;m=l.Rx;l=l.Sx;this.Sb={trackId:d,ntb:g,Px:h,otb:m,ptb:l};this.qH=d;this.nS=g;this.Qx=h;this.Sx=l;this.Rx=m;return !0;};k.Lb="trex";k.Ka=!1;return k;})(a(33).kc);b.default=q;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(1121);k=a(288);l=a(156);d=a(282);g=a(33);q=a(509);h=a(510);m=a(512);n=a(157);r=a(281);p=a(101);u=a(513);a=(function(){function t(w,v,x,y,z,B){this.console=w;this.stream=v;this.rh=y;this.vea=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.YUa=n.Eja();}t.path=function(w,v){return v.reduce(function(x,y){return x && x.Sa[y] && x.Sa[y][0];},w);};t.Vja=function(w){return w && w.VE && -1 !== w.VE.indexOf("mcl0")?"mcl0":void 0;};t.Iia=function(w,v){var x,y;l.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.fd;v=new d.S(120,1).Vf(x.U).Wb;y=0;for(x=x.Bk;y < w.length && x < v;){x+=w[y++];}return y;};t.prototype.parse=function(w){var v;v=this.tra();if(!v.done){if(v.RU)return {Wm:!1,FLa:v.RU};this.console.error("Scan error: " + v.error);return {Wm:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.cpa(w);return w.done?this.Ega():(this.console.error("Parse error: " + w.error),{Wm:!1,parseError:w.error || "unknown mp4 parse error"});};t.prototype.Em=function(w){return g.kc.Em(this,w);};t.prototype.$k=function(w){return g.kc.$k(this,w);};t.prototype.tra=function(){var w,v;w=new u.y$(this.rh,this.vea?[p.Dw,p.Cw]:[],this.config && this.config.SUb || ["moof",p.qP],this.config && this.config.pV);v=c.__assign(c.__assign({},this.config),{pG:!1});return new m.bD(t.LG,w,this.view,this.console,v).parse();};t.prototype.cpa=function(w){var v,x,y;v=new u.CO(this.view.byteLength);x=Object.create(r.Cp.Sa);this.config && ((this.config.n6 || this.config.q8 || this.config.IC) && f(r.Cp.JG,x),this.config.r8 && f(r.Cp.ota,x),this.config.q8 && f(r.Cp.aX,x));y=c.__assign(c.__assign({},this.config),{pG:!0});this.$b=new m.bD(x,v,this.view,this.console,y);w=this.$b.parse(w);w.done && (this.Sa=this.$b.Sa);return w;};t.prototype.Ega=function(){var w,v,x,y,z,B;w={Wm:!0};v=t.path(this,["moov"]);x=t.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.n6)if(x)(w.pa=x.pa,w.PQb=x.Sa);else return {Wm:!1,parseError:"Missing sample descriptions"};y=t.path(x,["encv","sinf","schi"]);y && (y=t.path(y,["tenc"]) || t.path(y,[p.vP])) && (w.$Qa={Dpb:y.Li,PF:y.PF,GFb:!1});if(y=t.path(v,["trak","mdia","mdhd"]))w.U=y.U;if(y=t.path(v,["mvex","trex"]))w.Px=y && y.Sb.Px;w.Px && w.U && (w.pa=new d.S(w.Px,w.U));if(y=t.path(this,["sidx"])){z=t.path(this,[p.Dw]);z=z && z.Hna;B=t.path(this,[p.Cw]);B=B && B.Eh;w.Y=y.Y;w.eG=z;w.Eh=B;}if(z=this.Sa.vmaf && this.Sa.vmaf[0])w.Er=z.Er;if(this.config.j2a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.IC && x && 1 < x.Ml && y && (w.zg=this.IC(x,y)),void 0 === w.zg && (v=this.$b.$x?k.concat(this.$b.na()):this.view.buffer,w.zg=[{kf:0,data:v}]));else return {Wm:!1,parseError:"Missing movie box"};w.Wm=!0;w.qV=this.$b.offset;return w;};t.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.$b.trim(w);this.view=new DataView(v);};t.prototype.IC=function(w,v){var x,y,z;x=Object.keys(w.Sa);y=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=t.path(this,["ftyp"]);z=t.Vja(x);if(z)return (x=[],this.$b.fqa(),w.WV("encv"),x.push({kf:0,kk:!1,data:k.concat(this.$b.na())}),this.$b.Kpa(),w.WV(y[0]),w=t.Iia(z,v),x.push({kf:w,kk:!0,data:k.concat(this.$b.na())}),x);}};t.LG={};return t;})();b.Nr=a;a.LG[p.zD]=q.default;a.LG[p.AD]=h.default;},function(q){q.exports=function f(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(l){k=Object.getOwnPropertyDescriptor(a,l);void 0 !== k && Object.defineProperty(c,l,k);});};},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(156);k=a(288);l=a(87);q=a(1123);d=(function(){function g(h){h?(this.qf=h.qf.slice(),this.Hg=h.Hg.slice(),this.Gd=h.Gd.slice(),this.trim=h.trim):(this.qf=[],this.Hg=[],this.Gd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.qf.length && 0 === this.Hg.length && 0 === this.Gd.length;},enumerable:!0,configurable:!0}});return g;})();q=(function(g){function h(m,n,r){m=g.call(this,m,n,r) || this;m.DS=[];m.ab=new d();return m;}c.__extends(h,g);h.Nea=function(m,n){if(n.offset + n.size <= m.byteLength)switch(n.size){case 1:m.setUint8(n.offset,n.value);break;case 2:n.Nt?m.setInt16(n.offset,n.value):m.setUint16(n.offset,n.value);break;case 4:n.Nt?m.setInt32(n.offset,n.value):m.setUint32(n.offset,n.value);break;case 8:f.assert(!n.Nt);m.setUint32(n.offset,Math.floor(n.value / 4294967296));m.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{$x:{get:function(){return !this.ab.empty;},enumerable:!0,configurable:!0}});h.prototype.Oz=function(m,n){this.ab.Hg.push({offset:void 0 !== n?n:this.offset,value:m,size:1});void 0 === n && (this.offset+=1);};h.prototype.mua=function(m,n){this.ab.Hg.push({offset:void 0 !== n?n:this.offset,value:m,size:2,Nt:!1});void 0 === n && (this.offset+=2);};h.prototype.Gg=function(m,n){this.ab.Hg.push({offset:void 0 !== n?n:this.offset,value:m,size:4,Nt:!1});void 0 === n && (this.offset+=4);};h.prototype.nua=function(m,n){this.ab.Hg.push({offset:void 0 !== n?n:this.offset,value:m,size:8,Nt:!1});void 0 === n && (this.offset+=8);};h.prototype.AX=function(m){this.Gg(l.fQ(m));};h.prototype.BH=function(m,n){this.ab.Gd.push({offset:this.offset,Sk:m,value:n});this.offset+=4;};h.prototype.re=function(m,n,r){this.ab.qf.push({offset:n,remove:m,$a:r});};h.prototype.Et=function(m,n,r,p){this.ab.qf.push({offset:r,remove:m,replace:n,$a:p});};h.prototype.trim=function(m){this.ab.trim=m;};h.prototype.fqa=function(){this.DS.push(new d(this.ab));};h.prototype.Kpa=function(){this.ab=this.DS.pop() || new d();};h.prototype.na=function(){var m,n,r,p,u,t,w;m=this;if(0 === this.ab.qf.length && 0 === this.ab.Hg.length && 0 === this.ab.Gd.length)return [void 0 === this.ab.trim?this.view.buffer:this.view.buffer.slice(0,this.ab.trim)];this.ab.qf.sort(function(v,x){return v.offset - x.offset;});this.ab.Hg.sort(function(v,x){return v.offset - x.offset;});this.fra();n=this.Fia();r=this.view.buffer.slice(0,n);p=new DataView(r);this.ab.Hg.forEach(h.Nea.bind(void 0,p));this.Jta(p);this.Hta(p);u=[];t=void 0 !== this.ab.trim?Math.min(this.ab.trim,this.view.byteLength):this.view.byteLength;w=0;this.ab.qf.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(p.buffer.slice(w,v.offset)),v.offset > p.byteLength && p !== m.view && (p=m.view,u.push(p.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(r.slice(w));w < t && u.push(this.view.buffer.slice(Math.max(r.byteLength,w),t));return u;};h.prototype.Fia=function(){var m,n,r;m=[];n=this.ab.Hg[this.ab.Hg.length - 1];r=this.ab.Gd[this.ab.Gd.length - 1];n && m.push(n.offset + n.size);r && m.push(r.offset + 4);this.ab.qf.filter(function(p){return p.$a;}).forEach(function(p){return m.push(p.$a.byteOffset + 4);});n=Math.max.apply(void 0,m);return void 0 !== this.ab.trim?Math.min(n,this.ab.trim):n;};h.prototype.fra=function(){this.ab.qf=this.ab.qf.reduce(function(m,n){var r,p;if(0 === m.length)return (m.push(n),m);r=m[m.length - 1];p=r.offset + r.remove;n.offset >= p?m.push(n):n.offset + n.remove > p && (f.assert(r.$a === n.$a),r.remove+=n.offset + n.remove - p,n.replace && (r.replace=r.replace?k.concat(r.replace,n.replace):n.replace));return m;},[]);};h.prototype.Jta=function(m){var n;n=this;this.ab.Gd.forEach(function(r){var p,u,t,w;p=m;u=r.offset;n.ab.qf.some(function(v){return v.offset <= r.offset && v.replace && v.offset + v.replace.byteLength >= r.offset + 4?(p=new DataView(v.replace),u=r.offset - v.offset,!0):!1;});t=r.Sk + (void 0 !== r.value?r.value:p.getInt32(u));w=n.ab.qf.reduce(function(v,x){return x.offset > r.Sk && x.offset < t?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);p.setInt32(u,t - r.Sk - w);});};h.prototype.Hta=function(m){this.ab.qf.forEach(function(n){var r;r=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== r)for(n=n.$a;n;){m.setUint32(n.byteOffset,m.getUint32(n.byteOffset) - r);n=n.parent;}});};return h;})(q.Hba);b.Gba=q;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(157);a(157);f=a(87);q=(function(){function k(l,d,g){this.view=l;this.console=d;this.config=g;this.view=l;this.console=d;this.Nm=this.zx=this.offset=0;}k.prototype.Cja=function(l){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,l);};k.prototype.dc=function(l){for(;this.Nm < l;){this.zx=(this.zx << 8) + this.cb();this.Nm+=8;}this.Nm-=l;return this.zx >>> this.Nm & (1 << l) - 1;};k.prototype.cb=function(){var l;l=this.view.getUint8(this.offset);this.offset+=1;return l;};k.prototype.Dc=function(l){l=this.view.getUint16(this.offset,l);this.offset+=2;return l;};k.prototype.ta=function(l){l=this.view.getUint32(this.offset,l);this.offset+=4;return l;};k.prototype.AG=function(){var l;l=this.view.getInt32(this.offset,void 0);this.offset+=4;return l;};k.prototype.kpa=function(l,d){var g;g=this.view.getUint32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + l;};k.prototype.Hd=function(l,d){l=this.kpa(l,d);this.offset+=8;return l;};k.prototype.lpa=function(l,d){var g;g=this.view.getInt32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + l;};k.prototype.sqa=function(){var l;l=this.lpa(void 0,void 0);this.offset+=8;return l;};k.prototype.ll=function(){return f.qn(this.ta());};k.prototype.iz=function(){var d,g,h,m,n,r;function l(p,u){return ("000000" + p.toString(16)).slice(2 * -u);}d=this.ta(!0);g=this.Dc(!0);h=this.Dc(!0);m=this.Dc();n=this.Dc();r=this.ta();return [l(d,4),l(g,2),l(h,2),l(m,2),l(n,2) + l(r,4)].join("-");};k.prototype.pqa=function(l){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + l);};k.prototype.nqa=function(l){var d;d=[];if(0 === l)return "";l=l || Number.MAX_SAFE_INTEGER;for(var g=this.cb();0 !== g && 0 <= --l;){d.push(g);g=this.cb();}return String.fromCharCode.apply(null,d);};k.prototype.gz=function(l){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.ph(this.config.Iz && c.Hka || c.wp,1,l,d,g);};k.prototype.lqa=function(l,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.ph(this.config.Iz && c.Fka || c.qy,2,l,d,g,h);};k.prototype.fz=function(l,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.ph(this.config.Iz && c.Gka || c.Js,4,l,d,g,h);};k.prototype.qqa=function(){for(var l=this.cb(),d=l & 127;l & 128;){l=this.cb();d=d << 7 | l & 127;}return d;};k.prototype.ph=function(l,d,g,h,m,n){void 0 === m && (m=!0);void 0 === n && (n=!1);l=l(this.view,this.offset,g,h,n);this.offset=m || !h || h === d?this.offset + g * (h || d):this.offset + d;return l;};return k;})();b.Hba=q;},function(q,b,a){var k,l,d,g;function c(h,m,n,r){l.call(this,h,m,n,r);}function f(h,m,n){l.call(this,h,m,n,void 0);}k=a(101);l=a(289).lq;d=a(511);g=a(87).fQ;c.prototype=Object.create(l.prototype);f.prototype=Object.create(c.prototype);f.prototype.Hca=function(h,m){return "string" === typeof m?d[m]:m?d.reset[h] || d.ssa[h]:d.ssa[h];};f.prototype.Jqa=function(h,m,n){return this.na(h,m,!1,n,void 0);};f.prototype.Mqa=function(h,m,n){return this.na(h,m,!0,n,void 0);};f.prototype.na=function(h,m,n,r,p){var t,w,v,x,y,z,B,A,C,E,F,D,G,I;function u(J){w=t[J];v=w.vh("traf");if(void 0 === v || void 0 === v.xj)return !1;B=v.vh("tfdt");if(void 0 === B)return !1;x=v.vh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;t=this.Sa.moof;if(!t || 0 === t.length)return !1;if(void 0 !== h){y=h;for(h=0;h < t.length;++h){if(!u(h,this.$b.console.trace))return !1;if(x.yb > y || n && x.yb === y)break;y-=x.yb;}}else if((h=n?t.length - 1:0,!u(h,this.$b.console.trace)))return !1;if(n && h < t.length - 1){z=t[h + 1];this.$b.re(this.Lsb - z.startOffset,z.startOffset);}else !n && 0 < h && this.$b.re(w.startOffset,0);z=v.vh("tfhd");if(void 0 === z)return !1;B=v.vh("tfdt");A=x.yb;C=v.vh("saiz");E=v.vh("saio");F=v.vh(k.uP);D=v.vh("sbgp");if(!(!C && !E || C && E))return !1;G=v.vh("sdtp");if(this.Sa.mdat && h < this.Sa.mdat.length)I=this.Sa.mdat[h];else if(h !== t.length - 1)return !1;void 0 === y && (y=n?x.yb:0);if(x.na(v,z,I || this.$b,m,y,v.xj,n))x.$x && (!n && B && B.na(x.qsa),C && E && (C.na(x.Tp,n),E.na(F?0:C.IG,v.xj,n)),F && F.na(x.Tp,n),G && G.na(x.Tp,A,n),D && D.na(x.Tp,n));else if(!n){if(h === t.length - 1)return !1;this.$b.re(t[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.Tp)return !1;r && (m=this.Hca(this.stream.profile,p)) && x.Oqa(v,z,I,n,r,m);n=this.$b.na();r=n.reduce(function(J,H){return J + H.byteLength;},0);n={gd:n,length:r,Vm:this.$b.view.byteLength};x.$x && !I && (n.Mp=v.xj + x.Mp,n.ri=x.ri);return n;};q.exports={mq:f,Ky:function(h){var m,n;m=new ArrayBuffer(8);n=new DataView(m);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return m;}};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);q=a(289);f=a(288);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.na=function(d){var g,h,m,n;g=this;if(!this.parse().done)return !1;h=this.Sa.moov;if(!h || 0 === h.length)return !1;m=h[0].$k("tenc");if(!m)return !1;n=new Uint8Array(m.Li);d.forEach(function(r){for(var p=r.from,u=!0,t=0;t < p.length;t++){if(n[t] !== p[t]){u=!1;break;}}u && g.$b.Et(r.from.length,r.to,m.PF);});return f.concat(this.$b.na());};return l;})(q.lq);b.bI=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});q=b.hm || (b.hm={});q[q.Tb=0]="AUDIO";q[q.Hb=1]="VIDEO";},function(q,b,a){var f,k;function c(l,d){l=f.Ec.call(this,l) || this;l.Cna=d;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;f=a(105);k=a(86);ka(c,f.Ec);c.prototype.set=function(l){f.Ec.prototype.set.call(this,k.yo(l,0,this.Cna));};b.sEa=c;},function(q,b,a){var k,l,d,g,h,m,n,r;function c(p,u,t,w,v){var x;x=this;this.mi=p;this.config=t;this.bb=w;this.debug=v;this.w6=[];this.cr=[];this.Bpa=[];this.LE={};this.oQa=!1;this.CR={};this.Ola=0;this.log=u.Cb("PlayTimeTracker");this.startTime=this.mi.mediaTime.value;this.U4=this.config().Xjb;this.yX();this.LE.abrdel=0;this.U4.forEach(function(y){y="abrdel" + y;x.CR[y]=0;x.LE[y]=0;});}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.hEa=void 0;q=a(1);k=a(0);l=a(8);d=a(15);g=a(89);a(5);h=a(26);m=a(91);n=a(12);r=a(24);f.prototype.encode=function(p){return {key:p.key,downloadableId:p.Dd,bitrate:p.bitrate,vmaf:p.zb,duration:p.duration,metric:p.FU,cdnId:p.e1};};f.prototype.decode=function(p){return {key:p.key,Dd:p.downloadableId,bitrate:p.bitrate,zb:p.vmaf,duration:p.duration,FU:p.metric,e1:p.cdnId};};c.prototype.ET=function(){var p;this.$G(this.mi.mediaTime.value);p=0;this.cr.forEach(function(u){p+=(u.endTime - u.startTime) / u.rate;});return Math.floor(p);};c.prototype.FUa=function(){var p;this.$G(this.mi.mediaTime.value);p=0;this.cr.forEach(function(u){p+=u.endTime - u.startTime;});this.debug.assert(p === Math.floor(p),"Value of totalContentPlayTime is not an integer.");return Math.floor(p);};c.prototype.nyb=function(){this.$G(this.mi.mediaTime.value);return {audio:this.oT(this.w6,this.VSa),video:this.oT(this.cr,this.VSa)};};c.prototype.OAb=function(){var p;p={total:this.ET(),totalContentTime:this.FUa(),audio:this.oT(this.w6,this.X2),video:this.oT(this.cr,this.X2),timedtext:this.oT(this.Bpa,this.X2)};this.debug.assert(!(!p.audio || !p.video));return p;};c.prototype.sSa=function(){var p,u;this.$G(this.mi.mediaTime.value);p=this.oja(this.cr,this.Byb);try{u=this.tSa(p);}catch(t){return (this.log.warn("Failed to calc average bitrate."),null);}this.LE.abrdel=Math.round(u);return this.LE.abrdel;};c.prototype.tyb=function(){var p,u;this.$G(this.mi.mediaTime.value);p=this.oja(this.cr,this.$Bb);try{u=this.tSa(p);}catch(t){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};c.prototype.syb=function(){var p,u;p=this;if(!this.oQa){u=this.ET();this.U4.forEach(function(t){var w,v,x;if(0 === p.CR["abrdel" + t] && u > t * n.Ik){w=0;v=0;x=0;p.cr.some(function(y){w+=y.stream.bitrate * (y.endTime - y.startTime);v+=y.endTime - y.startTime;x=y.stream.bitrate;if(v > t * n.Ik)return !0;});w && (p.CR["abrdel" + t]=Math.round((w - x * (v - t * n.Ik)) / (t * n.Ik)));}});0 !== this.CR["abrdel" + this.U4[this.U4.length - 1]] && (this.oQa=!0);r.de(this.CR,function(t,w){p.LE[t]=0 === w?p.LE.abrdel:w;});}return this.LE;};c.prototype.qkb=function(p){this.Ola+=p;};c.prototype.NCb=function(){return ! !(this.cr[0] && this.cr[0].stream && this.bb.eg(this.cr[0].stream.zb));};c.prototype.yX=function(){var p;p=this;this.mi.Ug.addListener(function(u){p.iK=p.NNa(p.iK,p.w6,u.newValue);});this.mi.Sf.addListener(function(u){p.lK=p.NNa(p.lK,p.cr,u.newValue);});this.mi.playbackRate.addListener(function(u){p.$G(p.mi.mediaTime.value,u.oldValue);});this.mi.Rk.addListener(this.wKb.bind(this));};c.prototype.XJb=function(p,u){this.$G(p);this.startTime=u;this.lK=this.iK=void 0;this.kK && (this.kK.startTime=this.startTime);!1;};c.prototype.wKb=function(p){this.HV(this.kK,this.Bpa,this.mi.mediaTime.value);this.kK=p.newValue?{track:p.newValue,startTime:this.mi.mediaTime.value,endTime:g.fA}:void 0;};c.prototype.$G=function(p,u){u=void 0 === u?this.mi.playbackRate.value:u;p && this.iK && this.lK && (p=Math.min(p,this.iK.endTime,this.lK.endTime),this.HV(this.iK,this.w6,p,u),this.iK.startTime=p,this.HV(this.lK,this.cr,p,u),this.lK.startTime=p,this.kK && (this.HV(this.kK,this.Bpa,p,u),this.kK.startTime=p),this.startTime=p,!1);};c.prototype.NNa=function(p,u,t){p && this.HV(p,u,Math.min(p.endTime,this.mi.mediaTime.value));if(t && t.stream)return (p=t.Fq,u=t.stream,{Pc:t.Pc,track:u.track,stream:u,startTime:Math.max(p.startTime,this.startTime),endTime:p.endTime});};c.prototype.HV=function(p,u,t,w){w=void 0 === w?this.mi.playbackRate.value:w;p && t && t >= p.startTime && (p={Pc:p.Pc,track:p.track,stream:p.stream,startTime:p.startTime,endTime:t,rate:w},(t=u[u.length - 1]) && t.track === p.track && t.stream === p.stream && t.Pc === p.Pc && t.endTime === p.startTime && t.rate === p.rate?t.endTime=p.endTime:u.push(p),!1);};c.prototype.oja=function(p,u){var t,w;t=this;w={};return p.reduce(function(v,x){var y,z,B;y=u.bind(t,x)();z=y.key;x=x.endTime - x.startTime;B=w[z];B?B.duration+=x:(delete y.key,B=y,B.duration=x,v.push(B),w[z]=B);return v;},[]);};c.prototype.oT=function(p,u){return this.oja(p,u).map(function(t){return new f().encode(t);});};c.prototype.X2=function(p){var u,t,w;u=p.stream;if(u){p=u.Dd;t=u.bitrate;w=u.zb;}else p=p.track.Dd;return {key:p + "$" + (t || 0),Dd:p,bitrate:t,zb:w};};c.prototype.VSa=function(p){var u;u=this.X2(p);p=p.Pc.id;return Object.assign({},u,{key:u.key + "$" + p,e1:p});};c.prototype.Byb=function(p){p=(p=p.stream)?p.bitrate:0;return {key:p,FU:p};};c.prototype.$Bb=function(p){p=(p=p.stream)?p.zb:0;return {key:p,FU:p};};c.prototype.tSa=function(p){var u,t,w;u=this;t=0;p.forEach(function(v){if(u.bb.eg(v.duration) && u.bb.eg(v.FU))t+=v.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!t)return 0;w=0;p.forEach(function(v){w+=v.FU * v.duration / t;});return w;};a=c;a=q.__decorate([k.R(),q.__param(1,k.l(l.Kb)),q.__param(2,k.l(d.dd)),q.__param(3,k.l(h.Gf)),q.__param(4,k.l(m.Yt))],a);b.hEa=a;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.gEa="PlayTimeTrackerFactorySymbol";},function(q,b,a){var f,k;function c(l,d,g,h,m,n,r,p,u,t,w){this.index=l;this.K=d;this.va=g;this.kb=h;this.ba=m;this.Wl=n;this.$ma=r;this.Fpb=u;this.NYa=w;this.Bd=new f.Ec(null);this.Qh=new f.Ec(null);this.Nc=new f.Ec(null);this.Rk=new f.Ec(null);this.Qt=new f.Ec(void 0);this.Xf=new f.Ec(null);this.dk=new f.Ec(null);this.Ug=new f.Ec(null);this.Sf=new f.Ec(null);this.mediaTime=new f.Ec(void 0);this.playbackRate=new f.Ec(1);this.Zo=new f.Ec(null);this.RE=this.QE="notcached";this.background=!1;p && (this.Xf.set(p.Xf.value),this.dk.set(p.dk.value));this.ao=t(this);this.Vl=this.NYa.pPb(this.ba,this.Wl);}Object.defineProperty(b,"__esModule",{value:!0});b.uEa=void 0;f=a(105);k=a(5);c.prototype.Od=function(l){this.Vl.Vo(l);};c.prototype.uy=function(l){var d;d=this;Object.entries(l).forEach(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;d.Vl.Vo(g,k.uc(h - d.Wl.ea(k.ma)));});};c.prototype.V5=function(){this.NYa.HPb(this.ba);};Xa.Object.defineProperties(c.prototype,{Zd:{configurable:!0,enumerable:!0,get:function(){return this.kb.Zd;}},G8:{configurable:!0,enumerable:!0,get:function(){return this.kb.G8;}},Kl:{configurable:!0,enumerable:!0,get:function(){return this.Mc && this.Mc.Kl;}},Yo:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Mc && this.Mc.Yo) && void 0 !== l?l:[];}},so:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Mc && this.Mc.so) && void 0 !== l?l:[];}},Dz:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Mc && this.Mc.Dz) && void 0 !== l?l:[];}},cm:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Mc && this.Mc.cm) && void 0 !== l?l:[];}},Ti:{configurable:!0,enumerable:!0,get:function(){return this.Mc && this.Mc.Ti;}},XB:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Mc && this.Mc.XB) && void 0 !== l?l:!1;}},Bt:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Mc && this.Mc.Bt) && void 0 !== l?l:[];}},Uk:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Mc && this.Mc.Uk) && void 0 !== l?l:[];}},D6:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Mc && this.Mc.D6) && void 0 !== l?l:[];}},Lx:{configurable:!0,enumerable:!0,get:function(){return this.hca && 0 < this.hca.ea(k.ma)?this.hca:k.uc(this.sa?this.sa.Wc.duration:0);},set:function(l){this.hca=l;}},Ek:{configurable:!0,enumerable:!0,get:function(){return this.kb.Ek || 0;}},$ga:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.t1?this.t1:void 0 === this.mediaTime.value?null:this.Fpb(this.mediaTime.value,this.va);}},Bj:{configurable:!0,enumerable:!0,get:function(){var l,d;return null === (d=null === (l=this.sa) || void 0 === l?void 0:l.Wc.INa) || void 0 === d?void 0:d.Dv;}},SG:{configurable:!0,enumerable:!0,get:function(){var l,d;return null === (d=null === (l=this.sa) || void 0 === l?void 0:l.Wc.INa) || void 0 === d?void 0:d.SG;}},bd:{configurable:!0,enumerable:!0,get:function(){return this.Vl.bd;}}});b.uEa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.zHa="TrickPlayParserSymbol";},function(q,b,a){var f,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yHa=void 0;q=a(1);k=a(162);a=a(0);c.prototype.parse=function(d){var g,h;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);h=new k.AO(g);d=this.QLb(h);g=this.SLb(h,g,d);return {header:d,images:g};};c.prototype.QLb=function(d){var g,h,m,n;if(d.lka() < this.lQb())throw Error("array buffer too short");f.$Aa.forEach(function(r){if(r != d.hz())throw Error("BIF has invalid magic.");});g=d.NM();if(g > f.VERSION)throw Error("BIF version in unsupported");h=d.NM();if(0 == h)throw Error("BIF has no frames.");m=d.NM();n=d.ph(f.pFa);return {version:g,mKb:h,d5a:m,X1a:n};};c.prototype.SLb=function(d,g,h){var r,p;for(var m=[],n=0;n <= h.mKb;n++){r={timestamp:d.NM(),offset:d.NM()};void 0 != p && m.push(g.subarray(p.offset,r.offset));p=r;}return m;};c.prototype.lQb=function(){return f.$Aa.length + 4 + 4 + 4 + f.pFa;};l=f=c;l.$Aa=[137,66,73,70,13,10,26,10];l.VERSION=0;l.pFa=44;l=f=q.__decorate([a.R()],l);b.yHa=l;},function(q,b,a){var f,k,l;function c(d,g,h){this.config=d;this.j=g;this.Bg=h;this.tV=void 0;this.o6=!1;this.Cma=0;this.log=this.Bg.Cb();}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;f=a(18);k=a(5);l=a(86);c.prototype.wAb=function(d,g,h,m,n){var r,p,u,t;h=void 0 === h?this.j.va:h;m=void 0 === m?!1:m;r=g === f.Jd.HD;p=this.Dnb(r?d:this.Iob(d,h),m,h);m=this.j.Ma;r?(d=p,p=m.us(p)):d=m.dK(h,p);g === f.Jd.yw && (this.j.bNa=p);n=this.bi(d,g,n);u=(g === f.Jd.Iw || g === f.Jd.xI) && !this.j.gFb;u=(r=r || n || u)?d:p;if(this.j.qt){t=this.config().oG;this.j.UUa(u,t) || g !== f.Jd.Iw || (u=this.j.qt.ea(k.ma) - t - 1E3,r?(d=u,p=m.us(u)):(d=m.dK(h,u),p=u));}return {N5:u,Aj:p,TMb:d,bi:n};};c.prototype.Dnb=function(d,g,h){d=this.aFb() || g?Math.round(d):this.j.Ma.Kfa(d,h);this.j.kb.Ol && (d=this.vxb(d));this.config().Bra && (d+=this.config().Bra);return d;};c.prototype.bi=function(d,g,h){if(this.config().cub || g === f.Jd.yw || g === f.Jd.HD || g === f.Jd.xI || g === f.Jd.tY || !h || d < h.start.ea(k.ma) || d >= h.end.ea(k.ma))return !1;g=this.j.Ma;return (null === g || void 0 === g?void 0:g.dh) && g.bi(d) || !1;};c.prototype.aFb=function(){return this.j.kb.Ol?!0:"boolean" === typeof this.j.kb.AV?this.j.kb.AV:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().AV && this.config().kNb:this.config().AV;};c.prototype.Iob=function(d,g){var h;g=this.j.Qq(g);h=g.Lx;g=(g.$Hb || h).ea(k.ma) - this.config().sYb;return l.yo(d,0,g);};c.prototype.vxb=function(d){var g,h,m;g=this.j.jT();if(Object.values(g).find(function(n){var r;r=n.Yc;r=d < (null !== r && void 0 !== r?r:Infinity);return n.xc <= d && r;}))return (!1,d);m=d;Object.entries(g).forEach(function(n){var r;n=aa(n);n.next();n=n.next().value.xc;r=n - d;0 < r && (void 0 === h || r < h) && (h=r,m=n);});!1;return m;};Xa.Object.defineProperties(c.prototype,{ema:{configurable:!0,enumerable:!0,get:function(){return this.o6 || ! !this.tV;}}});b.$Fa=c;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v;function c(x,y,z,B,A,C){var E;E=this;this.j=x;this.ei=y;this.iX=z;this.Rd=B;this.yW=A;this.zm=C;this.zPa={};this.update=function(){var F;if(E.lo.selectionStart == E.lo.selectionEnd){F="";E.a3().forEach(function(D){F=F?F + "\n":"";Object.entries(D).forEach(function(G){var I;I=aa(G);G=I.next().value;I=I.next().value;F+=G + ": " + I + "\n";});});E.lo.style.fontSize=d.yo(h.Aw(E.element.clientHeight / 60),8,18) + "px";E.lo.value=F;}};this.KKb=function(){var F,D;if(E.j.Cg){D=E.j.Cg.uF();D && (E.aha=D - (null !== (F=E.l5a) && void 0 !== F?F:0),E.l5a=D,E.nM());}};this.nM=function(){E.iX.ol(E.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == r.du.b9a || F.keyCode == r.du.Q) && E.toggle();};this.g0a=[x.mediaTime,x.Pc[f.ic.Za.Tb],x.Pc[f.ic.Za.Hb],x.Ug,x.Sf,x.dk,x.Xf,x.Rk,x.state,x.Cq,x.ac,x.volume,x.muted];this.element=this.Rd.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.lo=this.Rd.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.lo);this.controls=this.Rd.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Rd.createElement("button",void 0,"X");y.addEventListener("click",function(){return E.Tq();},!1);this.controls.appendChild(y);l.lf.addListener(l.FB,this.onkeydown);x.addEventListener(n.W.dg,function(){l.lf.removeListener(l.FB,E.onkeydown);E.Tq();});}Object.defineProperty(b,"__esModule",{value:!0});b.pEa=void 0;f=a(53);k=a(62);l=a(63);d=a(86);g=a(279);h=a(11);m=a(17);n=a(18);r=a(129);p=a(5);q={};u=(q[n.Gb.kI]="Not Loaded",q[n.Gb.LOADING]="Loading",q[n.Gb.$d]="Normal",q[n.Gb.CLOSING]="Closing",q[n.Gb.CLOSED]="Closed",q);q={};t=(q[n.$e.$d]="Normal",q[n.$e.Sc]="Pre-buffering",q[n.$e.QFa]="Network stalled",q);q={};w=(q[n.Bb.Jg]="Waiting for decoder",q[n.Bb.yc]="Playing",q[n.Bb.Wh]="Paused",q[n.Bb.au]="Media ended",q);v=[n.W.i5,n.W.vmb];c.prototype.ORb=function(x){this.zPa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.gEb=pb.setInterval(this.KKb,1E3),document.body.appendChild(this.element),this.g0a.forEach(function(y){y.addListener(x.nM);}),v.forEach(function(y){x.j.addEventListener(y,x.nM);}),this.visible=!0,this.zm.IW().then(function(y){x.Xka=y;x.nM();}));this.update();};c.prototype.Tq=function(){var x;x=this;this.visible && (clearInterval(this.gEb),this.l5a=this.aha=void 0,document.body.removeChild(this.element),this.g0a.forEach(function(y){y.removeListener(x.nM);}),v.forEach(function(y){x.j.removeEventListener(y,x.nM);}),this.iX.ol(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Tq():this.show();};c.prototype.a3=function(){var x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q,N,da,na,va,ra,X,ta,za,V,T,ja,Ia,wa,Sa,Ua,$a,Za,mb,db;D=[];G=this.ei();D.push({Version:"6.0031.809.911",Esn:G?G.gi:"UNKNOWN",PBCID:this.j.Bj,UserAgent:h.jA});try{I={MovieId:this.j.K,TrackingId:this.j.Ek,Xid:this.j.ba + " (" + k.Bo.map(function(Ta){return Ta.ba;}).join(", ") + ")",Position:d.Vh(this.j.mediaTime.value),Duration:d.Vh(this.j.Lx.ea(p.ma)),PlayerDuration:d.Vh(this.j.qt.ea(p.ma)),Volume:h.yi(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.kb.Ol || this.j.kb.x4)(I["Segment Position"]=d.Vh(this.j.BB()),I.Segment=this.j.eka());D.push(I);}catch(Ta){}try{J=this.j.Mm?this.j.Mm.fDb():void 0;D.push({"Player state":u[this.j.state.value],"Buffering state":t[this.j.Cq.value] + (m.xa(J)?", ETA:" + d.Vh(J):""),"Rendering state":w[this.j.ac.value]});}catch(Ta){}try{H=this.j.bua() + this.j.Wea();M=this.j.Ug.value;O=null === M || void 0 === M?void 0:M.stream;L=this.j.Sf.value;P=null === L || void 0 === L?void 0:L.stream;R=null !== (x=null === O || void 0 === O?void 0:O.bitrate) && void 0 !== x?x:"?";K=P?P.bitrate + " (" + P.width + "x" + P.height + ")":"?";Q=null !== (y=null === P || void 0 === P?void 0:P.zb) && void 0 !== y?y:"?";N=null !== (B=null === (z=this.j.Xf.value) || void 0 === z?void 0:z.zb) && void 0 !== B?B:"?";da=null !== (C=null === (A=this.j.dk.value) || void 0 === A?void 0:A.bitrate) && void 0 !== C?C:"?";na=null !== (F=null === (E=this.j.Xf.value) || void 0 === E?void 0:E.bitrate) && void 0 !== F?F:"?";va=this.j.Pc[f.ic.Za.Hb].value;ra=this.j.Pc[f.ic.Za.Tb].value;D.push({"Playing bitrate (a/v)":R + " / " + K,"Playing/Buffering vmaf":Q + "/" + N,"Buffering bitrate (a/v)":da + " / " + na,"Buffer size in Bytes (a/v)":this.j.Wea() + " / " + this.j.bua(),"Buffer size in Bytes":"" + H,"Buffer size in Seconds (a/v)":d.Vh(this.j.sR()) + " / " + d.Vh(this.j.nX()),"Current CDN (a/v)":(ra?ra.name + ", Id: " + ra.id:"?") + " / " + (va?va.name + ", Id: " + va.id:"?")});}catch(Ta){}try{if(this.j.Ug.value && this.j.Sf.value){X=this.j.Ug.value.stream;ta=X.track;za=this.j.Sf.value.stream;V=this.j.Rk.value;T=this.yW.A1(this.j.Qh.value?this.j.Qh.value.streams:[]);ja=this.yW.x1(ta.streams);Ia=za.Mg;wa=(/hevc/).test(Ia)?"hevc":(/vp9/).test(Ia)?"vp9":(/h264hpl/).test(Ia)?"avchigh":"avc";(/hdr/).test(Ia) && (wa+=", hdr");(/dv/).test(Ia) && (wa+=", dv");(/prk/).test(Ia) && (wa+=", prk");Sa=X.Mg;Ua=(/xheaac/).test(Sa)?"xhe-aac":(/heaac/).test(Sa)?"he-aac":(/ddplus/).test(Sa)?"ddplus":"unknown";(/atmos/).test(Sa) && (Ua+=", atmos");D.push({"Audio Track":ta.wm + ", Id: " + ta.trackId + ", Channels: " + ta.channels + ", Codec: " + ja + " (" + Ua + ")","Video Track":"Codec: " + T + " (" + wa + ")","Timed Text Track":V?V.wm + ", Profile: " + V.profile + ", Id: " + V.trackId:"none"});}}catch(Ta){}try{$a=this.j.Cg;Za=this.j.Xf.value?this.j.Xf.value.framerate:0;mb=a(515).OXa;D.push({Framerate:Za.toFixed(3),"Current Dropped Frames":m.xa(this.aha)?this.aha:"","Total Frames":$a.yB(),"Total Dropped Frames":$a.uF(),"Total Corrupted Frames":$a.lT(),"Total Frame Delay":$a.Z2(),"Main Thread stall/sec":mb?mb.Nzb().join(" "):"DISABLED",VideoDiag:g.nna(this.j.u3()),"HDR support":this.Xka?this.Xka.result + " (" + this.Xka.reason + ")":"unknown"});}catch(Ta){}try{D.push({Throughput:this.j.Oa + " kbps"});}catch(Ta){}db=void 0;try{Object.entries(this.zPa).forEach(function(Ta){var Ca;Ca=aa(Ta);Ta=Ca.next().value;Ca=Ca.next().value;db=db || ({});db[Ta]=JSON.stringify(Ca);});db && D.push(db);}catch(Ta){}return D;};b.pEa=c;},function(q,b,a){var k,l,d,g;function c(h,m,n,r){this.ba=h;this.iQb=m;this.ya=n;this.Lf=r;this.bd={};}function f(h,m){this.Bg=h;this.Lf=m;this.xd={};this.ya=h.Cb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;q=a(1);k=a(0);l=a(8);d=a(20);g=a(5);f.prototype.pPb=function(h,m){this.xd[h] && this.ya.warn("registerPlayback: xid " + h + " already registered, overriding");m=(m?m:this.Lf.Zb()).ea(g.ma);this.ya.trace("registerPlayback: xid " + h + " at " + m);this.xd[h]=new c(h,m,this.ya,this.Lf);return this.xd[h];};f.prototype.QAb=function(h){this.xd[h] || this.ya.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.xd[h];};f.prototype.HPb=function(h){this.ya.trace("removePlayback: xid " + h);delete this.xd[h];};a=f;a=q.__decorate([k.R(),q.__param(0,k.l(l.Kb)),q.__param(1,k.l(d.zd))],a);b.rEa=a;c.prototype.Vo=function(h,m){m=m?m.ea(g.ma):this.Lf.Zb().ea(g.ma) - this.iQb;this.ya.trace("addMilestone: xid " + this.ba + " " + h + " at " + m);this.bd[h]=m;};},function(q,b,a){var f,k,l,d;function c(g){this.Pa=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;q=a(1);f=a(18);k=a(0);l=a(20);d=a(5);c.prototype.Zl=function(g){g.cause !== f.Jd.yw && (this.trace.unshift({time:this.Pa.Zb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.wUa=function(){var g,h;g=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.$4a(h.time),lastRepositionCause:this.DSa(h.event.cause),repositionTrace:this.trace.map(function(m){return {timeSince:g.$4a(m.time),cause:g.DSa(m.event.cause),newMediaTime:m.event.N5,oldMediaTime:m.event.Moa,contentPts:m.event.Aj,skip:m.event.skip};})};};c.prototype.$4a=function(g){return this.Pa.Zb().Ba(g).ea(d.ma);};c.prototype.DSa=function(g){switch(g){case f.Jd.yw:return "initial";case f.Jd.Iw:return "seek";case f.Jd.HD:return "segment_changed";case f.Jd.xI:return "track_changed";case f.Jd.tY:return "force_rebuffer";}};a=c;a=q.__decorate([k.R(),q.__param(0,k.l(l.zd))],a);b.EFa=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v;function c(x,y,z){var B;B=this;this.xb=x;this.j=y;this.debug=z;this.vq=this.dh=this.zA=!1;this.rm=void 0;this.Dr=new Map();this.Vr=void 0;this.Se=function(){var A,C,E,F,D,G;B.debug.assert(B.qa,"has access to asePlaygraph");B.debug.assert(B.Qc,"has access to internalLogger");B.debug.assert(B.dt,"has access to mediaBufferGetLogFields");if(B.fe.value !== f.ja.pq && B.fe.value !== f.ja.zi){D=B.Dn;G=null === (C=null === (A=B.Jb.get()) || void 0 === A?void 0:A.Oa) || void 0 === C?void 0:C.Ea;A={type:"logdata",target:"startplay",fields:{hasasereport:B.j.xK,hashindsight:!1,buffCompleteReason:D.reason,actualbw:G,initSelReason:null !== (E=D.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:D.vBufferLevelMs,bcABufferLevelMs:D.aBufferLevelMs}};h.Uea({nRa:A,Gj:B.Gj,loadTime:B.loadTime});B.qa.t8("startplay",l.ae.JC);null !== (F=B.Ha) && void 0 !== F && F.Nn?(B.Qc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:D},B.dt()),B.j.Dn=D,B.j.Cq.set(m.$e.$d),B.kxb || (B.kxb=!0,B.j.Od("pb")),B.play()):B.Qc.error("Shim received buffering complete but player has no position (player " + (B.Ha?"":"un") + "defined, state " + B.j.state + ")");}};this.yR=function(){var A,C;B.debug.assert(B.Qc,"has access to internalLogger");!1;B.rm=void 0;B.j.paused.value && B.uM && (B.uM=!1,B.j.paused.set(!1,{toa:!0}));null === (A=B.j.Cg) || void 0 === A?void 0:A.ipb();null === (C=B.bV) || void 0 === C?void 0:C.call(B);B.bV=void 0;};this.events=new v();}Object.defineProperty(b,"__esModule",{value:!0});b.Tua=void 0;f=a(53);k=a(16);l=a(272);d=a(61);g=a(3);h=a(1138);m=a(18);n=a(13);r=a(17);p=a(5);u=a(1139);t=a(86);w=a(105);v=a(109).EventEmitter;c.prototype.X0=function(){};c.prototype.Ic=function(){var x;this.vq=!1;this.Jb.pN(null);this.debug.assert(this.aj,"has access to streamingEngine");this.qa && this.aj.gr(this.qa);this.Ha && this.aj.QM(this.Ha);this.aj.Kqa(this.Dr.get(this.xb.fa.da));this.Dr.clear();null === (x=this.Oi) || void 0 === x?void 0:x.gp();};c.prototype.BSb=function(x){var y,z,B,A,C,E,F,D,G,I,J,H,M;y=x.config;z=x.Dl;B=x.Qc;A=x.te;C=x.dt;E=x.ii;F=x.oW;x=x.OG;this.Qc=B;this.dt=C;this.oW=F;this.OG=x;C=this.j.fa;this.debug.assert(C,"has a playback segment");this.debug.assert(y,"has access to config");this.debug.assert(A,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(z,"has access to aseGlobals");this.debug.assert(z.aj,"has access to streamingEngine");this.debug.assert(C.sa,"has access to manifest");this.aj=z.aj;z.sd.set(a(179)(y),!0,E("ASE"));z.sd.set({maxNumberTitlesScheduled:null !== (G=null === (D=y.hNb) || void 0 === D?void 0:D.maxNumberTitlesScheduled) && void 0 !== G?G:1},!0,B);y.Qpb && 3E5 > C.sa.Wc.duration?z.sd.lV({expandDownloadTime:!1},!0,B):z.sd.lV({expandDownloadTime:z.sd.W_a().expandDownloadTime},!0,B);y=C.background || y.fNb && "postplay" === C.Zd?"historical":z.sd.W_a().initBitrateSelectorAlgorithm;z.sd.lV({initBitrateSelectorAlgorithm:y},!0,B);y=null === (M=null === (H=null === (J=null === (I=C.Qh) || void 0 === I?void 0:I.value) || void 0 === J?void 0:J.streams) || void 0 === H?void 0:H[0]) || void 0 === M?void 0:M.Mg;z.sd.lV(n.yga(! !C.kb.Ol,! !C.kb.x4,y),!0,B);B=A.cG({},n.p1(C.Zd));this.sd=z.sd.Hq(B);f.platform.events.emit("networkchange",C.Mc.FRb);this.zA=!0;};c.prototype.c4=function(x){var y,z;this.debug.assert(this.aj,"has access to streamingEngine");y=this.j.Qq(x.va);this.debug.assert(y.Mc,"has access to playback parsedManifest");z=x.flags;this.Jb.reset();this.Fd=new Set([f.ic.Za.Tb,f.ic.Za.Hb]);(z.UC || z.vR) && this.Fd.delete(z.UC?f.ic.Za.Tb:f.ic.Za.Hb);this.PN=[y.Mc.jtb,y.Mc.rtb];this.eS(x.va,x.Vu);this.TDb(x);this.Qga();};c.prototype.gX=function(x){var y;null === (y=this.qa) || void 0 === y?void 0:y.gX(x);};c.prototype.Hmb=function(x){var y,z,B,A;y=this;z=x.loadTime;B=x.Gj;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");this.Gj=B;this.loadTime=z;x=this.qa.events;A=this.Ha.events;x.addListener("error",function(C){"NFErr_MC_StreamingFailure" === C.error && (y.Qc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(C)),y.Qc.trace("StreamingFailure, buffer status:" + JSON.stringify(y.dt())),d.fg(function(){y.j.Ld(g.L.p7a,{oa:C.nativeCode,sb:C.errormsg,lk:C.httpCode,I5:C.networkErrorCode});}));});x.addListener("logdata",function(C){var E;"string" === typeof C.target && "object" === typeof C.fields && (C.fields.aseApiVersion=null === (E=y.qa) || void 0 === E?void 0:E.IE,h.Uea({nRa:C,Gj:B,loadTime:z}));});x.addListener("bufferingStarted",function(){y.j.Cq.set(m.$e.Sc);});x.addListener("bufferingComplete",function(C){y.Dn=C;});this.j.paused.addListener(function(C){var E;y.debug.assert(y.Qc,"has access to internalLogger");null !== (E=C.Wu) && void 0 !== E && E.toa || !y.zA || (C.newValue && y.fe.value === f.ja.yc?(y.fe.set(f.ja.Wh),y.kd.emit("paused",{type:"paused",pts:y.kd.qc})):C.newValue || y.fe.value !== f.ja.Wh || (y.fe.set(f.ja.yc),y.kd.emit("playing",{type:"playing",pts:y.kd.qc})));C.newValue || (y.uM=!1);y.Qc.info("Paused changed",{From:C.oldValue,To:C.newValue,MediaTime:t.Vh(y.j.mediaTime.value)});});this.j.Bd.addListener(function(C){var E,F,D,G;if(y.zA)if((y.debug.assert(y.Qc,"has access to internalLogger"),C.Wu && C.Wu.TLa))y.Qc.trace("Not processing already applied track",null === (E=C.newValue) || void 0 === E?void 0:E.trackId);else {G=C.newValue;y.b8({KE:G.NF,toJSON:function(){return G.Kh;}})?y.Qc.trace("ASE accepted the audio track switch",null === (D=C.newValue) || void 0 === D?void 0:D.trackId):(y.Qc.trace("ASE rejected the audio track switch",null === (F=C.newValue) || void 0 === F?void 0:F.trackId),C.oldValue && C.oldValue.NF !== G.NF && y.j.Bd.set(C.oldValue,{TLa:!0}));}});x.addListener("serverSwitch",function(C){var E;y.j.fireEvent(m.W.lN,C);if("video" === C.mediatype)E=f.ic.Za.Hb;else "audio" === C.mediatype && (E=f.ic.Za.Tb);r.Hc(E) && y.oW(C.server,E);});x.addListener("streamSelected",function(C){var E,F,D,G;F=(null === (E=y.qa) || void 0 === E?void 0:E.GB(C.position)).kB.V;E=[];if(C.mediaType === f.ic.Za.Hb){D=y.j.aVa(C.streamId);G=y.j.Xf;E=y.j.DF();}else C.mediaType === f.ic.Za.Tb && (D=y.j.SUa(C.streamId),G=y.j.dk,E=y.j.kyb());D && G?(!1,G.set(D,{YNa:F,pmb:C.bandwidth})):y.Qc.error("no matching stream for streamSelected event",{streamId:C.streamId,mediaType:C.mediaType,streamList:E,cachedManifest:y.j.RE});});x.addListener("segmentNormalized",function(C){var E,F;E=y.j.Qq(C.segmentId);F=Math.floor(C.viewableEarliestContentEnd.V);C=p.uc(Math.floor(C.viewableContentEnd.V));F=p.uc(F);E && (E.Lx=C,E.$Hb=F);y.j.qt || (y.j.qt=C);});A.addListener("segmentPresenting",function(C){var E,F,D;y.debug.assert(y.qa,"has access to asePlaygraph");y.debug.assert(y.Ha,"has access to asePlayer");y.debug.assert(y.OG,"has access to segmentPresentingHandler");E=y.qa.GB(C.position);F=C.playerTimestamp.Ba(E.kB);D=C.position.va;y.OG(E.da,!1);y.j.fireEvent(m.W.NG,{type:"segmentPresenting",segmentId:D,contentOffset:F.V,metrics:C.metrics});y.Vr=y.Ha.vp();});A.addListener("ptsChanged",function(){y.kd.emit("skipped");});x.addListener("segmentStarting",function(C){return y.j.fireEvent(m.W.kRb,C);});x.addListener("lastSegmentPts",function(C){return y.j.fireEvent(m.W.gRb,C);});x.addListener("segmentAborted",function(C){y.j.fireEvent(m.W.eRb,C);});x.addListener("locationSelected",function(C){y.j.fireEvent(m.W.pv,C);});x.addListener("aseReportEnabled",function(){y.j.xK=!0;});x.addListener("aseReport",function(C){y.j.fireEvent(m.W.OJ,C);});};c.prototype.vp=function(){var x,y,z,B,A,C,E,F,D;F=null === (x=this.Ha) || void 0 === x?void 0:x.G3();x=(null !== (y=this.Vr) && void 0 !== y?y:F && this.Ha.vp()) || ({});y=x.P;F=x.yj;D=x.yV;x=x.AM;return {id:String(null === y || void 0 === y?void 0:y.id),Ke:null !== (z=null === F || void 0 === F?void 0:F.V) && void 0 !== z?z:0,Jc:null !== (B=null === y || void 0 === y?void 0:y.uh.V) && void 0 !== B?B:Infinity,pc:null !== (A=null === y || void 0 === y?void 0:y.Ll.V) && void 0 !== A?A:0,Pd:null !== (C=null === D || void 0 === D?void 0:D.V) && void 0 !== C?C:Infinity,Zc:null !== (E=null === x || void 0 === x?void 0:x.V) && void 0 !== E?E:0};};c.prototype.iT=function(){return {Ke:0};};c.prototype.h4=function(){var x,y;this.debug.assert(this.qa,"has access to asePlaygraph");x={};y=this.qa.TK();x.vbuflmsec=y.totalvbuflmsecs;x.vbuflbytes=y.vbuflbytes;x.abuflmsec=y.totalabuflmsecs;x.abuflbytes=y.abuflbytes;return x;};c.prototype.paused=function(){};c.prototype.ypa=function(){this.kd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.kd.qc});};c.prototype.b8=function(x){var y,z,B,A;y=this;this.debug.assert(this.Qc,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");this.debug.assert(this.j.sa,"has access to playback manifest");if(this.pH)return (!1,!1);if(!this.j.sa.Wc.audio_tracks.some(function(C,E){if(C.track_id === x.KE)return (A=E,!0);}))return (!1,!1);!1;this.rm=A;null === (z=this.j.Cg) || void 0 === z?void 0:z.HTb();(null === (B=this.Ha) || void 0 === B?0:B.zz)?this.uM=!1:n.config.cMb && !this.j.paused.value && (this.Ha.pause([f.ic.Za.Tb]),this.uM=!0,this.j.paused.set(!0,{toa:!0}));this.debug.Sea(this.rm,"has access to valid requestedAudioTrackIndex number");this.PN[f.ic.Za.Tb]=this.rm;this.qa.Vv({pr:function(){return y.PN[f.ic.Za.Tb];}},{pr:function(){return y.PN[f.ic.Za.Hb];}});this.Zp(this.yR);return !0;};c.prototype.zr=function(){this.fe.set(f.ja.ef);this.kd.emit("underflow",{type:"underflow",pts:this.kd.qc});this.Zp(this.Se);};c.prototype.FE=function(){throw Error("addManifest is not implemented");};c.prototype.Qp=function(x,y){this.Mz.Qp(x,y);};c.prototype.open=function(){this.vq || (this.debug.assert(this.qa,"has access to asePlaygraph"),this.debug.assert(this.Ha,"has access to asePlayer"),this.vq=this.dh=!0,this.qa.open(),this.debug.assert(this.Xv,"invalid start position relative to playgraph"),this.qa.MG(this.Xv),this.fe.set(f.ja.Sc),this.Zp(this.Se),this.qa.Vea(this.Ha),this.HGb());};c.prototype.play=function(){this.debug.assert(this.qa,"has access to asePlaygrah");this.debug.assert(this.Ha,"has access to asePlayer");0 !== this.qa.state && (this.Ha.resume(this.uM?[f.ic.Za.Hb]:void 0),this.fe.set(f.ja.yc),this.kd.emit("playing",{type:"playing",pts:this.kd.qc}));};c.prototype.stop=function(){var x;this.fe.set(f.ja.pq);null === (x=this.Ha) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.kd.emit("paused",{type:"paused",pts:this.kd.qc});};c.prototype.flush=function(){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.aj,"has access to streamingEngine");this.vq && this.fe.value !== f.ja.zi && this.fe.value !== f.ja.pq && this.stop();this.qa.t8("endplay",l.ae.ip);this.qa.zf();this.aj.mh.save();this.aj.Om.save();};c.prototype.us=function(x){var y;this.debug.assert(this.qa,"has access to asePlaygraph");y=f.S.rb(x);return (y=this.qa.dr(y,{L3a:!0,K3a:!0}))?this.qa.Fa.Ca[y.va].xc + Number(y.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.dK=function(x,y){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Qc,"has access to internalLogger");this.qa.Fa.Ca[x] || (x=this.US(y));this.debug.G0(x,"has access to segmentId");x={va:x,offset:f.S.rb(y - this.qa.Fa.Ca[x].xc)};if(x=this.qa.FT(x))return x.V;!1;return y;};c.prototype.Kfa=function(x,y){var z,B,A;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");y && this.qa.Fa.Ca[y] || (y=null !== (z=this.US(x)) && void 0 !== z?z:null === (B=this.Ha) || void 0 === B?void 0:B.di.va);return null === (A=this.qa.Fm(y,x)) || void 0 === A?void 0:A.Jc;};c.prototype.Yx=function(x){var y;y=void 0 === y?!0:y;this.dh?Number.isFinite(x) && (this.debug.assert(this.Ha,"has access to asePlayer"),y?this.Ha.qW(x):this.Ha.Ura(x)):this.fail("Must call open prior to drmReady");};c.prototype.E3=function(){var x;return null !== (x=this.Ha) && void 0 !== x && x.Nn?this.Ha.Qn(this.qa.Fa.Ca[this.Ha.di.va].da):!1;};c.prototype.bi=function(x){!1;return this.Ha?this.Ha.bi(f.S.rb(x)):(!1,!1);};c.prototype.nr=function(x,y){var z;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");y && this.qa.Fa.Ca[y] || (y=null !== (z=this.US(x)) && void 0 !== z?z:this.Ha.di.va);this.debug.G0(y,"has access to segmentId");this.debug.assert(this.qa.Fa.Ca[y],"segment exists in playgraph map");x={va:y,offset:f.S.rb(x - this.qa.Fa.Ca[y].xc)};this.qa.MG(x);this.Ha.resume();this.fe.set(f.ja.Sc);this.Zp(this.Se);x=this.qa.sra(x);this.debug.assert(x,"Valid position must be provided for seek");return x.offset.V;};c.prototype.addEventListener=function(x,y){this.events.addListener(x,y);return this;};c.prototype.removeEventListener=function(x,y){this.events.removeListener(x,y);return this;};c.prototype.RN=function(x,y){var z;z={};this.qa.ti((z[x]=y,z));};c.prototype.ns=function(x,y){var z,B;this.debug.assert(this.Qc,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ha,"has access to asePlayer");z=this.vp().id;B=this.qa.NTa(z,x);if(y){if(!B.y6a)return (this.Qc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + z)),!1);if(void 0 !== B.eM)return (!1,B.eM === x);this.qa.Ak(z,x,!1,y);return !0;}if(void 0 !== B.eM)return (!1,!1);B.T0 && (this.Ha.reset(),this.qa.Ak(z,x,!1,y),this.Ha.resume(),this.fe.set(f.ja.Sc),this.Zp(this.Se));return ! !B.T0;};c.prototype.dn=function(){var x;this.debug.assert(this.Qc,"has access to internalLogger");x=this.kd.qc;!1;this.kd.emit("skipped",{type:"skipped",pts:x});return new f.OD(Promise.resolve()).jra;};c.prototype.US=function(x){var y,z,B,A,C,E,F,D,G;this.debug.assert(this.qa,"has acccess to asePlaygraph");this.debug.assert(this.Qc,"has acccess to internalLogger");y=this.qa.Fa;z=[];B=Infinity;for(A in y.Ca){C=y.Ca[A];E=C.xc;C=C.Yc;F=E <= x;D=x < Number(null !== C && void 0 !== C?C:Infinity);!1;if(F && D)(!1,z.push(A));else if((E=Math.min(Math.abs(x - E),Math.abs(x - C)),E < B)){B=E;G=A;}}x=z[0] || G;this.debug.G0(x,"has access to locatedSegmentId");!1;return x;};c.prototype.HGb=function(){var x,y;x=this;this.debug.assert(this.j.Ib,"has acccess to mediaElement");y=this.j.Ib.la;this.debug.assert(y,"has acccess to videoElement");y.addEventListener("play",function(){x.fe.value === f.ja.Wh && (x.fe.set(f.ja.yc),x.kd.emit("playing",{type:"playing",pts:x.kd.qc}));});y.addEventListener("pause",function(){x.fe.value === f.ja.yc && (x.fe.set(f.ja.Wh),x.kd.emit("paused",{type:"paused",pts:x.kd.qc}));});};c.prototype.fail=function(x){var y;null === (y=this.qa) || void 0 === y?void 0:y.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.Zp=function(x){var y,z,B,A,C,E,F,D;y=this;if(x !== this.yR && this.pH)this.bV=x;else {D=!0 === (null === (z=this.Ha) || void 0 === z?void 0:z.Ry.value);z=(null === (B=this.qa) || void 0 === B?void 0:B.hf.value) === f.wc.Zj;null === (A=this.Ha) || void 0 === A?void 0:A.Ry.removeListener(this.BYa);null === (C=this.qa) || void 0 === C?void 0:C.hf.removeListener(this.nNa);D && z?x():(this.BYa=function(){return y.Zp(x);},this.nNa=function(){return y.Zp(x);},null === (E=this.Ha) || void 0 === E?void 0:E.Ry.addListener(this.BYa),null === (F=this.qa) || void 0 === F?void 0:F.hf.addListener(this.nNa));}};c.prototype.zH=function(x){var y,z,B;y=this;B=this.j.Qq(x);return Promise.resolve(null !== (z=B.sa) && void 0 !== z?z:this.j.yOb(B).then(function(){y.j.sNb(B);return B.sa;})).then(function(A){A=A.Wc;return {sa:A,Gi:A.Tka && !A.MT,config:y.sd,Fd:[].concat(ca(y.Fd))};});};c.prototype.eS=function(x,y){var z,B,A;this.debug.assert(this.aj,"has access to streamingEngine");z=this.xb.Me(x).da;if(!this.Dr.has(z)){B=this.zH.bind(this);A={aea:void 0,GNa:function(){},equals:function(C){return C.da === z && (y.ba === C.ba || !C.ba || !y.ba);},get Dr() {this.aea || (this.aea=B(x));return this.aea;},ba:y.ba,da:z,nF:!1};this.Dr.set(z,A);this.sd.ay && this.aj.GC(A,{Dv:y.Dv,ba:y.ba,Kq:y.Kq});}};c.prototype.TDb=function(x){var y,z,B;y=this;z=x.Vu;B=x.va;this.debug.assert(this.aj,"has access to streamingEngine");this.debug.assert(this.Qc,"has access to internalLogger");x=this.j.Qq(B);x=this.xb.l3(x);B=x.Ca[B];this.debug.assert(B,"segment exists");this.Xv=u.CT(B.da,x,this.j.Z,B.xc);z=Object.create(this.sd,{Xha:{value:z.Kq},ZRa:{value:z.gs}});this.fe=new w.Ec(f.ja.Ig);this.qa=this.aj.GE(x,this.sd.o0a,z,{Fs:function(A){return y.Dr.get(A);}});this.Mz=new f.RD(this.Qc);z=this.qa.aF(this.Mz);x=this.qa.$E();this.qa.bsa(x,z);this.qa.Vv({pr:function(){return y.PN[f.ic.Za.Tb];}},{pr:function(){return y.PN[f.ic.Za.Hb];}});this.uM=!1;};c.prototype.Qga=function(){var x,y;x=this;this.debug.assert(this.aj,"has access to streamingEngine");y=Object.create(this.sd,{Fd:{value:[].concat(ca(this.Fd))},uT:{value:function(){return x.i3();}}});this.kd=Object.create(new k.EventEmitter(),{qc:{get:function(){x.debug.Sea(x.j.mediaTime.value,"has access to mediaTime.value");return f.S.rb(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},tT:{value:function(){x.debug.assert(x.j.Ib,"has access to mediaElement");return x.j.Ib;}}});this.Ha=this.aj.yLa(this.kd,y);};c.prototype.i3=function(){this.Oi || (this.Oi=new f.platform.MediaSource(this.kd),this.Oi.Ub || (this.Oi.Ub=f.platform.MediaSource.Ub));return this.Oi;};Xa.Object.defineProperties(c.prototype,{pH:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.rm;}},Jb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.aj,"has access to streamingEngine");return this.aj.Jb;}}});b.Tua=c;},function(q,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Uea=void 0;c=a(17);b.Uea=function(f){var k,l,d,g;k=f.Gj;l=f.loadTime;f=f.nRa;d=c.xa(l)?l:0;g=k[f.target] || ({});k[f.target] !== g && (k[f.target]=g);Object.entries(f.fields).forEach(function(h){var m,n,r,p;m=aa(h);h=m.next().value;m=m.next().value;if("object" !== typeof m || null === m)g[h]=m;else {n=m.type;if("count" === n)(void 0 === g[h] && (g[h]=0),++g[h]);else if(void 0 !== m.value){if("array" === n){n=g[h];r=m.adjust;p=m.value;n || (n=g[h]=[]);r && 0 < r.length && r.forEach(function(u){p[u]-=d || 0;});n.push(p);}else g[h]="sum" === n?(g[h] || 0) + m.value:m.value;}else g[h]=m;}});};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.CT=void 0;c=a(53);f=a(21);b.CT=function(k,l,d,g){return l.Ca[l.hg].xc === g?(k=c.Hga(l,k,c.S.rb(d)),f.gb(k,"has valid start position relative to playgraph"),k):{va:l.hg,offset:c.S.hb};};},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p,u,t,w,v,x,y,z){var B;B=this;this.SVb=n;this.j=r;this.id=p;this.height=u;this.width=t;this.wMb=w;this.xMb=v;this.size=x;this.Os=y;this.urls=z;this.type=f.Uh.rta;this.retry=!0;this.state=g.Eo.YY;this.Kh={};this.I0={};this.fOb=function(A){if(A.X)try{B.data=B.SVb.parse(A.content);B.state=g.Eo.nD;B.log.trace("TrickPlay parsed",{Images:B.data.images.length},B.Kh);B.j.fireEvent(h.W.bX);}catch(C){B.state=g.Eo.MCa;B.log.error("TrickPlay parse failed.",C);}else (B.state=g.Eo.YY,B.log.error("TrickPlay download failed.",m.Lr(A),B.Kh));};this.log=l.Ih(r,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;f=a(81);k=a(13);l=a(7);d=a(71);g=a(484);h=a(18);m=a(3);c.prototype.Gzb=function(n){if(this.data && (this.Os && (n+=this.Os),n=Math.floor(n / this.data.header.d5a),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.d5a,height:this.height,width:this.width,pixelAspectHeight:this.wMb,pixelAspectWidth:this.xMb};};c.prototype.p3=function(){switch(this.state){case g.Eo.nD:return "downloaded";case g.Eo.LOADING:return "loading";case g.Eo.iP:return "downloadfailed";case g.Eo.MCa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.SBb();n?(this.state=g.Eo.LOADING,this.vub(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.SBb=function(){var n,r,p;n=this;r=Object.keys(this.urls).find(function(u){return (n.I0[n.urls[u]] || 0) <= k.config.OVb;});if(r){p=this.urls[r];(p in this.I0)?this.I0[p]++:this.I0[p]=1;return {url:p,e1:r};}};c.prototype.vub=function(n){this.log.trace("Downloading",n.url,this.Kh);n={responseType:d.RT,Pc:this.wja(n.e1),url:n.url,track:this};this.j.P3.download(n,this.fOb);};c.prototype.wja=function(n){return this.j.Uk.find(function(r){return r && r.id === n;});};b.uHa=c;},function(q,b,a){var f;function c(k,l,d,g){this.Fha=k;this.debug=l;this.Pa=d;this.j=g;this.l6=[];this.C5={};this.Hha={};this.Nia=!1;this.H4a=1;this.qva=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.pxa=void 0;f=a(5);a(18);a(17);a(71);c.prototype.register=function(k,l){this.debug.assert(!(0 <= this.l6.indexOf(k)),"panel already registered");this.C5[k]=l;this.l6.push(k);};c.prototype.KZa=function(k){var l;l=this;this.Hha[k]=!0;this.Nia || (this.Nia=!0,setTimeout(function(){return l.exb();},0));};c.prototype.qAb=function(k){return (k=this.C5[k])?k():void 0;};c.prototype.a3=function(){var k;k=this.j.t6;return k?k.a3():[];};c.prototype.addEventListener=function(k,l){this.Fha.addListener(k,l);this.C5[k] && this.KZa(k);};c.prototype.removeEventListener=function(k,l){this.Fha.removeListener(k,l);};c.prototype.getTime=function(){return this.Pa.Zb().ea(f.ma);};c.prototype.exb=function(){this.Nia=!1;for(var k=this.l6.length,l;k--;){l=this.l6[k];this.Hha[l] && (this.Hha[l]=!1,this.Fha.tc(l + "changed",{getModel:this.C5[l]}));}};b.pxa=c;},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r){var p;p=this;this.Vl=n;this.Oq=r;this.n5a=function(u){var t,w,v,x,y,z,B;t=p.H4a++;w=u.request.hF || "dl";v=p.EUa(w,"start");if(v){x=u.request.Sy;y=x.stream.N.bo;x=aa(x.stream.N.Ah).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.P.id,!p.c4a.has(y))){z=p.XTa(y);B=u.fr;p.Vl.mark(v,z,B?w + "-" + B + "-" + t:w);u.lea(function(){var A,C;A=p.EUa(w,"end");C=B?w + "-" + B + "-" + t:w;A && p.Vl.mark(A,z,C);});}}};this.H4a=0;this.c4a=new Set();this.Era=new Map();r.IS && this.mYb();}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;q=a(1);f=a(0);k=a(65);l=a(69);d=a(5);g=a(71);a=a(38);h={start:{video:k.Da.sO,audio:k.Da.oO},end:{video:k.Da.rO,audio:k.Da.nO}};c.prototype.YTa=function(n){var p,u,t,w,v,x,y,z;function r(B){return d.timestamp(p.JLa(d.timestamp(B),n,!0));}p=this;u=new Set();t=n.bd;w=n.ba;v=void 0 === n.V3a?null:n.V3a;x=n.va;y=this.Vl.DTa(w);z=x && this.XTa(x);z && y.push.apply(y,ca(this.Vl.DTa(z)));this.Vl.B1a(n.ba);z && this.Vl.B1a(z);x && this.c4a.add(x);x=[];("pr_ats" in t) && x.push({name:k.Da.rZ,wr:r(t.pr_ats),ba:w,Bj:"request-pre-manifest"});("ats" in t) && x.push({name:k.Da.pZ,wr:r(t.ats),ba:w,Bj:"request-manifest"});("pr_at" in t) && x.push({name:k.Da.qZ,wr:r(t.pr_at),ba:w,Bj:"request-pre-manifest"});("at" in t) && x.push({name:k.Da.oZ,wr:r(t.at),ba:w,Bj:"request-manifest"});("lg" in t) && x.push({name:k.Da.nZ,wr:r(t.lg),ba:w,Bj:"request-license"});("lr" in t) && (x.push({name:k.Da.mZ,wr:r(t.lr),ba:w,Bj:"request-license"}),x.push({name:k.Da.IX,wr:r(t.lr),ba:w,Bj:"apply-license"}));("ld" in t) && x.push({name:k.Da.HX,wr:r(t.ld),ba:w,Bj:"apply-license"});("tt_start" in t) && x.push({name:k.Da.qO,wr:r(t.tt_start),ba:w,Bj:"request-timed-text"});("tt_comp" in t) && x.push({name:k.Da.pO,wr:r(t.tt_comp),ba:w,Bj:"request-timed-text"});return x.concat(y).map(function(B){return p.lVb(B,n);}).filter(function(B){return B.ts <= (null !== v && void 0 !== v?v:B.ts)?("end" === B.step && u.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || u.has(B.eventId)?!0:!1;}).sort(function(B,A){return B.ts - A.ts;}).reduce(function(B,A){var C;C=A.eventName;delete A.eventName;C && (B[C]=A);return B;},{});};c.prototype.Pkb=function(n,r,p){return (void 0 === p?0:p)?n.ea(d.ma) + r.Wl.ea(d.ma):n.ea(d.ma) - r.Wl.ea(d.ma);};c.prototype.JLa=function(n,r,p){p=void 0 === p?!1:p;if(r.dm)if(p)n.ea(d.ma) + r.dm;else return n.ea(d.ma) - r.dm;return this.Pkb(n,r,p);};c.prototype.lVb=function(n,r){var p,u;p=n.Bj;u=n.name;return {eventName:this.LJb(u,p),eventId:p || u,ts:this.JLa(n.wr,r),comp:this.kT(u),cat:this.Kyb(u),step:this.ABb(u)};};c.prototype.LJb=function(n,r){switch(n){case k.Da.qO:case k.Da.pO:case k.Da.oO:case k.Da.nO:case k.Da.sO:case k.Da.rO:return n + "-" + r;default:return n;}};c.prototype.kT=function(n){switch(n){case k.Da.rZ:case k.Da.qZ:case k.Da.pZ:case k.Da.oZ:return "manifest";case k.Da.nZ:case k.Da.mZ:case k.Da.jba:case k.Da.iba:case k.Da.wY:case k.Da.vY:case k.Da.IX:case k.Da.HX:return "license";case k.Da.qO:case k.Da.pO:case k.Da.oO:case k.Da.nO:case k.Da.sO:case k.Da.rO:case k.Da.a9:case k.Da.Z8:return "buffering";case k.Da.uaa:case k.Da.taa:return "playback";default:return null;}};c.prototype.Kyb=function(n){switch(n){case k.Da.rZ:case k.Da.qZ:case k.Da.pZ:case k.Da.oZ:return "aws";case k.Da.nZ:case k.Da.mZ:return "mixed";case k.Da.uaa:case k.Da.taa:case k.Da.jba:case k.Da.iba:case k.Da.wY:case k.Da.vY:case k.Da.IX:case k.Da.HX:case k.Da.a9:case k.Da.Z8:return "device";case k.Da.qO:case k.Da.pO:case k.Da.oO:case k.Da.nO:case k.Da.sO:case k.Da.rO:return "cdn";default:return null;}};c.prototype.ABb=function(n){switch(n){case k.Da.rZ:case k.Da.uaa:case k.Da.pZ:case k.Da.nZ:case k.Da.a9:case k.Da.qO:case k.Da.oO:case k.Da.sO:case k.Da.jba:case k.Da.wY:case k.Da.IX:return "start";case k.Da.qZ:case k.Da.taa:case k.Da.oZ:case k.Da.mZ:case k.Da.iba:case k.Da.vY:case k.Da.HX:case k.Da.Z8:case k.Da.pO:case k.Da.nO:case k.Da.rO:return "end";default:return null;}};c.prototype.EUa=function(n,r){if((n in h[r]))return h[r][n];};c.prototype.pWb=function(){g.Bf.removeEventListener(g.M3,this.n5a);};c.prototype.mYb=function(){this.pWb();g.Bf.addEventListener(g.M3,this.n5a);};c.prototype.XTa=function(n){var r;if(this.Era.has(n))return this.Era.get(n);r=Date.now();this.Era.set(n,r);return r;};m=c;m=q.__decorate([f.R(),q.__param(0,f.l(l.oP)),q.__param(1,f.l(a.gm))],m);b.iCa=m;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C,E,F,D,G,I,J,H,M,O,L,P,R,K,Q,N;Object.defineProperty(b,"__esModule",{value:!0});b.sOa=void 0;q=a(0);c=a(449);f=a(1144);k=a(119);l=a(1145);d=a(460);g=a(1146);h=a(462);m=a(1147);n=a(463);r=a(1148);p=a(263);u=a(1149);t=a(80);w=a(1150);v=a(1151);x=a(42);y=a(3);z=a(1152);B=a(1153);A=a(1154);C=a(52);E=a(1155);F=a(277);D=a(1156);G=a(1157);I=a(1158);J=a(445);H=a(1159);M=a(1160);O=a(1161);L=a(334);P=a(1162);R=a(70);K=a(517);Q=a(1163);N=a(1164);b.sOa=new q.ad(function(da){da(C.im).to(E.nDa);da(c.CDa).to(f.BDa);da(F.Aaa).to(D.iDa);da(J.kDa).to(H.jDa);da(G.hdb).to(I.GDa);da(k.Eaa).to(l.DDa);da(K.EDa).sf(function(na){return function(){var va;va=na.$a.get(R.ku);return va && va.u6a?na.$a.resolve(N.WDa):na.$a.resolve(Q.FDa);};});da(d.hDa).to(g.gDa);da(h.TDa).to(m.SDa);da(n.wDa).to(r.vDa);da(p.Daa).to(u.xDa);da(t.zGa).to(w.yGa);da(t.DGa).to(v.CGa);da(t.jAa).to(z.iAa);da(t.uGa).to(B.tGa);da(t.hya).to(A.gya);da(O.jdb).to(M.HDa);da(L.uDa).to(P.tDa);da(t.h$).sf(function(na){return function(va){switch(va){case t.wo.start:return na.$a.get(t.zGa);case t.wo.stop:return na.$a.get(t.DGa);case t.wo.eU:return na.$a.get(t.jAa);case t.wo.splice:return na.$a.get(t.uGa);case t.wo.MS:return na.$a.get(t.hya);}throw new x.$c(y.L.vcb,void 0,void 0,void 0,void 0,"The event key was invalid - " + va);};});});},function(q,b,a){var f,k,l,d,g;function c(h){return d.Sh.call(this,h,k.L.hbb,1,l.Ai.BXa,l.ah.fI,l.Ai.BXa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=void 0;q=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);ka(c,d.Sh);c.prototype.Of=function(h,m){var n;n=this;return this.send(h,"/" + this.name,m).then(function(r){return r.result;}).catch(function(r){throw n.Im(r);});};c.prototype.np=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.im))],g);b.BDa=g;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u;function c(t,w,v,x,y){t=d.Sh.call(this,t,k.L.V$,3,l.Ai.sa,l.ah.cu,l.Ai.sa) || this;t.platform=w;t.rna=v;t.lGb=x;t.zHb=y;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.DDa=void 0;q=a(1);f=a(119);k=a(3);l=a(48);a(180);d=a(74);g=a(52);h=a(34);m=a(38);n=a(143);r=a(263);p=a(0);a=a(517);ka(c,d.Sh);c.prototype.Of=function(t,w){var v,x;v=this;this.U_=w.fv === f.Xj.GD?"prefetch/manifest":l.Ai.sa;x=w.fv === f.Xj.xZ?m.hu.ZEa:m.hu.EP;return this.zHb().transform(w,x).then(function(y){var z,B;y=aa(y);z=y.next().value;B=y.next().value;!1;B.Xu && (v.U_="licensedManifest");return v.send(t,B.Vk,z,void 0,v.gBb(w.fv),void 0,x).then(function(A){var C;A=v.rna.create(A.result);C=A.Wc.Nz.map(function(E){return E.ig;}).filter(Boolean);B.Xu && (0 < C.length?(C=v.lGb.s5a(C),B.Xu.sLa(C),A.Xu=B.Xu,A.oWa=w.fv === f.Xj.GD,A.nWa=!0):B.Xu.close());!1;return A;});}).catch(function(y){!1;throw v.Im(y);});};c.prototype.np=function(){return Promise.reject(Error("Links are not supported with manifest command"));};c.prototype.gBb=function(t){switch(t){case f.Xj.Co:case f.Xj.Y9a:return l.ah.cu;case f.Xj.nFa:case f.Xj.xZ:return l.ah.daa;case f.Xj.GD:return l.ah.fI;}};u=c;u=q.__decorate([p.R(),q.__param(0,p.l(g.im)),q.__param(1,p.l(h.Kk)),q.__param(2,p.l(n.kP)),q.__param(3,p.l(r.Daa)),q.__param(4,p.l(a.EDa))],u);b.DDa=u;},function(q,b,a){var f,k,l,d,g;function c(h){return d.Sh.call(this,h,k.L.cI,3,l.Ai.ig,l.ah.cu,l.Ai.ig) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;q=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);ka(c,d.Sh);c.prototype.Of=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.np=function(h,m,n){var r,p;r=this;m=m.rT(n.Pma).href;p="license" === n.Pma?l.ah.cu:l.ah.fI;this.U_="ldl" === n.Pma?"prefetch/license":l.Ai.ig;return this.send(h,m,n.inputs,"drmSessionId",p).then(function(u){u=u.result;r.RNa(u);r.kob(u);return u;}).catch(function(u){throw r.Im(u);});};c.prototype.kob=function(h){h.forEach(function(m){if(!m.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.im))],g);b.gDa=g;},function(q,b,a){var f,k,l,d,g;function c(h){return d.Sh.call(this,h,k.L.eba,3,l.Ai.ig,l.ah.daa,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SDa=void 0;q=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);ka(c,d.Sh);c.prototype.Of=function(h,m){var n;n=this;return this.send(h,"/bundle",m).then(function(r){r=r.result;n.RNa(r);return r;}).catch(function(r){throw n.Im(r);});};c.prototype.np=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.im))],g);b.SDa=g;},function(q,b,a){var f,k,l;function c(d){this.wa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vDa=void 0;q=a(1);f=a(0);k=a(40);l=a(5);c.prototype.HVb=function(d){var g;g=this.wa.Ue.ea(l.nn);return {inputs:d.zj.map(function(h){return {drmSessionId:h.sessionId,clientTime:g,challengeBase64:h.dataBase64,xid:d.ba.toString(),mdxControllerEsn:d.BU};}),Pma:"standard" === d.Qf.toLowerCase()?"license":"ldl"};};c.prototype.KVb=function(d){var g,h;g=this;h=[];return d.ee.map(function(m){h.push(m.id);return {url:g.enb(m.UF,m.oU),echo:"drmSessionId",params:{drmSessionId:m.id,xid:d.ba.toString()}};});};c.prototype.enb=function(d,g){return "/releaseLicense?drmLicenseContextId=" + d + (g?"&licenseId=" + g:"");};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(k.wi))],a);b.vDa=a;},function(q,b,a){var f,k,l;function c(d,g){this.Rd=d;this.xx=g;}Object.defineProperty(b,"__esModule",{value:!0});b.xDa=void 0;q=a(1);f=a(0);k=a(28);a=a(35);c.prototype.s5a=function(d){var g,h;g=this;h=d.map(function(m){return m.links.releaseLicense.href;}).map(function(m){return g.Rd.oV(m.substring(m.indexOf("?") + 1));});return {X:!0,ee:d.map(function(m,n){return {id:m.drmSessionId,UF:h[n].drmlicensecontextid,oU:h[n].licenseid};}),Ni:d.map(function(m){return {data:g.xx.decode(m.licenseResponseBase64),sessionId:m.drmSessionId};})};};l=c;l=q.__decorate([f.R(),q.__param(0,f.l(k.Hf)),q.__param(1,f.l(a.Rh))],l);b.xDa=l;},function(q,b,a){var f,k,l,d,g,h;function c(m){return l.aq.call(this,m,k.L.Qdb,d.wo.start,3,h.ah.cu) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;q=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);ka(c,l.aq);a=c;a=q.__decorate([f.R(),q.__param(0,f.l(g.im))],a);b.yGa=a;},function(q,b,a){var f,k,l,d,g,h;function c(m){return l.aq.call(this,m,k.L.RFa,d.wo.stop,3,h.ah.daa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;q=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);ka(c,l.aq);a=c;a=q.__decorate([f.R(),q.__param(0,f.l(g.im))],a);b.CGa=a;},function(q,b,a){var f,k,l,d,g,h;function c(m){return l.aq.call(this,m,k.L.J$,d.wo.eU,1,h.ah.fI) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;q=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);ka(c,l.aq);a=c;a=q.__decorate([f.R(),q.__param(0,f.l(g.im))],a);b.iAa=a;},function(q,b,a){var f,k,l,d,g,h;function c(m){return l.aq.call(this,m,k.L.PFa,d.wo.splice,1,h.ah.fI) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;q=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);ka(c,l.aq);a=c;a=q.__decorate([f.R(),q.__param(0,f.l(g.im))],a);b.tGa=a;},function(q,b,a){var f,k,l,d,g,h;function c(m){return l.aq.call(this,m,k.L.v$a,d.wo.MS,3,h.ah.fI) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gya=void 0;q=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);ka(c,l.aq);c.prototype.U0=function(m){return Object.assign(Object.assign({},l.aq.prototype.U0.call(this,m)),{action:m.action});};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(g.im))],a);b.gya=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u,t,w,v,x,y,z,B){this.hh=p;this.Bf=u;this.ki=t;this.hub=w;this.HF=v;this.aXb=x;this.gha=y;this.cQb=z;this.qB=B;}Object.defineProperty(b,"__esModule",{value:!0});b.nDa=void 0;q=a(1);f=a(0);k=a(121);l=a(70);d=a(482);g=a(479);h=a(92);m=a(115);n=a(321);r=a(93);a=a(85);c=q.__decorate([f.R(),q.__param(0,f.l(k.FH)),q.__param(1,f.l(m.dA)),q.__param(2,f.l(l.ku)),q.__param(3,f.l(g.qDa)),q.__param(4,f.l(h.cA)),q.__param(5,f.l(n.BHa)),q.__param(6,f.l(r.lY)),q.__param(7,f.l(d.VDa)),q.__param(8,f.l(a.rw))],c);b.nDa=c;},function(q,b,a){var f,k,l,d,g;function c(h){return d.Sh.call(this,h,k.L.P7a,2,l.Ai.bind,l.ah.cu,l.Ai.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;q=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);ka(c,d.Sh);c.prototype.Of=function(h,m,n){var r;r=this;return this.send(h,"/" + this.name,m,void 0,void 0,n).then(function(p){return p.result;}).catch(function(p){throw r.Im(p);});};c.prototype.np=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.im))],g);b.iDa=g;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.hdb="PboPairCommandSymbol";},function(q,b,a){var f,k,l,d,g;function c(h){return d.Sh.call(this,h,k.L.ncb,2,l.Ai.x_a,l.ah.cu,l.Ai.x_a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;q=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);ka(c,d.Sh);c.prototype.Of=function(h,m,n){var r;r=this;return this.send(h,"/" + this.name,m,void 0,void 0,n).then(function(p){return p.result;}).catch(function(p){throw r.Im(p);});};c.prototype.np=function(){return Promise.reject(Error("Links are unsupported with pair"));};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.im))],g);b.GDa=g;},function(q,b,a){var f,k,l,d,g;function c(h){return d.Sh.call(this,h,k.L.Q7a,2,l.Ai.bind,l.ah.cu,l.Ai.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;q=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);ka(c,d.Sh);c.prototype.Of=function(h,m,n){var r;r=this;return this.send(h,"/bindDevice",m,void 0,void 0,n).then(function(p){return p.result;}).catch(function(p){throw r.Im(p);});};c.prototype.np=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.im))],g);b.jDa=g;},function(q,b,a){var f,k,l,d,g;function c(h){return d.Sh.call(this,h,k.L.Fcb,1,l.Ai.ping,l.ah.cu,l.Ai.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;q=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);ka(c,d.Sh);c.prototype.Of=function(h,m,n){var r;r=this;return this.send(h,"/" + this.name,m,void 0,void 0,n).then(function(p){return p.result;}).catch(function(p){throw r.Im(p);});};c.prototype.np=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.im))],g);b.HDa=g;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.jdb="PboPingCommandSymbol";},function(q,b,a){var f,k,l,d,g;function c(h){return d.Sh.call(this,h,k.L.M$a,2,l.Ai.sa,l.ah.cu,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tDa=void 0;q=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);ka(c,d.Sh);c.prototype.Of=function(h,m){var n;n=this;return this.send(h,"/generateScreenshots",m).then(function(r){return r.result;}).catch(function(r){throw n.Im(r);});};c.prototype.np=function(h,m,n){var r;r=this;return this.send(h,m.rT("generateScreenshots").href,n).then(function(p){return p.result;}).catch(function(p){throw r.Im(p);});};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(a.im))],g);b.tDa=g;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w,v,x;function c(y,z,B,A,C,E,F,D,G,I){this.ki=y;this.platform=z;this.config=B;this.Wnb=A;this.MMb=C;this.Sl=E;this.NR=F;this.wa=D;this.k5=G;this.zm=I;}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;q=a(1);f=a(0);k=a(119);l=a(15);d=a(216);g=a(354);h=a(516);m=a(79);n=a(34);r=a(40);p=a(5);u=a(163);t=a(70);w=a(323);v=a(25);x=a(59);c.prototype.transform=function(y,z){var B,A,C,E,F,D,G,I,J,H,M,O,L;B=this;D=y.kb;G=Object.assign({},D.K0,D.jo);I={};J=y.da;I[J]={unletterboxed:! !G.preferUnletterboxed};H=this.config();M=H.nXb?30:25;O=H.Cr?this.Sl.ozb():Promise.resolve(this.k5.Gs());L=null === (C=null === (A=H.yta) || void 0 === A?void 0:A[null === D || void 0 === D?void 0:D.Zd]) || void 0 === C?void 0:C.hw;A=null === (F=null === (E=H.yta) || void 0 === E?void 0:E[null === D || void 0 === D?void 0:D.Zd]) || void 0 === F?void 0:F.YA;return Promise.all([this.zm.xUa(A),this.zm.zUa(L),this.zm.dL(),this.zm.k3(),this.Lyb(y.ba,z),this.szb(y),O]).then(function(P){var R,K,Q,N,da,na;R=aa(P);K=R.next().value;Q=R.next().value;N=R.next().value;da=R.next().value;na=R.next().value;P=R.next().value;R=R.next().value;K=(K || []).concat(Q || []).concat(B.config().$v).concat(["BIF240","BIF320"]).filter(Boolean);da=da?da.DEVICE_SECURITY_LEVEL:void 0;Q="postplay" === D.Zd?!0:! !G.isUIAutoPlay;N={type:"standard",viewableId:J,profiles:K,flavor:y.fv,drmType:R,drmVersion:M,usePsshBox:!0,isBranching:! !y.kb.Ol,useHttpsStreams:!0,supportsUnequalizedDownloadables:B.config().BUb,imageSubtitleHeight:d.DZ.hka(),uiVersion:B.ki.Ez,uiPlatform:B.ki.w8,clientVersion:B.platform.version,supportsPreReleasePin:B.config().Mq.xUb,supportsWatermark:B.config().Mq.yUb,showAllSubDubTracks:B.config().Mq.aTb || ! !G.showAllSubDubTracks,packageId:B.JAb(D),deviceSecurityLevel:da,videoOutputInfo:N,titleSpecificData:I,preferAssistiveAudio:! !G.assistiveAudioPreferred,preferredTextLocale:G.preferredTextLocale,preferredAudioLocale:G.preferredAudioLocale,isUIAutoPlay:Q,challenge:na,isNonMember:B.ki.cma,pin:D.X_a,desiredVmaf:B.config().iXb?B.config().Ltb:B.config().Mtb};D.rRa && (N.extraParams=D.rRa);D.XPa && (N.desiredDownloadables=D.XPa);D.Xqa && (N.requestReference=D.Xqa);na={Vk:P?"licensedManifest":"manifest",Xu:null === P || void 0 === P?void 0:P.Nb};P && (P={drmSessionId:P.Nb.ky() || "session",clientTime:B.wa.x7.ea(p.nn),challengeBase64:P.Sfa},N.challenges={"default":[P]},N.profileGroups=[{name:"default",profiles:K}],N.licenseType=y.Qf == x.Th.kn?"limited":"standard",y.ba && (N.xid=y.ba.toString()));B.ki.QQa && y.fv === k.Xj.xZ && (N.maxSupportedLanguages=2);return [N,na];});};c.prototype.JAb=function(y){if(this.config().N6.enabled){if(void 0 !== y.Ep)return y.Ep;if(void 0 !== this.config().N6.Ep)return Number(this.config().N6.Ep);}};c.prototype.Lyb=function(y,z){var B;B=this;return this.Wnb.ESa(z).then(function(A){var C;C=y && B.MMb.QAb(y);C && C.Vo("cad");return A;});};c.prototype.szb=function(y){var z;if(void 0 === y.Qf || !this.config().Cr)return Promise.resolve(void 0);z=y.Qf === x.Th.Co && this.ki.l1;return y.Qf === x.Th.kn && this.ki.RQa || z?this.NR.ska(y.Qf):Promise.resolve(void 0);};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(t.ku)),q.__param(1,f.l(n.Kk)),q.__param(2,f.l(l.dd)),q.__param(3,f.l(g.Tva)),q.__param(4,f.l(h.Uaa)),q.__param(5,f.l(m.gu)),q.__param(6,f.l(u.VX)),q.__param(7,f.l(r.wi)),q.__param(8,f.l(w.baa)),q.__param(9,f.l(v.qw))],a);b.FDa=a;},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r,p){this.platform=m;this.config=n;this.NR=r;this.zm=p;}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;q=a(1);f=a(0);k=a(15);l=a(34);d=a(163);g=a(25);h=a(59);c.prototype.transform=function(m){var n,r;n=this;r=m.kb;return Promise.all([this.zm.xUa(),this.zm.zUa(),this.NR.ska(h.Th.Co)]).then(function(p){var u,t;u=aa(p);p=u.next().value;t=u.next().value;u=u.next().value;return [{viewableId:m.da,packageId:r.Ep,assetId:r.Tea,challenge:u.Sfa,audioProfiles:p,textProfiles:n.config().$v,trickplayProfiles:["BIF240","BIF320"],videoProfiles:t,audioLanguages:r.Tlb,textLanguages:r.TUb,videoLanguages:r.E6a?[r.E6a]:void 0,requestReference:r.Xqa},{Xu:null === u || void 0 === u?void 0:u.Nb,Vk:"studioManifest"}];});};a=c;a=q.__decorate([f.R(),q.__param(0,f.l(l.Kk)),q.__param(1,f.l(k.dd)),q.__param(2,f.l(d.VX)),q.__param(3,f.l(g.qw))],a);b.WDa=a;},function(q,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;q=a(0);c=a(212);f=a(480);k=a(1166);l=a(1167);d=a(1168);g=a(38);b.transports=new q.ad(function(h){h(c.HZ).to(d.pHa).$();h(f.pCa).to(k.oCa);h(f.wGa).to(l.vGa);h(f.qHa).sf(function(m){return function(n){var r;return m.$a.get(c.HZ).F7(null !== (r=null === n || void 0 === n?void 0:n.qJb) && void 0 !== r?r:g.hu.EP)?m.$a.get(f.pCa):m.$a.get(f.wGa);};});});},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p,u){var t;t=this;this.lC=r;this.receiver=p;this.profile=u;this.log=n.Cb("MslTransport");this.lC().then(function(w){return t.G5=w;});}Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;q=a(1);f=a(0);k=a(8);l=a(141);d=a(5);g=a(188);a=a(89);h={license:!0};c.prototype.send=function(n,r){var p,u;p=this;u={eZa:Object.assign({Bf:n.Bf,log:n.log,profile:this.profile},n.Gmb),method:n.Vk,url:n.url.href,body:JSON.stringify(r),timeout:n.timeout.ea(d.ma),tXb:this.profile,f7b:!h[n.Vk],JJb:! !h[n.Vk],kk:!0,h7:n.lra,headers:n.headers};!1;return this.lC().then(function(t){return t.send(u).then(function(w){p.receiver.KM({command:n.Vk,inputs:r,outputs:w});return w;}).catch(function(w){var v;if(!w.error)throw (w.jc=w.oa || w.jc,p.receiver.KM({command:n.Vk,inputs:r,outputs:w}),w);v=w.error;v.EC=w.EC;p.log.error("Error sending MSL request",{mslCode:v.Av,subCode:v.jc,data:v.data,message:v.message});p.receiver.KM({command:n.Vk,inputs:r,outputs:v});throw v;});});};c.prototype.Dga=function(){var n;return {userTokens:null === (n=this.G5) || void 0 === n?void 0:n.OU.getUserIdTokenKeys()};};m=c;m=q.__decorate([f.R(),q.__param(0,f.l(k.Kb)),q.__param(1,f.l(l.pP)),q.__param(2,f.l(g.iZ)),q.__param(3,f.l(a.GP))],m);b.oCa=m;},function(q,b,a){var f,k,l,d,g;function c(h,m,n){this.receiver=m;this.Bf=n;this.log=h.Cb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;q=a(1);f=a(0);k=a(5);l=a(8);d=a(188);a=a(115);c.prototype.send=function(h,m){var n,r;n=this;r={url:h.url.href,hF:"nq-" + h.Vk,Lpa:JSON.stringify(m),s1:h.timeout.ea(k.ma),headers:h.headers,withCredentials:!0};!1;return new Promise(function(p,u){n.Bf.download(r,function(t){t.X?p(t):u(t);});}).then(function(p){p={status:"success",body:p.content};n.receiver.KM({command:h.Vk,inputs:m,outputs:p});return p;}).catch(function(p){var u;if(!p.error)throw (p.jc=p.oa || p.jc,n.receiver.KM({command:h.Vk,inputs:m,outputs:p}),p);u=p.error;u.EC=p.EC;n.log.error("Error sending SSL request",{subCode:u.jc,data:u.content,message:u.message});n.receiver.KM({command:h.Vk,inputs:m,outputs:u});throw u;});};c.prototype.Dga=function(){return {};};g=c;g=q.__decorate([f.R(),q.__param(0,f.l(l.Kb)),q.__param(1,f.l(d.iZ)),q.__param(2,f.l(a.dA))],g);b.vGa=g;},function(q,b,a){var f,k,l,d,g;function c(h){return k.ff.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=void 0;q=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(38);ka(c,k.ff);c.prototype.F7=function(h){var m,n;m=this.x6a;n=this.QLa;switch(h){case g.hu.EP:return m;case g.hu.ZEa:return m && !n;case g.hu.ecb:return !1;}};Xa.Object.defineProperties(c.prototype,{x6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},QLa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;q.__decorate([d.config(d.ud,"usesMsl")],a.prototype,"x6a",null);q.__decorate([d.config(d.ud,"allowRequestsWithoutMsl")],a.prototype,"QLa",null);a=q.__decorate([f.R(),q.__param(0,f.l(l.km))],a);b.pHa=a;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Mi=void 0;q=a(0);c=a(495);f=a(1170);b.Mi=new q.ad(function(k){k(c.wAa).to(f.vAa);});},function(q,b,a){var f,k,l,d,g,h,m,n;function c(r,p,u,t,w){this.kF=r;this.hp=p;this.config=u;this.UL=t;this.pd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.vAa=void 0;q=a(1);f=a(0);k=a(120);l=a(1171);d=a(1172);g=a(68);h=a(15);m=a(134);a=a(116);c.prototype.create=function(r,p,u){return r?new l.xAa(this.config(),this.hp,this.pd,p,u,this.kF,this.UL()):new d.rAa(this.config,this.pd,p,u);};n=c;n=q.__decorate([f.R(),q.__param(0,f.l(k.oY)),q.__param(1,f.l(g.bu)),q.__param(2,f.l(h.dd)),q.__param(3,f.l(m.lP)),q.__param(4,f.l(a.SD))],n);b.vAa=n;},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u,t,w,v,x,y){w=m.mO.call(this,w,v) || this;w.config=p;w.hp=u;w.pd=t;w.kF=x;w.Nna=y;w.log=k.Ih(w.j,"LicenseBroker");w.mU=new Set();w.Mna=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;q=a(1);f=a(3);k=a(7);l=a(312);d=a(5);g=a(0);h=a(268);m=a(518);n=a(59);r=a(18);ka(c,m.mO);c.prototype.e6=function(){var p,u;p=this;u=this.j.fa;this.mU.has(u.K) || (this.mU.add(u.K),this.olb(u).catch(function(){return p.O1a(u);}).then(function(){return p.hMa(u);}).catch(function(t){return p.gMa(u,t);}).catch(function(t){return p.Ld(t.code,t,t.wd);}));};c.prototype.olb=function(p){var u;u=this;return Promise.all([this.pd.ASa(p.K),this.kF()]).then(function(t){var w,v;t=aa(t);w=t.next().value;v=t.next().value;return w.y7.then(function(x){var y;if("manifest" === w.source){y=u.yTa(p);v.$Ya(y,x);}return x;}).then(function(x){return u.C0(x,p,w.source);});}).catch(function(t){u.log.warn("eme not in cache",t);throw t;});};c.prototype.C0=function(p,u,t){this.F0a(p,u);u.QE=t;this.Nna.setMediaKeys(p.mediaKeys);return p.Lea();};c.prototype.yxb=function(p){var u;u={};p.forEach(function(t){u[l.xQa(t.GU)]=t.time.ea(d.ma);});return u;};c.prototype.F0a=function(p,u){var t;t=this;u.we=p;p.TRb(function(w){t.Ld(w.code,w,w.wd);});};c.prototype.hMa=function(p){this.log.info("Successfully applied license for xid: " + p.ba + ", viewable: " + p.K + ", segment: " + p.va);this.uy(p);this.Mna?this.z2(p.K):this.setMediaKeys(p);};c.prototype.gMa=function(p,u){this.uy(p);throw u;};c.prototype.uy=function(p){p.we && p.uy(this.yxb(p.we.bd));};c.prototype.yTa=function(p){var u;return {type:this.c3(!1),initData:p.Bt.map(function(t){return k.Dq(t);}),context:{Xe:this.config.Xe,la:this.Ib.la,zt:null === (u=p.Qh.value) || void 0 === u?void 0:u.zt},li:{K:p.K,ba:p.ba,Ti:p.Ti,Kl:p.Kl,Fj:p.sa.Fj}};};c.prototype.O1a=function(p){var u;u=this;return this.kF().then(function(t){var w;w=u.yTa(p);u.mU.add(p.K);return t.ig(w,u.Nna).then(function(v){u.F0a(v,p);u.j.fireEvent(r.W.LL,{K:p.K});return v.Lea();});});};c.prototype.setMediaKeys=function(p){var u;u=this;if(this.Mna)this.log.trace("Media Keys already set");else try{this.Ib.la?this.Ib.la.setMediaKeys(p.we.mediaKeys).then(function(){u.z2(p.K);u.Mna=!0;}).catch(function(t){t=u.JUa(t);u.Ld(f.L.mI,t,t.Ve);}):this.z2(p.K);}catch(t){this.Ld(f.L.mI,t,void 0);}};c.prototype.jz=function(){var p,u;p=this;u=this.j.fa.we;return u?this.kF().then(function(t){return t.release(u,p.Nna).then(function(w){p.log.trace("Successfully released the license");return w.close();}).catch(function(w){p.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.N1a=function(p){var u;u=this;p=void 0 === p?this.j:p;return this.O1a(p).then(function(){return u.hMa(p);}).catch(function(t){return u.gMa(p,t);});};c.prototype.c3=function(p){return this.hp.ZS?n.Th.kn:p?n.Th.kn:n.Th.Co;};Xa.Object.defineProperties(c.prototype,{oC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Xe:{configurable:!0,enumerable:!0,get:function(){return this.config.Xe;}}});a=c;q.__decorate([h.jU],a.prototype,"oC",null);a=q.__decorate([g.R()],a);b.xAa=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u;function c(t,w,v,x){v=r.mO.call(this,v,x) || this;v.config=t;v.pd=w;v.log=k.Ih(v.j,"LegacyLicenseBroker");v.Xe=v.config().Xe;v.config().L0a?d.vWa()?v.F8=!0:v.log.error("Promise based eme requested but platform does not support it",{browserua:g.jA}):v.F8=!1;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.rAa=void 0;q=a(1);f=a(3);k=a(7);l=a(139);d=a(47);g=a(11);h=a(0);m=a(268);n=a(34);r=a(518);p=a(59);ka(c,r.mO);c.prototype.bPa=function(t){var w;w=void 0 === w?this.j:w;return new this.ar.RH(t,function(v){return w.$R.yF(v);},function(v){return w.$R.release(v);},{We:!1,qk:!1});};c.prototype.bF=function(t){var w,v,x,y,z,B;w=this;t=void 0 === t?this.j:t;v=a(51).Hi;this.ar.RH || this.Ld(f.L.cI,f.M.n$a);x=k.Ih(t,"Eme");y=this.bPa(x);z=k.ha.get(l.MP);B=z.x1(t.Bd.value.streams);z=z.A1(t.Qh.value.streams);return this.ar.TH(x,function(A){return t.Od(A);},{We:!1,qk:!1,wa:{getTime:v},ml:y,EV:! !this.F8,la:this.Ib.la,Kz:this.config().PQa,onerror:function(A,C,E){return w.Ld(A,C,E);},xoa:function(){},rG:!0,Slb:B,OXb:z,U3:this.config().U3});};c.prototype.setMediaKeys=function(t){var w;w=this;return this.F8?new Promise(function(v,x){if(w.Ib.la)w.Ib.la.setMediaKeys(t).then(function(){v();}).catch(function(y){var z;z=w.JUa(y);x({X:!1,code:f.L.mI,jc:z.oa,wd:z.Ve,sb:z.sb,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.jRa=function(t){return {code:t.code,subCode:t.jc,extCode:t.wd,edgeCode:t.Bm,message:t.message,errorDetails:t.sb,errorData:t.EK,state:t.state};};c.prototype.Wra=function(t,w,v){var y,z,B;function x(){z.CG().catch(function(A){y.log.error("Unable to set the license",y.jRa(A));A.cause && A.cause.sb && (A.sb=A.sb?A.sb + A.cause.sb:A.cause.sb);y.Ld(A.code,A,A.wd);});}y=this;v=void 0 === v?this.j:v;z=v.we;this.log.info("Setting the license");B=w?function(){return Promise.resolve();}:function(){return z.ig(y.c3(!1),t);};return (w?function(){return z.C0(y.Ib.la);}:function(){return z.create(y.Xe).then(function(){return Promise.resolve();});})().then(function(){return y.config().d3a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(B).then(function(){return y.config().d3a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.z2(v.K);y.Ib.Q6a.then(function(){y.config().$B && (w || y.config().ZS) && (y.I1a=pb.setTimeout(x,y.config().$B));});}).catch(function(A){y.log.error("Unable to set the license",y.jRa(A));A.cause && A.cause.sb && (A.sb=A.sb?A.sb + A.cause.sb:A.cause.sb);if(w)throw Error(A && A.message?A.message:"failed to set license");y.Ld(A.code,A,A.wd);});};c.prototype.jz=function(){return Promise.resolve();};c.prototype.e6=function(){var w;function t(){var v;w.j.we=w.bF();v=[];w.j.Bt.forEach(function(x){v.push(k.Dq(x));});w.Wra(v);}w=this;this.mU || (this.mU=!0,this.ar.TH?this.j.Bt?this.config().HS && this.config().Iv?this.pd.ASa(this.j.K).then(function(v){w.j.we=v;return v.fua.then(function(){var x;x=[];w.j.Bt.forEach(function(y){x.push(k.Dq(y));});return w.Wra(x,!0).then(function(){var y;if(v.S3b)w.Ld(f.L.q$a);else {y=k.Ih(w.j,"Eme");v.a6a({log:y,Sm:function(z){return w.j.Od(z);}},{ml:w.bPa(y),onerror:function(z,B,A){return w.Ld(z,B,A);}});w.j.uy(v.bd || ({}));w.j.QE="videopreparer";}});});}).catch(function(v){w.log.warn("eme not in cache",v);t();}):t():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Ld(f.L.Scb)):this.Ld(f.L.cI,f.M.o$a));};c.prototype.N1a=function(t){var w;t=void 0 === t?this.j:t;t.we=this.bF();w=[];t.Bt.forEach(function(v){w.push(k.Dq(v));});return this.Wra(w,!1,t);};c.prototype.c3=function(t){return this.config().ZS?p.Th.kn:t?p.Th.kn:p.Th.Co;};Xa.Object.defineProperties(c.prototype,{ar:{configurable:!0,enumerable:!0,get:function(){return k.ha.get(n.kA);}},oC:{configurable:!0,enumerable:!0,get:function(){return this.F8?"encrypted":this.Ib.e$ + "needkey";}}});u=c;q.__decorate([m.jU],u.prototype,"ar",null);q.__decorate([m.jU],u.prototype,"oC",null);u=q.__decorate([h.R()],u);b.rAa=u;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t;Object.defineProperty(b,"__esModule",{value:!0});b.Lh=void 0;q=a(0);c=a(519);f=a(1174);k=a(290);l=a(1179);d=a(185);g=a(1181);h=a(1182);m=a(154);n=a(520);r=a(1183);p=a(521);u=a(1185);t=a(92);b.Lh=new q.ad(function(w){w(c.KEa).to(f.JEa).$();w(k.Xaa).to(l.WEa).$();w(d.jZ).to(g.HEa).$();w(m.sI).to(h.FEa).$();w(n.QEa).to(r.PEa).$();w(p.UEa).sf(function(v){var x;x=v.$a;return function(y){return new u.VEa(y,x.get(t.cA),x.get(m.sI));};});});},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u,t,w,v,x,y){this.Bg=p;this.sia=u;this.kl=t;this.CM=w;this.nta=v;this.YMb=x;this.ZMb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;q=a(1);f=a(0);k=a(1175);l=a(8);d=a(154);g=a(324);h=a(520);m=a(185);n=a(332);a=a(521);c.prototype.create=function(p){return new k.LEa(p,this.Bg,this.sia,this.CM,this.kl,this.nta,this.YMb,this.ZMb);};r=c;r=q.__decorate([f.R(),q.__param(0,f.l(l.Kb)),q.__param(1,f.l(g.HO)),q.__param(2,f.l(d.sI)),q.__param(3,f.l(m.jZ)),q.__param(4,f.l(n.nHa)),q.__param(5,f.l(h.QEa)),q.__param(6,f.l(a.UEa))],r);b.JEa=r;},function(q,b,a){var f,k,l;function c(d,g,h,m,n,r,p,u){this.CM=m;this.nta=r;this.WS=!1;n.E8 && (d=new l.MEa().JVb(d));this.xb=u(d);this.Uj=new k.XEa(this.xb);this.Uj.Y2a(this.xb.fa.da);this.log=g.Cb("PlaygraphManager");this.Pb=h.create();this.Gv=p.create(this.xb,this.Uj,this.log,this.Pb);this.ESb();}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;f=a(18);k=a(1176);l=a(1178);c.prototype.TAb=function(){return this.xb.y6;};c.prototype.$K=function(){return this.xb.fa;};c.prototype.PSa=function(){return this.xb.Fh;};c.prototype.UAb=function(){return this.xb.Xl;};c.prototype.Ak=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.xb.Ak.apply(this.xb,ca(g));};c.prototype.Oob=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.xb.wMa(g);};c.prototype.gX=function(d){this.xb.Xl=d;};c.prototype.ti=function(d,g){this.xb.ti(d,g);};c.prototype.Mka=function(d,g,h){h=void 0 === h?{}:h;if(d !== this.xb.Fh)throw Error("Invalid currentSegmentId");if(g !== this.xb.h3(d))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);return this.Gv.Nka(g,h);};c.prototype.isReady=function(){return this.Gv.isReady();};c.prototype.addListener=function(d,g,h){this.Pb.addListener(d,g,h);};c.prototype.removeListener=function(d,g){this.Pb.removeListener(d,g);};c.prototype.qp=function(){return this.Gv.qp();};c.prototype.cl=function(){return this.Gv.cl();};c.prototype.zq=function(d){var g,h;g=this;this.log.info("Adding segment - movieId: " + d.K + ", startPts: " + d.Z + ", logicalEnd: " + d.uk);h=Object.keys(this.xb.Xl.Ca).find(function(m){return g.xb.Xl.Ca[m].da === d.K;});d.id || (d.id=null !== h && void 0 !== h?h:this.CM.fT(d.K));d.sa && this.Uj.FE(d.K,d.sa);this.Uj.Bkb(d.K,Object.assign({},d.Fb,d.Z?{Z:d.Z}:{},d.uk?{uk:d.uk}:{}));if(!this.WS)return (h=this.Gv.GM(d.id),this.cl().oy().addEventListener(f.W.NG,function(m){return g.qC(m);}),this.WS=!0,h);h || (this.xb.Xl=this.CM.nlb(this.xb.Xl,d),this.cl().oy().TA("addSegment movieId: " + d.K + ", startPts: " + d.Z + ", logicalEnd: " + d.uk));d.uk && this.xb.IWb(d.id,d.uk);return this.Gv.GM(d.id);};c.prototype.transition=function(d){var g;g=this.xb.h3(this.xb.Fh);return g?this.Mka(this.xb.Fh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Gv.close(d);};c.prototype.ESb=function(){var d;d=this;this.xb.mUb(function(){d.Uj.mG();d.Gv.mG();});this.xb.nUb(function(g){d.Gv.Woa(g);});this.addListener(f.tI.q7,function(){return d.dLb();});this.addListener(f.Rb.aWa,function(g){return d.SKb(g);});};c.prototype.SKb=function(d){var g;g=this;this.Gv.C5a(d).catch(function(){return g.Pb.tc(f.Rb.error,d.gta());});};c.prototype.dLb=function(){var d;d=this.cl().getError();d?this.Pb.tc(f.Rb.Efa,d):(this.Pb.tc(f.Rb.EMa),this.Pb.tc(f.Rb.xR),this.Pb.tc(f.Rb.kH),this.Pb.tc(f.Rb.Az),this.Pb.tc(f.Rb.bX),this.Pb.tc(f.Rb.Efa));};c.prototype.qC=function(d){var g,h,m;!1;g=d.metrics;if(g){h=this.cl().oy();m=h.Qq(d.segmentId);g=h.Qq(g.srcsegment);this.nta.gOb(d,m,g);}};b.LEa=c;},function(q,b,a){var f;function c(k){this.Fa=k;this.XN={};this.mG();}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;f=a(1177);c.prototype.mG=function(){var k;k=this;Object.values(this.Fa.Xl.Ca).forEach(function(l){l=l.da;k.XN[l] || k.XVa(l);});this.z8();};c.prototype.kL=function(k){return this.XN[k];};c.prototype.VRb=function(k){this.xT(k).state=f.Nw.Cya;this.z8();};c.prototype.URb=function(k,l){k=this.xT(k);k.state=f.Nw.Error;k.error=l;k.g2a(!1);this.z8();};c.prototype.Y2a=function(k){k=this.xT(k);k.state=f.Nw.g$a;k.g2a(!0);this.z8();};c.prototype.Bkb=function(k,l){this.xT(k).Fb=l;};c.prototype.FE=function(k,l){this.xT(k).sa=l;};c.prototype.xT=function(k){var l;return null !== (l=this.kL(k)) && void 0 !== l?l:this.XVa(k);};c.prototype.XVa=function(k){var l,d;l=void 0;d=new Promise(function(g,h){l=function(m){(m?g:h)();};});return this.XN[k]={state:f.Nw.yCa,JOb:d,g2a:l};};c.prototype.z8=function(){var l;for(var k=this.Fa.Fh;k=this.Fa.h3(k);){l=this.Ls(k);if(this.XN[l].state === f.Nw.Error)break;if(this.XN[l].state === f.Nw.Cya)break;if(this.XN[l].state === f.Nw.yCa)break;}};c.prototype.Ls=function(k){return this.Fa.Xl.Ca[k].da;};b.XEa=c;},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nw=void 0;q=b.Nw || (b.Nw={});q[q.yCa=0]="None";q[q.Cya=1]="Fetching";q[q.g$a=2]="Done";q[q.Error=3]="Error";},function(q,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;f=a(73);c.prototype.JVb=function(k){var l;if(!this.hFb(k.Ca))return k;l=new f.rI().rW(k.hg);Object.entries(k.Ca).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;d === k.hg?l.zq(d,Object.assign(Object.assign({},g),{next:void 0,Yc:void 0,Ki:void 0})):l.zq(d,g);});return l.ek();};c.prototype.hFb=function(k){k=Object.values(k).map(function(l){return l.da;});return 1 === new Set(k).size;};b.MEa=c;},function(q,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;q=a(1);f=a(0);c.prototype.create=function(k,l){return new (a(291).JZ)(k,l);};c.prototype.lPa=function(k,l){return new (a(1180).MHa)(k,l);};q=q.__decorate([f.R()],c);b.WEa=q;},function(q,b,a){var f;function c(k,l){var d;d=f.JZ.call(this,k,l) || this;d.seek=function(g){return d.Mb().seek(g);};d.addEpisode=function(g){var h,m;d.log.info("Next episode added",g);h=d.ZXa(g.playbackParams);m=("startPts" in g)?g.startPts:("nextStartPts" in g)?g.nextStartPts:h.Z;if(void 0 === m || 0 > m)m=0;return d.Lh.zq({K:g.movieId,Z:m,uk:("endPts" in g)?g.endPts:("currentEndPts" in g)?g.currentEndPts:h.uk,Fb:h,sa:g.manifest,Wl:d.Wl});};d.playNextEpisode=function(g){g=void 0 === g?{}:g;g=d.ZXa(g);d.log.info("Playing the next episode",g);return d.Lh.Mka(d.Lh.PSa(),d.Lh.$K().Ki,g);};d.watchCredits=function(){};d.playSegment=function(g){return d.Mb().IMb(g);};d.queueSegment=function(g){return d.Mb().AOb(g);};d.updateNextSegmentWeights=function(g,h){return d.Mb().ti(g,h);};d.setNextSegment=function(g){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}h=h.map(function(n){return {va:n.segmentId,UU:n.nextSegmentId};});d.Lh.Ak.apply(d.Lh,ca(h));};d.clearNextSegment=function(g){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}return d.Lh.Oob.apply(d.Lh,ca(h));};d.goToNextSegment=function(g,h){return d.Lh.Mka(g,h);};d.getPlaying=function(){return d.isPlaying();};d.getPaused=function(){return d.isPaused();};d.getMuted=function(){return d.isMuted();};d.getEnded=function(){return d.isEnded();};d.getTimedTextVisibility=function(){return d.isTimedTextVisible();};d.isTimedTextVisible=function(){return ! !d.Mb().r3().visibility;};d.setTimedTextVisibility=function(g){return d.setTimedTextVisible(g);};d.setTimedTextSize=function(g){return d.Mb().uW({size:g});};d.setTimedTextBounds=function(g){return d.Mb().uW({bounds:g});};d.setTimedTextMargins=function(g){return d.Mb().uW({margins:g});};d.setTimedTextVisible=function(g){return d.Mb().uW({visibility:g});};d.getCongestionInfo=function(g){g && g({success:!1,name:null,isCongested:null});};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;f=a(291);ka(c,f.JZ);b.MHa=c;},function(q,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;q=a(1);f=a(0);k=a(73);c.prototype.gsb=function(l){var h,m,n;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;if(0 === d.length)throw Error("Empty playgraph");m=new k.rI().rW(this.fT(d[0]));d.reverse().forEach(function(r){var p;p=h.fT(r);m.zq(p,Object.assign({da:r,xc:0,Yc:Infinity},n?{Ki:n}:{}));n=p;});return m.ek();};c.prototype.fT=function(l,d){return l + ":[startPts:" + (void 0 === d?0:d) + "]";};c.prototype.nlb=function(l,d){var g,h,m,n;if(void 0 === m)m=null !== (h=d.id) && void 0 !== h?h:this.fT(d.K,d.Z);void 0 === g && (g="pauseAtStart");h=this.dAb(l);n=new k.rI(l);n.zq(m,{da:d.K,xc:d.Z || 0,Yc:Infinity,Yd:g});l=l.Ca[h];d={};n.zq(h,Object.assign({},l,{Ki:m,next:Object.assign({},l.next || ({}),(d[m]={},d))}));return n.ek();};c.prototype.dAb=function(l){for(var d=l.hg,g=d;g=l.Ca[g].Ki;){d=g;}return d;};a=q.__decorate([f.R()],c);b.HEa=a;},function(q,b,a){var f,k,l,d,g;function c(h){return k.ff.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FEa=void 0;q=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(5);ka(c,k.ff);Xa.Object.defineProperties(c.prototype,{GNb:{configurable:!0,enumerable:!0,get:function(){return 2;}},FNb:{configurable:!0,enumerable:!0,get:function(){return g.B5(3);}},Xta:{configurable:!0,enumerable:!0,get:function(){return !1;}},E8:{configurable:!0,enumerable:!0,get:function(){return !1;}},t6a:{configurable:!0,enumerable:!0,get:function(){return !1;}},aSa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;q.__decorate([d.config(d.Fz,"prepareSegmentsUpfront")],a.prototype,"GNb",null);q.__decorate([d.config(d.vk,"prepareSegmentsDuration")],a.prototype,"FNb",null);q.__decorate([d.config(d.ud,"usePlaygraphForPostPlay")],a.prototype,"Xta",null);q.__decorate([d.config(d.ud,"usePlaygraphForSkipSegment")],a.prototype,"E8",null);q.__decorate([d.config(d.ud,"useSinglePlayerPlayback")],a.prototype,"t6a",null);q.__decorate([d.config(d.ud,"forcePlaygraphTrace")],a.prototype,"aSa",null);a=q.__decorate([f.R(),q.__param(0,f.l(l.km))],a);b.FEa=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u,t,w,v,x){this.Pa=p;this.hRb=t;this.kl=v;this.$n=x;this.fRb=u.xB(!1,"6.0031.809.911",p.id,x,w);}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;q=a(1);f=a(0);k=a(20);l=a(154);d=a(1184);g=a(329);h=a(205);m=a(15);n=a(522);a=a(36);c.prototype.create=function(p,u,t,w){var v,x;v=this.hRb.Wrb(p,this.fRb,u);x=p.Yta;t.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.rGa(this.kl,p,u,t,this.Pa,v,w):new n.xD(p,u,v,w);};r=c;r=q.__decorate([f.R(),q.__param(0,f.l(k.zd)),q.__param(1,f.l(g.dGa)),q.__param(2,f.l(h.pba)),q.__param(3,f.l(m.dd)),q.__param(4,f.l(l.sI)),q.__param(5,f.l(a.CP))],r);b.PEa=r;},function(q,b,a){var f,k,l,d,g;function c(h,m,n,r,p,u,t){var w;w=d.xD.call(this,m,n,u,t) || this;w.kl=h;w.ya=r;w.Pa=p;w.WS=!1;w.lia=new Map();w.VKb=function(){w.cl().oy().addEventListener(f.W.NG,function(v){w.xb.Fh=v.va;});};w.ODb();t.addListener(f.Rb.loaded,w.VKb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;f=a(18);k=a(5);l=a(3);d=a(522);g=a(122);ka(c,d.xD);c.prototype.mG=function(){this.cl().oy().mG();};c.prototype.Woa=function(){};c.prototype.Nka=function(h,m){var n,r,p;m=void 0 === m?{}:m;n=this.xb.Me(h);if(this.kl.E8 && this.xb.fa.da === n.da)return Promise.resolve(this.cl().seek(n.xc,f.Jd.Iw,void 0));m=g.Sna(this.Uj.kL(n.da).Fb,m);r=this.cl().oy();n=r.Ma;if(null === n || void 0 === n || !n.dh)throw (this.ya.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.ya.debug("going to next segment: " + this.xb.Fh + " -> " + h);r.TA("Transition " + this.xb.Fh + "->" + h);p=r.Qq(h);p.dm=this.Pa.Zb().ea(k.ma);p.kb=m;return (void 0 !== n.iT(h)?this.dCb(h,p.K):this.hW(h,p.K)).then(function(){r.wxb(p.K);});};c.prototype.hW=function(h,m){var n;n=this.xb.Xl.Ca[h].xc;this.ya.debug("Segment is not pre-buffered - performing a regular seek");this.cl().oy().TA("NO DATA " + h + ", SEEKING " + n + ", viewableId: " + m);return Promise.resolve(this.cl().seek(n,f.Jd.Iw,h,!0));};c.prototype.dCb=function(h,m){var n,r,p,u,t;n=this;r=this.cl().oy();p=r.Ma;if(null === p || void 0 === p || !p.dh)throw Error("No streaming session");u=new Promise(function(w){function v(){n.ya.debug("Stopped ASE");p.removeEventListener("stop",v);w();}p.addEventListener("stop",v);});t=new Promise(function(w){function v(){n.ya.debug("Repositioned");r.removeEventListener(f.W.Zl,v);w();}function x(){n.ya.debug("Repositioning");r.removeEventListener(f.W.EG,x);p.stop();}r.addEventListener(f.W.EG,x);r.addEventListener(f.W.Zl,v);});u=Promise.all([u,t]).then(function(){if(!p.ns(h,!1,!0))return (r.TA("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),n.hW(h,m));});t=p.dK(h,this.xb.Xl.Ca[h].xc);this.ya.debug("Calling seek on internal player to " + t);this.cl().seek(t,f.Jd.HD,h,!0);return u;};c.prototype.GM=function(h){return this.WS?this.Uj.kL(this.xb.Me(h).da).JOb:(this.WS=!0,d.xD.prototype.GM.call(this,h));};c.prototype.C5a=function(h){return h.errorCode && this.lia.has(h.errorCode)?this.lia.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};c.prototype.ODb=function(){var h;h=this;this.lia.set(l.L.aDa,function(){var m,n;return null !== (n=null === (m=d.xD.prototype.GM.call(h,h.xb.Fh)) || void 0 === m?void 0:m.then(function(){var r,p;d.xD.prototype.Nka.call(h,h.xb.Fh,null !== (p=null === (r=h.Uj.kL(h.xb.fa.da)) || void 0 === r?void 0:r.Fb) && void 0 !== p?p:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.rGa=c;},function(q,b,a){var f,k;function c(l,d,g){this.HF=d;this.kl=g;this.H_={};this.V5a=[];this.I3a=[];this.Qea=new WeakMap();this.reset(l);}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;f=a(73);k=a(73);c.prototype.reset=function(l){var d;d=1 < Object.keys(l.Ca).length && 1 === new Set(Object.values(l.Ca).map(function(g){return g.da;})).size;this.Ljb=this.kl.t6a || d;this.h3a(l);this.Fh=l.hg;this.tib=this.HF.lB();this.osa=new Map();};c.prototype.l3=function(l){if(this.Yta)return this.Xl;this.Qea.has(l) || this.Qea.set(l,f.XG(l.K,l.va));return this.Qea.get(l);};c.prototype.h3a=function(l){this.uib=l;this.H_={};l=Object.keys(l.Ca);this.wMa(l);this.eKb();};c.prototype.Ak=function(l){var h;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;d.filter(function(m){return h.jW(m.va);}).filter(function(m){m=m.UU;return !m || h.jW(m);}).forEach(function(m){h.H_[m.va]=h.LZa(m.UU);});};c.prototype.wMa=function(l){var d;d=this;l.filter(function(g){return d.jW(g);}).forEach(function(g){d.H_[g]=d.LZa(d.Me(g).Ki);});};c.prototype.ti=function(l,d){var g,h,m;g=this.Me(l);if(g && g.next){h=new k.rI(this.Xl);m=Object.keys(g.next).reduce(function(n,r){n[r]=void 0 === d[r]?g.next[r]:Object.assign({},g.next[r],{weight:d[r]});return n;},{});m=Object.assign({},g,{next:m});h.zq(l,m);this.Xl=h.ek();}};c.prototype.jW=function(l,d){d=void 0 === d?this.Xl.Ca:d;return (l in d);};c.prototype.h3=function(l){return this.H_[l];};c.prototype.Me=function(l){return this.Xl.Ca[l];};c.prototype.vBb=function(l){if(this.osa.has(l))return this.osa.get(l);l=this.Me(l);return isFinite(l.Yc)?l.Yc:void 0;};c.prototype.IWb=function(l,d){this.osa.set(l,d);this.aKb(l);};c.prototype.mUb=function(l){this.V5a.push(l);};c.prototype.nUb=function(l){this.I3a.push(l);};c.prototype.eKb=function(){var l;l=this;this.V5a.forEach(function(d){return d(l.Xl);});};c.prototype.aKb=function(l){this.I3a.forEach(function(d){return d(l);});};c.prototype.LZa=function(l){return null === l?void 0:l;};Xa.Object.defineProperties(c.prototype,{y6:{configurable:!0,enumerable:!0,get:function(){return this.tib;}},Yta:{configurable:!0,enumerable:!0,get:function(){return this.Ljb;}},Xl:{configurable:!0,enumerable:!0,get:function(){return this.uib;},set:function(l){if(this.Fh && !this.jW(this.Fh,l.Ca))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Fh);this.h3a(l);}},Fh:{configurable:!0,enumerable:!0,get:function(){return this.Hfb;},set:function(l){if(!this.jW(l))throw Error("Provided currentSegmentId " + l + " does not exist in the current playgraph");this.Hfb=l;}},fa:{configurable:!0,enumerable:!0,get:function(){return this.Me(this.Fh);}}});b.VEa=c;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.zMa=void 0;q=a(0);c=a(1187);f=a(32);b.zMa=new q.ad(function(k){k(f.Zg).to(c.kva).$();});},function(q,b,a){var f,k,l,d,g,h,m,n,r,p,u,t,w;function c(v,x,y,z,B,A){var C;C=this;this.Dk=v;this.config=y;this.co=z;this.debug=B;this.Pa=A;this.h5a=[];this.bd={};this.log=x.Cb("loadAsync");this.sHb=u.Kya(function(E){C.qPb=!0;C.startTime=C.Pa.Zb().ea(r.ma);C.load(C.h5a).then(function(){C.endTime=C.Pa.Zb().ea(r.ma);E(w.Ee);}).catch(function(F){C.endTime=C.Pa.Zb().ea(r.ma);E(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.kva=void 0;q=a(1);f=a(69);k=a(3);l=a(1188);d=a(65);g=a(0);h=a(8);m=a(15);n=a(60);r=a(5);p=a(91);u=a(523);t=a(20);w=a(12);c.prototype.pU=function(v){this.sHb(v);};c.prototype.register=function(v,x){this.debug.assert(!this.qPb);this.h5a.push({NGb:this.Jnb(x),errorCode:v});};c.prototype.Od=function(v){this.debug.assert(void 0 === this.bd[v]);this.bd[v]=this.Pa.Zb().ea(r.ma);};c.prototype.load=function(v){var x;x=this;return l.D0a(v).then(function(y){x.Dk.mark(d.gq.nj.x7a);return y.reduce(function(z,B){return z.then(function(){return x.JGb(B);});},Promise.resolve()).then(function(){x.Dk.mark(d.gq.nj.v7a);});});};c.prototype.JGb=function(v){var x,y;x=this;y=v.NGb;!1;return this.co.Op(r.uc(this.config().Ilb),y()).catch(function(z){x.log.error("Failed to load component " + v.errorCode,z);x.Dk.mark(d.gq.nj.w7a);if(z instanceof n.qq)throw {oa:k.M.u7a,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.oa=z.oa || k.M.t7a;throw z;});};c.prototype.Jnb=function(v){return function(){return new Promise(function(x,y){v(function(z){z.X?x():y(z);});});};};a=c;a=q.__decorate([g.R(),q.__param(0,g.l(f.ND)),q.__param(1,g.l(h.Kb)),q.__param(2,g.l(m.dd)),q.__param(3,g.l(n.Gw)),q.__param(4,g.l(p.Yt)),q.__param(5,g.l(t.zd))],a);b.kva=a;},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.D0a=void 0;c=a(3);f=[c.L.uab,c.L.Iza,c.L.Gza,c.L.Hza,c.L.Mza,c.L.Dza,c.L.Bza,c.L.B$,c.L.Nza,c.L.Eza,c.L.rab,c.L.sab,c.L.Cza,c.L.aA,c.L.yza,c.L.Aza,c.L.Jza,c.L.Kza,c.L.Lza,c.L.vab,c.L.xab,c.L.Bab,c.L.zab,c.L.yab,c.L.wab,c.L.Aab,c.L.Dab,c.L.Fza,c.L.Cab,c.L.zza];(function(l){l.ccb=function(d){var m;for(var g={},h=0;h < d.length;h++){m=d[h];if(g[m.errorCode])return {errorCode:m.errorCode,oa:c.M.r7a};g[m.errorCode]=1;}};l.dcb=function(d){var h;for(var g=0;g < d.length;g++){h=d[g];if(-1 === f.indexOf(h.errorCode))return {errorCode:h.errorCode,oa:c.M.s7a};}};})(k || (k={}));b.D0a=function(l){return new Promise(function(d,g){var h;h=k.dcb(l);h && g(h);(h=k.ccb(l)) && g(h);d(l.sort(function(m,n){return f.indexOf(m.errorCode) - f.indexOf(n.errorCode);}));});};},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.sa=void 0;q=a(0);c=a(1190);f=a(118);b.sa=new q.ad(function(k){k(f.sD).to(c.sBa).$();});},function(q,b,a){var f,k,l,d,g,h,m;function c(n,r,p,u){this.Lf=r;this.wHb=u;this.UV=new Map();this.log=n.Cb("ManifestFetcher");this.xg=p.xg;}Object.defineProperty(b,"__esModule",{value:!0});b.sBa=void 0;q=a(1);f=a(0);k=a(20);l=a(42);d=a(8);g=a(5);h=a(119);a=a(270);c.prototype.sT=function(n,r){var p,u;p=this;r && this.Gkb(n.da,r);if(!this.A3(n.da)){this.log.trace("Requesting a new manifest",n.da);u=this.Lf.Zb().ea(g.ma);r=this.wHb.Of(this.log,n).then(function(t){var w,v;if(t.Xu){w=t.Xu;v={y7:Promise.resolve(w),source:"manifest"};delete t.Xu;p.xg.setData(n.da,"ldl",v,function(){w.close().catch(function(x){p.log.info("Unable to cleanup LDL session.",x);});});}n.fv === h.Xj.GD && (t.FG=u,t.XM=p.Lf.Zb().ea(g.ma));return t;}).catch(function(t){p.Esa(n.da,void 0);p.log.error("Failed to fetch manifest",l.$c.vd(t));throw t;});this.Esa(n.da,r);}return this.T2(n.da);};c.prototype.A3=function(n){return this.xg.KT(n,"manifest");};c.prototype.Esa=function(n,r){var p;p=this;this.xg.setData(n,"manifest",r,function(){return p.oCb(n);});};c.prototype.T2=function(n){return this.xg.getData(n,"manifest");};c.prototype.oCb=function(n){var r;null === (r=this.UV.get(n)) || void 0 === r?void 0:r.forEach(function(p){return p();});this.UV.delete(n);};c.prototype.Gkb=function(n,r){this.UV.has(n) || this.UV.set(n,[]);this.UV.get(n).push(r);};m=c;m=q.__decorate([f.R(),q.__param(0,f.l(d.Kb)),q.__param(1,f.l(k.zd)),q.__param(2,f.l(a.H9)),q.__param(3,f.l(h.Eaa))],m);b.sBa=m;},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.aMa=void 0;c=a(1192);f=a(121);q=a(0);k=a(89);l=a(15);b.aMa=new q.ad(function(d){d(f.FH).to(c.Iua).$();});b.profile=new q.ad(function(d){d(k.GP).RC(function(g){return (g=g.$a.get(l.dd)()) && g.Zu?"browsertest":"browser";});});},function(q,b,a){var f,k,l,d,g,h;function c(m,n,r,p){m=d.ff.call(this,m,void 0 === p?"AppInfoConfigImpl":p) || this;m.config=n;m.s8=r;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Iua=void 0;q=a(1);f=a(0);k=a(38);l=a(44);d=a(45);g=a(37);a=a(212);ka(c,d.ff);c.prototype.DAb=function(m){return "" + this.cRa + (this.s8.F7(m)?"/msl_v1":"");};c.prototype.NAb=function(m){return "" + this.host + (this.s8.F7(m)?"/msl":"") + "/playapi";};Xa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},cRa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var m;switch(this.config.DK){case k.vw.Ydb:m="www.stage";break;case k.vw.XGa:m="www-qa.test";break;case k.vw.bAa:m="www-int.test";break;default:m="www";}return "https://" + m + ".netflix.com";}},VMa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});h=c;q.__decorate([l.config(l.string,"apiEndpoint")],h.prototype,"endpoint",null);q.__decorate([l.config(l.string,"nqEndpoint")],h.prototype,"cRa",null);q.__decorate([l.config(l.string,"bindService")],h.prototype,"VMa",null);h=q.__decorate([f.R(),q.__param(0,f.l(g.km)),q.__param(1,f.l(k.gm)),q.__param(2,f.l(a.HZ)),q.__param(3,f.l(g.vO)),q.__param(3,f.optional())],h);b.Iua=h;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.vXb=b.eeb=b.ceb=b.beb=b.deb=void 0;c=a(29);f=a(11);b.deb=function(k,l,d){for(d=(d - k.length) / l.length;0 < d--;){k+=l;}return k;};b.beb=function(k,l,d){d=c.ze(d)?d:"...";return k.length <= l?k:k.substr(0,k.length - (k.length + d.length - l)) + d;};b.ceb=function(k,l){var g;for(var d=1;d < arguments.length;++d){;}g=f.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(h,m){return "undefined" != typeof g[m]?g[m]:h;});};b.eeb=function(k){for(var l=k.length,d=new Uint16Array(l),g=0;g < l;g++){d[g]=k.charCodeAt(g);}return d.buffer;};b.vXb=function(k){var l;l=new Uint8Array(k.length);Array.prototype.forEach.call(k,function(d,g){l[g]=d.charCodeAt(0);});return l;};},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});q=a(7);b=a(108);a=a(267);q.ha.get(b.eI).V6(a.S$.P8a,function(c){var f,k;f=c.level;if(!pb._cad_global.config || f <= pb._cad_global.config.fHb){c=c.j8();k=pb.console;1 >= f?k.error(c):2 >= f?k.warn(c):k.log(c);}});},function(q,b,a){var h,m,n,r,p;function c(u){var t,v;m.oK(u);if(n.ze(u) && b.Qza.test(u)){t=u.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){v=n.pe(t[w]);if(0 > v || !p.Cy(v,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return u;}}}function f(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=n.pe(u[0]) << 24,t+=n.pe(u[1]) << 16,t+=n.pe(u[2]) << 8,t + n.pe(u[3]));}function k(u){var t;m.oK(u);if(n.ze(u) && u.match(b.Rza)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=l(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){if(!p.Cy(parseInt(t[u],16),0,h.bBa))return;}return t.join(":");}}}function l(u){var t;u=f(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,w,v;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (t.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){t.push("0");}for(v=0;v < u.length;v++){t.push(u[v]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.Uab=b.Zab=b.Wab=b.Vab=b.Yab=b.Tab=b.Xab=b.kD=b.Rza=b.Qza=void 0;h=a(12);m=a(21);n=a(29);r=a(11);p=a(17);b.Qza=/^[0-9.]*$/;b.Rza=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.kD="0000000000000000";b.Xab=c;b.Tab=f;b.Yab=k;b.Vab=l;b.Wab=d;b.Zab=function(u,t,w){var v,x,y,z;v=c(u);x=k(u);y=c(t);z=k(t);if(!v && !x || !y && !z || v && !y || x && !z)return !1;if(u === v)return (w=g(w),(f(u) & w) !== (f(t) & w)?!1:!0);if(u === x){u=u.split(":");t=t.split(":");for(v=r.Aw(w / b.kD.length);v--;){if(u[v] !== t[v])return !1;}w%=b.kD.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),t=parseInt(t[v],16).toString(2),u=b.kD.substring(0,b.kD.length - u.length) + u,t=b.kD.substring(0,b.kD.length - t.length) + t,v=0);v < w;v++){if(u[v] !== t[v])return !1;}return !0;}return !1;};b.Uab=g;},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(13);a(12);q=a(7);a(108);a(267);a(3);a(107);a(5);a=a(32);q.ha.get(a.Zg);!1;},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(47);f=a(12);k=a(13);l=a(3);d=a(194);g=a(34);h=a(11);m=a(7);q=a(32);n=m.ha.get(q.Zg);n.register(l.L.Mza,function(r){h.ep && h.ep.generateKey && h.ep.importKey && h.ep.unwrapKey?!m.ha.get(g.kA).O9 && k.config.RJ != d.kw.edb && k.config.RJ != d.kw.rbb || h.UY?(n.Od("wcs"),c.nG(h.ep.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Od("wcdone");r(f.Ee);},function(p){var u;p="" + p;if(0 <= p.indexOf("missing crypto.subtle"))u=l.M.Jba;else 0 <= p.indexOf("timeout waiting for iframe to load") && (u=l.M.veb);r({oa:u,sb:p});})):r({oa:l.M.ueb}):r({oa:l.M.Jba});});},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});q=a(3);c=a(7);f=a(469);a=a(32);c.ha.get(a.Zg).register(q.L.Bza,function(k){c.ha.get(f.Jxa)().then(function(){k({X:!0});}).catch(function(l){c.log.error("error in initializing indexedDb debug tool",l);k({X:!0});});});},function(q,b,a){var l,d,g,h;function c(m,n,r,p){var u,t,w;l.gb(h.Sg(m) && !h.isArray(m));p=p || "";u="";t=m.hasOwnProperty(g.Vj) && m[g.Vj];t && d.de(t,function(v,x){u && (u+=" ");u+=v + '="' + k(x) + '"';});r=(n?n + ":":"") + r;t=p + "<" + r + (u?" " + u:"");w=m.hasOwnProperty(g.Fr) && m[g.Fr].trim && "" !== m[g.Fr].trim() && m[g.Fr];if(w)return t + ">" + k(w) + "</" + r + ">";m=f(m,n,p + "  ");return t + (m?">\n" + m + "\n" + p + "</" + r + ">":"/>");}function f(m,n,r){var p;l.gb(h.Sg(m) && !h.isArray(m));r=r || "";p="";d.de(m,function(u,t){var x;if("$" != u[0])for(var w=d.qv(t),v=0;v < w.length;v++){if((t=w[v],p && (p+="\n"),h.Sg(t)))p+=c(t,n,u,r);else {x=(n?n + ":":"") + u;p+=r + "<" + x + ">" + k(t) + "</" + x + ">";}}});return p;}function k(m){if(h.ze(m))return d.QT(m);if(h.xa(m))return (l.jS(m,"Convert non-integer numbers to string for xml serialization."),"" + m);if(null === m || void 0 === m)return "";l.gb(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.uVb=b.CFb=b.BFb=void 0;l=a(21);d=a(24);g=a(152);h=a(17);b.BFb=c;b.CFb=f;b.uVb=k;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x,y,z,B;Object.defineProperty(b,"__esModule",{value:!0});c=a(273);f=a(155);k=a(13);l=a(12);d=a(3);g=a(21);h=a(7);m=a(69);n=a(65);r=a(78);p=a(24);u=a(11);t=a(17);w=a(47);v=a(107);x=a(5);q=a(32);y=a(440);z={};B=h.ha.get(q.Zg);B.register(d.L.Eza,function(A){var D,G,I,J,H,M,O,L,P,R,K,Q,N,da;function C(na){na && na.userList && k.config.QSb && (na.userList=[]);J({esn:f.ei.gi,esnPrefix:f.ei.Kn,authenticationType:k.config.RJ,authenticationKeyNames:k.config.LMa,systemKeyWrapFormat:k.config.HUb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:N,storeState:na,notifyMilestone:B.Od.bind(B),log:O,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.M.Fbb,MSL_READ_TIMEOUT:d.M.Ebb}},{result:function(va){E(va);},timeout:function(){A({oa:d.M.mBa});},error:function(va){A(F(d.M.mBa,void 0,va));}});}function E(na){var ra,X,ta;function va(){Q && h.ha.get(r.Rz).create().then(function(za){return za.save(R,X,!1);}).catch(function(za){O.error("Error persisting msl store",d.Lr(za));});}ra=h.ha.get(v.yI)(x.uc(100));ta=H.extend({init:function(za){this.SJa=za;},getResponse:function(za,V,T){var ja,Ia;V=this.SJa;ja=V.eZa.Bf || ja;za=t.lma(za.body)?h.lX(za.body):za.body;g.oK(za,"Msl should not be sending empty request");za={url:V.url,Lpa:za,withCredentials:!0,hF:"nq-" + V.method,headers:V.headers};V=this.SJa.timeout;za.s1=V;za.roa=V;Ia=ja.download(za,function(wa){try{if(wa.X)T.result({body:wa.content});else if(400 === wa.lk && wa.sb)T.result({body:wa.sb});else throw p.Qb(new M("HTTP error, SubCode: " + wa.oa + (wa.lk?", HttpCode: " + wa.lk:"")),{cadmiumResponse:wa});}catch(Sa){T.error(Sa);}});return {abort:function(){Ia.abort();}};}});P && na.addEventHandler("shouldpersist",function(za){X=za.storeState;ra.ol(va);});p.Qb(z,{o5b:function(){K=!0;},send:function(za){function V(){var T,ja;T=za.eZa;ja={method:za.method,nonReplayable:za.JJb,encrypted:za.kk,userId:za.tXb,body:za.body,timeout:2 * za.timeout,url:new ta(za),allowTokenRefresh:Q,sendUserAuthIfRequired:da,shouldSendUserAuthData:k.config.VSb};T.email?(ja.email=T.email,ja.password=T.password || ""):T.wVb?(ja.token=T.wVb,ja.mechanism=T.f6b,T.ioa && (ja.netflixId=T.ioa,ja.secureNetflixId=T.cRb),T.aqa && (ja.profileGuid=T.aqa)):T.ioa?(ja.netflixId=T.ioa,ja.secureNetflixId=T.cRb):T.hIb?(ja.mdxControllerToken=T.hIb,ja.mdxPin=T.d6b,ja.mdxNonce=T.c6b,ja.mdxEncryptedPinB64=T.b6b,ja.mdxSignature=T.e6b):K || T.useNetflixUserAuthData?ja.useNetflixUserAuthData=!0:T.aqa && (ja.profileGuid=T.aqa);return ja;}return new Promise(function(T,ja){var Ia;Ia=V();na.send(Ia).then(function(wa){K && (K=!1);T({X:!0,body:wa.body});}).catch(function(wa){var Sa,Ua;if(wa.error){Sa=wa.error.cadmiumResponse && wa.error.cadmiumResponse.oa?wa.error.cadmiumResponse.oa:na.isErrorReauth(wa.error)?d.M.lBa:na.isErrorHeader(wa.error)?d.M.ybb:d.M.xbb;Ua=na.getErrorCode(wa.error);ja(F(Sa,Ua,wa.error));}else (O.error("Unknown MSL error",wa),wa.jc=wa.subCode,ja({oa:wa.jc?wa.jc:d.M.Gbb}));});});},OU:na});A(l.Ee);h.ha.get(y.jaa).tJb(z);}function F(na,va,ra){var X,ta,za,V;za={oa:na,GK:va};if(ra){V=function(T){var ja;T=T || "" + ra;if(ra.stack){ja="" + ra.stack;T=0 <= ja.indexOf(T)?ja:T + ja;}return T;};if(ta=ra.cadmiumResponse){if(X=ta.Ve && ta.Ve.toString())ta.Ve=X;ta.oa=na;ta.GK=va;ta.sb=V(ra.message);ta.error={jc:na,wd:X,Av:va,data:ra.cause,message:ra.message};return ta;}V=V(ra.errorMessage);X=p.pe(ra.internalCode) || p.pe(ra.error && ra.error.internalCode);ta=void 0 !== ra.Wvb?w.Eoa(ra.Wvb):void 0;}V && (za.sb=V);X && (za.Ve=X);za.error={jc:na,wd:X.toString(),Av:va,data:ta,message:V};return za;}g.gb(k.config);D=h.ha.get(m.ND);G=n.gq.nj;if(u.iA && u.ep && u.ep.unwrapKey){try{I=pb.netflix.msl;J=I.createMslClient;H=I.IHttpLocation;M=I.MslIoException;}catch(na){A({oa:d.M.zbb});return;}O=h.ii("Msl");L=k.config.pJb;P=k.config.rJb;R=k.config.Zu?"mslstoretest":"mslstore";I=c.cH.Q2a;K=k.config.EDb;Q=!I || I.X;N=h.Dq(k.config.Zu?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");da=! !k.config.Ora;h.ha.get(r.Rz).create().then(function(na){L?na.remove(R).then(function(){C();}).catch(function(va){O.error("Unable to delete MSL store",d.Lr(va));C();}):P?na.load(R).then(function(va){D.mark(G.Bbb);C(va.value);}).catch(function(va){va.oa == d.M.mA?(D.mark(G.Dbb),C()):(O.error("Error loading msl store",d.Lr(va)),D.mark(G.Cbb),na.remove(R).then(function(){C();}).catch(function(ra){A(ra);}));}):C();}).catch(function(na){O.error("Error creating app storage while loading msl store",d.Lr(na));A(na);});}else A({oa:d.M.Abb});});},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(181);f=a(12);k=a(13);l=a(62);d=a(51);q=a(3);g=a(7);h=a(69);m=a(11);n=a(61);r=a(17);p=a(58);u=a(99);a=a(32);v=g.ha.get(a.Zg);v.register(q.L.Cza,function(x){var z;function y(){var B,A,C;B=v.startTime;A={browserua:m.jA,browserhref:m.WY.href,initstart:B,initdelay:v.endTime - B};(B=m.De.documentMode) && (A.browserdm="" + B);"undefined" !== typeof pb.nrdp && pb.nrdp.device && (A.firmware_version=pb.nrdp.device.firmwareVersion);r.Dy(k.config.BRa) && (A.fesn=k.config.BRa);Object.assign(A,c.oka());C=m.iu && m.iu.timing;C && k.config.cHb.map(function(E){var F;F=C[E];F && (A["pt_" + E]=F - d.jOa());});B=z.BTa();Object.entries(B).forEach(function(E){var F;F=aa(E);E=F.next().value;F=F.next().value;return A["m_" + E]=F;});B=w.Uu("startup","info",A,l.qI.Tia);t.Xd(B);}w=g.ha.get(u.eA);t=g.ha.get(p.iq);z=g.ha.get(h.ND);v.pU(function(){t.mb();n.fg(y);});x(f.Ee);});},function(q,b){Object.defineProperty(b,"__esModule",{value:!0});},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);f=a(53);k=a(478);l=a(1204);d=a(278);g=a(13);h=a(12);m=a(186);n=a(525);r=a(51);q=a(3);p=a(7);u=a(262);t=a(11);w=a(274);b=a(32);v=a(62);x=a(117);p.ha.get(b.Zg).register(q.L.yza,function(y){var z,B,A,C,E,F,D;z=p.ha.get(u.ZY).Nga();B=p.ha.get(m.Z9).PH;A=p.ha.get(k.WBa).kq;C={sG:p.gT("ASE"),tlb:p.gT("JS-ASE",void 0,"Platform"),ii:p.gT,storage:w.storage,CAb:t.NH,getTime:r.Hi,JL:{},kq:A,ou:l.ou,PH:B,MediaSource:n.ZBa,SourceBuffer:d.caa,Mn:function(){return [g.config.oR,g.config.qR];},ws:function(G){v.Bo.forEach(function(I){I.o3a(G);});}};B=new Promise(function(G){w.storage.load("nh",function(I){C.JL.nh=I.X?I.data:void 0;G();});});A=new Promise(function(G){w.storage.load("lh",function(I){C.JL.lh=I.X?I.data:void 0;G();});});E=new Promise(function(G){w.storage.load("gh",function(I){C.JL.gh=I.X?I.data:void 0;G();});});F=new Promise(function(G){w.storage.load("sth",function(I){C.JL.sth=I.X?I.data:void 0;G();});});D=new Promise(function(G){w.storage.load("vb",function(I){C.JL.vb=I.X?I.data:void 0;G();});});Promise.all([B,A,D,F,E]).then(function(){return c.__awaiter(this,void 0,void 0,function I(){var J,H,M;return Ha(I,function(O){var L;if(1 == O.iG){J=a(1206)(C);x.Dl.sd=a(526);x.Dl.sd.declare(f.jk);x.Dl.sd.set(a(179)(g.config),!0,p.gT("ASE"));H=f.PXa(J);x.Dl.uMa=new H(x.Dl.sd,z);x.Dl.uMa.mb(g.config.oR,g.config.qR,{sG:C.sG},g.config.$M);L=f.zF(J);O.iG=2;return {value:L};}M=O.qua;M.open(x.Dl.sd,z);M.Sra({audio:g.config.oR,video:g.config.qR},{V:g.config.$M,ca:void 0});x.Dl.aj=M;y(h.Ee);O.iG=0;});});}).catch(function(G){C.sG.error("Exception loading location history from local storage",G);});});},function(q,b,a){var f,k,l,d,g,h,m;function c(){var n;n=new k.Wj();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.tc.bind(this);this.T_=h++;this.cg=l.ii("ProbeRequest");this.oKa=f.jFa;d.gb(void 0 !== this.oKa);this.fh=b.ou.zc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ou=void 0;f=a(1205);k=a(72);l=a(7);d=a(21);g=a(29);h=0;(function(){function n(){return JSON.stringify({url:this.Qk,id:this.T_,affected:this.OZ,readystate:this.fh});}g.Qb(c.prototype,{jM:function(r){r.affected=this.OZ;r.probed={requestId:this.T_,url:this.Qk,Rc:this.SQ,groupId:this.w_};this.emit(b.ou.ue.tP,r);},yoa:function(r){this.rjb=r.httpcode;r.affected=this.OZ;r.probed={requestId:this.T_,url:this.Qk,Rc:this.SQ,groupId:this.w_};this.emit(b.ou.ue.DD,r);},open:function(r,p,u,t){if(!r)return (!1,!1);this.Qk=r;this.OZ=p;this.SQ=u;this.fh=b.ou.zc.OPENED;this.Wgb=t;this.oKa.dT(this);return !0;},Ic:function(){!1;return !0;},Jh:function(){return this.T_;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.fh;},set:function(){}},status:{get:function(){return this.rjb;}},url:{get:function(){return this.Qk;}},q3b:{get:function(){return this.OZ;}},WGb:{get:function(){return this.Wgb;}}});})();(function(n){n.ue={tP:"pr0",DD:"pr1"};n.zc={UNSENT:0,OPENED:1,Jw:2,DONE:3,UH:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(m || (m={}));b.ou=Object.assign(c,m);},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;c=a(7);f=a(71);b.jFa=(function(){c.ii("ProbeDownloader");return {dT:function(k){k={url:k.url,VNb:k};!1;f.Bf.YNb(k);}};})();},function(q,b,a){var g,h,m,n,r,p,u,t,w,v,x,y,z,B,A,C;function c(E,F,D){this.Gn=E;this.groups=F;this.prefix=D;E=v(E,F,D);this.info=E.info.bind(E);this.fatal=E.fatal.bind(E);this.error=E.error.bind(E);this.warn=E.warn.bind(E);this.trace=E.trace.bind(E);this.debug=E.debug.bind(E);this.log=E.log.bind(E);}function f(){this.$Oa=function(){throw Error("Not implemented");};this.gub={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function k(){}function l(){return w?w:"0.0.0.0";}function d(E){E({m_a:0,MW:0,mVa:0,ARa:0});}g=a(16);f.prototype.set=function(E,F){n[E]=F;r.save(E,F);};f.prototype.get=function(E,F){if(n.hasOwnProperty(E))return n[E];t.trace("key: " + E + ", is not available in storage cache and needs to be retrieved asynchronously");r.load(E,function(D){D.X?(n[E]=D.data,F && F(D.data)):n[E]=void 0;});};f.prototype.remove=function(E){r.remove(E);};f.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};k.prototype.now=function(){return p();};k.prototype.aa=function(){return u();};k.prototype.eoa=function(E){return E + p() - u();};k.prototype.zoa=function(E){return E + u() - p();};c.prototype.oPa=function(E){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ca(this.prefix)):this.prefix && F.push(this.prefix);F.push(E);return new c(this.Gn,this.groups,F);};x=(function(){var E;E=Promise;E.prototype.fail=Promise.prototype.catch;return E;})();q.exports=function(E){h=E.sG;v=E.ii;r=E.storage;n=E.JL;p=E.CAb;u=E.getTime;t=E.tlb;y=E.kq;C=E.ou;z=E.PH;B=E.SourceBuffer;A=E.MediaSource;w=E.q5b;m=E.ws;return {name:"cadmium",ws:m,sG:h,storage:new f(),Storage:f,time:new k(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,kq:y,PH:z,Jbb:B,MediaSource:A,ou:C,Yn:{name:l},memory:{Lzb:d},Mn:E.Mn};};},function(q,b,a){q.exports={EventEmitter:a(1208),zh:a(1209)};},function(q){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.ed)return (this.ed={},this.ed[c]=[f],!0);k=this.ed[c];return void 0 === k?(this.ed[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.ed?this.ed[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}q.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.ed)return !1;k=this.ed[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.ed[c],!0);k.splice(f,1);return !0;},Ta:a,emit:a,removeAllListeners:function(c){this.ed && (void 0 === c?delete this.ed:delete this.ed[c]);return this;}};},function(q){function b(c,f,k,l){c.trace(":",k,":",l);f(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)l=c.addEventListener(f,k);else if("function" === typeof c.addListener)l=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,l;k=f[0];l=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,f):"function" === typeof k.removeListener && k.removeListener(l,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};q.exports=a;},function(q,b,a){var f,k,l,d,g,h,m,n,r;function c(p,u){var v,x,y,z,B,A,C,E,F,D,G;function t(){var I;I=p.ac.value === n.Bb.yc && p.state.value === n.Gb.$d && p.K === u.K;G?I || (clearInterval(G),A=G=void 0):I && (G=pb.setInterval(w,1E3));}function w(){var I,J,H,M,O,L;I=p.Sf.value;I=(I=I && I.stream) && I.height;if(null !== I && 0 < I){J=d.Hi();H=p.Cg.uF();if(H){if(A && 2E3 > J - A.time && I === A.height){M=H - A.Iub;O=x[I];O || (x[I]=O=[],I > E && (B.push(I),l.KX(B)));0 < M && !(D && D < I) && (D=I);O.push(M);O.length > C && O.shift();(O=z[I]) || (z[I]=O={});L=O[M];O[M]=L?L + 1:1;}A={time:J,Iub:H,height:I};p.t6 && p.t6.ORb(x);}}}v=g.Ih(p,"DFF");x={};y=f.config.Mub;z={};B=[];C=f.config.Kub;E=f.config.Lub;F=k.aBa;if(f.config.Jub)return (u.Uha={uyb:function(){var I;I={};z && B.forEach(function(J){var H,M,O;H=z[J];if(H){M=0;O=0;r.de(H,function(L,P){O+=h.pe(L);M+=P;});I[J]=O / M;}});return I;},yT:function(I){var J;J={};I.forEach(function(H){J[H]={};});z && (l.KX(I),B.forEach(function(H){var M,O,L,P;M=z[H];if(M){O=0;L=0;r.de(M,function(da,na){O+=na;});P=Object.keys(M).map(Number);l.KX(P);for(var R=P.length - 1,K=P[R],Q=I.length - 1;0 <= Q;Q--){for(var N=I[Q];K >= N && 0 <= R;){(K=M[K]) && (L+=K);K=P[--R];}J[N][H]=m.yi(L / O * 100);}}}));return J;}},p.state.addListener(t),p.ac.addListener(t),p.addEventListener(n.W.sv,t),{KK:"df",Mt:function(I){var M,O,L,K,Q;if(I.lower && I.height > E){I=I.height;a:{if(D){for(var J=B.length,H=0;H < J;H++){M=B[H];if(M >= D && M < F){O=x[M];if(L=O)b:{L=y.length;for(var P=O.length,R=0;R < L;R++){K=y[R];Q=K[0];K=K[1];for(var N=0;N < P;N++){if(O[N] >= K && 0 >= --Q){L=!0;break b;}}}L=!1;}if(L && F != M){v.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:M});u.Zo.set({reason:"droppedFrames",height:M});J=F=M;break a;}}}D=void 0;}J=F;}I=I >= J;}else I=!1;return I;}});}Object.defineProperty(b,"__esModule",{value:!0});b.Lbb=void 0;q=a(100);f=a(13);k=a(12);l=a(47);d=a(51);g=a(7);h=a(29);m=a(11);n=a(18);r=a(24);q.vD(c);b.Lbb=c;},function(q,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(100).vD(function(){return {KK:"op",Mt:function(){}};});},function(q,b,a){var f,k;function c(l,d){var g,h;g=k.Ih(l,"MSS");if(f.config.LIb)return {KK:"mss",Mt:function(m){var n,r;if(m.lower && 2160 <= m.height)a:{for(n=m;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{r=pb.MSMediaKeys;h=r && r.isTypeSupportedWithFeatures?"probably" === r.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){g.error("hasUltraHdDisplay exception");h=!0;}h || (g.warn("Restricting resolution due screen size",{MaxHeight:m.height}),d.Zo.set({reason:"microsoftScreenSize",height:m.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Mbb=void 0;q=a(100);f=a(13);k=a(7);q.vD(c);b.Mbb=c;},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});q=a(100);c=a(1214);f=a(7);k=a(34);l=a(79);q.vD(function(d){var g;if(f.ha.get(k.Kk).TV){g=f.ha.get(l.gu);return new c.lAa(d,f.Bg,g);}});},function(q,b,a){var f;function c(k,l,d){var g;g=this;this.j=k;this.ya=l;this.Lna=d;this.ima=!1;this.log=this.ya.Cb("KeySystemRobustness",this.j);this.ima=!1;this.Lna.ly().then(function(h){var m,n;n=null === (m=h.getConfiguration().videoCapabilities) || void 0 === m?void 0:m.map(function(r){return r.robustness;});g.ima=!(null === n || void 0 === n || !n.some(function(r){return r === f.IY;}));k.p3a("keySystem",h.keySystem);k.p3a("robustness",null === n || void 0 === n?void 0:n.toString());g.log.trace("KeySystemRobustness: " + n);}).catch(function(h){g.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;f=a(66);c.prototype.Mt=function(k){return k.lower && k.By && !this.ima && 720 < k.height;};Xa.Object.defineProperties(c.prototype,{KK:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.lAa=c;},function(q,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});q=a(100);c=a(13);f=a(7);k=a(1216);q.vD(function(l,d){if(c.config.HFb)return new k.kAa(l,d,f.Bg,c.config,f.wa,f.vc);});},function(q,b,a){var f,k,l;function c(d,g,h,m,n,r){var p;p=this;this.j=d;this.io=g;this.ya=h;this.config=m;this.wa=n;this.vc=r;this.elb=function(u){!0 === u.oldValue && !1 === u.newValue && (p.log.error("RestartStreaming: UHD key is no longer usable"),p.j.AQb());};this.dWb=function(u){var t,w,v;p.log.trace("UhdKeyStatus: " + u.oldValue + " -> " + u.newValue);w=null === u || void 0 === u?void 0:u.newValue;v=null === u || void 0 === u?void 0:u.oldValue;"usable" !== w && (p.JRb(w,(null === (t=null === u || void 0 === u?void 0:u.Wu) || void 0 === t?void 0:t.height) || 0),"usable" === v && (u=p.wa.Ue.Ba(p.JFb),p.log.error("UHD KeyStatus unexpectedly changed: " + u.ea(l.ma))));};this.FWa=!1;this.log=this.ya.Cb("KeyStatusStreamFilter",this.j);this.RLa=new k.Ec(!1,this.elb);this.cWb=new k.Ec(void 0,this.dWb);}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;f=a(202);k=a(105);l=a(5);c.prototype.Mt=function(d){this.kUb();this.RLa.set(this.FWa && this.OCb);return d.lower && 1080 < d.height && !this.RLa.value?!0:!1;};c.prototype.hpb=function(){this.OCb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.eVa);};c.prototype.Rrb=function(){var d,g,h;g={};h=null === (d=this.io.Qh.value) || void 0 === d?void 0:d.zt;null === h || void 0 === h?void 0:h.forEach(function(m){g[m.Li]=m.e7.height;});this.log.trace("KeyStatusMap",g);return g;};c.prototype.oZa=function(d){var g;g=this;Object.entries(d).forEach(function(h){var m;m=aa(h);h=m.next().value;m=m.next().value;h=g.IFb[h];1080 < h && (g.FWa="usable" === m,g.cWb.set(m,{height:h}));});};c.prototype.kUb=function(){var d,g;d=this;g=this.io.we;!this.lFb && f.Rla(g) && (this.lFb=!0,this.IFb=this.Rrb(),this.oZa(g.keyStatuses.value),g.keyStatuses.addListener(function(h){return d.oZa(h.newValue);}),this.vc.Oj(l.uc(this.config.eVa),function(){return d.hpb();}),this.JFb=this.wa.Ue);};c.prototype.JRb=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.io.Zo.set({reason:"keyStatus",height:g});};Xa.Object.defineProperties(c.prototype,{KK:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.kAa=c;},function(q,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});q=a(100);c=a(13);f=a(7);q.vD(function(k,l){var d,g,h,m;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.eWb);g=d[l.Zd];if(c.config.fWb && g){h={};m=f.Ih(k,"MediaStreamFilter");return {KK:"uiLabel",Mt:function(n){if(n.lower && n.height > g)return (h[n.height] || (h[n.height]=!0,m.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),l.Zo.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(181);f=a(524);q=a(62);k=a(13);l=a(63);d=a(12);g=a(47);h=a(51);m=a(24);n=a(11);r=a(7);p=a(121);u=a(18);t=a(32);w=a(34);q.Taa(q.Oaa,function(v){var E,F,D,G,I,J;function x(H){var M,O;if(H.newValue >= u.Gb.LOADING){v.state.removeListener(x);H=n.VY;try{M="" + h.i1();localStorage.setItem("player$test",M);O=localStorage.getItem("player$test");localStorage.removeItem("player$test");M=M == O?"success":"mism";}catch(L){M="ex: " + L;}C("type=openplay&sev=info&locstor=" + H.call(n,M));D=h.Hi();B();}}function y(){J("type=startplay&sev=info&outcome=success");}function z(){var H,M;H=v.Zk;if(H){M="type=startplay&sev=error&outcome=error";H=c.cka(r.ha.get(w.Kk).kp,H);m.de(H,function(O,L){M+="&" + n.VY(O) + "=" + n.VY(L || "");});J(M);}else J("type=startplay&sev=info&outcome=abort");}function B(){var H,M;H=G.shift();if(0 < H){M=n.ln(H - (h.Hi() - D),0);F=setTimeout(function(){C("type=startstall&sev=info&kt=" + H);B();},M);}}function A(){J("type=startplay&sev=info&outcome=unload");}function C(H){H=I + "&soffms=" + v.kka() + "&" + H;v.bd && Object.keys(v.bd).length && (H+="&" + g.lM(m.Qb({},v.bd,{prefix:"sm_"})));f.p5a("playback",H,E);}E=r.ha.get(p.FH).host + k.config.lta;if(k.config.q5a && E && k.config.r5a.playback){G=k.config.GVb.slice();I="xid=" + v.ba + "&pbi=" + v.index + "&uiLabel=" + (v.Zd || "");v.state.addListener(x);v.addEventListener(u.W.ot,y);v.addEventListener(u.W.dg,z);l.lf.addListener(l.Jm,A,d.ED);J=function(H){var M;J=d.kj;M=r.ha.get(t.Zg);H+="&initstart=" + M.startTime + "&initend=" + M.endTime;C(H);clearTimeout(F);v.removeEventListener(u.W.ot,y);v.removeEventListener(u.W.dg,z);l.lf.removeListener(l.Jm,A);};}});},function(q,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(13);f=a(12);q=a(3);k=a(7);l=a(164);a=a(32);k.ha.get(a.Zg).register(q.L.Aza,function(d){c.config.Oxb && k.ha.get(l.Jya).start();d(f.Ee);});},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;c=a(71);f=a(47);k=a(21);l=a(24);d=a(29);b.ywa=function(g,h){k.gb(g);k.gb(h);k.oK(h.Mvb,"endpointURL property is required");k.gb(h.Ud);this.log=g;this.m0a=h;};b.ywa.prototype.xB=function(){var g,h,m;g=this;g.log.trace("Downloading config data.");h={browserInfo:JSON.stringify(g.m0a.Ud)};m=g.m0a.Mvb + "?" + f.lM(h);return new Promise(function(n,r){function p(v){var x,y;try{if(v.X){x=new Uint8Array(v.content);y=String.fromCharCode.apply(null,x);return {X:!0,config:JSON.parse(y).core.initParams};}return {X:!1,message:"Unable to download the config. " + v.sb,GF:v.lk};}catch(z){return (v=l.vd(z),g.log.error("Unable to download the config. Received an exception parsing response",{message:z.message,exception:v,url:m}),{X:!1,sb:v,message:"Unable to download the config. " + z.message});}}function u(v,x,y){return x > y?(g.log.error("Config download failed, retry limit exceeded, giving up",d.Qb({Attempts:x - 1,MaxRetries:y},v)),!1):!0;}function t(v){return new Promise(function(x){setTimeout(function(){x();},v);});}function w(v,x,y){c.Bf.download(v,function(z){var B;z=p(z);if(z.X)n(z);else {g.log.warn("Config download failed, retrying",d.Qb({Attempt:x,WaitTime:B,MaxRetries:y},z));if(u(z,x + 1,y)){B=l.jqa(1E3,1E3 * Math.pow(2,Math.min(x - 1,y)));return t(B).then(function(){return w(v,x + 1,y);});}r(z);}});}return c.Bf?w({url:m,responseType:3,withCredentials:!0,hF:"config-download"},1,3):Promise.reject({X:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(155);f=a(160);k=a(12);l=a(13);q=a(3);d=a(7);g=a(21);h=a(24);m=a(29);n=a(17);r=a(58);p=a(99);a=a(32);d.ha.get(a.Zg).register(q.L.Jza,function(u){var t,w;t=d.ii("NccpApi");w=h.pMa(["info","warn","trace","error"]);f.DI.rR.nccp={getEsn:function(){return c.ei.gi;},getPreferredLanguages:function(){return l.config.Mq.Rpa;},setPreferredLanguages:function(v){g.gb(n.isArray(v) && m.Dy(v[0]));l.config.Mq.Rpa=v;},queueLogblob:function(v,x,y){var z;if(v && x)if((x=x.toLowerCase(),w[x])){z=d.ha.get(r.iq);v=d.ha.get(p.eA).Uu(v,x,y);z.Xd(v);}else t.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.ha.get(r.iq).flush(!0);}};u(k.Ee);});},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p;Object.defineProperty(b,"__esModule",{value:!0});q=a(32);b=a(3);c=a(8);f=a(34);k=a(188);l=a(12);d=a(13);g=a(7);h=a(117);m=a(62);n=a(160);r=a(277);p=a(116);g.ha.get(q.Zg).register(b.L.Lza,function(u){var v,x,y;function t(z,B){return void 0 === z || void 0 === B?Promise.reject("Invalid email and/or password"):g.ha.get(r.Aaa).Of(this.log,{},{email:z,password:B}).then(function(){});}function w(z){var B;B=g.ha.get(p.SD);return B.CRa.fetch(z,B);}if(d.config.iwb){v=g.ha.get(k.iZ);x=g.ha.get(f.Kk);y=g.ha.get(c.Kb).Cb("Test");n.DI.rR.test={setPboRequestsListener:function(z){return v.$Rb(z);},playbacks:m.Bo,getPlayback:function(z){return m.Bo.find(function(B){return B.ba === z;});},playgraphManager:{isNextSegmentReady:function(z,B){var A,C;return void 0 !== (null === (C=null === (A=m.Bo.find(function(E){return E.ba === z;})) || void 0 === A?void 0:A.Ma) || void 0 === C?void 0:C.iT(B));}},aseManager:{cacheDestroy:function(){return h.Dl.uMa.Dx();}},device:{esn:pb._cad_global.device.gi,esnPrefix:x.Kn,errorPrefix:x.kp},log:{info:function(z,B){for(var A=[],C=1;C < arguments.length;++C){A[C - 1]=arguments[C];}return y.info(z,A);},error:function(z,B){for(var A=[],C=1;C < arguments.length;++C){A[C - 1]=arguments[C];}return y.error(z,A);},warn:function(z,B){for(var A=[],C=1;C < arguments.length;++C){A[C - 1]=arguments[C];}return y.warn(z,A);},trace:function(z,B){for(var A=[],C=1;C < arguments.length;++C){A[C - 1]=arguments[C];}return y.trace(z,A);},log:function(z,B){for(var A=[],C=1;C < arguments.length;++C){A[C - 1]=arguments[C];}return y.log(z,A);},debug:function(z,B){for(var A=[],C=1;C < arguments.length;++C){A[C - 1]=arguments[C];}return y.debug(z,A);}},login:t,getManifest:w};}u(l.Ee);});},function(q,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});q=a(1224);c=a(12);f=a(13);k=a(62);b=a(8);l=a(7);d=a(58);g=a(108);h=a(21);m=a(29);n=a(11);pb.netflix=pb.netflix || ({});h.gb(!pb.netflix.player);pb.netflix.player={VideoSession:q.SHa,diag:{togglePanel:function(r,p){var u;u=[];if(!f.config || f.config.XV){switch(r){case "info":u=k.Bo.map(function(t){return t.t6;});break;case "streams":u=k.Bo.map(function(t){return t.u6;});break;case "log":u=[];}u.forEach(function(t){m.Hc(p)?p?t.show():t.Tq():t.toggle();});}},addLogMessageSink:function(r){l.ha.get(d.iq).addListener({y7b:function(){},BIb:function(p){r({data:p.data});}});}},log:l.ii("Ext"),LogLevel:b.hj,addLogSink:function(r,p){l.ha.get(g.eI).V6(r,p);},getVersion:function(){return "6.0031.809.911";},isWidevineSupported:function(r){var u;function p(t){return function(w,v){return v.contentType == t;};}if("function" !== typeof r)throw Error("input param is not a function");u=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.zw,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.gI,robustness:"SW_SECURE_CRYPTO"}]}];try{n.Qe.requestMediaKeySystemAccess("com.widevine.alpha",u).then(function(t){var w;w=t.getConfiguration();t=w.videoCapabilities || [];w=(w.audioCapabilities || []).reduce(p(c.gI),!1);t=t.reduce(p(c.zw),!1);r(w && t);}).catch(function(){r(!1);});}catch(t){r(!1);}}};},function(q,b,a){var f,k,l,d,g;function c(h){var m;m=l.DI.call(this,h) || this;m.createPlayer=function(n,r){var p,u,t,w;r=void 0 === r?{}:r;p="number" === typeof r?{Ek:r}:r;u=f.ha.get(k.jZ).gsb(n);n=f.ha.get(g.kP);n=p.manifest?n.create(p.manifest):void 0;r=f.ha.get(d.Xaa);t=aa(m.ZTa(u,p));p=t.next().value;u=t.next().value;t=t.next().value;w=u.$K();r=r.lPa(p,u);r.addEpisode({movieId:w.da,playbackParams:t,manifest:n});return r;};return m;}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;f=a(7);k=a(185);l=a(160);d=a(290);g=a(143);ka(c,l.DI);b.SHa=c;},function(q,b,a){var c,f,k,l,d,g,h,m,n,r,p,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);f=a(155);k=a(12);l=a(47);q=a(3);d=a(7);g=a(162);h=a(21);m=a(29);n=a(11);b=a(32);r=a(51);p=a(89);u=a(141);t=a(161);d.ha.get(b.Zg).register(q.L.Kza,function(w){var A;function v(){return f.ei.gi;}function x(C){var E;E=d.ha.get(p.GP);d.ha.get(u.pP)().then(function(F){var D,G;D=F.OU.getStateForMdx(E);G=D.cryptoContext;F=D.masterToken;D=D.userIdToken;F && D?(h.gb(G),F=["1",d.ZA(JSON.stringify(F.toJSON())),d.ZA(JSON.stringify(D.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(I,J){I=m.ze(I)?d.TN(I):I;G.encrypt(I,{result:function(H){H=d.ZA(H);J({success:!0,mslEncryptionEnvelopeBase64:H});},timeout:function(){J({success:!1});},error:function(H){h.gb(!1,"Encrypt error: " + H);J({success:!1});}});},decrypt:function(I,J){I=d.Dq(I);G.decrypt(I,{result:function(H){J({success:!0,text:d.lX(H)});},timeout:function(){J({success:!1});},error:function(H){h.gb(!1,"Decrypt error: " + H);J({success:!1});}});},hmac:function(I,J){I=m.ze(I)?d.TN(I):I;G.sign(I,{result:function(H){J({success:!0,hmacBase64:d.ZA(H)});},timeout:function(){J({success:!1});},error:function(H){h.gb(!1,"Hmac error: " + H);J({success:!1});}});}}})):(h.gb(!1,"Must login first"),C({success:!1}));});}function y(C,E){var F;F=d.Dq(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([l.nG(n.ep.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),l.nG(n.ep.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(D){E({success:!0,cryptoContext:z(D[0],D[1])});},function(){E({success:!1});});}function z(C,E){function F(D){D=new g.AO(d.Dq(D));D.hz();return {iv:D.Z0a(),Jvb:D.Z0a()};}return {encrypt:function(D,G){var I;D=m.ze(D)?d.TN(D):D;I=n.iA.getRandomValues(new Uint8Array(16));l.nG(n.ep.encrypt({name:"AES-CBC",iv:I},C,D)).then(function(J){var H,M;J=new Uint8Array(J);H=[];M=new g.AO(H);M.T8(2);M.Y6a(I);M.Y6a(J);J=d.ZA(H);G({success:!0,encryptedDataAsn1Base64:J});},function(J){h.gb(!1,"Encrypt error: " + J);G({success:!1});});},decrypt:function(D,G){D=F(D);l.nG(n.ep.decrypt({name:"AES-CBC",iv:D.iv},C,D.Jvb)).then(function(I){I=new Uint8Array(I);G({success:!0,text:d.lX(I)});},function(I){h.gb(!1,"Decrypt error: " + I);G({success:!1});});},hmac:function(D,G){D=m.ze(D)?d.TN(D):D;l.nG(n.ep.sign({name:"HMAC",hash:{name:"SHA-256"}},E,D)).then(function(I){I=new Uint8Array(I);G({success:!0,hmacBase64:d.ZA(I)});},function(I){h.gb(!1,"Hmac error: " + I);G({success:!1});});}};}function B(){return r.mga();}A=d.ha.get(t.Vz);if(A.fWa || A.mv)c.DI.rR.mdx={getEsn:v,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:B};w(k.Ee);});},function(q,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(13);f=a(12);q=a(3);k=a(7);b=a(32);l=a(116);k.ha.get(b.Zg).register(q.L.Fza,function(g){var h,m,n;if(c.config.SMb){h=k.ii("PlayerPredictionModel");m=k.ha.get(l.SD);n=a(1227);h.log=h.trace.bind(h);d=new n({},h,{ZV:function(){},WPb:function(){}},m,{EM:function(){}});pb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}g(f.Ee);});},function(q,b,a){var l,d,g,h,m,n,r;function c(p,u,t,w,v,x){this.K=this.da=p;this.priority=u;this.od=t;x && x.Zd && (this.Zd=x.Zd);void 0 !== w && (this.yM=w);this.al=v;this.Fb=x;}function f(p,u,t,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.H=u;this.Ia=t;this.Mjb=w;this.Fjb=v;this.mKa=n.Npa;this.EJ=[];this.Zda=!1;this.jQ=0;new r().on(n,"changed",k,this);this.reset();}function k(){this.H.log("config changed");n.Npa && (this.mKa=n.Npa);n.NU !== this.sJ && (this.reset(),this.Pqa());}l=a(292);d=a(293);b=a(527);g=b.assert;h=b.LRa;m=a(1228);n=a(528).config;r=a(1229).zh;n.declare({Npa:["ppmConfig",{gZb:{QZa:0,PZa:2,NZa:0,OZa:5,t3a:0},t2b:{QZa:0,PZa:1,NZa:0,OZa:3,t3a:1E3},wZb:{QZa:0,PZa:1,NZa:0,OZa:3,t3a:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.Cca=!0;this.sJ=n.NU;this.H.log("create model: " + n.NU,n.m2a,n.oOa);switch(n.NU){case "modelone":this.sJ=new m(this.H);break;default:this.sJ=new m(this.H);}};f.prototype.Pqa=function(){var u,t;if(!1 === this.Zda){this.Zda=!0;for(var p=0;p < this.EJ.length;p++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.EJ[p]));u=this.TOa(this.EJ[p]);t=this.pSa(u);this.sJ.update(u,t);this.Cca=!1;}this.EJ=[];}};f.prototype.update=function(p){var u,t,w;this.H.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.Va && p.Va[0]){!1 === this.Zda && this.EJ.length < n.VHb && this.EJ.push(p);u=this.TOa(p);t=this.pSa(u);this.H.log("actionType",t);u="mlmodel" == n.NU?this.sJ.update(p,t):this.sJ.update(u,t);u=this.Yxb(u,n.wFb || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.jQ && (this.jQ=l(),this.Ia && this.Ia.ZV && this.Ia.ZV({Ntb:this.jQ}));if(this.Ia && this.Ia.WPb){this.ezb();w=[];u.forEach(function(v){w.push({W7b:v.da});});JSON.stringify(p);JSON.stringify(u);}this.Mjb.EM(u);this.Fjb.EM(u);this.Cca=!1;}};f.prototype.ezb=function(){l();};f.prototype.ZV=function(){this.jQ=l();this.Ia && this.Ia.ZV && this.Ia.ZV({Ntb:this.jQ});};f.prototype.TOa=function(p){var u,t,w,v,x;u={};w=p.Va || [];v=(function(y){var z,B;z={};x=d.hP.name.indexOf(y.context);z.context=0 <= x?x:d.hP.Fw;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];t=y.list || [];t.forEach((function(A){B={da:A.da,od:A.od,index:A.index,yM:A.yM,G6:A.G6,list:A.list,Fb:A.Fb};void 0 !== A.property && (x=d.aI.name.indexOf(A.property),B.property=0 <= x?x:d.aI.Fw);z.list.push(B);}).bind(this));u.Va.push(z);}).bind(this);if(void 0 !== p.direction){x=d.fu.name.indexOf(p.direction);u.direction=0 <= x?x:d.fu.Fw;}void 0 !== p.XS && (u.H4b=p.XS.rowIndex,u.G4b=p.XS.bpb);u.XS=p.XS;u.Va=[];w.forEach(v);return u;};f.prototype.pSa=function(p){var u,t,w;u=p.direction || d.fu.Fw;t=p.XS;w=p.Va || [];!0 === this.Cca?p=d.iw.xya:!0 === w.some(this.LCb)?(p=d.iw.wP,this.X6(w,u,t)):p=w[0].context === d.hP.uZ?d.iw.uZ:u === d.fu.sFa || u === d.fu.mAa?d.iw.MFa:d.iw.Fw;return p;};f.prototype.LCb=function(p){return (p.list || []).some(function(u){return u.property === d.aI.wP || u.property === d.aI.Pwa;});};f.prototype.X6=function(p,u,t){var w,v;this.H.log("reportPlayFocusEvent: ",u,t);w={};v=h(p);this.Ia && this.Ia.X6 && (w.y4b=l(),w.direction=d.fu.name[u],t && (w.rowIndex=t.rowIndex,w.pga=t.bpb),void 0 !== v.Mj && (w.requestId=p[v.Mj].requestId),this.Ia.X6 && this.Ia.X6(w));};f.prototype.Yxb=function(p,u){for(var t=p.length,w=[],v,x,y,z,B=0;B < t;B++){x=p[B];v=Math.floor(B / u) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var A=0;A < Math.min(n.apb,z) && !(y[A].al=x.al,this.wLa(y[A],v,w),w.length >= n.sYa);A++){;}}else this.wLa(x,v,w);if(w.length >= n.sYa)break;}return w;};f.prototype.wLa=function(p,u,t){var v,x;function w(y){y.Zd && (y.Fb || (y.Fb={}),y.Fb.Zd=y.Zd);return y.Fb;}v=p.G6;if(void 0 !== v && v instanceof Array)v.forEach(function(y){void 0 !== y.da && (x=w(y),t.push(new c(y.da,u,y.od,y.yM,p.al,x)));});else if(void 0 !== v && void 0 !== v.da){v=p.G6;x=w(v);t.push(new c(v.da,u,v.od,v.yM,p.al,x));}void 0 !== p.da && (x=w(p),t.push(new c(p.da,u,p.od,p.yM,p.al,x)));};f.prototype.xB=function(p){var u;u=this.mKa;return p?u[p]:u;};q.exports=f;},function(q,b,a){var k,l,d,g,h,m,n,r,p,u;function c(t,w){this.Mj=t;this.Gl=w;}function f(t){this.H=t;this.reset();}k=a(292);l=a(293);b=a(527);d=a(528).config;g=b.Uyb;h=b.Ayb;m=b.Ptb;n=b.vKb;r=b.uKb;p=b.tKb;u=b.LRa;f.prototype.constructor=f;f.prototype.reset=function(){this.nKa=void 0;this.ak=[];this.$Ja=this.aKa=!1;};f.prototype.update=function(t,w){var v;this.ak && (this.ak=this.ak.filter(this.SSb,this));if(!1 === this.aKa){v=g(t.Va).slice(0,d.APa);0 < v.length && (this.dG(v,l.ow.Jk),this.aKa=!0,this.ak=this.vH(v.concat(this.ak)));}!1 === this.$Ja && (v=h(t.Va).slice(0,d.APa),0 < v.length && (this.dG(v,l.ow.Jk),this.$Ja=!0,this.ak=this.vH(v.concat(this.ak))));switch(w){case l.iw.xya:w=this.lCb(t);break;case l.iw.MFa:w=this.uCb(t);break;case l.iw.uZ:w=this.vCb(t);break;case l.iw.wP:w=this.qCb(t);break;default:w=this.iCb(t);}this.nKa=t;return w;};f.prototype.lCb=function(t){t=n(t.Va,d.m2a,d.oOa);this.dG(t,l.ow.Jk);return this.ak=this.vH(this.ak.concat(t));};f.prototype.uCb=function(t){var w,v;this.H.log("handleScrollHorizontal");w=t.Va;t=n(w,d.o2a,d.pOa);v=m(w,this.nKa.Va);w=w[v].list.slice(0,d.JQb);w.concat(t);this.dG(w,l.ow.wba);return this.vH(w.concat(this.ak));};f.prototype.dG=function(t,w){t.forEach(function(v){if(void 0 === v.eB || v.eB < w)v.eB=w;void 0 === v.KN && (v.KN=k());void 0 === v.al && (v.al=k());});};f.prototype.vCb=function(t){this.H.log("handleSearch");t=r(t.Va,d.aRb);this.dG(t,l.ow.NFa);this.ak=t.concat(this.ak);return this.ak=this.vH(this.ak);};f.prototype.qCb=function(t){var w,v,x,y,z;this.H.log("handlePlayFocus: ",d.PT);w=t.direction;v=t.Va;t=[];x=u(v);if(void 0 !== x.Mj)switch((t.push(x),w)){case l.fu.sFa:for(w=1;w < d.PT;w++){t.push(new c(x.Mj,x.Gl + w));}t.push(new c(x.Mj - 1,x.Gl));t.push(new c(x.Mj + 1,x.Gl));break;case l.fu.mAa:for(w=1;w < d.PT;w++){t.push(new c(x.Mj,x.Gl - w));}t.push(new c(x.Mj - 1,x.Gl));t.push(new c(x.Mj + 1,x.Gl));break;case l.fu.qeb:t.push(new c(x.Mj - 1,x.Gl));for(w=1;w <= d.PT / 2;w++){t.push(new c(x.Mj,x.Gl + w));t.push(new c(x.Mj,x.Gl - w));}break;case l.fu.X9a:for((t.push(new c(x.Mj + 1,x.Gl)),w=1);w <= d.PT / 2;w++){t.push(new c(x.Mj,x.Gl + w));t.push(new c(x.Mj,x.Gl - w));}}y=[];t.forEach(function(B){z=p(v,B.Mj,B.Gl);void 0 !== z && y.push(z);});this.dG(y,l.ow.wba);return this.vH(y.concat(this.ak));};f.prototype.iCb=function(t){this.H.log("ModelOne: handleDefaultCase");t=n(t.Va,d.o2a,d.pOa);this.dG(t,l.ow.wba);return this.vH(t.concat(this.ak));};f.prototype.SSb=function(t){return t.eB == l.ow.Jk | t.eB == l.ow.NFa & k() - t.KN < d.bDb;};f.prototype.vH=function(t){var w,v,x,y,z,B,A;w=[];v={};y=0;z=t.length;for(x=0;x < z;x++){B=t[x].da;A=t[x];!1 === (B in v)?(w.push(A),v[B]=y,y++):(B=w[v[B]],A.al < B.al && (B.al=A.al),A.eB > B.eB && (B.eB=A.eB),A.KN > B.KN && (B.KN=A.KN));}return w;};q.exports=f;},function(q,b,a){q.exports={EventEmitter:a(1230),zh:a(1231)};},function(q){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.ed)return (this.ed={},this.ed[c]=[f],!0);k=this.ed[c];return void 0 === k?(this.ed[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.ed?this.ed[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}q.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.ed)return !1;k=this.ed[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.ed[c],!0);k.splice(f,1);return !0;},Ta:a,emit:a,removeAllListeners:function(c){this.ed && (void 0 === c?delete this.ed:delete this.ed[c]);return this;}};},function(q){function b(c,f,k,l){c.trace(":",k,":",l);f(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)l=c.addEventListener(f,k);else if("function" === typeof c.addListener)l=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,l;k=f[0];l=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,f):"function" === typeof k.removeListener && k.removeListener(l,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};q.exports=a;}]);}).call(pb);})(window);}).call(window);